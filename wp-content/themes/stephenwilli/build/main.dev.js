(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));

  // node_modules/ev-emitter/ev-emitter.js
  var require_ev_emitter = __commonJS({
    "node_modules/ev-emitter/ev-emitter.js"(exports, module) {
      (function(global, factory) {
        if (typeof define == "function" && define.amd) {
          define(factory);
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory();
        } else {
          global.EvEmitter = factory();
        }
      })(typeof window != "undefined" ? window : exports, function() {
        "use strict";
        function EvEmitter() {
        }
        var proto = EvEmitter.prototype;
        proto.on = function(eventName, listener) {
          if (!eventName || !listener) {
            return;
          }
          var events = this._events = this._events || {};
          var listeners = events[eventName] = events[eventName] || [];
          if (listeners.indexOf(listener) == -1) {
            listeners.push(listener);
          }
          return this;
        };
        proto.once = function(eventName, listener) {
          if (!eventName || !listener) {
            return;
          }
          this.on(eventName, listener);
          var onceEvents = this._onceEvents = this._onceEvents || {};
          var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {};
          onceListeners[listener] = true;
          return this;
        };
        proto.off = function(eventName, listener) {
          var listeners = this._events && this._events[eventName];
          if (!listeners || !listeners.length) {
            return;
          }
          var index = listeners.indexOf(listener);
          if (index != -1) {
            listeners.splice(index, 1);
          }
          return this;
        };
        proto.emitEvent = function(eventName, args) {
          var listeners = this._events && this._events[eventName];
          if (!listeners || !listeners.length) {
            return;
          }
          listeners = listeners.slice(0);
          args = args || [];
          var onceListeners = this._onceEvents && this._onceEvents[eventName];
          for (var i = 0; i < listeners.length; i++) {
            var listener = listeners[i];
            var isOnce = onceListeners && onceListeners[listener];
            if (isOnce) {
              this.off(eventName, listener);
              delete onceListeners[listener];
            }
            listener.apply(this, args);
          }
          return this;
        };
        proto.allOff = function() {
          delete this._events;
          delete this._onceEvents;
        };
        return EvEmitter;
      });
    }
  });

  // node_modules/get-size/get-size.js
  var require_get_size = __commonJS({
    "node_modules/get-size/get-size.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(factory);
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory();
        } else {
          window2.getSize = factory();
        }
      })(window, function factory() {
        "use strict";
        function getStyleSize(value) {
          var num = parseFloat(value);
          var isValid = value.indexOf("%") == -1 && !isNaN(num);
          return isValid && num;
        }
        function noop() {
        }
        var logError = typeof console == "undefined" ? noop : function(message) {
          console.error(message);
        };
        var measurements = [
          "paddingLeft",
          "paddingRight",
          "paddingTop",
          "paddingBottom",
          "marginLeft",
          "marginRight",
          "marginTop",
          "marginBottom",
          "borderLeftWidth",
          "borderRightWidth",
          "borderTopWidth",
          "borderBottomWidth"
        ];
        var measurementsLength = measurements.length;
        function getZeroSize() {
          var size = {
            width: 0,
            height: 0,
            innerWidth: 0,
            innerHeight: 0,
            outerWidth: 0,
            outerHeight: 0
          };
          for (var i = 0; i < measurementsLength; i++) {
            var measurement = measurements[i];
            size[measurement] = 0;
          }
          return size;
        }
        function getStyle(elem) {
          var style = getComputedStyle(elem);
          if (!style) {
            logError("Style returned " + style + ". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1");
          }
          return style;
        }
        var isSetup = false;
        var isBoxSizeOuter;
        function setup() {
          if (isSetup) {
            return;
          }
          isSetup = true;
          var div = document.createElement("div");
          div.style.width = "200px";
          div.style.padding = "1px 2px 3px 4px";
          div.style.borderStyle = "solid";
          div.style.borderWidth = "1px 2px 3px 4px";
          div.style.boxSizing = "border-box";
          var body2 = document.body || document.documentElement;
          body2.appendChild(div);
          var style = getStyle(div);
          isBoxSizeOuter = Math.round(getStyleSize(style.width)) == 200;
          getSize.isBoxSizeOuter = isBoxSizeOuter;
          body2.removeChild(div);
        }
        function getSize(elem) {
          setup();
          if (typeof elem == "string") {
            elem = document.querySelector(elem);
          }
          if (!elem || typeof elem != "object" || !elem.nodeType) {
            return;
          }
          var style = getStyle(elem);
          if (style.display == "none") {
            return getZeroSize();
          }
          var size = {};
          size.width = elem.offsetWidth;
          size.height = elem.offsetHeight;
          var isBorderBox = size.isBorderBox = style.boxSizing == "border-box";
          for (var i = 0; i < measurementsLength; i++) {
            var measurement = measurements[i];
            var value = style[measurement];
            var num = parseFloat(value);
            size[measurement] = !isNaN(num) ? num : 0;
          }
          var paddingWidth = size.paddingLeft + size.paddingRight;
          var paddingHeight = size.paddingTop + size.paddingBottom;
          var marginWidth = size.marginLeft + size.marginRight;
          var marginHeight = size.marginTop + size.marginBottom;
          var borderWidth = size.borderLeftWidth + size.borderRightWidth;
          var borderHeight = size.borderTopWidth + size.borderBottomWidth;
          var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;
          var styleWidth = getStyleSize(style.width);
          if (styleWidth !== false) {
            size.width = styleWidth + // add padding and border unless it's already including it
            (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);
          }
          var styleHeight = getStyleSize(style.height);
          if (styleHeight !== false) {
            size.height = styleHeight + // add padding and border unless it's already including it
            (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);
          }
          size.innerWidth = size.width - (paddingWidth + borderWidth);
          size.innerHeight = size.height - (paddingHeight + borderHeight);
          size.outerWidth = size.width + marginWidth;
          size.outerHeight = size.height + marginHeight;
          return size;
        }
        return getSize;
      });
    }
  });

  // node_modules/desandro-matches-selector/matches-selector.js
  var require_matches_selector = __commonJS({
    "node_modules/desandro-matches-selector/matches-selector.js"(exports, module) {
      (function(window2, factory) {
        "use strict";
        if (typeof define == "function" && define.amd) {
          define(factory);
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory();
        } else {
          window2.matchesSelector = factory();
        }
      })(window, function factory() {
        "use strict";
        var matchesMethod = function() {
          var ElemProto = window.Element.prototype;
          if (ElemProto.matches) {
            return "matches";
          }
          if (ElemProto.matchesSelector) {
            return "matchesSelector";
          }
          var prefixes = ["webkit", "moz", "ms", "o"];
          for (var i = 0; i < prefixes.length; i++) {
            var prefix = prefixes[i];
            var method = prefix + "MatchesSelector";
            if (ElemProto[method]) {
              return method;
            }
          }
        }();
        return function matchesSelector(elem, selector) {
          return elem[matchesMethod](selector);
        };
      });
    }
  });

  // node_modules/fizzy-ui-utils/utils.js
  var require_utils = __commonJS({
    "node_modules/fizzy-ui-utils/utils.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define([
            "desandro-matches-selector/matches-selector"
          ], function(matchesSelector) {
            return factory(window2, matchesSelector);
          });
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            window2,
            require_matches_selector()
          );
        } else {
          window2.fizzyUIUtils = factory(
            window2,
            window2.matchesSelector
          );
        }
      })(window, function factory(window2, matchesSelector) {
        "use strict";
        var utils = {};
        utils.extend = function(a, b) {
          for (var prop2 in b) {
            a[prop2] = b[prop2];
          }
          return a;
        };
        utils.modulo = function(num, div) {
          return (num % div + div) % div;
        };
        var arraySlice = Array.prototype.slice;
        utils.makeArray = function(obj) {
          if (Array.isArray(obj)) {
            return obj;
          }
          if (obj === null || obj === void 0) {
            return [];
          }
          var isArrayLike = typeof obj == "object" && typeof obj.length == "number";
          if (isArrayLike) {
            return arraySlice.call(obj);
          }
          return [obj];
        };
        utils.removeFrom = function(ary, obj) {
          var index = ary.indexOf(obj);
          if (index != -1) {
            ary.splice(index, 1);
          }
        };
        utils.getParent = function(elem, selector) {
          while (elem.parentNode && elem != document.body) {
            elem = elem.parentNode;
            if (matchesSelector(elem, selector)) {
              return elem;
            }
          }
        };
        utils.getQueryElement = function(elem) {
          if (typeof elem == "string") {
            return document.querySelector(elem);
          }
          return elem;
        };
        utils.handleEvent = function(event) {
          var method = "on" + event.type;
          if (this[method]) {
            this[method](event);
          }
        };
        utils.filterFindElements = function(elems, selector) {
          elems = utils.makeArray(elems);
          var ffElems = [];
          elems.forEach(function(elem) {
            if (!(elem instanceof HTMLElement)) {
              return;
            }
            if (!selector) {
              ffElems.push(elem);
              return;
            }
            if (matchesSelector(elem, selector)) {
              ffElems.push(elem);
            }
            var childElems = elem.querySelectorAll(selector);
            for (var i = 0; i < childElems.length; i++) {
              ffElems.push(childElems[i]);
            }
          });
          return ffElems;
        };
        utils.debounceMethod = function(_class, methodName, threshold) {
          threshold = threshold || 100;
          var method = _class.prototype[methodName];
          var timeoutName = methodName + "Timeout";
          _class.prototype[methodName] = function() {
            var timeout = this[timeoutName];
            clearTimeout(timeout);
            var args = arguments;
            var _this = this;
            this[timeoutName] = setTimeout(function() {
              method.apply(_this, args);
              delete _this[timeoutName];
            }, threshold);
          };
        };
        utils.docReady = function(callback2) {
          var readyState = document.readyState;
          if (readyState == "complete" || readyState == "interactive") {
            setTimeout(callback2);
          } else {
            document.addEventListener("DOMContentLoaded", callback2);
          }
        };
        utils.toDashed = function(str) {
          return str.replace(/(.)([A-Z])/g, function(match, $1, $2) {
            return $1 + "-" + $2;
          }).toLowerCase();
        };
        var console2 = window2.console;
        utils.htmlInit = function(WidgetClass, namespace) {
          utils.docReady(function() {
            var dashedNamespace = utils.toDashed(namespace);
            var dataAttr = "data-" + dashedNamespace;
            var dataAttrElems = document.querySelectorAll("[" + dataAttr + "]");
            var jsDashElems = document.querySelectorAll(".js-" + dashedNamespace);
            var elems = utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));
            var dataOptionsAttr = dataAttr + "-options";
            var jQuery2 = window2.jQuery;
            elems.forEach(function(elem) {
              var attr2 = elem.getAttribute(dataAttr) || elem.getAttribute(dataOptionsAttr);
              var options;
              try {
                options = attr2 && JSON.parse(attr2);
              } catch (error) {
                if (console2) {
                  console2.error("Error parsing " + dataAttr + " on " + elem.className + ": " + error);
                }
                return;
              }
              var instance = new WidgetClass(elem, options);
              if (jQuery2) {
                jQuery2.data(elem, namespace, instance);
              }
            });
          });
        };
        return utils;
      });
    }
  });

  // node_modules/outlayer/item.js
  var require_item = __commonJS({
    "node_modules/outlayer/item.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "ev-emitter/ev-emitter",
              "get-size/get-size"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_ev_emitter(),
            require_get_size()
          );
        } else {
          window2.Outlayer = {};
          window2.Outlayer.Item = factory(
            window2.EvEmitter,
            window2.getSize
          );
        }
      })(window, function factory(EvEmitter, getSize) {
        "use strict";
        function isEmptyObj(obj) {
          for (var prop2 in obj) {
            return false;
          }
          prop2 = null;
          return true;
        }
        var docElemStyle = document.documentElement.style;
        var transitionProperty = typeof docElemStyle.transition == "string" ? "transition" : "WebkitTransition";
        var transformProperty = typeof docElemStyle.transform == "string" ? "transform" : "WebkitTransform";
        var transitionEndEvent = {
          WebkitTransition: "webkitTransitionEnd",
          transition: "transitionend"
        }[transitionProperty];
        var vendorProperties = {
          transform: transformProperty,
          transition: transitionProperty,
          transitionDuration: transitionProperty + "Duration",
          transitionProperty: transitionProperty + "Property",
          transitionDelay: transitionProperty + "Delay"
        };
        function Item(element, layout) {
          if (!element) {
            return;
          }
          this.element = element;
          this.layout = layout;
          this.position = {
            x: 0,
            y: 0
          };
          this._create();
        }
        var proto = Item.prototype = Object.create(EvEmitter.prototype);
        proto.constructor = Item;
        proto._create = function() {
          this._transn = {
            ingProperties: {},
            clean: {},
            onEnd: {}
          };
          this.css({
            position: "absolute"
          });
        };
        proto.handleEvent = function(event) {
          var method = "on" + event.type;
          if (this[method]) {
            this[method](event);
          }
        };
        proto.getSize = function() {
          this.size = getSize(this.element);
        };
        proto.css = function(style) {
          var elemStyle = this.element.style;
          for (var prop2 in style) {
            var supportedProp = vendorProperties[prop2] || prop2;
            elemStyle[supportedProp] = style[prop2];
          }
        };
        proto.getPosition = function() {
          var style = getComputedStyle(this.element);
          var isOriginLeft = this.layout._getOption("originLeft");
          var isOriginTop = this.layout._getOption("originTop");
          var xValue = style[isOriginLeft ? "left" : "right"];
          var yValue = style[isOriginTop ? "top" : "bottom"];
          var x = parseFloat(xValue);
          var y = parseFloat(yValue);
          var layoutSize = this.layout.size;
          if (xValue.indexOf("%") != -1) {
            x = x / 100 * layoutSize.width;
          }
          if (yValue.indexOf("%") != -1) {
            y = y / 100 * layoutSize.height;
          }
          x = isNaN(x) ? 0 : x;
          y = isNaN(y) ? 0 : y;
          x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;
          y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;
          this.position.x = x;
          this.position.y = y;
        };
        proto.layoutPosition = function() {
          var layoutSize = this.layout.size;
          var style = {};
          var isOriginLeft = this.layout._getOption("originLeft");
          var isOriginTop = this.layout._getOption("originTop");
          var xPadding = isOriginLeft ? "paddingLeft" : "paddingRight";
          var xProperty = isOriginLeft ? "left" : "right";
          var xResetProperty = isOriginLeft ? "right" : "left";
          var x = this.position.x + layoutSize[xPadding];
          style[xProperty] = this.getXValue(x);
          style[xResetProperty] = "";
          var yPadding = isOriginTop ? "paddingTop" : "paddingBottom";
          var yProperty = isOriginTop ? "top" : "bottom";
          var yResetProperty = isOriginTop ? "bottom" : "top";
          var y = this.position.y + layoutSize[yPadding];
          style[yProperty] = this.getYValue(y);
          style[yResetProperty] = "";
          this.css(style);
          this.emitEvent("layout", [this]);
        };
        proto.getXValue = function(x) {
          var isHorizontal = this.layout._getOption("horizontal");
          return this.layout.options.percentPosition && !isHorizontal ? x / this.layout.size.width * 100 + "%" : x + "px";
        };
        proto.getYValue = function(y) {
          var isHorizontal = this.layout._getOption("horizontal");
          return this.layout.options.percentPosition && isHorizontal ? y / this.layout.size.height * 100 + "%" : y + "px";
        };
        proto._transitionTo = function(x, y) {
          this.getPosition();
          var curX = this.position.x;
          var curY = this.position.y;
          var didNotMove = x == this.position.x && y == this.position.y;
          this.setPosition(x, y);
          if (didNotMove && !this.isTransitioning) {
            this.layoutPosition();
            return;
          }
          var transX = x - curX;
          var transY = y - curY;
          var transitionStyle = {};
          transitionStyle.transform = this.getTranslate(transX, transY);
          this.transition({
            to: transitionStyle,
            onTransitionEnd: {
              transform: this.layoutPosition
            },
            isCleaning: true
          });
        };
        proto.getTranslate = function(x, y) {
          var isOriginLeft = this.layout._getOption("originLeft");
          var isOriginTop = this.layout._getOption("originTop");
          x = isOriginLeft ? x : -x;
          y = isOriginTop ? y : -y;
          return "translate3d(" + x + "px, " + y + "px, 0)";
        };
        proto.goTo = function(x, y) {
          this.setPosition(x, y);
          this.layoutPosition();
        };
        proto.moveTo = proto._transitionTo;
        proto.setPosition = function(x, y) {
          this.position.x = parseFloat(x);
          this.position.y = parseFloat(y);
        };
        proto._nonTransition = function(args) {
          this.css(args.to);
          if (args.isCleaning) {
            this._removeStyles(args.to);
          }
          for (var prop2 in args.onTransitionEnd) {
            args.onTransitionEnd[prop2].call(this);
          }
        };
        proto.transition = function(args) {
          if (!parseFloat(this.layout.options.transitionDuration)) {
            this._nonTransition(args);
            return;
          }
          var _transition = this._transn;
          for (var prop2 in args.onTransitionEnd) {
            _transition.onEnd[prop2] = args.onTransitionEnd[prop2];
          }
          for (prop2 in args.to) {
            _transition.ingProperties[prop2] = true;
            if (args.isCleaning) {
              _transition.clean[prop2] = true;
            }
          }
          if (args.from) {
            this.css(args.from);
            var h = this.element.offsetHeight;
            h = null;
          }
          this.enableTransition(args.to);
          this.css(args.to);
          this.isTransitioning = true;
        };
        function toDashedAll(str) {
          return str.replace(/([A-Z])/g, function($1) {
            return "-" + $1.toLowerCase();
          });
        }
        var transitionProps = "opacity," + toDashedAll(transformProperty);
        proto.enableTransition = function() {
          if (this.isTransitioning) {
            return;
          }
          var duration = this.layout.options.transitionDuration;
          duration = typeof duration == "number" ? duration + "ms" : duration;
          this.css({
            transitionProperty: transitionProps,
            transitionDuration: duration,
            transitionDelay: this.staggerDelay || 0
          });
          this.element.addEventListener(transitionEndEvent, this, false);
        };
        proto.onwebkitTransitionEnd = function(event) {
          this.ontransitionend(event);
        };
        proto.onotransitionend = function(event) {
          this.ontransitionend(event);
        };
        var dashedVendorProperties = {
          "-webkit-transform": "transform"
        };
        proto.ontransitionend = function(event) {
          if (event.target !== this.element) {
            return;
          }
          var _transition = this._transn;
          var propertyName = dashedVendorProperties[event.propertyName] || event.propertyName;
          delete _transition.ingProperties[propertyName];
          if (isEmptyObj(_transition.ingProperties)) {
            this.disableTransition();
          }
          if (propertyName in _transition.clean) {
            this.element.style[event.propertyName] = "";
            delete _transition.clean[propertyName];
          }
          if (propertyName in _transition.onEnd) {
            var onTransitionEnd = _transition.onEnd[propertyName];
            onTransitionEnd.call(this);
            delete _transition.onEnd[propertyName];
          }
          this.emitEvent("transitionEnd", [this]);
        };
        proto.disableTransition = function() {
          this.removeTransitionStyles();
          this.element.removeEventListener(transitionEndEvent, this, false);
          this.isTransitioning = false;
        };
        proto._removeStyles = function(style) {
          var cleanStyle = {};
          for (var prop2 in style) {
            cleanStyle[prop2] = "";
          }
          this.css(cleanStyle);
        };
        var cleanTransitionStyle = {
          transitionProperty: "",
          transitionDuration: "",
          transitionDelay: ""
        };
        proto.removeTransitionStyles = function() {
          this.css(cleanTransitionStyle);
        };
        proto.stagger = function(delay) {
          delay = isNaN(delay) ? 0 : delay;
          this.staggerDelay = delay + "ms";
        };
        proto.removeElem = function() {
          this.element.parentNode.removeChild(this.element);
          this.css({ display: "" });
          this.emitEvent("remove", [this]);
        };
        proto.remove = function() {
          if (!transitionProperty || !parseFloat(this.layout.options.transitionDuration)) {
            this.removeElem();
            return;
          }
          this.once("transitionEnd", function() {
            this.removeElem();
          });
          this.hide();
        };
        proto.reveal = function() {
          delete this.isHidden;
          this.css({ display: "" });
          var options = this.layout.options;
          var onTransitionEnd = {};
          var transitionEndProperty = this.getHideRevealTransitionEndProperty("visibleStyle");
          onTransitionEnd[transitionEndProperty] = this.onRevealTransitionEnd;
          this.transition({
            from: options.hiddenStyle,
            to: options.visibleStyle,
            isCleaning: true,
            onTransitionEnd
          });
        };
        proto.onRevealTransitionEnd = function() {
          if (!this.isHidden) {
            this.emitEvent("reveal");
          }
        };
        proto.getHideRevealTransitionEndProperty = function(styleProperty) {
          var optionStyle = this.layout.options[styleProperty];
          if (optionStyle.opacity) {
            return "opacity";
          }
          for (var prop2 in optionStyle) {
            return prop2;
          }
        };
        proto.hide = function() {
          this.isHidden = true;
          this.css({ display: "" });
          var options = this.layout.options;
          var onTransitionEnd = {};
          var transitionEndProperty = this.getHideRevealTransitionEndProperty("hiddenStyle");
          onTransitionEnd[transitionEndProperty] = this.onHideTransitionEnd;
          this.transition({
            from: options.visibleStyle,
            to: options.hiddenStyle,
            // keep hidden stuff hidden
            isCleaning: true,
            onTransitionEnd
          });
        };
        proto.onHideTransitionEnd = function() {
          if (this.isHidden) {
            this.css({ display: "none" });
            this.emitEvent("hide");
          }
        };
        proto.destroy = function() {
          this.css({
            position: "",
            left: "",
            right: "",
            top: "",
            bottom: "",
            transition: "",
            transform: ""
          });
        };
        return Item;
      });
    }
  });

  // node_modules/outlayer/outlayer.js
  var require_outlayer = __commonJS({
    "node_modules/outlayer/outlayer.js"(exports, module) {
      (function(window2, factory) {
        "use strict";
        if (typeof define == "function" && define.amd) {
          define(
            [
              "ev-emitter/ev-emitter",
              "get-size/get-size",
              "fizzy-ui-utils/utils",
              "./item"
            ],
            function(EvEmitter, getSize, utils, Item) {
              return factory(window2, EvEmitter, getSize, utils, Item);
            }
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            window2,
            require_ev_emitter(),
            require_get_size(),
            require_utils(),
            require_item()
          );
        } else {
          window2.Outlayer = factory(
            window2,
            window2.EvEmitter,
            window2.getSize,
            window2.fizzyUIUtils,
            window2.Outlayer.Item
          );
        }
      })(window, function factory(window2, EvEmitter, getSize, utils, Item) {
        "use strict";
        var console2 = window2.console;
        var jQuery2 = window2.jQuery;
        var noop = function() {
        };
        var GUID = 0;
        var instances = {};
        function Outlayer(element, options) {
          var queryElement = utils.getQueryElement(element);
          if (!queryElement) {
            if (console2) {
              console2.error("Bad element for " + this.constructor.namespace + ": " + (queryElement || element));
            }
            return;
          }
          this.element = queryElement;
          if (jQuery2) {
            this.$element = jQuery2(this.element);
          }
          this.options = utils.extend({}, this.constructor.defaults);
          this.option(options);
          var id = ++GUID;
          this.element.outlayerGUID = id;
          instances[id] = this;
          this._create();
          var isInitLayout = this._getOption("initLayout");
          if (isInitLayout) {
            this.layout();
          }
        }
        Outlayer.namespace = "outlayer";
        Outlayer.Item = Item;
        Outlayer.defaults = {
          containerStyle: {
            position: "relative"
          },
          initLayout: true,
          originLeft: true,
          originTop: true,
          resize: true,
          resizeContainer: true,
          // item options
          transitionDuration: "0.4s",
          hiddenStyle: {
            opacity: 0,
            transform: "scale(0.001)"
          },
          visibleStyle: {
            opacity: 1,
            transform: "scale(1)"
          }
        };
        var proto = Outlayer.prototype;
        utils.extend(proto, EvEmitter.prototype);
        proto.option = function(opts) {
          utils.extend(this.options, opts);
        };
        proto._getOption = function(option) {
          var oldOption = this.constructor.compatOptions[option];
          return oldOption && this.options[oldOption] !== void 0 ? this.options[oldOption] : this.options[option];
        };
        Outlayer.compatOptions = {
          // currentName: oldName
          initLayout: "isInitLayout",
          horizontal: "isHorizontal",
          layoutInstant: "isLayoutInstant",
          originLeft: "isOriginLeft",
          originTop: "isOriginTop",
          resize: "isResizeBound",
          resizeContainer: "isResizingContainer"
        };
        proto._create = function() {
          this.reloadItems();
          this.stamps = [];
          this.stamp(this.options.stamp);
          utils.extend(this.element.style, this.options.containerStyle);
          var canBindResize = this._getOption("resize");
          if (canBindResize) {
            this.bindResize();
          }
        };
        proto.reloadItems = function() {
          this.items = this._itemize(this.element.children);
        };
        proto._itemize = function(elems) {
          var itemElems = this._filterFindItemElements(elems);
          var Item2 = this.constructor.Item;
          var items = [];
          for (var i = 0; i < itemElems.length; i++) {
            var elem = itemElems[i];
            var item = new Item2(elem, this);
            items.push(item);
          }
          return items;
        };
        proto._filterFindItemElements = function(elems) {
          return utils.filterFindElements(elems, this.options.itemSelector);
        };
        proto.getItemElements = function() {
          return this.items.map(function(item) {
            return item.element;
          });
        };
        proto.layout = function() {
          this._resetLayout();
          this._manageStamps();
          var layoutInstant = this._getOption("layoutInstant");
          var isInstant = layoutInstant !== void 0 ? layoutInstant : !this._isLayoutInited;
          this.layoutItems(this.items, isInstant);
          this._isLayoutInited = true;
        };
        proto._init = proto.layout;
        proto._resetLayout = function() {
          this.getSize();
        };
        proto.getSize = function() {
          this.size = getSize(this.element);
        };
        proto._getMeasurement = function(measurement, size) {
          var option = this.options[measurement];
          var elem;
          if (!option) {
            this[measurement] = 0;
          } else {
            if (typeof option == "string") {
              elem = this.element.querySelector(option);
            } else if (option instanceof HTMLElement) {
              elem = option;
            }
            this[measurement] = elem ? getSize(elem)[size] : option;
          }
        };
        proto.layoutItems = function(items, isInstant) {
          items = this._getItemsForLayout(items);
          this._layoutItems(items, isInstant);
          this._postLayout();
        };
        proto._getItemsForLayout = function(items) {
          return items.filter(function(item) {
            return !item.isIgnored;
          });
        };
        proto._layoutItems = function(items, isInstant) {
          this._emitCompleteOnItems("layout", items);
          if (!items || !items.length) {
            return;
          }
          var queue = [];
          items.forEach(function(item) {
            var position = this._getItemLayoutPosition(item);
            position.item = item;
            position.isInstant = isInstant || item.isLayoutInstant;
            queue.push(position);
          }, this);
          this._processLayoutQueue(queue);
        };
        proto._getItemLayoutPosition = function() {
          return {
            x: 0,
            y: 0
          };
        };
        proto._processLayoutQueue = function(queue) {
          this.updateStagger();
          queue.forEach(function(obj, i) {
            this._positionItem(obj.item, obj.x, obj.y, obj.isInstant, i);
          }, this);
        };
        proto.updateStagger = function() {
          var stagger = this.options.stagger;
          if (stagger === null || stagger === void 0) {
            this.stagger = 0;
            return;
          }
          this.stagger = getMilliseconds(stagger);
          return this.stagger;
        };
        proto._positionItem = function(item, x, y, isInstant, i) {
          if (isInstant) {
            item.goTo(x, y);
          } else {
            item.stagger(i * this.stagger);
            item.moveTo(x, y);
          }
        };
        proto._postLayout = function() {
          this.resizeContainer();
        };
        proto.resizeContainer = function() {
          var isResizingContainer = this._getOption("resizeContainer");
          if (!isResizingContainer) {
            return;
          }
          var size = this._getContainerSize();
          if (size) {
            this._setContainerMeasure(size.width, true);
            this._setContainerMeasure(size.height, false);
          }
        };
        proto._getContainerSize = noop;
        proto._setContainerMeasure = function(measure, isWidth) {
          if (measure === void 0) {
            return;
          }
          var elemSize = this.size;
          if (elemSize.isBorderBox) {
            measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight + elemSize.borderLeftWidth + elemSize.borderRightWidth : elemSize.paddingBottom + elemSize.paddingTop + elemSize.borderTopWidth + elemSize.borderBottomWidth;
          }
          measure = Math.max(measure, 0);
          this.element.style[isWidth ? "width" : "height"] = measure + "px";
        };
        proto._emitCompleteOnItems = function(eventName, items) {
          var _this = this;
          function onComplete() {
            _this.dispatchEvent(eventName + "Complete", null, [items]);
          }
          var count = items.length;
          if (!items || !count) {
            onComplete();
            return;
          }
          var doneCount = 0;
          function tick() {
            doneCount++;
            if (doneCount == count) {
              onComplete();
            }
          }
          items.forEach(function(item) {
            item.once(eventName, tick);
          });
        };
        proto.dispatchEvent = function(type, event, args) {
          var emitArgs = event ? [event].concat(args) : args;
          this.emitEvent(type, emitArgs);
          if (jQuery2) {
            this.$element = this.$element || jQuery2(this.element);
            if (event) {
              var $event = jQuery2.Event(event);
              $event.type = type;
              this.$element.trigger($event, args);
            } else {
              this.$element.trigger(type, args);
            }
          }
        };
        proto.ignore = function(elem) {
          var item = this.getItem(elem);
          if (item) {
            item.isIgnored = true;
          }
        };
        proto.unignore = function(elem) {
          var item = this.getItem(elem);
          if (item) {
            delete item.isIgnored;
          }
        };
        proto.stamp = function(elems) {
          elems = this._find(elems);
          if (!elems) {
            return;
          }
          this.stamps = this.stamps.concat(elems);
          elems.forEach(this.ignore, this);
        };
        proto.unstamp = function(elems) {
          elems = this._find(elems);
          if (!elems) {
            return;
          }
          elems.forEach(function(elem) {
            utils.removeFrom(this.stamps, elem);
            this.unignore(elem);
          }, this);
        };
        proto._find = function(elems) {
          if (!elems) {
            return;
          }
          if (typeof elems == "string") {
            elems = this.element.querySelectorAll(elems);
          }
          elems = utils.makeArray(elems);
          return elems;
        };
        proto._manageStamps = function() {
          if (!this.stamps || !this.stamps.length) {
            return;
          }
          this._getBoundingRect();
          this.stamps.forEach(this._manageStamp, this);
        };
        proto._getBoundingRect = function() {
          var boundingRect = this.element.getBoundingClientRect();
          var size = this.size;
          this._boundingRect = {
            left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,
            top: boundingRect.top + size.paddingTop + size.borderTopWidth,
            right: boundingRect.right - (size.paddingRight + size.borderRightWidth),
            bottom: boundingRect.bottom - (size.paddingBottom + size.borderBottomWidth)
          };
        };
        proto._manageStamp = noop;
        proto._getElementOffset = function(elem) {
          var boundingRect = elem.getBoundingClientRect();
          var thisRect = this._boundingRect;
          var size = getSize(elem);
          var offset = {
            left: boundingRect.left - thisRect.left - size.marginLeft,
            top: boundingRect.top - thisRect.top - size.marginTop,
            right: thisRect.right - boundingRect.right - size.marginRight,
            bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom
          };
          return offset;
        };
        proto.handleEvent = utils.handleEvent;
        proto.bindResize = function() {
          window2.addEventListener("resize", this);
          this.isResizeBound = true;
        };
        proto.unbindResize = function() {
          window2.removeEventListener("resize", this);
          this.isResizeBound = false;
        };
        proto.onresize = function() {
          this.resize();
        };
        utils.debounceMethod(Outlayer, "onresize", 100);
        proto.resize = function() {
          if (!this.isResizeBound || !this.needsResizeLayout()) {
            return;
          }
          this.layout();
        };
        proto.needsResizeLayout = function() {
          var size = getSize(this.element);
          var hasSizes = this.size && size;
          return hasSizes && size.innerWidth !== this.size.innerWidth;
        };
        proto.addItems = function(elems) {
          var items = this._itemize(elems);
          if (items.length) {
            this.items = this.items.concat(items);
          }
          return items;
        };
        proto.appended = function(elems) {
          var items = this.addItems(elems);
          if (!items.length) {
            return;
          }
          this.layoutItems(items, true);
          this.reveal(items);
        };
        proto.prepended = function(elems) {
          var items = this._itemize(elems);
          if (!items.length) {
            return;
          }
          var previousItems = this.items.slice(0);
          this.items = items.concat(previousItems);
          this._resetLayout();
          this._manageStamps();
          this.layoutItems(items, true);
          this.reveal(items);
          this.layoutItems(previousItems);
        };
        proto.reveal = function(items) {
          this._emitCompleteOnItems("reveal", items);
          if (!items || !items.length) {
            return;
          }
          var stagger = this.updateStagger();
          items.forEach(function(item, i) {
            item.stagger(i * stagger);
            item.reveal();
          });
        };
        proto.hide = function(items) {
          this._emitCompleteOnItems("hide", items);
          if (!items || !items.length) {
            return;
          }
          var stagger = this.updateStagger();
          items.forEach(function(item, i) {
            item.stagger(i * stagger);
            item.hide();
          });
        };
        proto.revealItemElements = function(elems) {
          var items = this.getItems(elems);
          this.reveal(items);
        };
        proto.hideItemElements = function(elems) {
          var items = this.getItems(elems);
          this.hide(items);
        };
        proto.getItem = function(elem) {
          for (var i = 0; i < this.items.length; i++) {
            var item = this.items[i];
            if (item.element == elem) {
              return item;
            }
          }
        };
        proto.getItems = function(elems) {
          elems = utils.makeArray(elems);
          var items = [];
          elems.forEach(function(elem) {
            var item = this.getItem(elem);
            if (item) {
              items.push(item);
            }
          }, this);
          return items;
        };
        proto.remove = function(elems) {
          var removeItems = this.getItems(elems);
          this._emitCompleteOnItems("remove", removeItems);
          if (!removeItems || !removeItems.length) {
            return;
          }
          removeItems.forEach(function(item) {
            item.remove();
            utils.removeFrom(this.items, item);
          }, this);
        };
        proto.destroy = function() {
          var style = this.element.style;
          style.height = "";
          style.position = "";
          style.width = "";
          this.items.forEach(function(item) {
            item.destroy();
          });
          this.unbindResize();
          var id = this.element.outlayerGUID;
          delete instances[id];
          delete this.element.outlayerGUID;
          if (jQuery2) {
            jQuery2.removeData(this.element, this.constructor.namespace);
          }
        };
        Outlayer.data = function(elem) {
          elem = utils.getQueryElement(elem);
          var id = elem && elem.outlayerGUID;
          return id && instances[id];
        };
        Outlayer.create = function(namespace, options) {
          var Layout = subclass(Outlayer);
          Layout.defaults = utils.extend({}, Outlayer.defaults);
          utils.extend(Layout.defaults, options);
          Layout.compatOptions = utils.extend({}, Outlayer.compatOptions);
          Layout.namespace = namespace;
          Layout.data = Outlayer.data;
          Layout.Item = subclass(Item);
          utils.htmlInit(Layout, namespace);
          if (jQuery2 && jQuery2.bridget) {
            jQuery2.bridget(namespace, Layout);
          }
          return Layout;
        };
        function subclass(Parent) {
          function SubClass() {
            Parent.apply(this, arguments);
          }
          SubClass.prototype = Object.create(Parent.prototype);
          SubClass.prototype.constructor = SubClass;
          return SubClass;
        }
        var msUnits = {
          ms: 1,
          s: 1e3
        };
        function getMilliseconds(time) {
          if (typeof time == "number") {
            return time;
          }
          var matches = time.match(/(^\d*\.?\d*)(\w*)/);
          var num = matches && matches[1];
          var unit = matches && matches[2];
          if (!num.length) {
            return 0;
          }
          num = parseFloat(num);
          var mult = msUnits[unit] || 1;
          return num * mult;
        }
        Outlayer.Item = Item;
        return Outlayer;
      });
    }
  });

  // node_modules/isotope-layout/js/item.js
  var require_item2 = __commonJS({
    "node_modules/isotope-layout/js/item.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "outlayer/outlayer"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_outlayer()
          );
        } else {
          window2.Isotope = window2.Isotope || {};
          window2.Isotope.Item = factory(
            window2.Outlayer
          );
        }
      })(window, function factory(Outlayer) {
        "use strict";
        function Item() {
          Outlayer.Item.apply(this, arguments);
        }
        var proto = Item.prototype = Object.create(Outlayer.Item.prototype);
        var _create = proto._create;
        proto._create = function() {
          this.id = this.layout.itemGUID++;
          _create.call(this);
          this.sortData = {};
        };
        proto.updateSortData = function() {
          if (this.isIgnored) {
            return;
          }
          this.sortData.id = this.id;
          this.sortData["original-order"] = this.id;
          this.sortData.random = Math.random();
          var getSortData = this.layout.options.getSortData;
          var sorters = this.layout._sorters;
          for (var key in getSortData) {
            var sorter = sorters[key];
            this.sortData[key] = sorter(this.element, this);
          }
        };
        var _destroy = proto.destroy;
        proto.destroy = function() {
          _destroy.apply(this, arguments);
          this.css({
            display: ""
          });
        };
        return Item;
      });
    }
  });

  // node_modules/isotope-layout/js/layout-mode.js
  var require_layout_mode = __commonJS({
    "node_modules/isotope-layout/js/layout-mode.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "get-size/get-size",
              "outlayer/outlayer"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_get_size(),
            require_outlayer()
          );
        } else {
          window2.Isotope = window2.Isotope || {};
          window2.Isotope.LayoutMode = factory(
            window2.getSize,
            window2.Outlayer
          );
        }
      })(window, function factory(getSize, Outlayer) {
        "use strict";
        function LayoutMode(isotope2) {
          this.isotope = isotope2;
          if (isotope2) {
            this.options = isotope2.options[this.namespace];
            this.element = isotope2.element;
            this.items = isotope2.filteredItems;
            this.size = isotope2.size;
          }
        }
        var proto = LayoutMode.prototype;
        var facadeMethods = [
          "_resetLayout",
          "_getItemLayoutPosition",
          "_manageStamp",
          "_getContainerSize",
          "_getElementOffset",
          "needsResizeLayout",
          "_getOption"
        ];
        facadeMethods.forEach(function(methodName) {
          proto[methodName] = function() {
            return Outlayer.prototype[methodName].apply(this.isotope, arguments);
          };
        });
        proto.needsVerticalResizeLayout = function() {
          var size = getSize(this.isotope.element);
          var hasSizes = this.isotope.size && size;
          return hasSizes && size.innerHeight != this.isotope.size.innerHeight;
        };
        proto._getMeasurement = function() {
          this.isotope._getMeasurement.apply(this, arguments);
        };
        proto.getColumnWidth = function() {
          this.getSegmentSize("column", "Width");
        };
        proto.getRowHeight = function() {
          this.getSegmentSize("row", "Height");
        };
        proto.getSegmentSize = function(segment, size) {
          var segmentName = segment + size;
          var outerSize = "outer" + size;
          this._getMeasurement(segmentName, outerSize);
          if (this[segmentName]) {
            return;
          }
          var firstItemSize = this.getFirstItemSize();
          this[segmentName] = firstItemSize && firstItemSize[outerSize] || // or size of container
          this.isotope.size["inner" + size];
        };
        proto.getFirstItemSize = function() {
          var firstItem = this.isotope.filteredItems[0];
          return firstItem && firstItem.element && getSize(firstItem.element);
        };
        proto.layout = function() {
          this.isotope.layout.apply(this.isotope, arguments);
        };
        proto.getSize = function() {
          this.isotope.getSize();
          this.size = this.isotope.size;
        };
        LayoutMode.modes = {};
        LayoutMode.create = function(namespace, options) {
          function Mode() {
            LayoutMode.apply(this, arguments);
          }
          Mode.prototype = Object.create(proto);
          Mode.prototype.constructor = Mode;
          if (options) {
            Mode.options = options;
          }
          Mode.prototype.namespace = namespace;
          LayoutMode.modes[namespace] = Mode;
          return Mode;
        };
        return LayoutMode;
      });
    }
  });

  // node_modules/masonry-layout/masonry.js
  var require_masonry = __commonJS({
    "node_modules/masonry-layout/masonry.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "outlayer/outlayer",
              "get-size/get-size"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_outlayer(),
            require_get_size()
          );
        } else {
          window2.Masonry = factory(
            window2.Outlayer,
            window2.getSize
          );
        }
      })(window, function factory(Outlayer, getSize) {
        "use strict";
        var Masonry = Outlayer.create("masonry");
        Masonry.compatOptions.fitWidth = "isFitWidth";
        var proto = Masonry.prototype;
        proto._resetLayout = function() {
          this.getSize();
          this._getMeasurement("columnWidth", "outerWidth");
          this._getMeasurement("gutter", "outerWidth");
          this.measureColumns();
          this.colYs = [];
          for (var i = 0; i < this.cols; i++) {
            this.colYs.push(0);
          }
          this.maxY = 0;
          this.horizontalColIndex = 0;
        };
        proto.measureColumns = function() {
          this.getContainerWidth();
          if (!this.columnWidth) {
            var firstItem = this.items[0];
            var firstItemElem = firstItem && firstItem.element;
            this.columnWidth = firstItemElem && getSize(firstItemElem).outerWidth || // if first elem has no width, default to size of container
            this.containerWidth;
          }
          var columnWidth = this.columnWidth += this.gutter;
          var containerWidth = this.containerWidth + this.gutter;
          var cols = containerWidth / columnWidth;
          var excess = columnWidth - containerWidth % columnWidth;
          var mathMethod = excess && excess < 1 ? "round" : "floor";
          cols = Math[mathMethod](cols);
          this.cols = Math.max(cols, 1);
        };
        proto.getContainerWidth = function() {
          var isFitWidth = this._getOption("fitWidth");
          var container = isFitWidth ? this.element.parentNode : this.element;
          var size = getSize(container);
          this.containerWidth = size && size.innerWidth;
        };
        proto._getItemLayoutPosition = function(item) {
          item.getSize();
          var remainder = item.size.outerWidth % this.columnWidth;
          var mathMethod = remainder && remainder < 1 ? "round" : "ceil";
          var colSpan = Math[mathMethod](item.size.outerWidth / this.columnWidth);
          colSpan = Math.min(colSpan, this.cols);
          var colPosMethod = this.options.horizontalOrder ? "_getHorizontalColPosition" : "_getTopColPosition";
          var colPosition = this[colPosMethod](colSpan, item);
          var position = {
            x: this.columnWidth * colPosition.col,
            y: colPosition.y
          };
          var setHeight = colPosition.y + item.size.outerHeight;
          var setMax = colSpan + colPosition.col;
          for (var i = colPosition.col; i < setMax; i++) {
            this.colYs[i] = setHeight;
          }
          return position;
        };
        proto._getTopColPosition = function(colSpan) {
          var colGroup = this._getTopColGroup(colSpan);
          var minimumY = Math.min.apply(Math, colGroup);
          return {
            col: colGroup.indexOf(minimumY),
            y: minimumY
          };
        };
        proto._getTopColGroup = function(colSpan) {
          if (colSpan < 2) {
            return this.colYs;
          }
          var colGroup = [];
          var groupCount = this.cols + 1 - colSpan;
          for (var i = 0; i < groupCount; i++) {
            colGroup[i] = this._getColGroupY(i, colSpan);
          }
          return colGroup;
        };
        proto._getColGroupY = function(col, colSpan) {
          if (colSpan < 2) {
            return this.colYs[col];
          }
          var groupColYs = this.colYs.slice(col, col + colSpan);
          return Math.max.apply(Math, groupColYs);
        };
        proto._getHorizontalColPosition = function(colSpan, item) {
          var col = this.horizontalColIndex % this.cols;
          var isOver = colSpan > 1 && col + colSpan > this.cols;
          col = isOver ? 0 : col;
          var hasSize = item.size.outerWidth && item.size.outerHeight;
          this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;
          return {
            col,
            y: this._getColGroupY(col, colSpan)
          };
        };
        proto._manageStamp = function(stamp) {
          var stampSize = getSize(stamp);
          var offset = this._getElementOffset(stamp);
          var isOriginLeft = this._getOption("originLeft");
          var firstX = isOriginLeft ? offset.left : offset.right;
          var lastX = firstX + stampSize.outerWidth;
          var firstCol = Math.floor(firstX / this.columnWidth);
          firstCol = Math.max(0, firstCol);
          var lastCol = Math.floor(lastX / this.columnWidth);
          lastCol -= lastX % this.columnWidth ? 0 : 1;
          lastCol = Math.min(this.cols - 1, lastCol);
          var isOriginTop = this._getOption("originTop");
          var stampMaxY = (isOriginTop ? offset.top : offset.bottom) + stampSize.outerHeight;
          for (var i = firstCol; i <= lastCol; i++) {
            this.colYs[i] = Math.max(stampMaxY, this.colYs[i]);
          }
        };
        proto._getContainerSize = function() {
          this.maxY = Math.max.apply(Math, this.colYs);
          var size = {
            height: this.maxY
          };
          if (this._getOption("fitWidth")) {
            size.width = this._getContainerFitWidth();
          }
          return size;
        };
        proto._getContainerFitWidth = function() {
          var unusedCols = 0;
          var i = this.cols;
          while (--i) {
            if (this.colYs[i] !== 0) {
              break;
            }
            unusedCols++;
          }
          return (this.cols - unusedCols) * this.columnWidth - this.gutter;
        };
        proto.needsResizeLayout = function() {
          var previousWidth = this.containerWidth;
          this.getContainerWidth();
          return previousWidth != this.containerWidth;
        };
        return Masonry;
      });
    }
  });

  // node_modules/isotope-layout/js/layout-modes/masonry.js
  var require_masonry2 = __commonJS({
    "node_modules/isotope-layout/js/layout-modes/masonry.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "../layout-mode",
              "masonry-layout/masonry"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_layout_mode(),
            require_masonry()
          );
        } else {
          factory(
            window2.Isotope.LayoutMode,
            window2.Masonry
          );
        }
      })(window, function factory(LayoutMode, Masonry) {
        "use strict";
        var MasonryMode = LayoutMode.create("masonry");
        var proto = MasonryMode.prototype;
        var keepModeMethods = {
          _getElementOffset: true,
          layout: true,
          _getMeasurement: true
        };
        for (var method in Masonry.prototype) {
          if (!keepModeMethods[method]) {
            proto[method] = Masonry.prototype[method];
          }
        }
        var measureColumns = proto.measureColumns;
        proto.measureColumns = function() {
          this.items = this.isotope.filteredItems;
          measureColumns.call(this);
        };
        var _getOption = proto._getOption;
        proto._getOption = function(option) {
          if (option == "fitWidth") {
            return this.options.isFitWidth !== void 0 ? this.options.isFitWidth : this.options.fitWidth;
          }
          return _getOption.apply(this.isotope, arguments);
        };
        return MasonryMode;
      });
    }
  });

  // node_modules/isotope-layout/js/layout-modes/fit-rows.js
  var require_fit_rows = __commonJS({
    "node_modules/isotope-layout/js/layout-modes/fit-rows.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "../layout-mode"
            ],
            factory
          );
        } else if (typeof exports == "object") {
          module.exports = factory(
            require_layout_mode()
          );
        } else {
          factory(
            window2.Isotope.LayoutMode
          );
        }
      })(window, function factory(LayoutMode) {
        "use strict";
        var FitRows = LayoutMode.create("fitRows");
        var proto = FitRows.prototype;
        proto._resetLayout = function() {
          this.x = 0;
          this.y = 0;
          this.maxY = 0;
          this._getMeasurement("gutter", "outerWidth");
        };
        proto._getItemLayoutPosition = function(item) {
          item.getSize();
          var itemWidth = item.size.outerWidth + this.gutter;
          var containerWidth = this.isotope.size.innerWidth + this.gutter;
          if (this.x !== 0 && itemWidth + this.x > containerWidth) {
            this.x = 0;
            this.y = this.maxY;
          }
          var position = {
            x: this.x,
            y: this.y
          };
          this.maxY = Math.max(this.maxY, this.y + item.size.outerHeight);
          this.x += itemWidth;
          return position;
        };
        proto._getContainerSize = function() {
          return { height: this.maxY };
        };
        return FitRows;
      });
    }
  });

  // node_modules/isotope-layout/js/layout-modes/vertical.js
  var require_vertical = __commonJS({
    "node_modules/isotope-layout/js/layout-modes/vertical.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "../layout-mode"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_layout_mode()
          );
        } else {
          factory(
            window2.Isotope.LayoutMode
          );
        }
      })(window, function factory(LayoutMode) {
        "use strict";
        var Vertical = LayoutMode.create("vertical", {
          horizontalAlignment: 0
        });
        var proto = Vertical.prototype;
        proto._resetLayout = function() {
          this.y = 0;
        };
        proto._getItemLayoutPosition = function(item) {
          item.getSize();
          var x = (this.isotope.size.innerWidth - item.size.outerWidth) * this.options.horizontalAlignment;
          var y = this.y;
          this.y += item.size.outerHeight;
          return { x, y };
        };
        proto._getContainerSize = function() {
          return { height: this.y };
        };
        return Vertical;
      });
    }
  });

  // node_modules/isotope-layout/js/isotope.js
  var require_isotope = __commonJS({
    "node_modules/isotope-layout/js/isotope.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "outlayer/outlayer",
              "get-size/get-size",
              "desandro-matches-selector/matches-selector",
              "fizzy-ui-utils/utils",
              "./item",
              "./layout-mode",
              // include default layout modes
              "./layout-modes/masonry",
              "./layout-modes/fit-rows",
              "./layout-modes/vertical"
            ],
            function(Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {
              return factory(window2, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode);
            }
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            window2,
            require_outlayer(),
            require_get_size(),
            require_matches_selector(),
            require_utils(),
            require_item2(),
            require_layout_mode(),
            // include default layout modes
            require_masonry2(),
            require_fit_rows(),
            require_vertical()
          );
        } else {
          window2.Isotope = factory(
            window2,
            window2.Outlayer,
            window2.getSize,
            window2.matchesSelector,
            window2.fizzyUIUtils,
            window2.Isotope.Item,
            window2.Isotope.LayoutMode
          );
        }
      })(window, function factory(window2, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {
        "use strict";
        var jQuery2 = window2.jQuery;
        var trim = String.prototype.trim ? function(str) {
          return str.trim();
        } : function(str) {
          return str.replace(/^\s+|\s+$/g, "");
        };
        var Isotope = Outlayer.create("isotope", {
          layoutMode: "masonry",
          isJQueryFiltering: true,
          sortAscending: true
        });
        Isotope.Item = Item;
        Isotope.LayoutMode = LayoutMode;
        var proto = Isotope.prototype;
        proto._create = function() {
          this.itemGUID = 0;
          this._sorters = {};
          this._getSorters();
          Outlayer.prototype._create.call(this);
          this.modes = {};
          this.filteredItems = this.items;
          this.sortHistory = ["original-order"];
          for (var name in LayoutMode.modes) {
            this._initLayoutMode(name);
          }
        };
        proto.reloadItems = function() {
          this.itemGUID = 0;
          Outlayer.prototype.reloadItems.call(this);
        };
        proto._itemize = function() {
          var items = Outlayer.prototype._itemize.apply(this, arguments);
          for (var i = 0; i < items.length; i++) {
            var item = items[i];
            item.id = this.itemGUID++;
          }
          this._updateItemsSortData(items);
          return items;
        };
        proto._initLayoutMode = function(name) {
          var Mode = LayoutMode.modes[name];
          var initialOpts = this.options[name] || {};
          this.options[name] = Mode.options ? utils.extend(Mode.options, initialOpts) : initialOpts;
          this.modes[name] = new Mode(this);
        };
        proto.layout = function() {
          if (!this._isLayoutInited && this._getOption("initLayout")) {
            this.arrange();
            return;
          }
          this._layout();
        };
        proto._layout = function() {
          var isInstant = this._getIsInstant();
          this._resetLayout();
          this._manageStamps();
          this.layoutItems(this.filteredItems, isInstant);
          this._isLayoutInited = true;
        };
        proto.arrange = function(opts) {
          this.option(opts);
          this._getIsInstant();
          var filtered = this._filter(this.items);
          this.filteredItems = filtered.matches;
          this._bindArrangeComplete();
          if (this._isInstant) {
            this._noTransition(this._hideReveal, [filtered]);
          } else {
            this._hideReveal(filtered);
          }
          this._sort();
          this._layout();
        };
        proto._init = proto.arrange;
        proto._hideReveal = function(filtered) {
          this.reveal(filtered.needReveal);
          this.hide(filtered.needHide);
        };
        proto._getIsInstant = function() {
          var isLayoutInstant = this._getOption("layoutInstant");
          var isInstant = isLayoutInstant !== void 0 ? isLayoutInstant : !this._isLayoutInited;
          this._isInstant = isInstant;
          return isInstant;
        };
        proto._bindArrangeComplete = function() {
          var isLayoutComplete, isHideComplete, isRevealComplete;
          var _this = this;
          function arrangeParallelCallback() {
            if (isLayoutComplete && isHideComplete && isRevealComplete) {
              _this.dispatchEvent("arrangeComplete", null, [_this.filteredItems]);
            }
          }
          this.once("layoutComplete", function() {
            isLayoutComplete = true;
            arrangeParallelCallback();
          });
          this.once("hideComplete", function() {
            isHideComplete = true;
            arrangeParallelCallback();
          });
          this.once("revealComplete", function() {
            isRevealComplete = true;
            arrangeParallelCallback();
          });
        };
        proto._filter = function(items) {
          var filter = this.options.filter;
          filter = filter || "*";
          var matches = [];
          var hiddenMatched = [];
          var visibleUnmatched = [];
          var test = this._getFilterTest(filter);
          for (var i = 0; i < items.length; i++) {
            var item = items[i];
            if (item.isIgnored) {
              continue;
            }
            var isMatched = test(item);
            if (isMatched) {
              matches.push(item);
            }
            if (isMatched && item.isHidden) {
              hiddenMatched.push(item);
            } else if (!isMatched && !item.isHidden) {
              visibleUnmatched.push(item);
            }
          }
          return {
            matches,
            needReveal: hiddenMatched,
            needHide: visibleUnmatched
          };
        };
        proto._getFilterTest = function(filter) {
          if (jQuery2 && this.options.isJQueryFiltering) {
            return function(item) {
              return jQuery2(item.element).is(filter);
            };
          }
          if (typeof filter == "function") {
            return function(item) {
              return filter(item.element);
            };
          }
          return function(item) {
            return matchesSelector(item.element, filter);
          };
        };
        proto.updateSortData = function(elems) {
          var items;
          if (elems) {
            elems = utils.makeArray(elems);
            items = this.getItems(elems);
          } else {
            items = this.items;
          }
          this._getSorters();
          this._updateItemsSortData(items);
        };
        proto._getSorters = function() {
          var getSortData = this.options.getSortData;
          for (var key in getSortData) {
            var sorter = getSortData[key];
            this._sorters[key] = mungeSorter(sorter);
          }
        };
        proto._updateItemsSortData = function(items) {
          var len = items && items.length;
          for (var i = 0; len && i < len; i++) {
            var item = items[i];
            item.updateSortData();
          }
        };
        var mungeSorter = function() {
          function mungeSorter2(sorter) {
            if (typeof sorter != "string") {
              return sorter;
            }
            var args = trim(sorter).split(" ");
            var query = args[0];
            var attrMatch = query.match(/^\[(.+)\]$/);
            var attr2 = attrMatch && attrMatch[1];
            var getValue = getValueGetter(attr2, query);
            var parser = Isotope.sortDataParsers[args[1]];
            sorter = parser ? function(elem) {
              return elem && parser(getValue(elem));
            } : (
              // otherwise just return value
              function(elem) {
                return elem && getValue(elem);
              }
            );
            return sorter;
          }
          function getValueGetter(attr2, query) {
            if (attr2) {
              return function getAttribute(elem) {
                return elem.getAttribute(attr2);
              };
            }
            return function getChildText(elem) {
              var child = elem.querySelector(query);
              return child && child.textContent;
            };
          }
          return mungeSorter2;
        }();
        Isotope.sortDataParsers = {
          "parseInt": function(val) {
            return parseInt(val, 10);
          },
          "parseFloat": function(val) {
            return parseFloat(val);
          }
        };
        proto._sort = function() {
          if (!this.options.sortBy) {
            return;
          }
          var sortBys = utils.makeArray(this.options.sortBy);
          if (!this._getIsSameSortBy(sortBys)) {
            this.sortHistory = sortBys.concat(this.sortHistory);
          }
          var itemSorter = getItemSorter(this.sortHistory, this.options.sortAscending);
          this.filteredItems.sort(itemSorter);
        };
        proto._getIsSameSortBy = function(sortBys) {
          for (var i = 0; i < sortBys.length; i++) {
            if (sortBys[i] != this.sortHistory[i]) {
              return false;
            }
          }
          return true;
        };
        function getItemSorter(sortBys, sortAsc) {
          return function sorter(itemA, itemB) {
            for (var i = 0; i < sortBys.length; i++) {
              var sortBy = sortBys[i];
              var a = itemA.sortData[sortBy];
              var b = itemB.sortData[sortBy];
              if (a > b || a < b) {
                var isAscending = sortAsc[sortBy] !== void 0 ? sortAsc[sortBy] : sortAsc;
                var direction = isAscending ? 1 : -1;
                return (a > b ? 1 : -1) * direction;
              }
            }
            return 0;
          };
        }
        proto._mode = function() {
          var layoutMode = this.options.layoutMode;
          var mode = this.modes[layoutMode];
          if (!mode) {
            throw new Error("No layout mode: " + layoutMode);
          }
          mode.options = this.options[layoutMode];
          return mode;
        };
        proto._resetLayout = function() {
          Outlayer.prototype._resetLayout.call(this);
          this._mode()._resetLayout();
        };
        proto._getItemLayoutPosition = function(item) {
          return this._mode()._getItemLayoutPosition(item);
        };
        proto._manageStamp = function(stamp) {
          this._mode()._manageStamp(stamp);
        };
        proto._getContainerSize = function() {
          return this._mode()._getContainerSize();
        };
        proto.needsResizeLayout = function() {
          return this._mode().needsResizeLayout();
        };
        proto.appended = function(elems) {
          var items = this.addItems(elems);
          if (!items.length) {
            return;
          }
          var filteredItems = this._filterRevealAdded(items);
          this.filteredItems = this.filteredItems.concat(filteredItems);
        };
        proto.prepended = function(elems) {
          var items = this._itemize(elems);
          if (!items.length) {
            return;
          }
          this._resetLayout();
          this._manageStamps();
          var filteredItems = this._filterRevealAdded(items);
          this.layoutItems(this.filteredItems);
          this.filteredItems = filteredItems.concat(this.filteredItems);
          this.items = items.concat(this.items);
        };
        proto._filterRevealAdded = function(items) {
          var filtered = this._filter(items);
          this.hide(filtered.needHide);
          this.reveal(filtered.matches);
          this.layoutItems(filtered.matches, true);
          return filtered.matches;
        };
        proto.insert = function(elems) {
          var items = this.addItems(elems);
          if (!items.length) {
            return;
          }
          var i, item;
          var len = items.length;
          for (i = 0; i < len; i++) {
            item = items[i];
            this.element.appendChild(item.element);
          }
          var filteredInsertItems = this._filter(items).matches;
          for (i = 0; i < len; i++) {
            items[i].isLayoutInstant = true;
          }
          this.arrange();
          for (i = 0; i < len; i++) {
            delete items[i].isLayoutInstant;
          }
          this.reveal(filteredInsertItems);
        };
        var _remove = proto.remove;
        proto.remove = function(elems) {
          elems = utils.makeArray(elems);
          var removeItems = this.getItems(elems);
          _remove.call(this, elems);
          var len = removeItems && removeItems.length;
          for (var i = 0; len && i < len; i++) {
            var item = removeItems[i];
            utils.removeFrom(this.filteredItems, item);
          }
        };
        proto.shuffle = function() {
          for (var i = 0; i < this.items.length; i++) {
            var item = this.items[i];
            item.sortData.random = Math.random();
          }
          this.options.sortBy = "random";
          this._sort();
          this._layout();
        };
        proto._noTransition = function(fn, args) {
          var transitionDuration = this.options.transitionDuration;
          this.options.transitionDuration = 0;
          var returnValue = fn.apply(this, args);
          this.options.transitionDuration = transitionDuration;
          return returnValue;
        };
        proto.getFilteredItemElements = function() {
          return this.filteredItems.map(function(item) {
            return item.element;
          });
        };
        return Isotope;
      });
    }
  });

  // node_modules/@tmbr/utils/lib/prop.js
  function prop(el, name, value) {
    if (arguments.length < 3) {
      return el.style.getPropertyValue(name);
    } else {
      el.style.setProperty(name, value);
      return value;
    }
  }

  // node_modules/@tmbr/utils/lib/toJSON.js
  function toJSON(string, defaults2) {
    let result;
    try {
      result = new Function("string", `var object; with (string) { object = ${string || ""} }; return object;`)(string || "{}");
    } catch (e) {
      result = {};
    }
    return Object.assign(result || {}, defaults2);
  }

  // node_modules/@tmbr/utils/lib/isBoolean.js
  function isBoolean(value) {
    return typeof value === "boolean";
  }

  // node_modules/@tmbr/utils/lib/attr.js
  function attr(el, name, value) {
    if (arguments.length < 3) {
      return el.getAttribute(name);
    } else if (value) {
      el.setAttribute(name, isBoolean(value) ? "" : value);
    } else {
      el.removeAttribute(name);
    }
    return value;
  }

  // node_modules/@tmbr/utils/lib/isFunction.js
  function isFunction(value) {
    return typeof value === "function";
  }

  // node_modules/@tmbr/utils/lib/bind.js
  function bind(self, methods) {
    if (methods) {
      [].concat(methods).forEach((fn) => isFunction(self[fn]) && (self[fn] = self[fn].bind(self)));
      return self;
    }
    const properties = /* @__PURE__ */ new Set();
    let object = self.constructor.prototype;
    do {
      for (const key of Reflect.ownKeys(object)) {
        if (key === "constructor")
          continue;
        properties.add([object, key]);
      }
    } while ((object = Reflect.getPrototypeOf(object)) && object !== Object.prototype);
    for (const [object2, key] of properties) {
      const descriptor = Reflect.getOwnPropertyDescriptor(object2, key);
      if (descriptor && isFunction(descriptor.value))
        self[key] = self[key].bind(self);
    }
    return self;
  }

  // node_modules/@tmbr/utils/lib/isString.js
  function isString(value) {
    return typeof value === "string";
  }

  // node_modules/@tmbr/utils/lib/findAll.js
  function findAll(selector, parent) {
    return Array.from((parent || document).querySelectorAll(selector));
  }

  // node_modules/@tmbr/utils/lib/findOne.js
  function findOne(selector, parent) {
    return (parent || document).querySelector(selector);
  }

  // node_modules/@tmbr/utils/lib/html.js
  function html(strings, ...vars) {
    let result = "";
    const appends = [];
    for (let i = 0; i < vars.length; i++) {
      if (vars[i] instanceof HTMLElement || vars[i] instanceof DocumentFragment) {
        appends.push(vars[i]);
        result += strings[i] + `<div append="${i}"></div>`;
      } else {
        result += strings[i] + vars[i];
      }
    }
    result += strings[strings.length - 1];
    const template = document.createElement("template");
    template.innerHTML = result.trim();
    const content = template.content;
    [...content.querySelectorAll("[append]")].forEach((node, i) => {
      node.before(appends[i]);
      node.remove();
    });
    return content.childElementCount === 1 ? content.firstElementChild : content;
  }

  // node_modules/@tmbr/utils/lib/isClass.js
  function isClass(fn) {
    return isFunction(fn) && /^class\s/.test(Function.prototype.toString.call(fn));
  }

  // node_modules/@tmbr/utils/lib/on.js
  function on(type, selector, callback2, scope = document) {
    let match;
    function listener(event) {
      match = event.bubbles ? event.target.closest && event.target.closest(selector) : event.target.matches && event.target.matches(selector);
      match && callback2(event);
    }
    scope.addEventListener(type, listener, true);
    return () => scope.removeEventListener(type, listener, true);
  }

  // node_modules/@tmbr/utils/lib/ro.js
  function ro(el, fn) {
    const observer = new ResizeObserver((entries) => fn(entries[0]));
    observer.observe(el);
    return () => observer.disconnect();
  }

  // node_modules/gsap/gsap-core.js
  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }
    return self;
  }
  function _inheritsLoose(subClass, superClass) {
    subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass;
    subClass.__proto__ = superClass;
  }
  var _config = {
    autoSleep: 120,
    force3D: "auto",
    nullTargetWarn: 1,
    units: {
      lineHeight: ""
    }
  };
  var _defaults = {
    duration: 0.5,
    overwrite: false,
    delay: 0
  };
  var _bigNum = 1e8;
  var _tinyNum = 1 / _bigNum;
  var _2PI = Math.PI * 2;
  var _HALF_PI = _2PI / 4;
  var _gsID = 0;
  var _sqrt = Math.sqrt;
  var _cos = Math.cos;
  var _sin = Math.sin;
  var _isString = function _isString2(value) {
    return typeof value === "string";
  };
  var _isFunction = function _isFunction2(value) {
    return typeof value === "function";
  };
  var _isNumber = function _isNumber2(value) {
    return typeof value === "number";
  };
  var _isUndefined = function _isUndefined2(value) {
    return typeof value === "undefined";
  };
  var _isObject = function _isObject2(value) {
    return typeof value === "object";
  };
  var _isNotFalse = function _isNotFalse2(value) {
    return value !== false;
  };
  var _windowExists = function _windowExists2() {
    return typeof window !== "undefined";
  };
  var _isFuncOrString = function _isFuncOrString2(value) {
    return _isFunction(value) || _isString(value);
  };
  var _isTypedArray = typeof ArrayBuffer === "function" && ArrayBuffer.isView || function() {
  };
  var _isArray = Array.isArray;
  var _strictNumExp = /(?:-?\.?\d|\.)+/gi;
  var _numExp = /[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g;
  var _numWithUnitExp = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g;
  var _complexStringNumExp = /[-+=.]*\d+(?:\.|e-|e)*\d*/gi;
  var _relExp = /[+-]=-?[\.\d]+/;
  var _delimitedValueExp = /[#\-+.]*\b[a-z\d-=+%.]+/gi;
  var _globalTimeline;
  var _win;
  var _coreInitted;
  var _doc;
  var _globals = {};
  var _installScope = {};
  var _coreReady;
  var _install = function _install2(scope) {
    return (_installScope = _merge(scope, _globals)) && gsap;
  };
  var _missingPlugin = function _missingPlugin2(property, value) {
    return console.warn("Invalid property", property, "set to", value, "Missing plugin? gsap.registerPlugin()");
  };
  var _warn = function _warn2(message, suppress) {
    return !suppress && console.warn(message);
  };
  var _addGlobal = function _addGlobal2(name, obj) {
    return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;
  };
  var _emptyFunc = function _emptyFunc2() {
    return 0;
  };
  var _reservedProps = {};
  var _lazyTweens = [];
  var _lazyLookup = {};
  var _lastRenderedFrame;
  var _plugins = {};
  var _effects = {};
  var _nextGCFrame = 30;
  var _harnessPlugins = [];
  var _callbackNames = "";
  var _harness = function _harness2(targets) {
    var target = targets[0], harnessPlugin, i;
    _isObject(target) || _isFunction(target) || (targets = [targets]);
    if (!(harnessPlugin = (target._gsap || {}).harness)) {
      i = _harnessPlugins.length;
      while (i-- && !_harnessPlugins[i].targetTest(target)) {
      }
      harnessPlugin = _harnessPlugins[i];
    }
    i = targets.length;
    while (i--) {
      targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);
    }
    return targets;
  };
  var _getCache = function _getCache2(target) {
    return target._gsap || _harness(toArray(target))[0]._gsap;
  };
  var _getProperty = function _getProperty2(target, property, v) {
    return (v = target[property]) && _isFunction(v) ? target[property]() : _isUndefined(v) && target.getAttribute && target.getAttribute(property) || v;
  };
  var _forEachName = function _forEachName2(names, func) {
    return (names = names.split(",")).forEach(func) || names;
  };
  var _round = function _round2(value) {
    return Math.round(value * 1e5) / 1e5 || 0;
  };
  var _arrayContainsAny = function _arrayContainsAny2(toSearch, toFind) {
    var l = toFind.length, i = 0;
    for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l; ) {
    }
    return i < l;
  };
  var _parseVars = function _parseVars2(params, type, parent) {
    var isLegacy = _isNumber(params[1]), varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1), vars = params[varsIndex], irVars;
    isLegacy && (vars.duration = params[1]);
    vars.parent = parent;
    if (type) {
      irVars = vars;
      while (parent && !("immediateRender" in irVars)) {
        irVars = parent.vars.defaults || {};
        parent = _isNotFalse(parent.vars.inherit) && parent.parent;
      }
      vars.immediateRender = _isNotFalse(irVars.immediateRender);
      type < 2 ? vars.runBackwards = 1 : vars.startAt = params[varsIndex - 1];
    }
    return vars;
  };
  var _lazyRender = function _lazyRender2() {
    var l = _lazyTweens.length, a = _lazyTweens.slice(0), i, tween;
    _lazyLookup = {};
    _lazyTweens.length = 0;
    for (i = 0; i < l; i++) {
      tween = a[i];
      tween && tween._lazy && (tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0);
    }
  };
  var _lazySafeRender = function _lazySafeRender2(animation, time, suppressEvents, force) {
    _lazyTweens.length && _lazyRender();
    animation.render(time, suppressEvents, force);
    _lazyTweens.length && _lazyRender();
  };
  var _numericIfPossible = function _numericIfPossible2(value) {
    var n = parseFloat(value);
    return (n || n === 0) && (value + "").match(_delimitedValueExp).length < 2 ? n : _isString(value) ? value.trim() : value;
  };
  var _passThrough = function _passThrough2(p) {
    return p;
  };
  var _setDefaults = function _setDefaults2(obj, defaults2) {
    for (var p in defaults2) {
      p in obj || (obj[p] = defaults2[p]);
    }
    return obj;
  };
  var _setKeyframeDefaults = function _setKeyframeDefaults2(obj, defaults2) {
    for (var p in defaults2) {
      p in obj || p === "duration" || p === "ease" || (obj[p] = defaults2[p]);
    }
  };
  var _merge = function _merge2(base, toMerge) {
    for (var p in toMerge) {
      base[p] = toMerge[p];
    }
    return base;
  };
  var _mergeDeep = function _mergeDeep2(base, toMerge) {
    for (var p in toMerge) {
      base[p] = _isObject(toMerge[p]) ? _mergeDeep2(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p];
    }
    return base;
  };
  var _copyExcluding = function _copyExcluding2(obj, excluding) {
    var copy = {}, p;
    for (p in obj) {
      p in excluding || (copy[p] = obj[p]);
    }
    return copy;
  };
  var _inheritDefaults = function _inheritDefaults2(vars) {
    var parent = vars.parent || _globalTimeline, func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;
    if (_isNotFalse(vars.inherit)) {
      while (parent) {
        func(vars, parent.vars.defaults);
        parent = parent.parent || parent._dp;
      }
    }
    return vars;
  };
  var _arraysMatch = function _arraysMatch2(a1, a2) {
    var i = a1.length, match = i === a2.length;
    while (match && i-- && a1[i] === a2[i]) {
    }
    return i < 0;
  };
  var _addLinkedListItem = function _addLinkedListItem2(parent, child, firstProp, lastProp, sortBy) {
    if (firstProp === void 0) {
      firstProp = "_first";
    }
    if (lastProp === void 0) {
      lastProp = "_last";
    }
    var prev = parent[lastProp], t;
    if (sortBy) {
      t = child[sortBy];
      while (prev && prev[sortBy] > t) {
        prev = prev._prev;
      }
    }
    if (prev) {
      child._next = prev._next;
      prev._next = child;
    } else {
      child._next = parent[firstProp];
      parent[firstProp] = child;
    }
    if (child._next) {
      child._next._prev = child;
    } else {
      parent[lastProp] = child;
    }
    child._prev = prev;
    child.parent = child._dp = parent;
    return child;
  };
  var _removeLinkedListItem = function _removeLinkedListItem2(parent, child, firstProp, lastProp) {
    if (firstProp === void 0) {
      firstProp = "_first";
    }
    if (lastProp === void 0) {
      lastProp = "_last";
    }
    var prev = child._prev, next = child._next;
    if (prev) {
      prev._next = next;
    } else if (parent[firstProp] === child) {
      parent[firstProp] = next;
    }
    if (next) {
      next._prev = prev;
    } else if (parent[lastProp] === child) {
      parent[lastProp] = prev;
    }
    child._next = child._prev = child.parent = null;
  };
  var _removeFromParent = function _removeFromParent2(child, onlyIfParentHasAutoRemove) {
    child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren) && child.parent.remove(child);
    child._act = 0;
  };
  var _uncache = function _uncache2(animation, child) {
    if (animation && (!child || child._end > animation._dur || child._start < 0)) {
      var a = animation;
      while (a) {
        a._dirty = 1;
        a = a.parent;
      }
    }
    return animation;
  };
  var _recacheAncestors = function _recacheAncestors2(animation) {
    var parent = animation.parent;
    while (parent && parent.parent) {
      parent._dirty = 1;
      parent.totalDuration();
      parent = parent.parent;
    }
    return animation;
  };
  var _hasNoPausedAncestors = function _hasNoPausedAncestors2(animation) {
    return !animation || animation._ts && _hasNoPausedAncestors2(animation.parent);
  };
  var _elapsedCycleDuration = function _elapsedCycleDuration2(animation) {
    return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;
  };
  var _animationCycle = function _animationCycle2(tTime, cycleDuration) {
    return (tTime /= cycleDuration) && ~~tTime === tTime ? ~~tTime - 1 : ~~tTime;
  };
  var _parentToChildTotalTime = function _parentToChildTotalTime2(parentTime, child) {
    return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);
  };
  var _setEnd = function _setEnd2(animation) {
    return animation._end = _round(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));
  };
  var _alignPlayhead = function _alignPlayhead2(animation, totalTime) {
    var parent = animation._dp;
    if (parent && parent.smoothChildTiming && animation._ts) {
      animation._start = _round(animation._dp._time - (animation._ts > 0 ? totalTime / animation._ts : ((animation._dirty ? animation.totalDuration() : animation._tDur) - totalTime) / -animation._ts));
      _setEnd(animation);
      parent._dirty || _uncache(parent, animation);
    }
    return animation;
  };
  var _postAddChecks = function _postAddChecks2(timeline2, child) {
    var t;
    if (child._time || child._initted && !child._dur) {
      t = _parentToChildTotalTime(timeline2.rawTime(), child);
      if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {
        child.render(t, true);
      }
    }
    if (_uncache(timeline2, child)._dp && timeline2._initted && timeline2._time >= timeline2._dur && timeline2._ts) {
      if (timeline2._dur < timeline2.duration()) {
        t = timeline2;
        while (t._dp) {
          t.rawTime() >= 0 && t.totalTime(t._tTime);
          t = t._dp;
        }
      }
      timeline2._zTime = -_tinyNum;
    }
  };
  var _addToTimeline = function _addToTimeline2(timeline2, child, position, skipChecks) {
    child.parent && _removeFromParent(child);
    child._start = _round(position + child._delay);
    child._end = _round(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));
    _addLinkedListItem(timeline2, child, "_first", "_last", timeline2._sort ? "_start" : 0);
    timeline2._recent = child;
    skipChecks || _postAddChecks(timeline2, child);
    return timeline2;
  };
  var _scrollTrigger = function _scrollTrigger2(animation, trigger) {
    return (_globals.ScrollTrigger || _missingPlugin("scrollTrigger", trigger)) && _globals.ScrollTrigger.create(trigger, animation);
  };
  var _attemptInitTween = function _attemptInitTween2(tween, totalTime, force, suppressEvents) {
    _initTween(tween, totalTime);
    if (!tween._initted) {
      return 1;
    }
    if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {
      _lazyTweens.push(tween);
      tween._lazy = [totalTime, suppressEvents];
      return 1;
    }
  };
  var _renderZeroDurationTween = function _renderZeroDurationTween2(tween, totalTime, suppressEvents, force) {
    var prevRatio = tween.ratio, ratio = totalTime < 0 || !totalTime && prevRatio && !tween._start && tween._zTime > _tinyNum && !tween._dp._lock || (tween._ts < 0 || tween._dp._ts < 0) && tween.data !== "isFromStart" && tween.data !== "isStart" ? 0 : 1, repeatDelay = tween._rDelay, tTime = 0, pt, iteration, prevIteration;
    if (repeatDelay && tween._repeat) {
      tTime = _clamp(0, tween._tDur, totalTime);
      iteration = _animationCycle(tTime, repeatDelay);
      prevIteration = _animationCycle(tween._tTime, repeatDelay);
      if (iteration !== prevIteration) {
        prevRatio = 1 - ratio;
        tween.vars.repeatRefresh && tween._initted && tween.invalidate();
      }
    }
    if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {
      if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {
        return;
      }
      prevIteration = tween._zTime;
      tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0);
      suppressEvents || (suppressEvents = totalTime && !prevIteration);
      tween.ratio = ratio;
      tween._from && (ratio = 1 - ratio);
      tween._time = 0;
      tween._tTime = tTime;
      suppressEvents || _callback(tween, "onStart");
      pt = tween._pt;
      while (pt) {
        pt.r(ratio, pt.d);
        pt = pt._next;
      }
      tween._startAt && totalTime < 0 && tween._startAt.render(totalTime, true, true);
      tween._onUpdate && !suppressEvents && _callback(tween, "onUpdate");
      tTime && tween._repeat && !suppressEvents && tween.parent && _callback(tween, "onRepeat");
      if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {
        ratio && _removeFromParent(tween, 1);
        if (!suppressEvents) {
          _callback(tween, ratio ? "onComplete" : "onReverseComplete", true);
          tween._prom && tween._prom();
        }
      }
    } else if (!tween._zTime) {
      tween._zTime = totalTime;
    }
  };
  var _findNextPauseTween = function _findNextPauseTween2(animation, prevTime, time) {
    var child;
    if (time > prevTime) {
      child = animation._first;
      while (child && child._start <= time) {
        if (!child._dur && child.data === "isPause" && child._start > prevTime) {
          return child;
        }
        child = child._next;
      }
    } else {
      child = animation._last;
      while (child && child._start >= time) {
        if (!child._dur && child.data === "isPause" && child._start < prevTime) {
          return child;
        }
        child = child._prev;
      }
    }
  };
  var _setDuration = function _setDuration2(animation, duration, skipUncache, leavePlayhead) {
    var repeat = animation._repeat, dur = _round(duration) || 0, totalProgress = animation._tTime / animation._tDur;
    totalProgress && !leavePlayhead && (animation._time *= dur / animation._dur);
    animation._dur = dur;
    animation._tDur = !repeat ? dur : repeat < 0 ? 1e10 : _round(dur * (repeat + 1) + animation._rDelay * repeat);
    totalProgress && !leavePlayhead ? _alignPlayhead(animation, animation._tTime = animation._tDur * totalProgress) : animation.parent && _setEnd(animation);
    skipUncache || _uncache(animation.parent, animation);
    return animation;
  };
  var _onUpdateTotalDuration = function _onUpdateTotalDuration2(animation) {
    return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);
  };
  var _zeroPosition = {
    _start: 0,
    endTime: _emptyFunc
  };
  var _parsePosition = function _parsePosition2(animation, position) {
    var labels = animation.labels, recent = animation._recent || _zeroPosition, clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur, i, offset;
    if (_isString(position) && (isNaN(position) || position in labels)) {
      i = position.charAt(0);
      if (i === "<" || i === ">") {
        return (i === "<" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0);
      }
      i = position.indexOf("=");
      if (i < 0) {
        position in labels || (labels[position] = clippedDuration);
        return labels[position];
      }
      offset = +(position.charAt(i - 1) + position.substr(i + 1));
      return i > 1 ? _parsePosition2(animation, position.substr(0, i - 1)) + offset : clippedDuration + offset;
    }
    return position == null ? clippedDuration : +position;
  };
  var _conditionalReturn = function _conditionalReturn2(value, func) {
    return value || value === 0 ? func(value) : func;
  };
  var _clamp = function _clamp2(min, max, value) {
    return value < min ? min : value > max ? max : value;
  };
  var getUnit = function getUnit2(value) {
    return (value = (value + "").substr((parseFloat(value) + "").length)) && isNaN(value) ? value : "";
  };
  var clamp = function clamp2(min, max, value) {
    return _conditionalReturn(value, function(v) {
      return _clamp(min, max, v);
    });
  };
  var _slice = [].slice;
  var _isArrayLike = function _isArrayLike2(value, nonEmpty) {
    return value && _isObject(value) && "length" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;
  };
  var _flatten = function _flatten2(ar, leaveStrings, accumulator) {
    if (accumulator === void 0) {
      accumulator = [];
    }
    return ar.forEach(function(value) {
      var _accumulator;
      return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);
    }) || accumulator;
  };
  var toArray = function toArray2(value, leaveStrings) {
    return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call(_doc.querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];
  };
  var shuffle = function shuffle2(a) {
    return a.sort(function() {
      return 0.5 - Math.random();
    });
  };
  var distribute = function distribute2(v) {
    if (_isFunction(v)) {
      return v;
    }
    var vars = _isObject(v) ? v : {
      each: v
    }, ease = _parseEase(vars.ease), from = vars.from || 0, base = parseFloat(vars.base) || 0, cache = {}, isDecimal = from > 0 && from < 1, ratios = isNaN(from) || isDecimal, axis = vars.axis, ratioX = from, ratioY = from;
    if (_isString(from)) {
      ratioX = ratioY = {
        center: 0.5,
        edges: 0.5,
        end: 1
      }[from] || 0;
    } else if (!isDecimal && ratios) {
      ratioX = from[0];
      ratioY = from[1];
    }
    return function(i, target, a) {
      var l = (a || vars).length, distances = cache[l], originX, originY, x, y, d, j, max, min, wrapAt;
      if (!distances) {
        wrapAt = vars.grid === "auto" ? 0 : (vars.grid || [1, _bigNum])[1];
        if (!wrapAt) {
          max = -_bigNum;
          while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {
          }
          wrapAt--;
        }
        distances = cache[l] = [];
        originX = ratios ? Math.min(wrapAt, l) * ratioX - 0.5 : from % wrapAt;
        originY = ratios ? l * ratioY / wrapAt - 0.5 : from / wrapAt | 0;
        max = 0;
        min = _bigNum;
        for (j = 0; j < l; j++) {
          x = j % wrapAt - originX;
          y = originY - (j / wrapAt | 0);
          distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === "y" ? y : x);
          d > max && (max = d);
          d < min && (min = d);
        }
        from === "random" && shuffle(distances);
        distances.max = max - min;
        distances.min = min;
        distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === "y" ? l / wrapAt : wrapAt) || 0) * (from === "edges" ? -1 : 1);
        distances.b = l < 0 ? base - l : base;
        distances.u = getUnit(vars.amount || vars.each) || 0;
        ease = ease && l < 0 ? _invertEase(ease) : ease;
      }
      l = (distances[i] - distances.min) / distances.max || 0;
      return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u;
    };
  };
  var _roundModifier = function _roundModifier2(v) {
    var p = v < 1 ? Math.pow(10, (v + "").length - 2) : 1;
    return function(raw) {
      return Math.floor(Math.round(parseFloat(raw) / v) * v * p) / p + (_isNumber(raw) ? 0 : getUnit(raw));
    };
  };
  var snap = function snap2(snapTo, value) {
    var isArray = _isArray(snapTo), radius, is2D;
    if (!isArray && _isObject(snapTo)) {
      radius = isArray = snapTo.radius || _bigNum;
      if (snapTo.values) {
        snapTo = toArray(snapTo.values);
        if (is2D = !_isNumber(snapTo[0])) {
          radius *= radius;
        }
      } else {
        snapTo = _roundModifier(snapTo.increment);
      }
    }
    return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function(raw) {
      is2D = snapTo(raw);
      return Math.abs(is2D - raw) <= radius ? is2D : raw;
    } : function(raw) {
      var x = parseFloat(is2D ? raw.x : raw), y = parseFloat(is2D ? raw.y : 0), min = _bigNum, closest = 0, i = snapTo.length, dx, dy;
      while (i--) {
        if (is2D) {
          dx = snapTo[i].x - x;
          dy = snapTo[i].y - y;
          dx = dx * dx + dy * dy;
        } else {
          dx = Math.abs(snapTo[i] - x);
        }
        if (dx < min) {
          min = dx;
          closest = i;
        }
      }
      closest = !radius || min <= radius ? snapTo[closest] : raw;
      return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);
    });
  };
  var random = function random2(min, max, roundingIncrement, returnFunction) {
    return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function() {
      return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + "").length - 2) : 1) && Math.floor(Math.round((min + Math.random() * (max - min)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;
    });
  };
  var pipe = function pipe2() {
    for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {
      functions[_key] = arguments[_key];
    }
    return function(value) {
      return functions.reduce(function(v, f) {
        return f(v);
      }, value);
    };
  };
  var unitize = function unitize2(func, unit) {
    return function(value) {
      return func(parseFloat(value)) + (unit || getUnit(value));
    };
  };
  var normalize = function normalize2(min, max, value) {
    return mapRange(min, max, 0, 1, value);
  };
  var _wrapArray = function _wrapArray2(a, wrapper, value) {
    return _conditionalReturn(value, function(index) {
      return a[~~wrapper(index)];
    });
  };
  var wrap = function wrap2(min, max, value) {
    var range = max - min;
    return _isArray(min) ? _wrapArray(min, wrap2(0, min.length), max) : _conditionalReturn(value, function(value2) {
      return (range + (value2 - min) % range) % range + min;
    });
  };
  var wrapYoyo = function wrapYoyo2(min, max, value) {
    var range = max - min, total = range * 2;
    return _isArray(min) ? _wrapArray(min, wrapYoyo2(0, min.length - 1), max) : _conditionalReturn(value, function(value2) {
      value2 = (total + (value2 - min) % total) % total || 0;
      return min + (value2 > range ? total - value2 : value2);
    });
  };
  var _replaceRandom = function _replaceRandom2(value) {
    var prev = 0, s = "", i, nums, end, isArray;
    while (~(i = value.indexOf("random(", prev))) {
      end = value.indexOf(")", i);
      isArray = value.charAt(i + 7) === "[";
      nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);
      s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], isArray ? 0 : +nums[1], +nums[2] || 1e-5);
      prev = end + 1;
    }
    return s + value.substr(prev, value.length - prev);
  };
  var mapRange = function mapRange2(inMin, inMax, outMin, outMax, value) {
    var inRange = inMax - inMin, outRange = outMax - outMin;
    return _conditionalReturn(value, function(value2) {
      return outMin + ((value2 - inMin) / inRange * outRange || 0);
    });
  };
  var interpolate = function interpolate2(start, end, progress, mutate) {
    var func = isNaN(start + end) ? 0 : function(p2) {
      return (1 - p2) * start + p2 * end;
    };
    if (!func) {
      var isString2 = _isString(start), master = {}, p, i, interpolators, l, il;
      progress === true && (mutate = 1) && (progress = null);
      if (isString2) {
        start = {
          p: start
        };
        end = {
          p: end
        };
      } else if (_isArray(start) && !_isArray(end)) {
        interpolators = [];
        l = start.length;
        il = l - 2;
        for (i = 1; i < l; i++) {
          interpolators.push(interpolate2(start[i - 1], start[i]));
        }
        l--;
        func = function func2(p2) {
          p2 *= l;
          var i2 = Math.min(il, ~~p2);
          return interpolators[i2](p2 - i2);
        };
        progress = end;
      } else if (!mutate) {
        start = _merge(_isArray(start) ? [] : {}, start);
      }
      if (!interpolators) {
        for (p in end) {
          _addPropTween.call(master, start, p, "get", end[p]);
        }
        func = function func2(p2) {
          return _renderPropTweens(p2, master) || (isString2 ? start.p : start);
        };
      }
    }
    return _conditionalReturn(progress, func);
  };
  var _getLabelInDirection = function _getLabelInDirection2(timeline2, fromTime, backward) {
    var labels = timeline2.labels, min = _bigNum, p, distance, label;
    for (p in labels) {
      distance = labels[p] - fromTime;
      if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {
        label = p;
        min = distance;
      }
    }
    return label;
  };
  var _callback = function _callback2(animation, type, executeLazyFirst) {
    var v = animation.vars, callback2 = v[type], params, scope;
    if (!callback2) {
      return;
    }
    params = v[type + "Params"];
    scope = v.callbackScope || animation;
    executeLazyFirst && _lazyTweens.length && _lazyRender();
    return params ? callback2.apply(scope, params) : callback2.call(scope);
  };
  var _interrupt = function _interrupt2(animation) {
    _removeFromParent(animation);
    animation.progress() < 1 && _callback(animation, "onInterrupt");
    return animation;
  };
  var _quickTween;
  var _createPlugin = function _createPlugin2(config3) {
    config3 = !config3.name && config3["default"] || config3;
    var name = config3.name, isFunc = _isFunction(config3), Plugin = name && !isFunc && config3.init ? function() {
      this._props = [];
    } : config3, instanceDefaults = {
      init: _emptyFunc,
      render: _renderPropTweens,
      add: _addPropTween,
      kill: _killPropTweensOf,
      modifier: _addPluginModifier,
      rawVars: 0
    }, statics = {
      targetTest: 0,
      get: 0,
      getSetter: _getSetter,
      aliases: {},
      register: 0
    };
    _wake();
    if (config3 !== Plugin) {
      if (_plugins[name]) {
        return;
      }
      _setDefaults(Plugin, _setDefaults(_copyExcluding(config3, instanceDefaults), statics));
      _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config3, statics)));
      _plugins[Plugin.prop = name] = Plugin;
      if (config3.targetTest) {
        _harnessPlugins.push(Plugin);
        _reservedProps[name] = 1;
      }
      name = (name === "css" ? "CSS" : name.charAt(0).toUpperCase() + name.substr(1)) + "Plugin";
    }
    _addGlobal(name, Plugin);
    config3.register && config3.register(gsap, Plugin, PropTween);
  };
  var _255 = 255;
  var _colorLookup = {
    aqua: [0, _255, _255],
    lime: [0, _255, 0],
    silver: [192, 192, 192],
    black: [0, 0, 0],
    maroon: [128, 0, 0],
    teal: [0, 128, 128],
    blue: [0, 0, _255],
    navy: [0, 0, 128],
    white: [_255, _255, _255],
    olive: [128, 128, 0],
    yellow: [_255, _255, 0],
    orange: [_255, 165, 0],
    gray: [128, 128, 128],
    purple: [128, 0, 128],
    green: [0, 128, 0],
    red: [_255, 0, 0],
    pink: [_255, 192, 203],
    cyan: [0, _255, _255],
    transparent: [_255, _255, _255, 0]
  };
  var _hue = function _hue2(h, m1, m2) {
    h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;
    return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < 0.5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + 0.5 | 0;
  };
  var splitColor = function splitColor2(v, toHSL, forceAlpha) {
    var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0, r, g, b, h, s, l, max, min, d, wasHSL;
    if (!a) {
      if (v.substr(-1) === ",") {
        v = v.substr(0, v.length - 1);
      }
      if (_colorLookup[v]) {
        a = _colorLookup[v];
      } else if (v.charAt(0) === "#") {
        if (v.length === 4) {
          r = v.charAt(1);
          g = v.charAt(2);
          b = v.charAt(3);
          v = "#" + r + r + g + g + b + b;
        }
        v = parseInt(v.substr(1), 16);
        a = [v >> 16, v >> 8 & _255, v & _255];
      } else if (v.substr(0, 3) === "hsl") {
        a = wasHSL = v.match(_strictNumExp);
        if (!toHSL) {
          h = +a[0] % 360 / 360;
          s = +a[1] / 100;
          l = +a[2] / 100;
          g = l <= 0.5 ? l * (s + 1) : l + s - l * s;
          r = l * 2 - g;
          a.length > 3 && (a[3] *= 1);
          a[0] = _hue(h + 1 / 3, r, g);
          a[1] = _hue(h, r, g);
          a[2] = _hue(h - 1 / 3, r, g);
        } else if (~v.indexOf("=")) {
          a = v.match(_numExp);
          forceAlpha && a.length < 4 && (a[3] = 1);
          return a;
        }
      } else {
        a = v.match(_strictNumExp) || _colorLookup.transparent;
      }
      a = a.map(Number);
    }
    if (toHSL && !wasHSL) {
      r = a[0] / _255;
      g = a[1] / _255;
      b = a[2] / _255;
      max = Math.max(r, g, b);
      min = Math.min(r, g, b);
      l = (max + min) / 2;
      if (max === min) {
        h = s = 0;
      } else {
        d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;
        h *= 60;
      }
      a[0] = ~~(h + 0.5);
      a[1] = ~~(s * 100 + 0.5);
      a[2] = ~~(l * 100 + 0.5);
    }
    forceAlpha && a.length < 4 && (a[3] = 1);
    return a;
  };
  var _colorOrderData = function _colorOrderData2(v) {
    var values = [], c = [], i = -1;
    v.split(_colorExp).forEach(function(v2) {
      var a = v2.match(_numWithUnitExp) || [];
      values.push.apply(values, a);
      c.push(i += a.length + 1);
    });
    values.c = c;
    return values;
  };
  var _formatColors = function _formatColors2(s, toHSL, orderMatchData) {
    var result = "", colors = (s + result).match(_colorExp), type = toHSL ? "hsla(" : "rgba(", i = 0, c, shell, d, l;
    if (!colors) {
      return s;
    }
    colors = colors.map(function(color) {
      return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + "," + color[1] + "%," + color[2] + "%," + color[3] : color.join(",")) + ")";
    });
    if (orderMatchData) {
      d = _colorOrderData(s);
      c = orderMatchData.c;
      if (c.join(result) !== d.c.join(result)) {
        shell = s.replace(_colorExp, "1").split(_numWithUnitExp);
        l = shell.length - 1;
        for (; i < l; i++) {
          result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + "0,0,0,0)" : (d.length ? d : colors.length ? colors : orderMatchData).shift());
        }
      }
    }
    if (!shell) {
      shell = s.split(_colorExp);
      l = shell.length - 1;
      for (; i < l; i++) {
        result += shell[i] + colors[i];
      }
    }
    return result + shell[l];
  };
  var _colorExp = function() {
    var s = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b", p;
    for (p in _colorLookup) {
      s += "|" + p + "\\b";
    }
    return new RegExp(s + ")", "gi");
  }();
  var _hslExp = /hsl[a]?\(/;
  var _colorStringFilter = function _colorStringFilter2(a) {
    var combined = a.join(" "), toHSL;
    _colorExp.lastIndex = 0;
    if (_colorExp.test(combined)) {
      toHSL = _hslExp.test(combined);
      a[1] = _formatColors(a[1], toHSL);
      a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1]));
      return true;
    }
  };
  var _tickerActive;
  var _ticker = function() {
    var _getTime2 = Date.now, _lagThreshold = 500, _adjustedLag = 33, _startTime = _getTime2(), _lastUpdate = _startTime, _gap = 1e3 / 240, _nextTime = _gap, _listeners2 = [], _id, _req, _raf2, _self, _delta, _i2, _tick = function _tick2(v) {
      var elapsed = _getTime2() - _lastUpdate, manual = v === true, overlap, dispatch, time, frame;
      elapsed > _lagThreshold && (_startTime += elapsed - _adjustedLag);
      _lastUpdate += elapsed;
      time = _lastUpdate - _startTime;
      overlap = time - _nextTime;
      if (overlap > 0 || manual) {
        frame = ++_self.frame;
        _delta = time - _self.time * 1e3;
        _self.time = time = time / 1e3;
        _nextTime += overlap + (overlap >= _gap ? 4 : _gap - overlap);
        dispatch = 1;
      }
      manual || (_id = _req(_tick2));
      if (dispatch) {
        for (_i2 = 0; _i2 < _listeners2.length; _i2++) {
          _listeners2[_i2](time, _delta, frame, v);
        }
      }
    };
    _self = {
      time: 0,
      frame: 0,
      tick: function tick() {
        _tick(true);
      },
      deltaRatio: function deltaRatio(fps) {
        return _delta / (1e3 / (fps || 60));
      },
      wake: function wake() {
        if (_coreReady) {
          if (!_coreInitted && _windowExists()) {
            _win = _coreInitted = window;
            _doc = _win.document || {};
            _globals.gsap = gsap;
            (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);
            _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});
            _raf2 = _win.requestAnimationFrame;
          }
          _id && _self.sleep();
          _req = _raf2 || function(f) {
            return setTimeout(f, _nextTime - _self.time * 1e3 + 1 | 0);
          };
          _tickerActive = 1;
          _tick(2);
        }
      },
      sleep: function sleep() {
        (_raf2 ? _win.cancelAnimationFrame : clearTimeout)(_id);
        _tickerActive = 0;
        _req = _emptyFunc;
      },
      lagSmoothing: function lagSmoothing(threshold, adjustedLag) {
        _lagThreshold = threshold || 1 / _tinyNum;
        _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);
      },
      fps: function fps(_fps) {
        _gap = 1e3 / (_fps || 240);
        _nextTime = _self.time * 1e3 + _gap;
      },
      add: function add(callback2) {
        _listeners2.indexOf(callback2) < 0 && _listeners2.push(callback2);
        _wake();
      },
      remove: function remove(callback2) {
        var i;
        ~(i = _listeners2.indexOf(callback2)) && _listeners2.splice(i, 1) && _i2 >= i && _i2--;
      },
      _listeners: _listeners2
    };
    return _self;
  }();
  var _wake = function _wake2() {
    return !_tickerActive && _ticker.wake();
  };
  var _easeMap = {};
  var _customEaseExp = /^[\d.\-M][\d.\-,\s]/;
  var _quotesExp = /["']/g;
  var _parseObjectInString = function _parseObjectInString2(value) {
    var obj = {}, split = value.substr(1, value.length - 3).split(":"), key = split[0], i = 1, l = split.length, index, val, parsedVal;
    for (; i < l; i++) {
      val = split[i];
      index = i !== l - 1 ? val.lastIndexOf(",") : val.length;
      parsedVal = val.substr(0, index);
      obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, "").trim() : +parsedVal;
      key = val.substr(index + 1).trim();
    }
    return obj;
  };
  var _valueInParentheses = function _valueInParentheses2(value) {
    var open = value.indexOf("(") + 1, close = value.indexOf(")"), nested = value.indexOf("(", open);
    return value.substring(open, ~nested && nested < close ? value.indexOf(")", close + 1) : close);
  };
  var _configEaseFromString = function _configEaseFromString2(name) {
    var split = (name + "").split("("), ease = _easeMap[split[0]];
    return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf("{") ? [_parseObjectInString(split[1])] : _valueInParentheses(name).split(",").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE("", name) : ease;
  };
  var _invertEase = function _invertEase2(ease) {
    return function(p) {
      return 1 - ease(1 - p);
    };
  };
  var _propagateYoyoEase = function _propagateYoyoEase2(timeline2, isYoyo) {
    var child = timeline2._first, ease;
    while (child) {
      if (child instanceof Timeline) {
        _propagateYoyoEase2(child, isYoyo);
      } else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {
        if (child.timeline) {
          _propagateYoyoEase2(child.timeline, isYoyo);
        } else {
          ease = child._ease;
          child._ease = child._yEase;
          child._yEase = ease;
          child._yoyo = isYoyo;
        }
      }
      child = child._next;
    }
  };
  var _parseEase = function _parseEase2(ease, defaultEase) {
    return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;
  };
  var _insertEase = function _insertEase2(names, easeIn, easeOut, easeInOut) {
    if (easeOut === void 0) {
      easeOut = function easeOut2(p) {
        return 1 - easeIn(1 - p);
      };
    }
    if (easeInOut === void 0) {
      easeInOut = function easeInOut2(p) {
        return p < 0.5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;
      };
    }
    var ease = {
      easeIn,
      easeOut,
      easeInOut
    }, lowercaseName;
    _forEachName(names, function(name) {
      _easeMap[name] = _globals[name] = ease;
      _easeMap[lowercaseName = name.toLowerCase()] = easeOut;
      for (var p in ease) {
        _easeMap[lowercaseName + (p === "easeIn" ? ".in" : p === "easeOut" ? ".out" : ".inOut")] = _easeMap[name + "." + p] = ease[p];
      }
    });
    return ease;
  };
  var _easeInOutFromOut = function _easeInOutFromOut2(easeOut) {
    return function(p) {
      return p < 0.5 ? (1 - easeOut(1 - p * 2)) / 2 : 0.5 + easeOut((p - 0.5) * 2) / 2;
    };
  };
  var _configElastic = function _configElastic2(type, amplitude, period) {
    var p1 = amplitude >= 1 ? amplitude : 1, p2 = (period || (type ? 0.3 : 0.45)) / (amplitude < 1 ? amplitude : 1), p3 = p2 / _2PI * (Math.asin(1 / p1) || 0), easeOut = function easeOut2(p) {
      return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;
    }, ease = type === "out" ? easeOut : type === "in" ? function(p) {
      return 1 - easeOut(1 - p);
    } : _easeInOutFromOut(easeOut);
    p2 = _2PI / p2;
    ease.config = function(amplitude2, period2) {
      return _configElastic2(type, amplitude2, period2);
    };
    return ease;
  };
  var _configBack = function _configBack2(type, overshoot) {
    if (overshoot === void 0) {
      overshoot = 1.70158;
    }
    var easeOut = function easeOut2(p) {
      return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;
    }, ease = type === "out" ? easeOut : type === "in" ? function(p) {
      return 1 - easeOut(1 - p);
    } : _easeInOutFromOut(easeOut);
    ease.config = function(overshoot2) {
      return _configBack2(type, overshoot2);
    };
    return ease;
  };
  _forEachName("Linear,Quad,Cubic,Quart,Quint,Strong", function(name, i) {
    var power = i < 5 ? i + 1 : i;
    _insertEase(name + ",Power" + (power - 1), i ? function(p) {
      return Math.pow(p, power);
    } : function(p) {
      return p;
    }, function(p) {
      return 1 - Math.pow(1 - p, power);
    }, function(p) {
      return p < 0.5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;
    });
  });
  _easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;
  _insertEase("Elastic", _configElastic("in"), _configElastic("out"), _configElastic());
  (function(n, c) {
    var n1 = 1 / c, n2 = 2 * n1, n3 = 2.5 * n1, easeOut = function easeOut2(p) {
      return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + 0.75 : p < n3 ? n * (p -= 2.25 / c) * p + 0.9375 : n * Math.pow(p - 2.625 / c, 2) + 0.984375;
    };
    _insertEase("Bounce", function(p) {
      return 1 - easeOut(1 - p);
    }, easeOut);
  })(7.5625, 2.75);
  _insertEase("Expo", function(p) {
    return p ? Math.pow(2, 10 * (p - 1)) : 0;
  });
  _insertEase("Circ", function(p) {
    return -(_sqrt(1 - p * p) - 1);
  });
  _insertEase("Sine", function(p) {
    return p === 1 ? 1 : -_cos(p * _HALF_PI) + 1;
  });
  _insertEase("Back", _configBack("in"), _configBack("out"), _configBack());
  _easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {
    config: function config(steps, immediateStart) {
      if (steps === void 0) {
        steps = 1;
      }
      var p1 = 1 / steps, p2 = steps + (immediateStart ? 0 : 1), p3 = immediateStart ? 1 : 0, max = 1 - _tinyNum;
      return function(p) {
        return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;
      };
    }
  };
  _defaults.ease = _easeMap["quad.out"];
  _forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt", function(name) {
    return _callbackNames += name + "," + name + "Params,";
  });
  var GSCache = function GSCache2(target, harness) {
    this.id = _gsID++;
    target._gsap = this;
    this.target = target;
    this.harness = harness;
    this.get = harness ? harness.get : _getProperty;
    this.set = harness ? harness.getSetter : _getSetter;
  };
  var Animation = /* @__PURE__ */ function() {
    function Animation2(vars, time) {
      var parent = vars.parent || _globalTimeline;
      this.vars = vars;
      this._delay = +vars.delay || 0;
      if (this._repeat = vars.repeat || 0) {
        this._rDelay = vars.repeatDelay || 0;
        this._yoyo = !!vars.yoyo || !!vars.yoyoEase;
      }
      this._ts = 1;
      _setDuration(this, +vars.duration, 1, 1);
      this.data = vars.data;
      _tickerActive || _ticker.wake();
      parent && _addToTimeline(parent, this, time || time === 0 ? time : parent._time, 1);
      vars.reversed && this.reverse();
      vars.paused && this.paused(true);
    }
    var _proto = Animation2.prototype;
    _proto.delay = function delay(value) {
      if (value || value === 0) {
        this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);
        this._delay = value;
        return this;
      }
      return this._delay;
    };
    _proto.duration = function duration(value) {
      return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;
    };
    _proto.totalDuration = function totalDuration(value) {
      if (!arguments.length) {
        return this._tDur;
      }
      this._dirty = 0;
      return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));
    };
    _proto.totalTime = function totalTime(_totalTime, suppressEvents) {
      _wake();
      if (!arguments.length) {
        return this._tTime;
      }
      var parent = this._dp;
      if (parent && parent.smoothChildTiming && this._ts) {
        _alignPlayhead(this, _totalTime);
        while (parent.parent) {
          if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {
            parent.totalTime(parent._tTime, true);
          }
          parent = parent.parent;
        }
        if (!this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && _totalTime < this._tDur || this._ts < 0 && _totalTime > 0 || !this._tDur && !_totalTime)) {
          _addToTimeline(this._dp, this, this._start - this._delay);
        }
      }
      if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum || !_totalTime && !this._initted && (this.add || this._ptLookup)) {
        this._ts || (this._pTime = _totalTime);
        _lazySafeRender(this, _totalTime, suppressEvents);
      }
      return this;
    };
    _proto.time = function time(value, suppressEvents) {
      return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % this._dur || (value ? this._dur : 0), suppressEvents) : this._time;
    };
    _proto.totalProgress = function totalProgress(value, suppressEvents) {
      return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;
    };
    _proto.progress = function progress(value, suppressEvents) {
      return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;
    };
    _proto.iteration = function iteration(value, suppressEvents) {
      var cycleDuration = this.duration() + this._rDelay;
      return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;
    };
    _proto.timeScale = function timeScale(value) {
      if (!arguments.length) {
        return this._rts === -_tinyNum ? 0 : this._rts;
      }
      if (this._rts === value) {
        return this;
      }
      var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime;
      this._rts = +value || 0;
      this._ts = this._ps || value === -_tinyNum ? 0 : this._rts;
      return _recacheAncestors(this.totalTime(_clamp(-this._delay, this._tDur, tTime), true));
    };
    _proto.paused = function paused(value) {
      if (!arguments.length) {
        return this._ps;
      }
      if (this._ps !== value) {
        this._ps = value;
        if (value) {
          this._pTime = this._tTime || Math.max(-this._delay, this.rawTime());
          this._ts = this._act = 0;
        } else {
          _wake();
          this._ts = this._rts;
          this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && (this._tTime -= _tinyNum) && Math.abs(this._zTime) !== _tinyNum);
        }
      }
      return this;
    };
    _proto.startTime = function startTime(value) {
      if (arguments.length) {
        this._start = value;
        var parent = this.parent || this._dp;
        parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);
        return this;
      }
      return this._start;
    };
    _proto.endTime = function endTime(includeRepeats) {
      return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);
    };
    _proto.rawTime = function rawTime(wrapRepeats) {
      var parent = this.parent || this._dp;
      return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);
    };
    _proto.globalTime = function globalTime(rawTime) {
      var animation = this, time = arguments.length ? rawTime : animation.rawTime();
      while (animation) {
        time = animation._start + time / (animation._ts || 1);
        animation = animation._dp;
      }
      return time;
    };
    _proto.repeat = function repeat(value) {
      if (arguments.length) {
        this._repeat = value;
        return _onUpdateTotalDuration(this);
      }
      return this._repeat;
    };
    _proto.repeatDelay = function repeatDelay(value) {
      if (arguments.length) {
        this._rDelay = value;
        return _onUpdateTotalDuration(this);
      }
      return this._rDelay;
    };
    _proto.yoyo = function yoyo(value) {
      if (arguments.length) {
        this._yoyo = value;
        return this;
      }
      return this._yoyo;
    };
    _proto.seek = function seek(position, suppressEvents) {
      return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));
    };
    _proto.restart = function restart(includeDelay, suppressEvents) {
      return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));
    };
    _proto.play = function play(from, suppressEvents) {
      from != null && this.seek(from, suppressEvents);
      return this.reversed(false).paused(false);
    };
    _proto.reverse = function reverse(from, suppressEvents) {
      from != null && this.seek(from || this.totalDuration(), suppressEvents);
      return this.reversed(true).paused(false);
    };
    _proto.pause = function pause(atTime, suppressEvents) {
      atTime != null && this.seek(atTime, suppressEvents);
      return this.paused(true);
    };
    _proto.resume = function resume() {
      return this.paused(false);
    };
    _proto.reversed = function reversed(value) {
      if (arguments.length) {
        !!value !== this.reversed() && this.timeScale(-this._rts || (value ? -_tinyNum : 0));
        return this;
      }
      return this._rts < 0;
    };
    _proto.invalidate = function invalidate() {
      this._initted = 0;
      this._zTime = -_tinyNum;
      return this;
    };
    _proto.isActive = function isActive() {
      var parent = this.parent || this._dp, start = this._start, rawTime;
      return !!(!parent || this._ts && this._initted && parent.isActive() && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);
    };
    _proto.eventCallback = function eventCallback(type, callback2, params) {
      var vars = this.vars;
      if (arguments.length > 1) {
        if (!callback2) {
          delete vars[type];
        } else {
          vars[type] = callback2;
          params && (vars[type + "Params"] = params);
          type === "onUpdate" && (this._onUpdate = callback2);
        }
        return this;
      }
      return vars[type];
    };
    _proto.then = function then(onFulfilled) {
      var self = this;
      return new Promise(function(resolve) {
        var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough, _resolve = function _resolve2() {
          var _then = self.then;
          self.then = null;
          _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);
          resolve(f);
          self.then = _then;
        };
        if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {
          _resolve();
        } else {
          self._prom = _resolve;
        }
      });
    };
    _proto.kill = function kill() {
      _interrupt(this);
    };
    return Animation2;
  }();
  _setDefaults(Animation.prototype, {
    _time: 0,
    _start: 0,
    _end: 0,
    _tTime: 0,
    _tDur: 0,
    _dirty: 0,
    _repeat: 0,
    _yoyo: false,
    parent: null,
    _initted: false,
    _rDelay: 0,
    _ts: 1,
    _dp: 0,
    ratio: 0,
    _zTime: -_tinyNum,
    _prom: 0,
    _ps: false,
    _rts: 1
  });
  var Timeline = /* @__PURE__ */ function(_Animation) {
    _inheritsLoose(Timeline2, _Animation);
    function Timeline2(vars, time) {
      var _this;
      if (vars === void 0) {
        vars = {};
      }
      _this = _Animation.call(this, vars, time) || this;
      _this.labels = {};
      _this.smoothChildTiming = !!vars.smoothChildTiming;
      _this.autoRemoveChildren = !!vars.autoRemoveChildren;
      _this._sort = _isNotFalse(vars.sortChildren);
      _this.parent && _postAddChecks(_this.parent, _assertThisInitialized(_this));
      vars.scrollTrigger && _scrollTrigger(_assertThisInitialized(_this), vars.scrollTrigger);
      return _this;
    }
    var _proto2 = Timeline2.prototype;
    _proto2.to = function to(targets, vars, position) {
      new Tween(targets, _parseVars(arguments, 0, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));
      return this;
    };
    _proto2.from = function from(targets, vars, position) {
      new Tween(targets, _parseVars(arguments, 1, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));
      return this;
    };
    _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {
      new Tween(targets, _parseVars(arguments, 2, this), _parsePosition(this, _isNumber(fromVars) ? arguments[4] : position));
      return this;
    };
    _proto2.set = function set(targets, vars, position) {
      vars.duration = 0;
      vars.parent = this;
      _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);
      vars.immediateRender = !!vars.immediateRender;
      new Tween(targets, vars, _parsePosition(this, position), 1);
      return this;
    };
    _proto2.call = function call(callback2, params, position) {
      return _addToTimeline(this, Tween.delayedCall(0, callback2, params), _parsePosition(this, position));
    };
    _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {
      vars.duration = duration;
      vars.stagger = vars.stagger || stagger;
      vars.onComplete = onCompleteAll;
      vars.onCompleteParams = onCompleteAllParams;
      vars.parent = this;
      new Tween(targets, vars, _parsePosition(this, position));
      return this;
    };
    _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {
      vars.runBackwards = 1;
      _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);
      return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);
    };
    _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {
      toVars.startAt = fromVars;
      _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);
      return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);
    };
    _proto2.render = function render(totalTime, suppressEvents, force) {
      var prevTime = this._time, tDur = this._dirty ? this.totalDuration() : this._tDur, dur = this._dur, tTime = this !== _globalTimeline && totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime, crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur), time, child, next, iteration, cycleDuration, prevPaused, pauseTween, timeScale, prevStart, prevIteration, yoyo, isYoyo;
      if (tTime !== this._tTime || force || crossingStart) {
        if (prevTime !== this._time && dur) {
          tTime += this._time - prevTime;
          totalTime += this._time - prevTime;
        }
        time = tTime;
        prevStart = this._start;
        timeScale = this._ts;
        prevPaused = !timeScale;
        if (crossingStart) {
          dur || (prevTime = this._zTime);
          (totalTime || !suppressEvents) && (this._zTime = totalTime);
        }
        if (this._repeat) {
          yoyo = this._yoyo;
          cycleDuration = dur + this._rDelay;
          time = _round(tTime % cycleDuration);
          if (tTime === tDur) {
            iteration = this._repeat;
            time = dur;
          } else {
            iteration = ~~(tTime / cycleDuration);
            if (iteration && iteration === tTime / cycleDuration) {
              time = dur;
              iteration--;
            }
            time > dur && (time = dur);
          }
          prevIteration = _animationCycle(this._tTime, cycleDuration);
          !prevTime && this._tTime && prevIteration !== iteration && (prevIteration = iteration);
          if (yoyo && iteration & 1) {
            time = dur - time;
            isYoyo = 1;
          }
          if (iteration !== prevIteration && !this._lock) {
            var rewinding = yoyo && prevIteration & 1, doesWrap = rewinding === (yoyo && iteration & 1);
            iteration < prevIteration && (rewinding = !rewinding);
            prevTime = rewinding ? 0 : dur;
            this._lock = 1;
            this.render(prevTime || (isYoyo ? 0 : _round(iteration * cycleDuration)), suppressEvents, !dur)._lock = 0;
            !suppressEvents && this.parent && _callback(this, "onRepeat");
            this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);
            if (prevTime !== this._time || prevPaused !== !this._ts) {
              return this;
            }
            dur = this._dur;
            tDur = this._tDur;
            if (doesWrap) {
              this._lock = 2;
              prevTime = rewinding ? dur : -1e-4;
              this.render(prevTime, true);
              this.vars.repeatRefresh && !isYoyo && this.invalidate();
            }
            this._lock = 0;
            if (!this._ts && !prevPaused) {
              return this;
            }
            _propagateYoyoEase(this, isYoyo);
          }
        }
        if (this._hasPause && !this._forcing && this._lock < 2) {
          pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));
          if (pauseTween) {
            tTime -= time - (time = pauseTween._start);
          }
        }
        this._tTime = tTime;
        this._time = time;
        this._act = !timeScale;
        if (!this._initted) {
          this._onUpdate = this.vars.onUpdate;
          this._initted = 1;
          this._zTime = totalTime;
        }
        !prevTime && time && !suppressEvents && _callback(this, "onStart");
        if (time >= prevTime && totalTime >= 0) {
          child = this._first;
          while (child) {
            next = child._next;
            if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {
              if (child.parent !== this) {
                return this.render(totalTime, suppressEvents, force);
              }
              child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);
              if (time !== this._time || !this._ts && !prevPaused) {
                pauseTween = 0;
                next && (tTime += this._zTime = -_tinyNum);
                break;
              }
            }
            child = next;
          }
        } else {
          child = this._last;
          var adjustedTime = totalTime < 0 ? totalTime : time;
          while (child) {
            next = child._prev;
            if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {
              if (child.parent !== this) {
                return this.render(totalTime, suppressEvents, force);
              }
              child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);
              if (time !== this._time || !this._ts && !prevPaused) {
                pauseTween = 0;
                next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum);
                break;
              }
            }
            child = next;
          }
        }
        if (pauseTween && !suppressEvents) {
          this.pause();
          pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;
          if (this._ts) {
            this._start = prevStart;
            _setEnd(this);
            return this.render(totalTime, suppressEvents, force);
          }
        }
        this._onUpdate && !suppressEvents && _callback(this, "onUpdate", true);
        if (tTime === tDur && tDur >= this.totalDuration() || !tTime && prevTime) {
          if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) {
            if (!this._lock) {
              (totalTime || !dur) && (tTime === tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1);
              if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {
                _callback(this, tTime === tDur ? "onComplete" : "onReverseComplete", true);
                this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();
              }
            }
          }
        }
      }
      return this;
    };
    _proto2.add = function add(child, position) {
      var _this2 = this;
      if (!_isNumber(position)) {
        position = _parsePosition(this, position);
      }
      if (!(child instanceof Animation)) {
        if (_isArray(child)) {
          child.forEach(function(obj) {
            return _this2.add(obj, position);
          });
          return this;
        }
        if (_isString(child)) {
          return this.addLabel(child, position);
        }
        if (_isFunction(child)) {
          child = Tween.delayedCall(0, child);
        } else {
          return this;
        }
      }
      return this !== child ? _addToTimeline(this, child, position) : this;
    };
    _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {
      if (nested === void 0) {
        nested = true;
      }
      if (tweens === void 0) {
        tweens = true;
      }
      if (timelines === void 0) {
        timelines = true;
      }
      if (ignoreBeforeTime === void 0) {
        ignoreBeforeTime = -_bigNum;
      }
      var a = [], child = this._first;
      while (child) {
        if (child._start >= ignoreBeforeTime) {
          if (child instanceof Tween) {
            tweens && a.push(child);
          } else {
            timelines && a.push(child);
            nested && a.push.apply(a, child.getChildren(true, tweens, timelines));
          }
        }
        child = child._next;
      }
      return a;
    };
    _proto2.getById = function getById2(id) {
      var animations = this.getChildren(1, 1, 1), i = animations.length;
      while (i--) {
        if (animations[i].vars.id === id) {
          return animations[i];
        }
      }
    };
    _proto2.remove = function remove(child) {
      if (_isString(child)) {
        return this.removeLabel(child);
      }
      if (_isFunction(child)) {
        return this.killTweensOf(child);
      }
      _removeLinkedListItem(this, child);
      if (child === this._recent) {
        this._recent = this._last;
      }
      return _uncache(this);
    };
    _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {
      if (!arguments.length) {
        return this._tTime;
      }
      this._forcing = 1;
      if (!this._dp && this._ts) {
        this._start = _round(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));
      }
      _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);
      this._forcing = 0;
      return this;
    };
    _proto2.addLabel = function addLabel(label, position) {
      this.labels[label] = _parsePosition(this, position);
      return this;
    };
    _proto2.removeLabel = function removeLabel(label) {
      delete this.labels[label];
      return this;
    };
    _proto2.addPause = function addPause(position, callback2, params) {
      var t = Tween.delayedCall(0, callback2 || _emptyFunc, params);
      t.data = "isPause";
      this._hasPause = 1;
      return _addToTimeline(this, t, _parsePosition(this, position));
    };
    _proto2.removePause = function removePause(position) {
      var child = this._first;
      position = _parsePosition(this, position);
      while (child) {
        if (child._start === position && child.data === "isPause") {
          _removeFromParent(child);
        }
        child = child._next;
      }
    };
    _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {
      var tweens = this.getTweensOf(targets, onlyActive), i = tweens.length;
      while (i--) {
        _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);
      }
      return this;
    };
    _proto2.getTweensOf = function getTweensOf2(targets, onlyActive) {
      var a = [], parsedTargets = toArray(targets), child = this._first, isGlobalTime = _isNumber(onlyActive), children;
      while (child) {
        if (child instanceof Tween) {
          if (_arrayContainsAny(child._targets, parsedTargets) && (isGlobalTime ? (!_overwritingTween || child._initted && child._ts) && child.globalTime(0) <= onlyActive && child.globalTime(child.totalDuration()) > onlyActive : !onlyActive || child.isActive())) {
            a.push(child);
          }
        } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {
          a.push.apply(a, children);
        }
        child = child._next;
      }
      return a;
    };
    _proto2.tweenTo = function tweenTo(position, vars) {
      vars = vars || {};
      var tl = this, endTime = _parsePosition(tl, position), _vars = vars, startAt = _vars.startAt, _onStart = _vars.onStart, onStartParams = _vars.onStartParams, tween = Tween.to(tl, _setDefaults(vars, {
        ease: "none",
        lazy: false,
        time: endTime,
        overwrite: "auto",
        duration: vars.duration || Math.abs((endTime - (startAt && "time" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,
        onStart: function onStart() {
          tl.pause();
          var duration = vars.duration || Math.abs((endTime - tl._time) / tl.timeScale());
          tween._dur !== duration && _setDuration(tween, duration, 0, 1).render(tween._time, true, true);
          _onStart && _onStart.apply(tween, onStartParams || []);
        }
      }));
      return tween;
    };
    _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {
      return this.tweenTo(toPosition, _setDefaults({
        startAt: {
          time: _parsePosition(this, fromPosition)
        }
      }, vars));
    };
    _proto2.recent = function recent() {
      return this._recent;
    };
    _proto2.nextLabel = function nextLabel(afterTime) {
      if (afterTime === void 0) {
        afterTime = this._time;
      }
      return _getLabelInDirection(this, _parsePosition(this, afterTime));
    };
    _proto2.previousLabel = function previousLabel(beforeTime) {
      if (beforeTime === void 0) {
        beforeTime = this._time;
      }
      return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);
    };
    _proto2.currentLabel = function currentLabel(value) {
      return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);
    };
    _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {
      if (ignoreBeforeTime === void 0) {
        ignoreBeforeTime = 0;
      }
      var child = this._first, labels = this.labels, p;
      while (child) {
        if (child._start >= ignoreBeforeTime) {
          child._start += amount;
          child._end += amount;
        }
        child = child._next;
      }
      if (adjustLabels) {
        for (p in labels) {
          if (labels[p] >= ignoreBeforeTime) {
            labels[p] += amount;
          }
        }
      }
      return _uncache(this);
    };
    _proto2.invalidate = function invalidate() {
      var child = this._first;
      this._lock = 0;
      while (child) {
        child.invalidate();
        child = child._next;
      }
      return _Animation.prototype.invalidate.call(this);
    };
    _proto2.clear = function clear(includeLabels) {
      if (includeLabels === void 0) {
        includeLabels = true;
      }
      var child = this._first, next;
      while (child) {
        next = child._next;
        this.remove(child);
        child = next;
      }
      this._time = this._tTime = this._pTime = 0;
      includeLabels && (this.labels = {});
      return _uncache(this);
    };
    _proto2.totalDuration = function totalDuration(value) {
      var max = 0, self = this, child = self._last, prevStart = _bigNum, prev, start, parent;
      if (arguments.length) {
        return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));
      }
      if (self._dirty) {
        parent = self.parent;
        while (child) {
          prev = child._prev;
          child._dirty && child.totalDuration();
          start = child._start;
          if (start > prevStart && self._sort && child._ts && !self._lock) {
            self._lock = 1;
            _addToTimeline(self, child, start - child._delay, 1)._lock = 0;
          } else {
            prevStart = start;
          }
          if (start < 0 && child._ts) {
            max -= start;
            if (!parent && !self._dp || parent && parent.smoothChildTiming) {
              self._start += start / self._ts;
              self._time -= start;
              self._tTime -= start;
            }
            self.shiftChildren(-start, false, -Infinity);
            prevStart = 0;
          }
          child._end > max && child._ts && (max = child._end);
          child = prev;
        }
        _setDuration(self, self === _globalTimeline && self._time > max ? self._time : max, 1, 1);
        self._dirty = 0;
      }
      return self._tDur;
    };
    Timeline2.updateRoot = function updateRoot(time) {
      if (_globalTimeline._ts) {
        _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));
        _lastRenderedFrame = _ticker.frame;
      }
      if (_ticker.frame >= _nextGCFrame) {
        _nextGCFrame += _config.autoSleep || 120;
        var child = _globalTimeline._first;
        if (!child || !child._ts) {
          if (_config.autoSleep && _ticker._listeners.length < 2) {
            while (child && !child._ts) {
              child = child._next;
            }
            child || _ticker.sleep();
          }
        }
      }
    };
    return Timeline2;
  }(Animation);
  _setDefaults(Timeline.prototype, {
    _lock: 0,
    _hasPause: 0,
    _forcing: 0
  });
  var _addComplexStringPropTween = function _addComplexStringPropTween2(target, prop2, start, end, setter, stringFilter, funcParam) {
    var pt = new PropTween(this._pt, target, prop2, 0, 1, _renderComplexString, null, setter), index = 0, matchIndex = 0, result, startNums, color, endNum, chunk, startNum, hasRandom, a;
    pt.b = start;
    pt.e = end;
    start += "";
    end += "";
    if (hasRandom = ~end.indexOf("random(")) {
      end = _replaceRandom(end);
    }
    if (stringFilter) {
      a = [start, end];
      stringFilter(a, target, prop2);
      start = a[0];
      end = a[1];
    }
    startNums = start.match(_complexStringNumExp) || [];
    while (result = _complexStringNumExp.exec(end)) {
      endNum = result[0];
      chunk = end.substring(index, result.index);
      if (color) {
        color = (color + 1) % 5;
      } else if (chunk.substr(-5) === "rgba(") {
        color = 1;
      }
      if (endNum !== startNums[matchIndex++]) {
        startNum = parseFloat(startNums[matchIndex - 1]) || 0;
        pt._pt = {
          _next: pt._pt,
          p: chunk || matchIndex === 1 ? chunk : ",",
          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.
          s: startNum,
          c: endNum.charAt(1) === "=" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === "-" ? -1 : 1) : parseFloat(endNum) - startNum,
          m: color && color < 4 ? Math.round : 0
        };
        index = _complexStringNumExp.lastIndex;
      }
    }
    pt.c = index < end.length ? end.substring(index, end.length) : "";
    pt.fp = funcParam;
    if (_relExp.test(end) || hasRandom) {
      pt.e = 0;
    }
    this._pt = pt;
    return pt;
  };
  var _addPropTween = function _addPropTween2(target, prop2, start, end, index, targets, modifier, stringFilter, funcParam) {
    _isFunction(end) && (end = end(index || 0, target, targets));
    var currentValue = target[prop2], parsedStart = start !== "get" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop2.indexOf("set") || !_isFunction(target["get" + prop2.substr(3)]) ? prop2 : "get" + prop2.substr(3)](funcParam) : target[prop2](), setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc, pt;
    if (_isString(end)) {
      if (~end.indexOf("random(")) {
        end = _replaceRandom(end);
      }
      if (end.charAt(1) === "=") {
        end = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === "-" ? -1 : 1) + (getUnit(parsedStart) || 0);
      }
    }
    if (parsedStart !== end) {
      if (!isNaN(parsedStart * end)) {
        pt = new PropTween(this._pt, target, prop2, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === "boolean" ? _renderBoolean : _renderPlain, 0, setter);
        funcParam && (pt.fp = funcParam);
        modifier && pt.modifier(modifier, this, target);
        return this._pt = pt;
      }
      !currentValue && !(prop2 in target) && _missingPlugin(prop2, end);
      return _addComplexStringPropTween.call(this, target, prop2, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);
    }
  };
  var _processVars = function _processVars2(vars, index, target, targets, tween) {
    _isFunction(vars) && (vars = _parseFuncOrString(vars, tween, index, target, targets));
    if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars) || _isTypedArray(vars)) {
      return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;
    }
    var copy = {}, p;
    for (p in vars) {
      copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);
    }
    return copy;
  };
  var _checkPlugin = function _checkPlugin2(property, vars, tween, index, target, targets) {
    var plugin, pt, ptLookup, i;
    if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {
      tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);
      if (tween !== _quickTween) {
        ptLookup = tween._ptLookup[tween._targets.indexOf(target)];
        i = plugin._props.length;
        while (i--) {
          ptLookup[plugin._props[i]] = pt;
        }
      }
    }
    return plugin;
  };
  var _overwritingTween;
  var _initTween = function _initTween2(tween, time) {
    var vars = tween.vars, ease = vars.ease, startAt = vars.startAt, immediateRender = vars.immediateRender, lazy = vars.lazy, onUpdate = vars.onUpdate, onUpdateParams = vars.onUpdateParams, callbackScope = vars.callbackScope, runBackwards = vars.runBackwards, yoyoEase = vars.yoyoEase, keyframes = vars.keyframes, autoRevert = vars.autoRevert, dur = tween._dur, prevStartAt = tween._startAt, targets = tween._targets, parent = tween.parent, fullTargets = parent && parent.data === "nested" ? parent.parent._targets : targets, autoOverwrite = tween._overwrite === "auto", tl = tween.timeline, cleanVars, i, p, pt, target, hasPriority, gsData, harness, plugin, ptLookup, index, harnessVars, overwritten;
    tl && (!keyframes || !ease) && (ease = "none");
    tween._ease = _parseEase(ease, _defaults.ease);
    tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;
    if (yoyoEase && tween._yoyo && !tween._repeat) {
      yoyoEase = tween._yEase;
      tween._yEase = tween._ease;
      tween._ease = yoyoEase;
    }
    if (!tl) {
      harness = targets[0] ? _getCache(targets[0]).harness : 0;
      harnessVars = harness && vars[harness.prop];
      cleanVars = _copyExcluding(vars, _reservedProps);
      prevStartAt && prevStartAt.render(-1, true).kill();
      if (startAt) {
        _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({
          data: "isStart",
          overwrite: false,
          parent,
          immediateRender: true,
          lazy: _isNotFalse(lazy),
          startAt: null,
          delay: 0,
          onUpdate,
          onUpdateParams,
          callbackScope,
          stagger: 0
        }, startAt)));
        if (immediateRender) {
          if (time > 0) {
            autoRevert || (tween._startAt = 0);
          } else if (dur && !(time < 0 && prevStartAt)) {
            time && (tween._zTime = time);
            return;
          }
        }
      } else if (runBackwards && dur) {
        if (prevStartAt) {
          !autoRevert && (tween._startAt = 0);
        } else {
          time && (immediateRender = false);
          p = _setDefaults({
            overwrite: false,
            data: "isFromStart",
            //we tag the tween with as "isFromStart" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a "from()" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:"height", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.
            lazy: immediateRender && _isNotFalse(lazy),
            immediateRender,
            //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)
            stagger: 0,
            parent
            //ensures that nested tweens that had a stagger are handled properly, like gsap.from(".class", {y:gsap.utils.wrap([-100,100])})
          }, cleanVars);
          harnessVars && (p[harness.prop] = harnessVars);
          _removeFromParent(tween._startAt = Tween.set(targets, p));
          if (!immediateRender) {
            _initTween2(tween._startAt, _tinyNum);
          } else if (!time) {
            return;
          }
        }
      }
      tween._pt = 0;
      lazy = dur && _isNotFalse(lazy) || lazy && !dur;
      for (i = 0; i < targets.length; i++) {
        target = targets[i];
        gsData = target._gsap || _harness(targets)[i]._gsap;
        tween._ptLookup[i] = ptLookup = {};
        _lazyLookup[gsData.id] && _lazyTweens.length && _lazyRender();
        index = fullTargets === targets ? i : fullTargets.indexOf(target);
        if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {
          tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);
          plugin._props.forEach(function(name) {
            ptLookup[name] = pt;
          });
          plugin.priority && (hasPriority = 1);
        }
        if (!harness || harnessVars) {
          for (p in cleanVars) {
            if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {
              plugin.priority && (hasPriority = 1);
            } else {
              ptLookup[p] = pt = _addPropTween.call(tween, target, p, "get", cleanVars[p], index, fullTargets, 0, vars.stringFilter);
            }
          }
        }
        tween._op && tween._op[i] && tween.kill(target, tween._op[i]);
        if (autoOverwrite && tween._pt) {
          _overwritingTween = tween;
          _globalTimeline.killTweensOf(target, ptLookup, tween.globalTime(0));
          overwritten = !tween.parent;
          _overwritingTween = 0;
        }
        tween._pt && lazy && (_lazyLookup[gsData.id] = 1);
      }
      hasPriority && _sortPropTweensByPriority(tween);
      tween._onInit && tween._onInit(tween);
    }
    tween._from = !tl && !!vars.runBackwards;
    tween._onUpdate = onUpdate;
    tween._initted = (!tween._op || tween._pt) && !overwritten;
  };
  var _addAliasesToVars = function _addAliasesToVars2(targets, vars) {
    var harness = targets[0] ? _getCache(targets[0]).harness : 0, propertyAliases = harness && harness.aliases, copy, p, i, aliases;
    if (!propertyAliases) {
      return vars;
    }
    copy = _merge({}, vars);
    for (p in propertyAliases) {
      if (p in copy) {
        aliases = propertyAliases[p].split(",");
        i = aliases.length;
        while (i--) {
          copy[aliases[i]] = copy[p];
        }
      }
    }
    return copy;
  };
  var _parseFuncOrString = function _parseFuncOrString2(value, tween, i, target, targets) {
    return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf("random(") ? _replaceRandom(value) : value;
  };
  var _staggerTweenProps = _callbackNames + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase";
  var _staggerPropsToSkip = (_staggerTweenProps + ",id,stagger,delay,duration,paused,scrollTrigger").split(",");
  var Tween = /* @__PURE__ */ function(_Animation2) {
    _inheritsLoose(Tween2, _Animation2);
    function Tween2(targets, vars, time, skipInherit) {
      var _this3;
      if (typeof vars === "number") {
        time.duration = vars;
        vars = time;
        time = null;
      }
      _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars), time) || this;
      var _this3$vars = _this3.vars, duration = _this3$vars.duration, delay = _this3$vars.delay, immediateRender = _this3$vars.immediateRender, stagger = _this3$vars.stagger, overwrite = _this3$vars.overwrite, keyframes = _this3$vars.keyframes, defaults2 = _this3$vars.defaults, scrollTrigger = _this3$vars.scrollTrigger, yoyoEase = _this3$vars.yoyoEase, parent = _this3.parent, parsedTargets = (_isArray(targets) || _isTypedArray(targets) ? _isNumber(targets[0]) : "length" in vars) ? [targets] : toArray(targets), tl, i, copy, l, p, curTarget, staggerFunc, staggerVarsToMerge;
      _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn("GSAP target " + targets + " not found. https://greensock.com", !_config.nullTargetWarn) || [];
      _this3._ptLookup = [];
      _this3._overwrite = overwrite;
      if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {
        vars = _this3.vars;
        tl = _this3.timeline = new Timeline({
          data: "nested",
          defaults: defaults2 || {}
        });
        tl.kill();
        tl.parent = _assertThisInitialized(_this3);
        if (keyframes) {
          _setDefaults(tl.vars.defaults, {
            ease: "none"
          });
          keyframes.forEach(function(frame) {
            return tl.to(parsedTargets, frame, ">");
          });
        } else {
          l = parsedTargets.length;
          staggerFunc = stagger ? distribute(stagger) : _emptyFunc;
          if (_isObject(stagger)) {
            for (p in stagger) {
              if (~_staggerTweenProps.indexOf(p)) {
                staggerVarsToMerge || (staggerVarsToMerge = {});
                staggerVarsToMerge[p] = stagger[p];
              }
            }
          }
          for (i = 0; i < l; i++) {
            copy = {};
            for (p in vars) {
              if (_staggerPropsToSkip.indexOf(p) < 0) {
                copy[p] = vars[p];
              }
            }
            copy.stagger = 0;
            yoyoEase && (copy.yoyoEase = yoyoEase);
            staggerVarsToMerge && _merge(copy, staggerVarsToMerge);
            curTarget = parsedTargets[i];
            copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);
            copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;
            if (!stagger && l === 1 && copy.delay) {
              _this3._delay = delay = copy.delay;
              _this3._start += delay;
              copy.delay = 0;
            }
            tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));
          }
          tl.duration() ? duration = delay = 0 : _this3.timeline = 0;
        }
        duration || _this3.duration(duration = tl.duration());
      } else {
        _this3.timeline = 0;
      }
      if (overwrite === true) {
        _overwritingTween = _assertThisInitialized(_this3);
        _globalTimeline.killTweensOf(parsedTargets);
        _overwritingTween = 0;
      }
      parent && _postAddChecks(parent, _assertThisInitialized(_this3));
      if (immediateRender || !duration && !keyframes && _this3._start === _round(parent._time) && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== "nested") {
        _this3._tTime = -_tinyNum;
        _this3.render(Math.max(0, -delay));
      }
      scrollTrigger && _scrollTrigger(_assertThisInitialized(_this3), scrollTrigger);
      return _this3;
    }
    var _proto3 = Tween2.prototype;
    _proto3.render = function render(totalTime, suppressEvents, force) {
      var prevTime = this._time, tDur = this._tDur, dur = this._dur, tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime, time, pt, iteration, cycleDuration, prevIteration, isYoyo, ratio, timeline2, yoyoEase;
      if (!dur) {
        _renderZeroDurationTween(this, totalTime, suppressEvents, force);
      } else if (tTime !== this._tTime || !totalTime || force || this._startAt && this._zTime < 0 !== totalTime < 0) {
        time = tTime;
        timeline2 = this.timeline;
        if (this._repeat) {
          cycleDuration = dur + this._rDelay;
          time = _round(tTime % cycleDuration);
          if (tTime === tDur) {
            iteration = this._repeat;
            time = dur;
          } else {
            iteration = ~~(tTime / cycleDuration);
            if (iteration && iteration === tTime / cycleDuration) {
              time = dur;
              iteration--;
            }
            time > dur && (time = dur);
          }
          isYoyo = this._yoyo && iteration & 1;
          if (isYoyo) {
            yoyoEase = this._yEase;
            time = dur - time;
          }
          prevIteration = _animationCycle(this._tTime, cycleDuration);
          if (time === prevTime && !force && this._initted) {
            return this;
          }
          if (iteration !== prevIteration) {
            timeline2 && this._yEase && _propagateYoyoEase(timeline2, isYoyo);
            if (this.vars.repeatRefresh && !isYoyo && !this._lock) {
              this._lock = force = 1;
              this.render(_round(cycleDuration * iteration), true).invalidate()._lock = 0;
            }
          }
        }
        if (!this._initted) {
          if (_attemptInitTween(this, totalTime < 0 ? totalTime : time, force, suppressEvents)) {
            this._tTime = 0;
            return this;
          }
          if (dur !== this._dur) {
            return this.render(totalTime, suppressEvents, force);
          }
        }
        this._tTime = tTime;
        this._time = time;
        if (!this._act && this._ts) {
          this._act = 1;
          this._lazy = 0;
        }
        this.ratio = ratio = (yoyoEase || this._ease)(time / dur);
        if (this._from) {
          this.ratio = ratio = 1 - ratio;
        }
        time && !prevTime && !suppressEvents && _callback(this, "onStart");
        pt = this._pt;
        while (pt) {
          pt.r(ratio, pt.d);
          pt = pt._next;
        }
        timeline2 && timeline2.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline2._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);
        if (this._onUpdate && !suppressEvents) {
          totalTime < 0 && this._startAt && this._startAt.render(totalTime, true, force);
          _callback(this, "onUpdate");
        }
        this._repeat && iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent && _callback(this, "onRepeat");
        if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {
          totalTime < 0 && this._startAt && !this._onUpdate && this._startAt.render(totalTime, true, true);
          (totalTime || !dur) && (tTime === this._tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1);
          if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {
            _callback(this, tTime === tDur ? "onComplete" : "onReverseComplete", true);
            this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();
          }
        }
      }
      return this;
    };
    _proto3.targets = function targets() {
      return this._targets;
    };
    _proto3.invalidate = function invalidate() {
      this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0;
      this._ptLookup = [];
      this.timeline && this.timeline.invalidate();
      return _Animation2.prototype.invalidate.call(this);
    };
    _proto3.kill = function kill(targets, vars) {
      if (vars === void 0) {
        vars = "all";
      }
      if (!targets && (!vars || vars === "all")) {
        this._lazy = 0;
        if (this.parent) {
          return _interrupt(this);
        }
      }
      if (this.timeline) {
        var tDur = this.timeline.totalDuration();
        this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true)._first || _interrupt(this);
        this.parent && tDur !== this.timeline.totalDuration() && _setDuration(this, this._dur * this.timeline._tDur / tDur, 0, 1);
        return this;
      }
      var parsedTargets = this._targets, killingTargets = targets ? toArray(targets) : parsedTargets, propTweenLookup = this._ptLookup, firstPT = this._pt, overwrittenProps, curLookup, curOverwriteProps, props, p, pt, i;
      if ((!vars || vars === "all") && _arraysMatch(parsedTargets, killingTargets)) {
        vars === "all" && (this._pt = 0);
        return _interrupt(this);
      }
      overwrittenProps = this._op = this._op || [];
      if (vars !== "all") {
        if (_isString(vars)) {
          p = {};
          _forEachName(vars, function(name) {
            return p[name] = 1;
          });
          vars = p;
        }
        vars = _addAliasesToVars(parsedTargets, vars);
      }
      i = parsedTargets.length;
      while (i--) {
        if (~killingTargets.indexOf(parsedTargets[i])) {
          curLookup = propTweenLookup[i];
          if (vars === "all") {
            overwrittenProps[i] = vars;
            props = curLookup;
            curOverwriteProps = {};
          } else {
            curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};
            props = vars;
          }
          for (p in props) {
            pt = curLookup && curLookup[p];
            if (pt) {
              if (!("kill" in pt.d) || pt.d.kill(p) === true) {
                _removeLinkedListItem(this, pt, "_pt");
              }
              delete curLookup[p];
            }
            if (curOverwriteProps !== "all") {
              curOverwriteProps[p] = 1;
            }
          }
        }
      }
      this._initted && !this._pt && firstPT && _interrupt(this);
      return this;
    };
    Tween2.to = function to(targets, vars) {
      return new Tween2(targets, vars, arguments[2]);
    };
    Tween2.from = function from(targets, vars) {
      return new Tween2(targets, _parseVars(arguments, 1));
    };
    Tween2.delayedCall = function delayedCall(delay, callback2, params, scope) {
      return new Tween2(callback2, 0, {
        immediateRender: false,
        lazy: false,
        overwrite: false,
        delay,
        onComplete: callback2,
        onReverseComplete: callback2,
        onCompleteParams: params,
        onReverseCompleteParams: params,
        callbackScope: scope
      });
    };
    Tween2.fromTo = function fromTo(targets, fromVars, toVars) {
      return new Tween2(targets, _parseVars(arguments, 2));
    };
    Tween2.set = function set(targets, vars) {
      vars.duration = 0;
      vars.repeatDelay || (vars.repeat = 0);
      return new Tween2(targets, vars);
    };
    Tween2.killTweensOf = function killTweensOf(targets, props, onlyActive) {
      return _globalTimeline.killTweensOf(targets, props, onlyActive);
    };
    return Tween2;
  }(Animation);
  _setDefaults(Tween.prototype, {
    _targets: [],
    _lazy: 0,
    _startAt: 0,
    _op: 0,
    _onInit: 0
  });
  _forEachName("staggerTo,staggerFrom,staggerFromTo", function(name) {
    Tween[name] = function() {
      var tl = new Timeline(), params = _slice.call(arguments, 0);
      params.splice(name === "staggerFromTo" ? 5 : 4, 0, 0);
      return tl[name].apply(tl, params);
    };
  });
  var _setterPlain = function _setterPlain2(target, property, value) {
    return target[property] = value;
  };
  var _setterFunc = function _setterFunc2(target, property, value) {
    return target[property](value);
  };
  var _setterFuncWithParam = function _setterFuncWithParam2(target, property, value, data) {
    return target[property](data.fp, value);
  };
  var _setterAttribute = function _setterAttribute2(target, property, value) {
    return target.setAttribute(property, value);
  };
  var _getSetter = function _getSetter2(target, property) {
    return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;
  };
  var _renderPlain = function _renderPlain2(ratio, data) {
    return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 1e4) / 1e4, data);
  };
  var _renderBoolean = function _renderBoolean2(ratio, data) {
    return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);
  };
  var _renderComplexString = function _renderComplexString2(ratio, data) {
    var pt = data._pt, s = "";
    if (!ratio && data.b) {
      s = data.b;
    } else if (ratio === 1 && data.e) {
      s = data.e;
    } else {
      while (pt) {
        s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 1e4) / 1e4) + s;
        pt = pt._next;
      }
      s += data.c;
    }
    data.set(data.t, data.p, s, data);
  };
  var _renderPropTweens = function _renderPropTweens2(ratio, data) {
    var pt = data._pt;
    while (pt) {
      pt.r(ratio, pt.d);
      pt = pt._next;
    }
  };
  var _addPluginModifier = function _addPluginModifier2(modifier, tween, target, property) {
    var pt = this._pt, next;
    while (pt) {
      next = pt._next;
      pt.p === property && pt.modifier(modifier, tween, target);
      pt = next;
    }
  };
  var _killPropTweensOf = function _killPropTweensOf2(property) {
    var pt = this._pt, hasNonDependentRemaining, next;
    while (pt) {
      next = pt._next;
      if (pt.p === property && !pt.op || pt.op === property) {
        _removeLinkedListItem(this, pt, "_pt");
      } else if (!pt.dep) {
        hasNonDependentRemaining = 1;
      }
      pt = next;
    }
    return !hasNonDependentRemaining;
  };
  var _setterWithModifier = function _setterWithModifier2(target, property, value, data) {
    data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);
  };
  var _sortPropTweensByPriority = function _sortPropTweensByPriority2(parent) {
    var pt = parent._pt, next, pt2, first, last;
    while (pt) {
      next = pt._next;
      pt2 = first;
      while (pt2 && pt2.pr > pt.pr) {
        pt2 = pt2._next;
      }
      if (pt._prev = pt2 ? pt2._prev : last) {
        pt._prev._next = pt;
      } else {
        first = pt;
      }
      if (pt._next = pt2) {
        pt2._prev = pt;
      } else {
        last = pt;
      }
      pt = next;
    }
    parent._pt = first;
  };
  var PropTween = /* @__PURE__ */ function() {
    function PropTween2(next, target, prop2, start, change, renderer, data, setter, priority) {
      this.t = target;
      this.s = start;
      this.c = change;
      this.p = prop2;
      this.r = renderer || _renderPlain;
      this.d = data || this;
      this.set = setter || _setterPlain;
      this.pr = priority || 0;
      this._next = next;
      if (next) {
        next._prev = this;
      }
    }
    var _proto4 = PropTween2.prototype;
    _proto4.modifier = function modifier(func, tween, target) {
      this.mSet = this.mSet || this.set;
      this.set = _setterWithModifier;
      this.m = func;
      this.mt = target;
      this.tween = tween;
    };
    return PropTween2;
  }();
  _forEachName(_callbackNames + "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger", function(name) {
    return _reservedProps[name] = 1;
  });
  _globals.TweenMax = _globals.TweenLite = Tween;
  _globals.TimelineLite = _globals.TimelineMax = Timeline;
  _globalTimeline = new Timeline({
    sortChildren: false,
    defaults: _defaults,
    autoRemoveChildren: true,
    id: "root",
    smoothChildTiming: true
  });
  _config.stringFilter = _colorStringFilter;
  var _gsap = {
    registerPlugin: function registerPlugin() {
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }
      args.forEach(function(config3) {
        return _createPlugin(config3);
      });
    },
    timeline: function timeline(vars) {
      return new Timeline(vars);
    },
    getTweensOf: function getTweensOf(targets, onlyActive) {
      return _globalTimeline.getTweensOf(targets, onlyActive);
    },
    getProperty: function getProperty(target, property, unit, uncache) {
      _isString(target) && (target = toArray(target)[0]);
      var getter = _getCache(target || {}).get, format = unit ? _passThrough : _numericIfPossible;
      unit === "native" && (unit = "");
      return !target ? target : !property ? function(property2, unit2, uncache2) {
        return format((_plugins[property2] && _plugins[property2].get || getter)(target, property2, unit2, uncache2));
      } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));
    },
    quickSetter: function quickSetter(target, property, unit) {
      target = toArray(target);
      if (target.length > 1) {
        var setters = target.map(function(t) {
          return gsap.quickSetter(t, property, unit);
        }), l = setters.length;
        return function(value) {
          var i = l;
          while (i--) {
            setters[i](value);
          }
        };
      }
      target = target[0] || {};
      var Plugin = _plugins[property], cache = _getCache(target), p = cache.harness && (cache.harness.aliases || {})[property] || property, setter = Plugin ? function(value) {
        var p2 = new Plugin();
        _quickTween._pt = 0;
        p2.init(target, unit ? value + unit : value, _quickTween, 0, [target]);
        p2.render(1, p2);
        _quickTween._pt && _renderPropTweens(1, _quickTween);
      } : cache.set(target, p);
      return Plugin ? setter : function(value) {
        return setter(target, p, unit ? value + unit : value, cache, 1);
      };
    },
    isTweening: function isTweening(targets) {
      return _globalTimeline.getTweensOf(targets, true).length > 0;
    },
    defaults: function defaults(value) {
      value && value.ease && (value.ease = _parseEase(value.ease, _defaults.ease));
      return _mergeDeep(_defaults, value || {});
    },
    config: function config2(value) {
      return _mergeDeep(_config, value || {});
    },
    registerEffect: function registerEffect(_ref) {
      var name = _ref.name, effect = _ref.effect, plugins = _ref.plugins, defaults2 = _ref.defaults, extendTimeline = _ref.extendTimeline;
      (plugins || "").split(",").forEach(function(pluginName) {
        return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + " effect requires " + pluginName + " plugin.");
      });
      _effects[name] = function(targets, vars, tl) {
        return effect(toArray(targets), _setDefaults(vars || {}, defaults2), tl);
      };
      if (extendTimeline) {
        Timeline.prototype[name] = function(targets, vars, position) {
          return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);
        };
      }
    },
    registerEase: function registerEase(name, ease) {
      _easeMap[name] = _parseEase(ease);
    },
    parseEase: function parseEase(ease, defaultEase) {
      return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;
    },
    getById: function getById(id) {
      return _globalTimeline.getById(id);
    },
    exportRoot: function exportRoot(vars, includeDelayedCalls) {
      if (vars === void 0) {
        vars = {};
      }
      var tl = new Timeline(vars), child, next;
      tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);
      _globalTimeline.remove(tl);
      tl._dp = 0;
      tl._time = tl._tTime = _globalTimeline._time;
      child = _globalTimeline._first;
      while (child) {
        next = child._next;
        if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {
          _addToTimeline(tl, child, child._start - child._delay);
        }
        child = next;
      }
      _addToTimeline(_globalTimeline, tl, 0);
      return tl;
    },
    utils: {
      wrap,
      wrapYoyo,
      distribute,
      random,
      snap,
      normalize,
      getUnit,
      clamp,
      splitColor,
      toArray,
      mapRange,
      pipe,
      unitize,
      interpolate,
      shuffle
    },
    install: _install,
    effects: _effects,
    ticker: _ticker,
    updateRoot: Timeline.updateRoot,
    plugins: _plugins,
    globalTimeline: _globalTimeline,
    core: {
      PropTween,
      globals: _addGlobal,
      Tween,
      Timeline,
      Animation,
      getCache: _getCache,
      _removeLinkedListItem
    }
  };
  _forEachName("to,from,fromTo,delayedCall,set,killTweensOf", function(name) {
    return _gsap[name] = Tween[name];
  });
  _ticker.add(Timeline.updateRoot);
  _quickTween = _gsap.to({}, {
    duration: 0
  });
  var _getPluginPropTween = function _getPluginPropTween2(plugin, prop2) {
    var pt = plugin._pt;
    while (pt && pt.p !== prop2 && pt.op !== prop2 && pt.fp !== prop2) {
      pt = pt._next;
    }
    return pt;
  };
  var _addModifiers = function _addModifiers2(tween, modifiers) {
    var targets = tween._targets, p, i, pt;
    for (p in modifiers) {
      i = targets.length;
      while (i--) {
        pt = tween._ptLookup[i][p];
        if (pt && (pt = pt.d)) {
          if (pt._pt) {
            pt = _getPluginPropTween(pt, p);
          }
          pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);
        }
      }
    }
  };
  var _buildModifierPlugin = function _buildModifierPlugin2(name, modifier) {
    return {
      name,
      rawVars: 1,
      //don't pre-process function-based values or "random()" strings.
      init: function init5(target, vars, tween) {
        tween._onInit = function(tween2) {
          var temp, p;
          if (_isString(vars)) {
            temp = {};
            _forEachName(vars, function(name2) {
              return temp[name2] = 1;
            });
            vars = temp;
          }
          if (modifier) {
            temp = {};
            for (p in vars) {
              temp[p] = modifier(vars[p]);
            }
            vars = temp;
          }
          _addModifiers(tween2, vars);
        };
      }
    };
  };
  var gsap = _gsap.registerPlugin({
    name: "attr",
    init: function init(target, vars, tween, index, targets) {
      var p, pt;
      for (p in vars) {
        pt = this.add(target, "setAttribute", (target.getAttribute(p) || 0) + "", vars[p], index, targets, 0, 0, p);
        pt && (pt.op = p);
        this._props.push(p);
      }
    }
  }, {
    name: "endArray",
    init: function init2(target, value) {
      var i = value.length;
      while (i--) {
        this.add(target, i, target[i] || 0, value[i]);
      }
    }
  }, _buildModifierPlugin("roundProps", _roundModifier), _buildModifierPlugin("modifiers"), _buildModifierPlugin("snap", snap)) || _gsap;
  Tween.version = Timeline.version = gsap.version = "3.5.1";
  _coreReady = 1;
  if (_windowExists()) {
    _wake();
  }
  var Power0 = _easeMap.Power0;
  var Power1 = _easeMap.Power1;
  var Power2 = _easeMap.Power2;
  var Power3 = _easeMap.Power3;
  var Power4 = _easeMap.Power4;
  var Linear = _easeMap.Linear;
  var Quad = _easeMap.Quad;
  var Cubic = _easeMap.Cubic;
  var Quart = _easeMap.Quart;
  var Quint = _easeMap.Quint;
  var Strong = _easeMap.Strong;
  var Elastic = _easeMap.Elastic;
  var Back = _easeMap.Back;
  var SteppedEase = _easeMap.SteppedEase;
  var Bounce = _easeMap.Bounce;
  var Sine = _easeMap.Sine;
  var Expo = _easeMap.Expo;
  var Circ = _easeMap.Circ;

  // node_modules/gsap/CSSPlugin.js
  var _win2;
  var _doc2;
  var _docElement;
  var _pluginInitted;
  var _tempDiv;
  var _tempDivStyler;
  var _recentSetterPlugin;
  var _windowExists3 = function _windowExists4() {
    return typeof window !== "undefined";
  };
  var _transformProps = {};
  var _RAD2DEG = 180 / Math.PI;
  var _DEG2RAD = Math.PI / 180;
  var _atan2 = Math.atan2;
  var _bigNum2 = 1e8;
  var _capsExp = /([A-Z])/g;
  var _horizontalExp = /(?:left|right|width|margin|padding|x)/i;
  var _complexExp = /[\s,\(]\S/;
  var _propertyAliases = {
    autoAlpha: "opacity,visibility",
    scale: "scaleX,scaleY",
    alpha: "opacity"
  };
  var _renderCSSProp = function _renderCSSProp2(ratio, data) {
    return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 1e4) / 1e4 + data.u, data);
  };
  var _renderPropWithEnd = function _renderPropWithEnd2(ratio, data) {
    return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 1e4) / 1e4 + data.u, data);
  };
  var _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning2(ratio, data) {
    return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 1e4) / 1e4 + data.u : data.b, data);
  };
  var _renderRoundedCSSProp = function _renderRoundedCSSProp2(ratio, data) {
    var value = data.s + data.c * ratio;
    data.set(data.t, data.p, ~~(value + (value < 0 ? -0.5 : 0.5)) + data.u, data);
  };
  var _renderNonTweeningValue = function _renderNonTweeningValue2(ratio, data) {
    return data.set(data.t, data.p, ratio ? data.e : data.b, data);
  };
  var _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd2(ratio, data) {
    return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);
  };
  var _setterCSSStyle = function _setterCSSStyle2(target, property, value) {
    return target.style[property] = value;
  };
  var _setterCSSProp = function _setterCSSProp2(target, property, value) {
    return target.style.setProperty(property, value);
  };
  var _setterTransform = function _setterTransform2(target, property, value) {
    return target._gsap[property] = value;
  };
  var _setterScale = function _setterScale2(target, property, value) {
    return target._gsap.scaleX = target._gsap.scaleY = value;
  };
  var _setterScaleWithRender = function _setterScaleWithRender2(target, property, value, data, ratio) {
    var cache = target._gsap;
    cache.scaleX = cache.scaleY = value;
    cache.renderTransform(ratio, cache);
  };
  var _setterTransformWithRender = function _setterTransformWithRender2(target, property, value, data, ratio) {
    var cache = target._gsap;
    cache[property] = value;
    cache.renderTransform(ratio, cache);
  };
  var _transformProp = "transform";
  var _transformOriginProp = _transformProp + "Origin";
  var _supports3D;
  var _createElement = function _createElement2(type, ns) {
    var e = _doc2.createElementNS ? _doc2.createElementNS((ns || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"), type) : _doc2.createElement(type);
    return e.style ? e : _doc2.createElement(type);
  };
  var _getComputedProperty = function _getComputedProperty2(target, property, skipPrefixFallback) {
    var cs = getComputedStyle(target);
    return cs[property] || cs.getPropertyValue(property.replace(_capsExp, "-$1").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty2(target, _checkPropPrefix(property) || property, 1) || "";
  };
  var _prefixes = "O,Moz,ms,Ms,Webkit".split(",");
  var _checkPropPrefix = function _checkPropPrefix2(property, element, preferPrefix) {
    var e = element || _tempDiv, s = e.style, i = 5;
    if (property in s && !preferPrefix) {
      return property;
    }
    property = property.charAt(0).toUpperCase() + property.substr(1);
    while (i-- && !(_prefixes[i] + property in s)) {
    }
    return i < 0 ? null : (i === 3 ? "ms" : i >= 0 ? _prefixes[i] : "") + property;
  };
  var _initCore = function _initCore2() {
    if (_windowExists3() && window.document) {
      _win2 = window;
      _doc2 = _win2.document;
      _docElement = _doc2.documentElement;
      _tempDiv = _createElement("div") || {
        style: {}
      };
      _tempDivStyler = _createElement("div");
      _transformProp = _checkPropPrefix(_transformProp);
      _transformOriginProp = _transformProp + "Origin";
      _tempDiv.style.cssText = "border-width:0;line-height:0;position:absolute;padding:0";
      _supports3D = !!_checkPropPrefix("perspective");
      _pluginInitted = 1;
    }
  };
  var _getBBoxHack = function _getBBoxHack2(swapIfPossible) {
    var svg2 = _createElement("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"), oldParent = this.parentNode, oldSibling = this.nextSibling, oldCSS = this.style.cssText, bbox;
    _docElement.appendChild(svg2);
    svg2.appendChild(this);
    this.style.display = "block";
    if (swapIfPossible) {
      try {
        bbox = this.getBBox();
        this._gsapBBox = this.getBBox;
        this.getBBox = _getBBoxHack2;
      } catch (e) {
      }
    } else if (this._gsapBBox) {
      bbox = this._gsapBBox();
    }
    if (oldParent) {
      if (oldSibling) {
        oldParent.insertBefore(this, oldSibling);
      } else {
        oldParent.appendChild(this);
      }
    }
    _docElement.removeChild(svg2);
    this.style.cssText = oldCSS;
    return bbox;
  };
  var _getAttributeFallbacks = function _getAttributeFallbacks2(target, attributesArray) {
    var i = attributesArray.length;
    while (i--) {
      if (target.hasAttribute(attributesArray[i])) {
        return target.getAttribute(attributesArray[i]);
      }
    }
  };
  var _getBBox = function _getBBox2(target) {
    var bounds;
    try {
      bounds = target.getBBox();
    } catch (error) {
      bounds = _getBBoxHack.call(target, true);
    }
    bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true));
    return bounds && !bounds.width && !bounds.x && !bounds.y ? {
      x: +_getAttributeFallbacks(target, ["x", "cx", "x1"]) || 0,
      y: +_getAttributeFallbacks(target, ["y", "cy", "y1"]) || 0,
      width: 0,
      height: 0
    } : bounds;
  };
  var _isSVG = function _isSVG2(e) {
    return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));
  };
  var _removeProperty = function _removeProperty2(target, property) {
    if (property) {
      var style = target.style;
      if (property in _transformProps && property !== _transformOriginProp) {
        property = _transformProp;
      }
      if (style.removeProperty) {
        if (property.substr(0, 2) === "ms" || property.substr(0, 6) === "webkit") {
          property = "-" + property;
        }
        style.removeProperty(property.replace(_capsExp, "-$1").toLowerCase());
      } else {
        style.removeAttribute(property);
      }
    }
  };
  var _addNonTweeningPT = function _addNonTweeningPT2(plugin, target, property, beginning, end, onlySetAtEnd) {
    var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);
    plugin._pt = pt;
    pt.b = beginning;
    pt.e = end;
    plugin._props.push(property);
    return pt;
  };
  var _nonConvertibleUnits = {
    deg: 1,
    rad: 1,
    turn: 1
  };
  var _convertToUnit = function _convertToUnit2(target, property, value, unit) {
    var curValue = parseFloat(value) || 0, curUnit = (value + "").trim().substr((curValue + "").length) || "px", style = _tempDiv.style, horizontal = _horizontalExp.test(property), isRootSVG = target.tagName.toLowerCase() === "svg", measureProperty = (isRootSVG ? "client" : "offset") + (horizontal ? "Width" : "Height"), amount = 100, toPixels = unit === "px", toPercent = unit === "%", px, parent, cache, isSVG;
    if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {
      return curValue;
    }
    curUnit !== "px" && !toPixels && (curValue = _convertToUnit2(target, property, value, "px"));
    isSVG = target.getCTM && _isSVG(target);
    if (toPercent && (_transformProps[property] || ~property.indexOf("adius"))) {
      return _round(curValue / (isSVG ? target.getBBox()[horizontal ? "width" : "height"] : target[measureProperty]) * amount);
    }
    style[horizontal ? "width" : "height"] = amount + (toPixels ? curUnit : unit);
    parent = ~property.indexOf("adius") || unit === "em" && target.appendChild && !isRootSVG ? target : target.parentNode;
    if (isSVG) {
      parent = (target.ownerSVGElement || {}).parentNode;
    }
    if (!parent || parent === _doc2 || !parent.appendChild) {
      parent = _doc2.body;
    }
    cache = parent._gsap;
    if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time) {
      return _round(curValue / cache.width * amount);
    } else {
      (toPercent || curUnit === "%") && (style.position = _getComputedProperty(target, "position"));
      parent === target && (style.position = "static");
      parent.appendChild(_tempDiv);
      px = _tempDiv[measureProperty];
      parent.removeChild(_tempDiv);
      style.position = "absolute";
      if (horizontal && toPercent) {
        cache = _getCache(parent);
        cache.time = _ticker.time;
        cache.width = parent[measureProperty];
      }
    }
    return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);
  };
  var _get = function _get2(target, property, unit, uncache) {
    var value;
    _pluginInitted || _initCore();
    if (property in _propertyAliases && property !== "transform") {
      property = _propertyAliases[property];
      if (~property.indexOf(",")) {
        property = property.split(",")[0];
      }
    }
    if (_transformProps[property] && property !== "transform") {
      value = _parseTransform(target, uncache);
      value = property !== "transformOrigin" ? value[property] : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + " " + value.zOrigin + "px";
    } else {
      value = target.style[property];
      if (!value || value === "auto" || uncache || ~(value + "").indexOf("calc(")) {
        value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === "opacity" ? 1 : 0);
      }
    }
    return unit && !~(value + "").indexOf(" ") ? _convertToUnit(target, property, value, unit) + unit : value;
  };
  var _tweenComplexCSSString = function _tweenComplexCSSString2(target, prop2, start, end) {
    if (!start || start === "none") {
      var p = _checkPropPrefix(prop2, target, 1), s = p && _getComputedProperty(target, p, 1);
      if (s && s !== start) {
        prop2 = p;
        start = s;
      } else if (prop2 === "borderColor") {
        start = _getComputedProperty(target, "borderTopColor");
      }
    }
    var pt = new PropTween(this._pt, target.style, prop2, 0, 1, _renderComplexString), index = 0, matchIndex = 0, a, result, startValues, startNum, color, startValue, endValue, endNum, chunk, endUnit, startUnit, relative, endValues;
    pt.b = start;
    pt.e = end;
    start += "";
    end += "";
    if (end === "auto") {
      target.style[prop2] = end;
      end = _getComputedProperty(target, prop2) || end;
      target.style[prop2] = start;
    }
    a = [start, end];
    _colorStringFilter(a);
    start = a[0];
    end = a[1];
    startValues = start.match(_numWithUnitExp) || [];
    endValues = end.match(_numWithUnitExp) || [];
    if (endValues.length) {
      while (result = _numWithUnitExp.exec(end)) {
        endValue = result[0];
        chunk = end.substring(index, result.index);
        if (color) {
          color = (color + 1) % 5;
        } else if (chunk.substr(-5) === "rgba(" || chunk.substr(-5) === "hsla(") {
          color = 1;
        }
        if (endValue !== (startValue = startValues[matchIndex++] || "")) {
          startNum = parseFloat(startValue) || 0;
          startUnit = startValue.substr((startNum + "").length);
          relative = endValue.charAt(1) === "=" ? +(endValue.charAt(0) + "1") : 0;
          if (relative) {
            endValue = endValue.substr(2);
          }
          endNum = parseFloat(endValue);
          endUnit = endValue.substr((endNum + "").length);
          index = _numWithUnitExp.lastIndex - endUnit.length;
          if (!endUnit) {
            endUnit = endUnit || _config.units[prop2] || startUnit;
            if (index === end.length) {
              end += endUnit;
              pt.e += endUnit;
            }
          }
          if (startUnit !== endUnit) {
            startNum = _convertToUnit(target, prop2, startValue, endUnit) || 0;
          }
          pt._pt = {
            _next: pt._pt,
            p: chunk || matchIndex === 1 ? chunk : ",",
            //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.
            s: startNum,
            c: relative ? relative * endNum : endNum - startNum,
            m: color && color < 4 ? Math.round : 0
          };
        }
      }
      pt.c = index < end.length ? end.substring(index, end.length) : "";
    } else {
      pt.r = prop2 === "display" && end === "none" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;
    }
    if (_relExp.test(end)) {
      pt.e = 0;
    }
    this._pt = pt;
    return pt;
  };
  var _keywordToPercent = {
    top: "0%",
    bottom: "100%",
    left: "0%",
    right: "100%",
    center: "50%"
  };
  var _convertKeywordsToPercentages = function _convertKeywordsToPercentages2(value) {
    var split = value.split(" "), x = split[0], y = split[1] || "50%";
    if (x === "top" || x === "bottom" || y === "left" || y === "right") {
      value = x;
      x = y;
      y = value;
    }
    split[0] = _keywordToPercent[x] || x;
    split[1] = _keywordToPercent[y] || y;
    return split.join(" ");
  };
  var _renderClearProps = function _renderClearProps2(ratio, data) {
    if (data.tween && data.tween._time === data.tween._dur) {
      var target = data.t, style = target.style, props = data.u, cache = target._gsap, prop2, clearTransforms, i;
      if (props === "all" || props === true) {
        style.cssText = "";
        clearTransforms = 1;
      } else {
        props = props.split(",");
        i = props.length;
        while (--i > -1) {
          prop2 = props[i];
          if (_transformProps[prop2]) {
            clearTransforms = 1;
            prop2 = prop2 === "transformOrigin" ? _transformOriginProp : _transformProp;
          }
          _removeProperty(target, prop2);
        }
      }
      if (clearTransforms) {
        _removeProperty(target, _transformProp);
        if (cache) {
          cache.svg && target.removeAttribute("transform");
          _parseTransform(target, 1);
          cache.uncache = 1;
        }
      }
    }
  };
  var _specialProps = {
    clearProps: function clearProps(plugin, target, property, endValue, tween) {
      if (tween.data !== "isFromStart") {
        var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);
        pt.u = endValue;
        pt.pr = -10;
        pt.tween = tween;
        plugin._props.push(property);
        return 1;
      }
    }
    /* className feature (about 0.4kb gzipped).
    , className(plugin, target, property, endValue, tween) {
    	let _renderClassName = (ratio, data) => {
    			data.css.render(ratio, data.css);
    			if (!ratio || ratio === 1) {
    				let inline = data.rmv,
    					target = data.t,
    					p;
    				target.setAttribute("class", ratio ? data.e : data.b);
    				for (p in inline) {
    					_removeProperty(target, p);
    				}
    			}
    		},
    		_getAllStyles = (target) => {
    			let styles = {},
    				computed = getComputedStyle(target),
    				p;
    			for (p in computed) {
    				if (isNaN(p) && p !== "cssText" && p !== "length") {
    					styles[p] = computed[p];
    				}
    			}
    			_setDefaults(styles, _parseTransform(target, 1));
    			return styles;
    		},
    		startClassList = target.getAttribute("class"),
    		style = target.style,
    		cssText = style.cssText,
    		cache = target._gsap,
    		classPT = cache.classPT,
    		inlineToRemoveAtEnd = {},
    		data = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== "=") ? endValue : startClassList.replace(new RegExp("(?:\\s|^)" + endValue.substr(2) + "(?![\\w-])"), "") + ((endValue.charAt(0) === "+") ? " " + endValue.substr(2) : "")},
    		changingVars = {},
    		startVars = _getAllStyles(target),
    		transformRelated = /(transform|perspective)/i,
    		endVars, p;
    	if (classPT) {
    		classPT.r(1, classPT.d);
    		_removeLinkedListItem(classPT.d.plugin, classPT, "_pt");
    	}
    	target.setAttribute("class", data.e);
    	endVars = _getAllStyles(target, true);
    	target.setAttribute("class", startClassList);
    	for (p in endVars) {
    		if (endVars[p] !== startVars[p] && !transformRelated.test(p)) {
    			changingVars[p] = endVars[p];
    			if (!style[p] && style[p] !== "0") {
    				inlineToRemoveAtEnd[p] = 1;
    			}
    		}
    	}
    	cache.classPT = plugin._pt = new PropTween(plugin._pt, target, "className", 0, 0, _renderClassName, data, 0, -11);
    	if (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.
    		style.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).
    	}
    	_parseTransform(target, true); //to clear the caching of transforms
    	data.css = new gsap.plugins.css();
    	data.css.init(target, changingVars, tween);
    	plugin._props.push(...data.css._props);
    	return 1;
    }
    */
  };
  var _identity2DMatrix = [1, 0, 0, 1, 0, 0];
  var _rotationalProperties = {};
  var _isNullTransform = function _isNullTransform2(value) {
    return value === "matrix(1, 0, 0, 1, 0, 0)" || value === "none" || !value;
  };
  var _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray2(target) {
    var matrixString = _getComputedProperty(target, _transformProp);
    return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);
  };
  var _getMatrix = function _getMatrix2(target, force2D) {
    var cache = target._gsap || _getCache(target), style = target.style, matrix = _getComputedTransformMatrixAsArray(target), parent, nextSibling, temp, addedToDOM;
    if (cache.svg && target.getAttribute("transform")) {
      temp = target.transform.baseVal.consolidate().matrix;
      matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];
      return matrix.join(",") === "1,0,0,1,0,0" ? _identity2DMatrix : matrix;
    } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {
      temp = style.display;
      style.display = "block";
      parent = target.parentNode;
      if (!parent || !target.offsetParent) {
        addedToDOM = 1;
        nextSibling = target.nextSibling;
        _docElement.appendChild(target);
      }
      matrix = _getComputedTransformMatrixAsArray(target);
      temp ? style.display = temp : _removeProperty(target, "display");
      if (addedToDOM) {
        nextSibling ? parent.insertBefore(target, nextSibling) : parent ? parent.appendChild(target) : _docElement.removeChild(target);
      }
    }
    return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;
  };
  var _applySVGOrigin = function _applySVGOrigin2(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {
    var cache = target._gsap, matrix = matrixArray || _getMatrix(target, true), xOriginOld = cache.xOrigin || 0, yOriginOld = cache.yOrigin || 0, xOffsetOld = cache.xOffset || 0, yOffsetOld = cache.yOffset || 0, a = matrix[0], b = matrix[1], c = matrix[2], d = matrix[3], tx = matrix[4], ty = matrix[5], originSplit = origin.split(" "), xOrigin = parseFloat(originSplit[0]) || 0, yOrigin = parseFloat(originSplit[1]) || 0, bounds, determinant, x, y;
    if (!originIsAbsolute) {
      bounds = _getBBox(target);
      xOrigin = bounds.x + (~originSplit[0].indexOf("%") ? xOrigin / 100 * bounds.width : xOrigin);
      yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf("%") ? yOrigin / 100 * bounds.height : yOrigin);
    } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {
      x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;
      y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;
      xOrigin = x;
      yOrigin = y;
    }
    if (smooth || smooth !== false && cache.smooth) {
      tx = xOrigin - xOriginOld;
      ty = yOrigin - yOriginOld;
      cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;
      cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;
    } else {
      cache.xOffset = cache.yOffset = 0;
    }
    cache.xOrigin = xOrigin;
    cache.yOrigin = yOrigin;
    cache.smooth = !!smooth;
    cache.origin = origin;
    cache.originIsAbsolute = !!originIsAbsolute;
    target.style[_transformOriginProp] = "0px 0px";
    if (pluginToAddPropTweensTo) {
      _addNonTweeningPT(pluginToAddPropTweensTo, cache, "xOrigin", xOriginOld, xOrigin);
      _addNonTweeningPT(pluginToAddPropTweensTo, cache, "yOrigin", yOriginOld, yOrigin);
      _addNonTweeningPT(pluginToAddPropTweensTo, cache, "xOffset", xOffsetOld, cache.xOffset);
      _addNonTweeningPT(pluginToAddPropTweensTo, cache, "yOffset", yOffsetOld, cache.yOffset);
    }
    target.setAttribute("data-svg-origin", xOrigin + " " + yOrigin);
  };
  var _parseTransform = function _parseTransform2(target, uncache) {
    var cache = target._gsap || new GSCache(target);
    if ("x" in cache && !uncache && !cache.uncache) {
      return cache;
    }
    var style = target.style, invertedScaleX = cache.scaleX < 0, px = "px", deg = "deg", origin = _getComputedProperty(target, _transformOriginProp) || "0", x, y, z, scaleX, scaleY, rotation, rotationX, rotationY, skewX, skewY, perspective, xOrigin, yOrigin, matrix, angle, cos, sin, a, b, c, d, a12, a22, t1, t2, t3, a13, a23, a33, a42, a43, a32;
    x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;
    scaleX = scaleY = 1;
    cache.svg = !!(target.getCTM && _isSVG(target));
    matrix = _getMatrix(target, cache.svg);
    if (cache.svg) {
      t1 = !cache.uncache && target.getAttribute("data-svg-origin");
      _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);
    }
    xOrigin = cache.xOrigin || 0;
    yOrigin = cache.yOrigin || 0;
    if (matrix !== _identity2DMatrix) {
      a = matrix[0];
      b = matrix[1];
      c = matrix[2];
      d = matrix[3];
      x = a12 = matrix[4];
      y = a22 = matrix[5];
      if (matrix.length === 6) {
        scaleX = Math.sqrt(a * a + b * b);
        scaleY = Math.sqrt(d * d + c * c);
        rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0;
        skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;
        skewX && (scaleY *= Math.cos(skewX * _DEG2RAD));
        if (cache.svg) {
          x -= xOrigin - (xOrigin * a + yOrigin * c);
          y -= yOrigin - (xOrigin * b + yOrigin * d);
        }
      } else {
        a32 = matrix[6];
        a42 = matrix[7];
        a13 = matrix[8];
        a23 = matrix[9];
        a33 = matrix[10];
        a43 = matrix[11];
        x = matrix[12];
        y = matrix[13];
        z = matrix[14];
        angle = _atan2(a32, a33);
        rotationX = angle * _RAD2DEG;
        if (angle) {
          cos = Math.cos(-angle);
          sin = Math.sin(-angle);
          t1 = a12 * cos + a13 * sin;
          t2 = a22 * cos + a23 * sin;
          t3 = a32 * cos + a33 * sin;
          a13 = a12 * -sin + a13 * cos;
          a23 = a22 * -sin + a23 * cos;
          a33 = a32 * -sin + a33 * cos;
          a43 = a42 * -sin + a43 * cos;
          a12 = t1;
          a22 = t2;
          a32 = t3;
        }
        angle = _atan2(-c, a33);
        rotationY = angle * _RAD2DEG;
        if (angle) {
          cos = Math.cos(-angle);
          sin = Math.sin(-angle);
          t1 = a * cos - a13 * sin;
          t2 = b * cos - a23 * sin;
          t3 = c * cos - a33 * sin;
          a43 = d * sin + a43 * cos;
          a = t1;
          b = t2;
          c = t3;
        }
        angle = _atan2(b, a);
        rotation = angle * _RAD2DEG;
        if (angle) {
          cos = Math.cos(angle);
          sin = Math.sin(angle);
          t1 = a * cos + b * sin;
          t2 = a12 * cos + a22 * sin;
          b = b * cos - a * sin;
          a22 = a22 * cos - a12 * sin;
          a = t1;
          a12 = t2;
        }
        if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {
          rotationX = rotation = 0;
          rotationY = 180 - rotationY;
        }
        scaleX = _round(Math.sqrt(a * a + b * b + c * c));
        scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));
        angle = _atan2(a12, a22);
        skewX = Math.abs(angle) > 2e-4 ? angle * _RAD2DEG : 0;
        perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;
      }
      if (cache.svg) {
        t1 = target.getAttribute("transform");
        cache.forceCSS = target.setAttribute("transform", "") || !_isNullTransform(_getComputedProperty(target, _transformProp));
        t1 && target.setAttribute("transform", t1);
      }
    }
    if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {
      if (invertedScaleX) {
        scaleX *= -1;
        skewX += rotation <= 0 ? 180 : -180;
        rotation += rotation <= 0 ? 180 : -180;
      } else {
        scaleY *= -1;
        skewX += skewX <= 0 ? 180 : -180;
      }
    }
    cache.x = ((cache.xPercent = x && Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0) ? 0 : x) + px;
    cache.y = ((cache.yPercent = y && Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0) ? 0 : y) + px;
    cache.z = z + px;
    cache.scaleX = _round(scaleX);
    cache.scaleY = _round(scaleY);
    cache.rotation = _round(rotation) + deg;
    cache.rotationX = _round(rotationX) + deg;
    cache.rotationY = _round(rotationY) + deg;
    cache.skewX = skewX + deg;
    cache.skewY = skewY + deg;
    cache.transformPerspective = perspective + px;
    if (cache.zOrigin = parseFloat(origin.split(" ")[2]) || 0) {
      style[_transformOriginProp] = _firstTwoOnly(origin);
    }
    cache.xOffset = cache.yOffset = 0;
    cache.force3D = _config.force3D;
    cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;
    cache.uncache = 0;
    return cache;
  };
  var _firstTwoOnly = function _firstTwoOnly2(value) {
    return (value = value.split(" "))[0] + " " + value[1];
  };
  var _addPxTranslate = function _addPxTranslate2(target, start, value) {
    var unit = getUnit(start);
    return _round(parseFloat(start) + parseFloat(_convertToUnit(target, "x", value + "px", unit))) + unit;
  };
  var _renderNon3DTransforms = function _renderNon3DTransforms2(ratio, cache) {
    cache.z = "0px";
    cache.rotationY = cache.rotationX = "0deg";
    cache.force3D = 0;
    _renderCSSTransforms(ratio, cache);
  };
  var _zeroDeg = "0deg";
  var _zeroPx = "0px";
  var _endParenthesis = ") ";
  var _renderCSSTransforms = function _renderCSSTransforms2(ratio, cache) {
    var _ref = cache || this, xPercent = _ref.xPercent, yPercent = _ref.yPercent, x = _ref.x, y = _ref.y, z = _ref.z, rotation = _ref.rotation, rotationY = _ref.rotationY, rotationX = _ref.rotationX, skewX = _ref.skewX, skewY = _ref.skewY, scaleX = _ref.scaleX, scaleY = _ref.scaleY, transformPerspective = _ref.transformPerspective, force3D = _ref.force3D, target = _ref.target, zOrigin = _ref.zOrigin, transforms = "", use3D = force3D === "auto" && ratio && ratio !== 1 || force3D === true;
    if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {
      var angle = parseFloat(rotationY) * _DEG2RAD, a13 = Math.sin(angle), a33 = Math.cos(angle), cos;
      angle = parseFloat(rotationX) * _DEG2RAD;
      cos = Math.cos(angle);
      x = _addPxTranslate(target, x, a13 * cos * -zOrigin);
      y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);
      z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);
    }
    if (transformPerspective !== _zeroPx) {
      transforms += "perspective(" + transformPerspective + _endParenthesis;
    }
    if (xPercent || yPercent) {
      transforms += "translate(" + xPercent + "%, " + yPercent + "%) ";
    }
    if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {
      transforms += z !== _zeroPx || use3D ? "translate3d(" + x + ", " + y + ", " + z + ") " : "translate(" + x + ", " + y + _endParenthesis;
    }
    if (rotation !== _zeroDeg) {
      transforms += "rotate(" + rotation + _endParenthesis;
    }
    if (rotationY !== _zeroDeg) {
      transforms += "rotateY(" + rotationY + _endParenthesis;
    }
    if (rotationX !== _zeroDeg) {
      transforms += "rotateX(" + rotationX + _endParenthesis;
    }
    if (skewX !== _zeroDeg || skewY !== _zeroDeg) {
      transforms += "skew(" + skewX + ", " + skewY + _endParenthesis;
    }
    if (scaleX !== 1 || scaleY !== 1) {
      transforms += "scale(" + scaleX + ", " + scaleY + _endParenthesis;
    }
    target.style[_transformProp] = transforms || "translate(0, 0)";
  };
  var _renderSVGTransforms = function _renderSVGTransforms2(ratio, cache) {
    var _ref2 = cache || this, xPercent = _ref2.xPercent, yPercent = _ref2.yPercent, x = _ref2.x, y = _ref2.y, rotation = _ref2.rotation, skewX = _ref2.skewX, skewY = _ref2.skewY, scaleX = _ref2.scaleX, scaleY = _ref2.scaleY, target = _ref2.target, xOrigin = _ref2.xOrigin, yOrigin = _ref2.yOrigin, xOffset = _ref2.xOffset, yOffset = _ref2.yOffset, forceCSS = _ref2.forceCSS, tx = parseFloat(x), ty = parseFloat(y), a11, a21, a12, a22, temp;
    rotation = parseFloat(rotation);
    skewX = parseFloat(skewX);
    skewY = parseFloat(skewY);
    if (skewY) {
      skewY = parseFloat(skewY);
      skewX += skewY;
      rotation += skewY;
    }
    if (rotation || skewX) {
      rotation *= _DEG2RAD;
      skewX *= _DEG2RAD;
      a11 = Math.cos(rotation) * scaleX;
      a21 = Math.sin(rotation) * scaleX;
      a12 = Math.sin(rotation - skewX) * -scaleY;
      a22 = Math.cos(rotation - skewX) * scaleY;
      if (skewX) {
        skewY *= _DEG2RAD;
        temp = Math.tan(skewX - skewY);
        temp = Math.sqrt(1 + temp * temp);
        a12 *= temp;
        a22 *= temp;
        if (skewY) {
          temp = Math.tan(skewY);
          temp = Math.sqrt(1 + temp * temp);
          a11 *= temp;
          a21 *= temp;
        }
      }
      a11 = _round(a11);
      a21 = _round(a21);
      a12 = _round(a12);
      a22 = _round(a22);
    } else {
      a11 = scaleX;
      a22 = scaleY;
      a21 = a12 = 0;
    }
    if (tx && !~(x + "").indexOf("px") || ty && !~(y + "").indexOf("px")) {
      tx = _convertToUnit(target, "x", x, "px");
      ty = _convertToUnit(target, "y", y, "px");
    }
    if (xOrigin || yOrigin || xOffset || yOffset) {
      tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);
      ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);
    }
    if (xPercent || yPercent) {
      temp = target.getBBox();
      tx = _round(tx + xPercent / 100 * temp.width);
      ty = _round(ty + yPercent / 100 * temp.height);
    }
    temp = "matrix(" + a11 + "," + a21 + "," + a12 + "," + a22 + "," + tx + "," + ty + ")";
    target.setAttribute("transform", temp);
    if (forceCSS) {
      target.style[_transformProp] = temp;
    }
  };
  var _addRotationalPropTween = function _addRotationalPropTween2(plugin, target, property, startNum, endValue, relative) {
    var cap = 360, isString2 = _isString(endValue), endNum = parseFloat(endValue) * (isString2 && ~endValue.indexOf("rad") ? _RAD2DEG : 1), change = relative ? endNum * relative : endNum - startNum, finalValue = startNum + change + "deg", direction, pt;
    if (isString2) {
      direction = endValue.split("_")[1];
      if (direction === "short") {
        change %= cap;
        if (change !== change % (cap / 2)) {
          change += change < 0 ? cap : -cap;
        }
      }
      if (direction === "cw" && change < 0) {
        change = (change + cap * _bigNum2) % cap - ~~(change / cap) * cap;
      } else if (direction === "ccw" && change > 0) {
        change = (change - cap * _bigNum2) % cap - ~~(change / cap) * cap;
      }
    }
    plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);
    pt.e = finalValue;
    pt.u = "deg";
    plugin._props.push(property);
    return pt;
  };
  var _addRawTransformPTs = function _addRawTransformPTs2(plugin, transforms, target) {
    var style = _tempDivStyler.style, startCache = target._gsap, exclude = "perspective,force3D,transformOrigin,svgOrigin", endCache, p, startValue, endValue, startNum, endNum, startUnit, endUnit;
    style.cssText = getComputedStyle(target).cssText + ";position:absolute;display:block;";
    style[_transformProp] = transforms;
    _doc2.body.appendChild(_tempDivStyler);
    endCache = _parseTransform(_tempDivStyler, 1);
    for (p in _transformProps) {
      startValue = startCache[p];
      endValue = endCache[p];
      if (startValue !== endValue && exclude.indexOf(p) < 0) {
        startUnit = getUnit(startValue);
        endUnit = getUnit(endValue);
        startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);
        endNum = parseFloat(endValue);
        plugin._pt = new PropTween(plugin._pt, startCache, p, startNum, endNum - startNum, _renderCSSProp);
        plugin._pt.u = endUnit || 0;
        plugin._props.push(p);
      }
    }
    _doc2.body.removeChild(_tempDivStyler);
  };
  _forEachName("padding,margin,Width,Radius", function(name, index) {
    var t = "Top", r = "Right", b = "Bottom", l = "Left", props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function(side) {
      return index < 2 ? name + side : "border" + side + name;
    });
    _specialProps[index > 1 ? "border" + name : name] = function(plugin, target, property, endValue, tween) {
      var a, vars;
      if (arguments.length < 4) {
        a = props.map(function(prop2) {
          return _get(plugin, prop2, property);
        });
        vars = a.join(" ");
        return vars.split(a[0]).length === 5 ? a[0] : vars;
      }
      a = (endValue + "").split(" ");
      vars = {};
      props.forEach(function(prop2, i) {
        return vars[prop2] = a[i] = a[i] || a[(i - 1) / 2 | 0];
      });
      plugin.init(target, vars, tween);
    };
  });
  var CSSPlugin = {
    name: "css",
    register: _initCore,
    targetTest: function targetTest(target) {
      return target.style && target.nodeType;
    },
    init: function init3(target, vars, tween, index, targets) {
      var props = this._props, style = target.style, startValue, endValue, endNum, startNum, type, specialProp, p, startUnit, endUnit, relative, isTransformRelated, transformPropTween, cache, smooth, hasPriority;
      _pluginInitted || _initCore();
      for (p in vars) {
        if (p === "autoRound") {
          continue;
        }
        endValue = vars[p];
        if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {
          continue;
        }
        type = typeof endValue;
        specialProp = _specialProps[p];
        if (type === "function") {
          endValue = endValue.call(tween, index, target, targets);
          type = typeof endValue;
        }
        if (type === "string" && ~endValue.indexOf("random(")) {
          endValue = _replaceRandom(endValue);
        }
        if (specialProp) {
          if (specialProp(this, target, p, endValue, tween)) {
            hasPriority = 1;
          }
        } else if (p.substr(0, 2) === "--") {
          this.add(style, "setProperty", getComputedStyle(target).getPropertyValue(p) + "", endValue + "", index, targets, 0, 0, p);
        } else if (type !== "undefined") {
          startValue = _get(target, p);
          startNum = parseFloat(startValue);
          relative = type === "string" && endValue.charAt(1) === "=" ? +(endValue.charAt(0) + "1") : 0;
          if (relative) {
            endValue = endValue.substr(2);
          }
          endNum = parseFloat(endValue);
          if (p in _propertyAliases) {
            if (p === "autoAlpha") {
              if (startNum === 1 && _get(target, "visibility") === "hidden" && endNum) {
                startNum = 0;
              }
              _addNonTweeningPT(this, style, "visibility", startNum ? "inherit" : "hidden", endNum ? "inherit" : "hidden", !endNum);
            }
            if (p !== "scale" && p !== "transform") {
              p = _propertyAliases[p];
              ~p.indexOf(",") && (p = p.split(",")[0]);
            }
          }
          isTransformRelated = p in _transformProps;
          if (isTransformRelated) {
            if (!transformPropTween) {
              cache = target._gsap;
              cache.renderTransform || _parseTransform(target);
              smooth = vars.smoothOrigin !== false && cache.smooth;
              transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1);
              transformPropTween.dep = 1;
            }
            if (p === "scale") {
              this._pt = new PropTween(this._pt, cache, "scaleY", cache.scaleY, relative ? relative * endNum : endNum - cache.scaleY);
              props.push("scaleY", p);
              p += "X";
            } else if (p === "transformOrigin") {
              endValue = _convertKeywordsToPercentages(endValue);
              if (cache.svg) {
                _applySVGOrigin(target, endValue, 0, smooth, 0, this);
              } else {
                endUnit = parseFloat(endValue.split(" ")[2]) || 0;
                endUnit !== cache.zOrigin && _addNonTweeningPT(this, cache, "zOrigin", cache.zOrigin, endUnit);
                _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));
              }
              continue;
            } else if (p === "svgOrigin") {
              _applySVGOrigin(target, endValue, 1, smooth, 0, this);
              continue;
            } else if (p in _rotationalProperties) {
              _addRotationalPropTween(this, cache, p, startNum, endValue, relative);
              continue;
            } else if (p === "smoothOrigin") {
              _addNonTweeningPT(this, cache, "smooth", cache.smooth, endValue);
              continue;
            } else if (p === "force3D") {
              cache[p] = endValue;
              continue;
            } else if (p === "transform") {
              _addRawTransformPTs(this, endValue, target);
              continue;
            }
          } else if (!(p in style)) {
            p = _checkPropPrefix(p) || p;
          }
          if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {
            startUnit = (startValue + "").substr((startNum + "").length);
            endNum || (endNum = 0);
            endUnit = getUnit(endValue) || (p in _config.units ? _config.units[p] : startUnit);
            startUnit !== endUnit && (startNum = _convertToUnit(target, p, startValue, endUnit));
            this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, endUnit === "px" && vars.autoRound !== false && !isTransformRelated ? _renderRoundedCSSProp : _renderCSSProp);
            this._pt.u = endUnit || 0;
            if (startUnit !== endUnit) {
              this._pt.b = startValue;
              this._pt.r = _renderCSSPropWithBeginning;
            }
          } else if (!(p in style)) {
            if (p in target) {
              this.add(target, p, target[p], endValue, index, targets);
            } else {
              _missingPlugin(p, endValue);
              continue;
            }
          } else {
            _tweenComplexCSSString.call(this, target, p, startValue, endValue);
          }
          props.push(p);
        }
      }
      hasPriority && _sortPropTweensByPriority(this);
    },
    get: _get,
    aliases: _propertyAliases,
    getSetter: function getSetter(target, property, plugin) {
      var p = _propertyAliases[property];
      p && p.indexOf(",") < 0 && (property = p);
      return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, "x")) ? plugin && _recentSetterPlugin === plugin ? property === "scale" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === "scale" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf("-") ? _setterCSSProp : _getSetter(target, property);
    },
    core: {
      _removeProperty,
      _getMatrix
    }
  };
  gsap.utils.checkPrefix = _checkPropPrefix;
  (function(positionAndScale, rotation, others, aliases) {
    var all = _forEachName(positionAndScale + "," + rotation + "," + others, function(name) {
      _transformProps[name] = 1;
    });
    _forEachName(rotation, function(name) {
      _config.units[name] = "deg";
      _rotationalProperties[name] = 1;
    });
    _propertyAliases[all[13]] = positionAndScale + "," + rotation;
    _forEachName(aliases, function(name) {
      var split = name.split(":");
      _propertyAliases[split[1]] = all[split[0]];
    });
  })("x,y,z,scale,scaleX,scaleY,xPercent,yPercent", "rotation,rotationX,rotationY,skewX,skewY", "transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective", "0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");
  _forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective", function(name) {
    _config.units[name] = "px";
  });
  gsap.registerPlugin(CSSPlugin);

  // node_modules/gsap/index.js
  var gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap;
  var TweenMaxWithCSS = gsapWithCSS.core.Tween;

  // node_modules/gsap/ScrollTrigger.js
  var gsap2;
  var _coreInitted2;
  var _win3;
  var _doc3;
  var _docEl;
  var _body;
  var _root;
  var _resizeDelay;
  var _raf;
  var _request;
  var _toArray;
  var _clamp3;
  var _time2;
  var _syncInterval;
  var _refreshing;
  var _pointerIsDown;
  var _transformProp2;
  var _i;
  var _prevWidth;
  var _prevHeight;
  var _autoRefresh;
  var _sort;
  var _limitCallbacks;
  var _startup = 1;
  var _proxies = [];
  var _scrollers = [];
  var _getTime = Date.now;
  var _time1 = _getTime();
  var _lastScrollTime = 0;
  var _enabled = 1;
  var _passThrough3 = function _passThrough4(v) {
    return v;
  };
  var _windowExists5 = function _windowExists6() {
    return typeof window !== "undefined";
  };
  var _getGSAP = function _getGSAP2() {
    return gsap2 || _windowExists5() && (gsap2 = window.gsap) && gsap2.registerPlugin && gsap2;
  };
  var _isViewport = function _isViewport2(e) {
    return !!~_root.indexOf(e);
  };
  var _getProxyProp = function _getProxyProp2(element, property) {
    return ~_proxies.indexOf(element) && _proxies[_proxies.indexOf(element) + 1][property];
  };
  var _getScrollFunc = function _getScrollFunc2(element, _ref) {
    var s = _ref.s, sc3 = _ref.sc;
    var i = _scrollers.indexOf(element), offset = sc3 === _vertical.sc ? 1 : 2;
    !~i && (i = _scrollers.push(element) - 1);
    return _scrollers[i + offset] || (_scrollers[i + offset] = _getProxyProp(element, s) || (_isViewport(element) ? sc3 : function(value) {
      return arguments.length ? element[s] = value : element[s];
    }));
  };
  var _getBoundsFunc = function _getBoundsFunc2(element) {
    return _getProxyProp(element, "getBoundingClientRect") || (_isViewport(element) ? function() {
      _winOffsets.width = _win3.innerWidth;
      _winOffsets.height = _win3.innerHeight;
      return _winOffsets;
    } : function() {
      return _getBounds(element);
    });
  };
  var _getSizeFunc = function _getSizeFunc2(scroller, isViewport, _ref2) {
    var d = _ref2.d, d2 = _ref2.d2, a = _ref2.a;
    return (a = _getProxyProp(scroller, "getBoundingClientRect")) ? function() {
      return a()[d];
    } : function() {
      return (isViewport ? _win3["inner" + d2] : scroller["client" + d2]) || 0;
    };
  };
  var _getOffsetsFunc = function _getOffsetsFunc2(element, isViewport) {
    return !isViewport || ~_proxies.indexOf(element) ? _getBoundsFunc(element) : function() {
      return _winOffsets;
    };
  };
  var _maxScroll = function _maxScroll2(element, _ref3) {
    var s = _ref3.s, d2 = _ref3.d2, d = _ref3.d, a = _ref3.a;
    return (s = "scroll" + d2) && (a = _getProxyProp(element, s)) ? a() - _getBoundsFunc(element)()[d] : _isViewport(element) ? Math.max(_docEl[s], _body[s]) - (_win3["inner" + d2] || _docEl["client" + d2] || _body["client" + d2]) : element[s] - element["offset" + d2];
  };
  var _iterateAutoRefresh = function _iterateAutoRefresh2(func, events) {
    for (var i = 0; i < _autoRefresh.length; i += 3) {
      (!events || ~events.indexOf(_autoRefresh[i + 1])) && func(_autoRefresh[i], _autoRefresh[i + 1], _autoRefresh[i + 2]);
    }
  };
  var _isString3 = function _isString4(value) {
    return typeof value === "string";
  };
  var _isFunction3 = function _isFunction4(value) {
    return typeof value === "function";
  };
  var _isNumber3 = function _isNumber4(value) {
    return typeof value === "number";
  };
  var _isObject3 = function _isObject4(value) {
    return typeof value === "object";
  };
  var _callIfFunc = function _callIfFunc2(value) {
    return _isFunction3(value) && value();
  };
  var _combineFunc = function _combineFunc2(f1, f2) {
    return function() {
      var result1 = _callIfFunc(f1), result2 = _callIfFunc(f2);
      return function() {
        _callIfFunc(result1);
        _callIfFunc(result2);
      };
    };
  };
  var _abs = Math.abs;
  var _scrollLeft = "scrollLeft";
  var _scrollTop = "scrollTop";
  var _left = "left";
  var _top = "top";
  var _right = "right";
  var _bottom = "bottom";
  var _width = "width";
  var _height = "height";
  var _Right = "Right";
  var _Left = "Left";
  var _Top = "Top";
  var _Bottom = "Bottom";
  var _padding = "padding";
  var _margin = "margin";
  var _Width = "Width";
  var _Height = "Height";
  var _px = "px";
  var _horizontal = {
    s: _scrollLeft,
    p: _left,
    p2: _Left,
    os: _right,
    os2: _Right,
    d: _width,
    d2: _Width,
    a: "x",
    sc: function sc(value) {
      return arguments.length ? _win3.scrollTo(value, _vertical.sc()) : _win3.pageXOffset || _doc3[_scrollLeft] || _docEl[_scrollLeft] || _body[_scrollLeft] || 0;
    }
  };
  var _vertical = {
    s: _scrollTop,
    p: _top,
    p2: _Top,
    os: _bottom,
    os2: _Bottom,
    d: _height,
    d2: _Height,
    a: "y",
    op: _horizontal,
    sc: function sc2(value) {
      return arguments.length ? _win3.scrollTo(_horizontal.sc(), value) : _win3.pageYOffset || _doc3[_scrollTop] || _docEl[_scrollTop] || _body[_scrollTop] || 0;
    }
  };
  var _getComputedStyle = function _getComputedStyle2(element) {
    return _win3.getComputedStyle(element);
  };
  var _makePositionable = function _makePositionable2(element) {
    return element.style.position = _getComputedStyle(element).position === "absolute" ? "absolute" : "relative";
  };
  var _setDefaults3 = function _setDefaults4(obj, defaults2) {
    for (var p in defaults2) {
      p in obj || (obj[p] = defaults2[p]);
    }
    return obj;
  };
  var _getBounds = function _getBounds2(element, withoutTransforms) {
    var tween = withoutTransforms && _getComputedStyle(element)[_transformProp2] !== "matrix(1, 0, 0, 1, 0, 0)" && gsap2.to(element, {
      x: 0,
      y: 0,
      xPercent: 0,
      yPercent: 0,
      rotation: 0,
      rotationX: 0,
      rotationY: 0,
      scale: 1,
      skewX: 0,
      skewY: 0
    }).progress(1), bounds = element.getBoundingClientRect();
    tween && tween.progress(0).kill();
    return bounds;
  };
  var _getSize = function _getSize2(element, _ref4) {
    var d2 = _ref4.d2;
    return element["offset" + d2] || element["client" + d2] || 0;
  };
  var _getLabels = function _getLabels2(animation) {
    return function(value) {
      var a = [], labels = animation.labels, duration = animation.duration(), p;
      for (p in labels) {
        a.push(labels[p] / duration);
      }
      return gsap2.utils.snap(a, value);
    };
  };
  var _multiListener = function _multiListener2(func, element, types, callback2) {
    return types.split(",").forEach(function(type) {
      return func(element, type, callback2);
    });
  };
  var _addListener = function _addListener2(element, type, func) {
    return element.addEventListener(type, func, {
      passive: true
    });
  };
  var _removeListener = function _removeListener2(element, type, func) {
    return element.removeEventListener(type, func);
  };
  var _markerDefaults = {
    startColor: "green",
    endColor: "red",
    indent: 0,
    fontSize: "16px",
    fontWeight: "normal"
  };
  var _defaults2 = {
    toggleActions: "play",
    anticipatePin: 0
  };
  var _keywords = {
    top: 0,
    left: 0,
    center: 0.5,
    bottom: 1,
    right: 1
  };
  var _offsetToPx = function _offsetToPx2(value, size) {
    if (_isString3(value)) {
      var eqIndex = value.indexOf("="), relative = ~eqIndex ? +(value.charAt(eqIndex - 1) + 1) * parseFloat(value.substr(eqIndex + 1)) : 0;
      if (relative) {
        value.indexOf("%") > eqIndex && (relative *= size / 100);
        value = value.substr(0, eqIndex - 1);
      }
      value = relative + (value in _keywords ? _keywords[value] * size : ~value.indexOf("%") ? parseFloat(value) * size / 100 : parseFloat(value) || 0);
    }
    return value;
  };
  var _createMarker = function _createMarker2(type, name, container, direction, _ref5, offset, matchWidthEl) {
    var startColor = _ref5.startColor, endColor = _ref5.endColor, fontSize = _ref5.fontSize, indent = _ref5.indent, fontWeight = _ref5.fontWeight;
    var e = _doc3.createElement("div"), useFixedPosition = _isViewport(container) || _getProxyProp(container, "pinType") === "fixed", isScroller = type.indexOf("scroller") !== -1, parent = useFixedPosition ? _body : container, isStart = type.indexOf("start") !== -1, color = isStart ? startColor : endColor, css = "border-color:" + color + ";font-size:" + fontSize + ";color:" + color + ";font-weight:" + fontWeight + ";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";
    css += "position:" + (isScroller && useFixedPosition ? "fixed;" : "absolute;");
    (isScroller || !useFixedPosition) && (css += (direction === _vertical ? _right : _bottom) + ":" + (offset + parseFloat(indent)) + "px;");
    matchWidthEl && (css += "box-sizing:border-box;text-align:left;width:" + matchWidthEl.offsetWidth + "px;");
    e._isStart = isStart;
    e.setAttribute("class", "gsap-marker-" + type);
    e.style.cssText = css;
    e.innerText = name || name === 0 ? type + "-" + name : type;
    parent.insertBefore(e, parent.children[0]);
    e._offset = e["offset" + direction.op.d2];
    _positionMarker(e, 0, direction, isStart);
    return e;
  };
  var _positionMarker = function _positionMarker2(marker, start, direction, flipped) {
    var vars = {
      display: "block"
    }, side = direction[flipped ? "os2" : "p2"], oppositeSide = direction[flipped ? "p2" : "os2"];
    marker._isFlipped = flipped;
    vars[direction.a + "Percent"] = flipped ? -100 : 0;
    vars[direction.a] = flipped ? 1 : 0;
    vars["border" + side + _Width] = 1;
    vars["border" + oppositeSide + _Width] = 0;
    vars[direction.p] = start;
    gsap2.set(marker, vars);
  };
  var _triggers = [];
  var _ids = {};
  var _sync = function _sync2() {
    return _request || (_request = _raf(_updateAll));
  };
  var _onScroll = function _onScroll2() {
    if (!_request) {
      _request = _raf(_updateAll);
      _lastScrollTime || _dispatch("scrollStart");
      _lastScrollTime = _getTime();
    }
  };
  var _onResize = function _onResize2() {
    return !_refreshing && _resizeDelay.restart(true);
  };
  var _listeners = {};
  var _emptyArray = [];
  var _media = [];
  var _creatingMedia;
  var _lastMediaTick;
  var _onMediaChange = function _onMediaChange2(e) {
    var tick = gsap2.ticker.frame, matches = [], i = 0, index;
    if (_lastMediaTick !== tick || _startup) {
      _revertAll();
      for (; i < _media.length; i += 4) {
        index = _win3.matchMedia(_media[i]).matches;
        if (index !== _media[i + 3]) {
          _media[i + 3] = index;
          index ? matches.push(i) : _revertAll(1, _media[i]) || _isFunction3(_media[i + 2]) && _media[i + 2]();
        }
      }
      _revertRecorded();
      for (i = 0; i < matches.length; i++) {
        index = matches[i];
        _creatingMedia = _media[index];
        _media[index + 2] = _media[index + 1](e);
      }
      _creatingMedia = 0;
      _refreshAll(0, 1);
      _lastMediaTick = tick;
      _dispatch("matchMedia");
    }
  };
  var _softRefresh = function _softRefresh2() {
    return _removeListener(ScrollTrigger, "scrollEnd", _softRefresh2) || _refreshAll(true);
  };
  var _dispatch = function _dispatch2(type) {
    return _listeners[type] && _listeners[type].map(function(f) {
      return f();
    }) || _emptyArray;
  };
  var _savedStyles = [];
  var _revertRecorded = function _revertRecorded2(media) {
    for (var i = 0; i < _savedStyles.length; i += 4) {
      if (!media || _savedStyles[i + 3] === media) {
        _savedStyles[i].style.cssText = _savedStyles[i + 1];
        _savedStyles[i + 2].uncache = 1;
      }
    }
  };
  var _revertAll = function _revertAll2(kill, media) {
    var trigger;
    for (_i = 0; _i < _triggers.length; _i++) {
      trigger = _triggers[_i];
      if (!media || trigger.media === media) {
        if (kill) {
          trigger.kill(1);
        } else {
          trigger.scroll.rec || (trigger.scroll.rec = trigger.scroll());
          trigger.revert();
        }
      }
    }
    _revertRecorded(media);
    media || _dispatch("revert");
  };
  var _refreshAll = function _refreshAll2(force, skipRevert) {
    if (_lastScrollTime && !force) {
      _addListener(ScrollTrigger, "scrollEnd", _softRefresh);
      return;
    }
    var refreshInits = _dispatch("refreshInit");
    _sort && ScrollTrigger.sort();
    skipRevert || _revertAll();
    for (_i = 0; _i < _triggers.length; _i++) {
      _triggers[_i].refresh();
    }
    refreshInits.forEach(function(result) {
      return result && result.render && result.render(-1);
    });
    _i = _triggers.length;
    while (_i--) {
      _triggers[_i].scroll.rec = 0;
    }
    _resizeDelay.pause();
    _dispatch("refresh");
  };
  var _lastScroll = 0;
  var _direction = 1;
  var _updateAll = function _updateAll2() {
    var l = _triggers.length, time = _getTime(), recordVelocity = time - _time1 >= 50, scroll = l && _triggers[0].scroll();
    _direction = _lastScroll > scroll ? -1 : 1;
    _lastScroll = scroll;
    if (recordVelocity) {
      if (_lastScrollTime && !_pointerIsDown && time - _lastScrollTime > 200) {
        _lastScrollTime = 0;
        _dispatch("scrollEnd");
      }
      _time2 = _time1;
      _time1 = time;
    }
    if (_direction < 0) {
      _i = l;
      while (_i--) {
        _triggers[_i] && _triggers[_i].update(0, recordVelocity);
      }
      _direction = 1;
    } else {
      for (_i = 0; _i < l; _i++) {
        _triggers[_i] && _triggers[_i].update(0, recordVelocity);
      }
    }
    _request = 0;
  };
  var _propNamesToCopy = [_left, _top, _bottom, _right, _margin + _Bottom, _margin + _Right, _margin + _Top, _margin + _Left, "display", "flexShrink", "float"];
  var _stateProps = _propNamesToCopy.concat([_width, _height, "boxSizing", "max" + _Width, "max" + _Height, "position", _margin, _padding, _padding + _Top, _padding + _Right, _padding + _Bottom, _padding + _Left]);
  var _swapPinOut = function _swapPinOut2(pin, spacer, state) {
    _setState(state);
    if (pin.parentNode === spacer) {
      var parent = spacer.parentNode;
      if (parent) {
        parent.insertBefore(pin, spacer);
        parent.removeChild(spacer);
      }
    }
  };
  var _swapPinIn = function _swapPinIn2(pin, spacer, cs, spacerState) {
    if (pin.parentNode !== spacer) {
      var i = _propNamesToCopy.length, spacerStyle = spacer.style, pinStyle = pin.style, p;
      while (i--) {
        p = _propNamesToCopy[i];
        spacerStyle[p] = cs[p];
      }
      spacerStyle.position = cs.position === "absolute" ? "absolute" : "relative";
      cs.display === "inline" && (spacerStyle.display = "inline-block");
      pinStyle[_bottom] = pinStyle[_right] = "auto";
      spacerStyle.overflow = "visible";
      spacerStyle.boxSizing = "border-box";
      spacerStyle[_width] = _getSize(pin, _horizontal) + _px;
      spacerStyle[_height] = _getSize(pin, _vertical) + _px;
      spacerStyle[_padding] = pinStyle[_margin] = pinStyle[_top] = pinStyle[_left] = "0";
      _setState(spacerState);
      pinStyle[_width] = pinStyle["max" + _Width] = cs[_width];
      pinStyle[_height] = pinStyle["max" + _Height] = cs[_height];
      pinStyle[_padding] = cs[_padding];
      pin.parentNode.insertBefore(spacer, pin);
      spacer.appendChild(pin);
    }
  };
  var _capsExp2 = /([A-Z])/g;
  var _setState = function _setState2(state) {
    if (state) {
      var style = state.t.style, l = state.length, i = 0, p, value;
      for (; i < l; i += 2) {
        value = state[i + 1];
        p = state[i];
        if (value) {
          style[p] = value;
        } else if (style[p]) {
          style.removeProperty(p.replace(_capsExp2, "-$1").toLowerCase());
        }
      }
    }
  };
  var _getState = function _getState2(element) {
    var l = _stateProps.length, style = element.style, state = [], i = 0;
    for (; i < l; i++) {
      state.push(_stateProps[i], style[_stateProps[i]]);
    }
    state.t = element;
    return state;
  };
  var _copyState = function _copyState2(state, override, omitOffsets) {
    var result = [], l = state.length, i = omitOffsets ? 8 : 0, p;
    for (; i < l; i += 2) {
      p = state[i];
      result.push(p, p in override ? override[p] : state[i + 1]);
    }
    result.t = state.t;
    return result;
  };
  var _winOffsets = {
    left: 0,
    top: 0
  };
  var _parsePosition3 = function _parsePosition4(value, trigger, scrollerSize, direction, scroll, marker, markerScroller, self, scrollerBounds, borderWidth, useFixedPosition, scrollerMax) {
    _isFunction3(value) && (value = value(self));
    if (_isString3(value) && value.substr(0, 3) === "max") {
      value = scrollerMax + (value.charAt(4) === "=" ? _offsetToPx("0" + value.substr(3), scrollerSize) : 0);
    }
    if (!_isNumber3(value)) {
      _isFunction3(trigger) && (trigger = trigger(self));
      var element = _toArray(trigger)[0] || _body, bounds = _getBounds(element) || {}, offsets = value.split(" "), localOffset, globalOffset, display;
      if ((!bounds || !bounds.left && !bounds.top) && _getComputedStyle(element).display === "none") {
        display = element.style.display;
        element.style.display = "block";
        bounds = _getBounds(element);
        display ? element.style.display = display : element.style.removeProperty("display");
      }
      localOffset = _offsetToPx(offsets[0], bounds[direction.d]);
      globalOffset = _offsetToPx(offsets[1] || "0", scrollerSize);
      value = bounds[direction.p] - scrollerBounds[direction.p] - borderWidth + localOffset + scroll - globalOffset;
      markerScroller && _positionMarker(markerScroller, globalOffset, direction, scrollerSize - globalOffset < 20 || markerScroller._isStart && globalOffset > 20);
      scrollerSize -= scrollerSize - globalOffset;
    } else if (markerScroller) {
      _positionMarker(markerScroller, scrollerSize, direction, true);
    }
    if (marker) {
      var position = value + scrollerSize, isStart = marker._isStart;
      scrollerMax = "scroll" + direction.d2;
      _positionMarker(marker, position, direction, isStart && position > 20 || !isStart && (useFixedPosition ? Math.max(_body[scrollerMax], _docEl[scrollerMax]) : marker.parentNode[scrollerMax]) <= position + 1);
      if (useFixedPosition) {
        scrollerBounds = _getBounds(markerScroller);
        useFixedPosition && (marker.style[direction.op.p] = scrollerBounds[direction.op.p] - direction.op.m - marker._offset + _px);
      }
    }
    return Math.round(value);
  };
  var _prefixExp = /(?:webkit|moz|length|cssText)/i;
  var _reparent = function _reparent2(element, parent, top, left) {
    if (element.parentNode !== parent) {
      var style = element.style, p, cs;
      if (parent === _body) {
        element._stOrig = style.cssText;
        cs = _getComputedStyle(element);
        for (p in cs) {
          if (!+p && !_prefixExp.test(p) && cs[p] && typeof style[p] === "string" && p !== "0") {
            style[p] = cs[p];
          }
        }
        style.top = top;
        style.left = left;
      } else {
        style.cssText = element._stOrig;
      }
      gsap2.core.getCache(element).uncache = 1;
      parent.appendChild(element);
    }
  };
  var _getTweenCreator = function _getTweenCreator2(scroller, direction) {
    var getScroll = _getScrollFunc(scroller, direction), prop2 = "_scroll" + direction.p2, lastScroll1, lastScroll2, getTween = function getTween2(scrollTo, vars, initialValue, change1, change2) {
      var tween = getTween2.tween, onComplete = vars.onComplete, modifiers = {};
      tween && tween.kill();
      lastScroll1 = Math.round(initialValue);
      vars[prop2] = scrollTo;
      vars.modifiers = modifiers;
      modifiers[prop2] = function(value) {
        value = Math.round(getScroll());
        if (value !== lastScroll1 && value !== lastScroll2) {
          tween.kill();
          getTween2.tween = 0;
        } else {
          value = initialValue + change1 * tween.ratio + change2 * tween.ratio * tween.ratio;
        }
        lastScroll2 = lastScroll1;
        return lastScroll1 = Math.round(value);
      };
      vars.onComplete = function() {
        getTween2.tween = 0;
        onComplete && onComplete.call(tween);
      };
      tween = getTween2.tween = gsap2.to(scroller, vars);
      return tween;
    };
    scroller[prop2] = getScroll;
    return getTween;
  };
  _horizontal.op = _vertical;
  var ScrollTrigger = /* @__PURE__ */ function() {
    function ScrollTrigger2(vars, animation) {
      _coreInitted2 || ScrollTrigger2.register(gsap2) || console.warn("Please gsap.registerPlugin(ScrollTrigger)");
      this.init(vars, animation);
    }
    var _proto = ScrollTrigger2.prototype;
    _proto.init = function init5(vars, animation) {
      this.progress = 0;
      this.vars && this.kill(1);
      if (!_enabled) {
        this.update = this.refresh = this.kill = _passThrough3;
        return;
      }
      vars = _setDefaults3(_isString3(vars) || _isNumber3(vars) || vars.nodeType ? {
        trigger: vars
      } : vars, _defaults2);
      var direction = vars.horizontal ? _horizontal : _vertical, _vars = vars, onUpdate = _vars.onUpdate, toggleClass = _vars.toggleClass, id = _vars.id, onToggle = _vars.onToggle, onRefresh = _vars.onRefresh, scrub = _vars.scrub, trigger = _vars.trigger, pin = _vars.pin, pinSpacing = _vars.pinSpacing, invalidateOnRefresh = _vars.invalidateOnRefresh, anticipatePin = _vars.anticipatePin, onScrubComplete = _vars.onScrubComplete, onSnapComplete = _vars.onSnapComplete, once = _vars.once, snap3 = _vars.snap, pinReparent = _vars.pinReparent, isToggle = !scrub && scrub !== 0, scroller = _toArray(vars.scroller || _win3)[0], scrollerCache = gsap2.core.getCache(scroller), isViewport = _isViewport(scroller), useFixedPosition = "pinType" in vars ? vars.pinType === "fixed" : isViewport || _getProxyProp(scroller, "pinType") === "fixed", callbacks = [vars.onEnter, vars.onLeave, vars.onEnterBack, vars.onLeaveBack], toggleActions = isToggle && vars.toggleActions.split(" "), markers = "markers" in vars ? vars.markers : _defaults2.markers, borderWidth = isViewport ? 0 : parseFloat(_getComputedStyle(scroller)["border" + direction.p2 + _Width]) || 0, self = this, onRefreshInit = vars.onRefreshInit && function() {
        return vars.onRefreshInit(self);
      }, getScrollerSize = _getSizeFunc(scroller, isViewport, direction), getScrollerOffsets = _getOffsetsFunc(scroller, isViewport), tweenTo, pinCache, snapFunc, isReverted, scroll1, scroll2, start, end, markerStart, markerEnd, markerStartTrigger, markerEndTrigger, markerVars, change, pinOriginalState, pinActiveState, pinState, spacer, offset, pinGetter, pinSetter, pinStart, pinChange, spacingStart, spacerState, markerStartSetter, markerEndSetter, cs, snap1, snap22, scrubTween, scrubSmooth, snapDurClamp, snapDelayedCall, prevProgress, prevScroll, prevAnimProgress;
      self.media = _creatingMedia;
      anticipatePin *= 45;
      _triggers.push(self);
      self.scroller = scroller;
      self.scroll = _getScrollFunc(scroller, direction);
      scroll1 = self.scroll();
      self.vars = vars;
      animation = animation || vars.animation;
      "refreshPriority" in vars && (_sort = 1);
      scrollerCache.tweenScroll = scrollerCache.tweenScroll || {
        top: _getTweenCreator(scroller, _vertical),
        left: _getTweenCreator(scroller, _horizontal)
      };
      self.tweenTo = tweenTo = scrollerCache.tweenScroll[direction.p];
      if (animation) {
        animation.vars.lazy = false;
        animation._initted || animation.vars.immediateRender !== false && vars.immediateRender !== false && animation.render(0, true, true);
        self.animation = animation.pause();
        animation.scrollTrigger = self;
        scrubSmooth = _isNumber3(scrub) && scrub;
        scrubSmooth && (scrubTween = gsap2.to(animation, {
          ease: "power3",
          duration: scrubSmooth,
          onComplete: function onComplete() {
            return onScrubComplete && onScrubComplete(self);
          }
        }));
        snap1 = 0;
        id || (id = animation.vars.id);
      }
      if (snap3) {
        _isObject3(snap3) || (snap3 = {
          snapTo: snap3
        });
        gsap2.set(isViewport ? [_body, _docEl] : scroller, {
          scrollBehavior: "auto"
        });
        snapFunc = _isFunction3(snap3.snapTo) ? snap3.snapTo : snap3.snapTo === "labels" ? _getLabels(animation) : gsap2.utils.snap(snap3.snapTo);
        snapDurClamp = snap3.duration || {
          min: 0.1,
          max: 2
        };
        snapDurClamp = _isObject3(snapDurClamp) ? _clamp3(snapDurClamp.min, snapDurClamp.max) : _clamp3(snapDurClamp, snapDurClamp);
        snapDelayedCall = gsap2.delayedCall(snap3.delay || scrubSmooth / 2 || 0.1, function() {
          if (Math.abs(self.getVelocity()) < 10 && !_pointerIsDown) {
            var totalProgress = animation && !isToggle ? animation.totalProgress() : self.progress, velocity = (totalProgress - snap22) / (_getTime() - _time2) * 1e3 || 0, change1 = _abs(velocity / 2) * velocity / 0.185, naturalEnd = totalProgress + change1, endValue = _clamp3(0, 1, snapFunc(naturalEnd, self)), scroll = self.scroll(), endScroll = Math.round(start + endValue * change), tween = tweenTo.tween;
            if (scroll <= end && scroll >= start && endScroll !== scroll) {
              if (tween && !tween._initted && tween.data <= Math.abs(endScroll - scroll)) {
                return;
              }
              tweenTo(endScroll, {
                duration: snapDurClamp(_abs(Math.max(_abs(naturalEnd - totalProgress), _abs(endValue - totalProgress)) * 0.185 / velocity / 0.05 || 0)),
                ease: snap3.ease || "power3",
                data: Math.abs(endScroll - scroll),
                // record the distance so that if another snap tween occurs (conflict) we can prioritize the closest snap.
                onComplete: function onComplete() {
                  snap1 = snap22 = animation && !isToggle ? animation.totalProgress() : self.progress;
                  onSnapComplete && onSnapComplete(self);
                }
              }, scroll, change1 * change, endScroll - scroll - change1 * change);
            }
          } else if (self.isActive) {
            snapDelayedCall.restart(true);
          }
        }).pause();
      }
      id && (_ids[id] = self);
      trigger = self.trigger = _toArray(trigger || pin)[0];
      pin = pin === true ? trigger : _toArray(pin)[0];
      _isString3(toggleClass) && (toggleClass = {
        targets: trigger,
        className: toggleClass
      });
      if (pin) {
        pinSpacing === false || pinSpacing === _margin || (pinSpacing = !pinSpacing && _getComputedStyle(pin.parentNode).display === "flex" ? false : _padding);
        self.pin = pin;
        vars.force3D !== false && gsap2.set(pin, {
          force3D: true
        });
        pinCache = gsap2.core.getCache(pin);
        if (!pinCache.spacer) {
          pinCache.spacer = spacer = _doc3.createElement("div");
          spacer.setAttribute("class", "pin-spacer" + (id ? " pin-spacer-" + id : ""));
          pinCache.pinState = pinOriginalState = _getState(pin);
        } else {
          pinOriginalState = pinCache.pinState;
        }
        self.spacer = spacer = pinCache.spacer;
        cs = _getComputedStyle(pin);
        spacingStart = cs[pinSpacing + direction.os2];
        pinGetter = gsap2.getProperty(pin);
        pinSetter = gsap2.quickSetter(pin, direction.a, _px);
        _swapPinIn(pin, spacer, cs);
        pinState = _getState(pin);
      }
      if (markers) {
        markerVars = _isObject3(markers) ? _setDefaults3(markers, _markerDefaults) : _markerDefaults;
        markerStartTrigger = _createMarker("scroller-start", id, scroller, direction, markerVars, 0);
        markerEndTrigger = _createMarker("scroller-end", id, scroller, direction, markerVars, 0, markerStartTrigger);
        offset = markerStartTrigger["offset" + direction.op.d2];
        markerStart = _createMarker("start", id, scroller, direction, markerVars, offset);
        markerEnd = _createMarker("end", id, scroller, direction, markerVars, offset);
        if (!useFixedPosition) {
          _makePositionable(scroller);
          gsap2.set([markerStartTrigger, markerEndTrigger], {
            force3D: true
          });
          markerStartSetter = gsap2.quickSetter(markerStartTrigger, direction.a, _px);
          markerEndSetter = gsap2.quickSetter(markerEndTrigger, direction.a, _px);
        }
      }
      self.revert = function(revert) {
        var r = revert !== false || !self.enabled, prevRefreshing = _refreshing;
        if (r !== isReverted) {
          if (r) {
            prevScroll = Math.max(self.scroll(), self.scroll.rec || 0);
            prevProgress = self.progress;
            prevAnimProgress = animation && animation.progress();
          }
          markerStart && [markerStart, markerEnd, markerStartTrigger, markerEndTrigger].forEach(function(m) {
            return m.style.display = r ? "none" : "block";
          });
          r && (_refreshing = 1);
          self.update(r);
          _refreshing = prevRefreshing;
          pin && (r ? _swapPinOut(pin, spacer, pinOriginalState) : (!pinReparent || !self.isActive) && _swapPinIn(pin, spacer, _getComputedStyle(pin), spacerState));
          isReverted = r;
        }
      };
      self.refresh = function(soft) {
        if (_refreshing || !self.enabled) {
          return;
        }
        if (pin && soft && _lastScrollTime) {
          _addListener(ScrollTrigger2, "scrollEnd", _softRefresh);
          return;
        }
        _refreshing = 1;
        scrubTween && scrubTween.kill();
        invalidateOnRefresh && animation && animation.progress(0).invalidate();
        isReverted || self.revert();
        var size = getScrollerSize(), scrollerBounds = getScrollerOffsets(), max = _maxScroll(scroller, direction), offset2 = 0, otherPinOffset = 0, parsedEnd = vars.end, parsedEndTrigger = vars.endTrigger || trigger, parsedStart = vars.start || (vars.start === 0 ? 0 : pin || !trigger ? "0 0" : "0 100%"), triggerIndex = trigger && Math.max(0, _triggers.indexOf(self)) || 0, i = triggerIndex, cs2, bounds, scroll, isVertical, override, curTrigger, curPin, oppositeScroll;
        while (i--) {
          curPin = _triggers[i].pin;
          curPin && (curPin === trigger || curPin === pin) && _triggers[i].revert();
        }
        start = _parsePosition3(parsedStart, trigger, size, direction, self.scroll(), markerStart, markerStartTrigger, self, scrollerBounds, borderWidth, useFixedPosition, max) || (pin ? -1e-3 : 0);
        _isFunction3(parsedEnd) && (parsedEnd = parsedEnd(self));
        if (_isString3(parsedEnd) && !parsedEnd.indexOf("+=")) {
          if (~parsedEnd.indexOf(" ")) {
            parsedEnd = (_isString3(parsedStart) ? parsedStart.split(" ")[0] : "") + parsedEnd;
          } else {
            offset2 = _offsetToPx(parsedEnd.substr(2), size);
            parsedEnd = _isString3(parsedStart) ? parsedStart : start + offset2;
            parsedEndTrigger = trigger;
          }
        }
        end = Math.max(start, _parsePosition3(parsedEnd || (parsedEndTrigger ? "100% 0" : max), parsedEndTrigger, size, direction, self.scroll() + offset2, markerEnd, markerEndTrigger, self, scrollerBounds, borderWidth, useFixedPosition, max)) || -1e-3;
        change = end - start || (start -= 0.01) && 1e-3;
        offset2 = 0;
        i = triggerIndex;
        while (i--) {
          curTrigger = _triggers[i];
          curPin = curTrigger.pin;
          if (curPin && curTrigger.start - curTrigger._pinPush < start) {
            cs2 = curTrigger.end - curTrigger.start;
            curPin === trigger && (offset2 += cs2);
            curPin === pin && (otherPinOffset += cs2);
          }
        }
        start += offset2;
        end += offset2;
        self._pinPush = otherPinOffset;
        if (markerStart && offset2) {
          cs2 = {};
          cs2[direction.a] = "+=" + offset2;
          gsap2.set([markerStart, markerEnd], cs2);
        }
        if (pin) {
          cs2 = _getComputedStyle(pin);
          isVertical = direction === _vertical;
          scroll = self.scroll();
          pinStart = parseFloat(pinGetter(direction.a)) + otherPinOffset;
          !max && end > 1 && ((isViewport ? _body : scroller).style["overflow-" + direction.a] = "scroll");
          _swapPinIn(pin, spacer, cs2);
          pinState = _getState(pin);
          bounds = _getBounds(pin, true);
          oppositeScroll = useFixedPosition && _getScrollFunc(scroller, isVertical ? _horizontal : _vertical)();
          if (pinSpacing) {
            spacerState = [pinSpacing + direction.os2, change + otherPinOffset + _px];
            spacerState.t = spacer;
            i = pinSpacing === _padding ? _getSize(pin, direction) + change + otherPinOffset : 0;
            i && spacerState.push(direction.d, i + _px);
            _setState(spacerState);
            useFixedPosition && self.scroll(prevScroll);
          }
          if (useFixedPosition) {
            override = {
              top: bounds.top + (isVertical ? scroll - start : oppositeScroll) + _px,
              left: bounds.left + (isVertical ? oppositeScroll : scroll - start) + _px,
              boxSizing: "border-box",
              position: "fixed"
            };
            override[_width] = override["max" + _Width] = Math.ceil(bounds.width) + _px;
            override[_height] = override["max" + _Height] = Math.ceil(bounds.height) + _px;
            override[_margin] = override[_margin + _Top] = override[_margin + _Right] = override[_margin + _Bottom] = override[_margin + _Left] = "0";
            override[_padding] = cs2[_padding];
            override[_padding + _Top] = cs2[_padding + _Top];
            override[_padding + _Right] = cs2[_padding + _Right];
            override[_padding + _Bottom] = cs2[_padding + _Bottom];
            override[_padding + _Left] = cs2[_padding + _Left];
            pinActiveState = _copyState(pinOriginalState, override, pinReparent);
          }
          if (animation) {
            animation.progress(1, true);
            pinChange = pinGetter(direction.a) - pinStart + change + otherPinOffset;
            change !== pinChange && pinActiveState.splice(pinActiveState.length - 2, 2);
            animation.progress(0, true);
          } else {
            pinChange = change;
          }
        } else if (trigger && self.scroll()) {
          bounds = trigger.parentNode;
          while (bounds && bounds !== _body) {
            if (bounds._pinOffset) {
              start -= bounds._pinOffset;
              end -= bounds._pinOffset;
            }
            bounds = bounds.parentNode;
          }
        }
        for (i = 0; i < triggerIndex; i++) {
          curTrigger = _triggers[i].pin;
          curTrigger && (curTrigger === trigger || curTrigger === pin) && _triggers[i].revert(false);
        }
        self.start = start;
        self.end = end;
        scroll1 = scroll2 = self.scroll();
        scroll1 < prevScroll && self.scroll(prevScroll);
        self.revert(false);
        _refreshing = 0;
        prevAnimProgress && isToggle && animation.progress(prevAnimProgress, true);
        if (prevProgress !== self.progress) {
          scrubTween && animation.totalProgress(prevProgress, true);
          self.progress = prevProgress;
          self.update();
        }
        pin && pinSpacing && (spacer._pinOffset = Math.round(self.progress * pinChange));
        onRefresh && onRefresh(self);
      };
      self.getVelocity = function() {
        return (self.scroll() - scroll2) / (_getTime() - _time2) * 1e3 || 0;
      };
      self.update = function(reset, recordVelocity) {
        var scroll = self.scroll(), p = reset ? 0 : (scroll - start) / change, clipped = p < 0 ? 0 : p > 1 ? 1 : p || 0, prevProgress2 = self.progress, isActive, wasActive, toggleState, action, stateChanged, toggled;
        if (recordVelocity) {
          scroll2 = scroll1;
          scroll1 = scroll;
          if (snap3) {
            snap22 = snap1;
            snap1 = animation && !isToggle ? animation.totalProgress() : clipped;
          }
        }
        anticipatePin && !clipped && pin && !_refreshing && !_startup && _lastScrollTime && start < scroll + (scroll - scroll2) / (_getTime() - _time2) * anticipatePin && (clipped = 1e-4);
        if (clipped !== prevProgress2 && self.enabled) {
          isActive = self.isActive = !!clipped && clipped < 1;
          wasActive = !!prevProgress2 && prevProgress2 < 1;
          toggled = isActive !== wasActive;
          stateChanged = toggled || !!clipped !== !!prevProgress2;
          self.direction = clipped > prevProgress2 ? 1 : -1;
          self.progress = clipped;
          if (!isToggle) {
            if (scrubTween && !_refreshing && !_startup) {
              scrubTween.vars.totalProgress = clipped;
              scrubTween.invalidate().restart();
            } else if (animation) {
              animation.totalProgress(clipped, !!_refreshing);
            }
          }
          if (pin) {
            reset && pinSpacing && (spacer.style[pinSpacing + direction.os2] = spacingStart);
            if (!useFixedPosition) {
              pinSetter(pinStart + pinChange * clipped);
            } else if (stateChanged) {
              action = !reset && clipped > prevProgress2 && end + 1 > scroll && scroll + 1 >= _maxScroll(scroller, direction);
              if (pinReparent) {
                if (!reset && (isActive || action)) {
                  var bounds = _getBounds(pin, true), _offset = scroll - start;
                  _reparent(pin, _body, bounds.top + (direction === _vertical ? _offset : 0) + _px, bounds.left + (direction === _vertical ? 0 : _offset) + _px);
                } else {
                  _reparent(pin, spacer);
                }
              }
              _setState(isActive || action ? pinActiveState : pinState);
              pinChange !== change && clipped < 1 && isActive || pinSetter(pinStart + (clipped === 1 && !action ? pinChange : 0));
            }
          }
          snap3 && !tweenTo.tween && !_refreshing && !_startup && snapDelayedCall.restart(true);
          toggleClass && (toggled || once && clipped && (clipped < 1 || !_limitCallbacks)) && _toArray(toggleClass.targets).forEach(function(el) {
            return el.classList[isActive || once ? "add" : "remove"](toggleClass.className);
          });
          onUpdate && !isToggle && !reset && onUpdate(self);
          if (stateChanged && !_refreshing) {
            toggleState = clipped && !prevProgress2 ? 0 : clipped === 1 ? 1 : prevProgress2 === 1 ? 2 : 3;
            if (isToggle) {
              action = !toggled && toggleActions[toggleState + 1] !== "none" && toggleActions[toggleState + 1] || toggleActions[toggleState];
              if (animation && (action === "complete" || action === "reset" || action in animation)) {
                if (action === "complete") {
                  animation.pause().totalProgress(1);
                } else if (action === "reset") {
                  animation.restart(true).pause();
                } else {
                  animation[action]();
                }
              }
              onUpdate && onUpdate(self);
            }
            if (toggled || !_limitCallbacks) {
              onToggle && toggled && onToggle(self);
              callbacks[toggleState] && callbacks[toggleState](self);
              once && (clipped === 1 ? self.kill(false, 1) : callbacks[toggleState] = 0);
              if (!toggled) {
                toggleState = clipped === 1 ? 1 : 3;
                callbacks[toggleState] && callbacks[toggleState](self);
              }
            }
          } else if (isToggle && onUpdate && !_refreshing) {
            onUpdate(self);
          }
        }
        if (markerEndSetter) {
          markerStartSetter(scroll + (markerStartTrigger._isFlipped ? 1 : 0));
          markerEndSetter(scroll);
        }
      };
      self.enable = function() {
        if (!self.enabled) {
          self.enabled = true;
          _addListener(scroller, "resize", _onResize);
          _addListener(scroller, "scroll", _onScroll);
          onRefreshInit && _addListener(ScrollTrigger2, "refreshInit", onRefreshInit);
          !animation || !animation.add ? self.refresh() : gsap2.delayedCall(0.01, function() {
            return start || end || self.refresh();
          }) && (change = 0.01) && (start = end = 0);
        }
      };
      self.disable = function(reset, allowAnimation) {
        if (self.enabled) {
          reset !== false && self.revert();
          self.enabled = self.isActive = false;
          allowAnimation || scrubTween && scrubTween.pause();
          prevScroll = 0;
          pinCache && (pinCache.uncache = 1);
          onRefreshInit && _removeListener(ScrollTrigger2, "refreshInit", onRefreshInit);
          if (snapDelayedCall) {
            snapDelayedCall.pause();
            tweenTo.tween && tweenTo.tween.kill() && (tweenTo.tween = 0);
          }
          if (!isViewport) {
            var i = _triggers.length;
            while (i--) {
              if (_triggers[i].scroller === scroller && _triggers[i] !== self) {
                return;
              }
            }
            _removeListener(scroller, "resize", _onResize);
            _removeListener(scroller, "scroll", _onScroll);
          }
        }
      };
      self.kill = function(revert, allowAnimation) {
        self.disable(revert, allowAnimation);
        id && delete _ids[id];
        var i = _triggers.indexOf(self);
        _triggers.splice(i, 1);
        i === _i && _direction > 0 && _i--;
        if (animation) {
          animation.scrollTrigger = null;
          revert && animation.render(-1);
          allowAnimation || animation.kill();
        }
        markerStart && [markerStart, markerEnd, markerStartTrigger, markerEndTrigger].forEach(function(m) {
          return m.parentNode.removeChild(m);
        });
        pinCache && (pinCache.uncache = 1);
      };
      self.enable();
    };
    ScrollTrigger2.register = function register(core) {
      if (!_coreInitted2) {
        gsap2 = core || _getGSAP();
        if (_windowExists5() && window.document) {
          _win3 = window;
          _doc3 = document;
          _docEl = _doc3.documentElement;
          _body = _doc3.body;
        }
        if (gsap2) {
          _toArray = gsap2.utils.toArray;
          _clamp3 = gsap2.utils.clamp;
          gsap2.core.globals("ScrollTrigger", ScrollTrigger2);
          if (_body) {
            _raf = _win3.requestAnimationFrame || function(f) {
              return setTimeout(f, 16);
            };
            _addListener(_win3, "mousewheel", _onScroll);
            _root = [_win3, _doc3, _docEl, _body];
            _addListener(_doc3, "scroll", _onScroll);
            var bodyStyle = _body.style, border = bodyStyle.borderTop, bounds;
            bodyStyle.borderTop = "1px solid #000";
            bounds = _getBounds(_body);
            _vertical.m = Math.round(bounds.top + _vertical.sc()) || 0;
            _horizontal.m = Math.round(bounds.left + _horizontal.sc()) || 0;
            border ? bodyStyle.borderTop = border : bodyStyle.removeProperty("border-top");
            _syncInterval = setInterval(_sync, 200);
            gsap2.delayedCall(0.5, function() {
              return _startup = 0;
            });
            _addListener(_doc3, "touchcancel", _passThrough3);
            _addListener(_body, "touchstart", _passThrough3);
            _multiListener(_addListener, _doc3, "pointerdown,touchstart,mousedown", function() {
              return _pointerIsDown = 1;
            });
            _multiListener(_addListener, _doc3, "pointerup,touchend,mouseup", function() {
              return _pointerIsDown = 0;
            });
            _transformProp2 = gsap2.utils.checkPrefix("transform");
            _stateProps.push(_transformProp2);
            _coreInitted2 = _getTime();
            _resizeDelay = gsap2.delayedCall(0.2, _refreshAll).pause();
            _autoRefresh = [_doc3, "visibilitychange", function() {
              var w = _win3.innerWidth, h = _win3.innerHeight;
              if (_doc3.hidden) {
                _prevWidth = w;
                _prevHeight = h;
              } else if (_prevWidth !== w || _prevHeight !== h) {
                _onResize();
              }
            }, _doc3, "DOMContentLoaded", _refreshAll, _win3, "load", function() {
              return _lastScrollTime || _refreshAll();
            }, _win3, "resize", _onResize];
            _iterateAutoRefresh(_addListener);
          }
        }
      }
      return _coreInitted2;
    };
    ScrollTrigger2.defaults = function defaults2(config3) {
      for (var p in config3) {
        _defaults2[p] = config3[p];
      }
    };
    ScrollTrigger2.kill = function kill() {
      _enabled = 0;
      _triggers.slice(0).forEach(function(trigger) {
        return trigger.kill(1);
      });
    };
    ScrollTrigger2.config = function config3(vars) {
      "limitCallbacks" in vars && (_limitCallbacks = !!vars.limitCallbacks);
      var ms = vars.syncInterval;
      ms && clearInterval(_syncInterval) || (_syncInterval = ms) && setInterval(_sync, ms);
      "autoRefreshEvents" in vars && (_iterateAutoRefresh(_removeListener) || _iterateAutoRefresh(_addListener, vars.autoRefreshEvents || "none"));
    };
    ScrollTrigger2.scrollerProxy = function scrollerProxy(target, vars) {
      var t = _toArray(target)[0];
      _isViewport(t) ? _proxies.unshift(_win3, vars, _body, vars, _docEl, vars) : _proxies.unshift(t, vars);
    };
    ScrollTrigger2.matchMedia = function matchMedia(vars) {
      var mq, p, i, func, result;
      for (p in vars) {
        i = _media.indexOf(p);
        func = vars[p];
        _creatingMedia = p;
        if (p === "all") {
          func();
        } else {
          mq = _win3.matchMedia(p);
          if (mq) {
            mq.matches && (result = func());
            if (~i) {
              _media[i + 1] = _combineFunc(_media[i + 1], func);
              _media[i + 2] = _combineFunc(_media[i + 2], result);
            } else {
              i = _media.length;
              _media.push(p, func, result);
              mq.addListener ? mq.addListener(_onMediaChange) : mq.addEventListener("change", _onMediaChange);
            }
            _media[i + 3] = mq.matches;
          }
        }
        _creatingMedia = 0;
      }
      return _media;
    };
    ScrollTrigger2.clearMatchMedia = function clearMatchMedia(query) {
      query || (_media.length = 0);
      query = _media.indexOf(query);
      query >= 0 && _media.splice(query, 4);
    };
    return ScrollTrigger2;
  }();
  ScrollTrigger.version = "3.5.1";
  ScrollTrigger.saveStyles = function(targets) {
    return targets ? _toArray(targets).forEach(function(target) {
      var i = _savedStyles.indexOf(target);
      i >= 0 && _savedStyles.splice(i, 4);
      _savedStyles.push(target, target.style.cssText, gsap2.core.getCache(target), _creatingMedia);
    }) : _savedStyles;
  };
  ScrollTrigger.revert = function(soft, media) {
    return _revertAll(!soft, media);
  };
  ScrollTrigger.create = function(vars, animation) {
    return new ScrollTrigger(vars, animation);
  };
  ScrollTrigger.refresh = function(safe) {
    return safe ? _onResize() : _refreshAll(true);
  };
  ScrollTrigger.update = _updateAll;
  ScrollTrigger.maxScroll = function(element, horizontal) {
    return _maxScroll(element, horizontal ? _horizontal : _vertical);
  };
  ScrollTrigger.getScrollFunc = function(element, horizontal) {
    return _getScrollFunc(_toArray(element)[0], horizontal ? _horizontal : _vertical);
  };
  ScrollTrigger.getById = function(id) {
    return _ids[id];
  };
  ScrollTrigger.getAll = function() {
    return _triggers.slice(0);
  };
  ScrollTrigger.isScrolling = function() {
    return !!_lastScrollTime;
  };
  ScrollTrigger.addEventListener = function(type, callback2) {
    var a = _listeners[type] || (_listeners[type] = []);
    ~a.indexOf(callback2) || a.push(callback2);
  };
  ScrollTrigger.removeEventListener = function(type, callback2) {
    var a = _listeners[type], i = a && a.indexOf(callback2);
    i >= 0 && a.splice(i, 1);
  };
  ScrollTrigger.batch = function(targets, vars) {
    var result = [], varsCopy = {}, interval = vars.interval || 0.016, batchMax = vars.batchMax || 1e9, proxyCallback = function proxyCallback2(type, callback2) {
      var elements = [], triggers = [], delay = gsap2.delayedCall(interval, function() {
        callback2(elements, triggers);
        elements = [];
        triggers = [];
      }).pause();
      return function(self) {
        elements.length || delay.restart(true);
        elements.push(self.trigger);
        triggers.push(self);
        batchMax <= elements.length && delay.progress(1);
      };
    }, p;
    for (p in vars) {
      varsCopy[p] = p.substr(0, 2) === "on" && _isFunction3(vars[p]) && p !== "onRefreshInit" ? proxyCallback(p, vars[p]) : vars[p];
    }
    if (_isFunction3(batchMax)) {
      batchMax = batchMax();
      _addListener(ScrollTrigger, "refresh", function() {
        return batchMax = vars.batchMax();
      });
    }
    _toArray(targets).forEach(function(target) {
      var config3 = {};
      for (p in varsCopy) {
        config3[p] = varsCopy[p];
      }
      config3.trigger = target;
      result.push(ScrollTrigger.create(config3));
    });
    return result;
  };
  ScrollTrigger.sort = function(func) {
    return _triggers.sort(func || function(a, b) {
      return (a.vars.refreshPriority || 0) * -1e6 + a.start - (b.start + (b.vars.refreshPriority || 0) * -1e6);
    });
  };
  _getGSAP() && gsap2.registerPlugin(ScrollTrigger);

  // node_modules/gsap/utils/strings.js
  var emojiExp = /([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;
  function getText(e) {
    var type = e.nodeType, result = "";
    if (type === 1 || type === 9 || type === 11) {
      if (typeof e.textContent === "string") {
        return e.textContent;
      } else {
        for (e = e.firstChild; e; e = e.nextSibling) {
          result += getText(e);
        }
      }
    } else if (type === 3 || type === 4) {
      return e.nodeValue;
    }
    return result;
  }

  // node_modules/gsap/SplitText.js
  var _doc4;
  var _win4;
  var _coreInitted3;
  var _stripExp = /(?:\r|\n|\t\t)/g;
  var _multipleSpacesExp = /(?:\s\s+)/g;
  var _initCore3 = function _initCore4() {
    _doc4 = document;
    _win4 = window;
    _coreInitted3 = 1;
  };
  var _bonusValidated = 1;
  var _getComputedStyle3 = function _getComputedStyle4(element) {
    return _win4.getComputedStyle(element);
  };
  var _isArray2 = Array.isArray;
  var _slice2 = [].slice;
  var _toArray2 = function _toArray3(value, leaveStrings) {
    var type;
    return _isArray2(value) ? value : (type = typeof value) === "string" && !leaveStrings && value ? _slice2.call(_doc4.querySelectorAll(value), 0) : value && type === "object" && "length" in value ? _slice2.call(value, 0) : value ? [value] : [];
  };
  var _isAbsolute = function _isAbsolute2(vars) {
    return vars.position === "absolute" || vars.absolute === true;
  };
  var _findSpecialChars = function _findSpecialChars2(text, chars) {
    var i = chars.length, s;
    while (--i > -1) {
      s = chars[i];
      if (text.substr(0, s.length) === s) {
        return s.length;
      }
    }
  };
  var _divStart = " style='position:relative;display:inline-block;'";
  var _cssClassFunc = function _cssClassFunc2(cssClass, tag) {
    if (cssClass === void 0) {
      cssClass = "";
    }
    var iterate = ~cssClass.indexOf("++"), num = 1;
    if (iterate) {
      cssClass = cssClass.split("++").join("");
    }
    return function() {
      return "<" + tag + _divStart + (cssClass ? " class='" + cssClass + (iterate ? num++ : "") + "'>" : ">");
    };
  };
  var _swapText = function _swapText2(element, oldText, newText) {
    var type = element.nodeType;
    if (type === 1 || type === 9 || type === 11) {
      for (element = element.firstChild; element; element = element.nextSibling) {
        _swapText2(element, oldText, newText);
      }
    } else if (type === 3 || type === 4) {
      element.nodeValue = element.nodeValue.split(oldText).join(newText);
    }
  };
  var _pushReversed = function _pushReversed2(a, merge) {
    var i = merge.length;
    while (--i > -1) {
      a.push(merge[i]);
    }
  };
  var _isBeforeWordDelimiter = function _isBeforeWordDelimiter2(e, root, wordDelimiter) {
    var next;
    while (e && e !== root) {
      next = e._next || e.nextSibling;
      if (next) {
        return next.textContent.charAt(0) === wordDelimiter;
      }
      e = e.parentNode || e._parent;
    }
  };
  var _deWordify = function _deWordify2(e) {
    var children = _toArray2(e.childNodes), l = children.length, i, child;
    for (i = 0; i < l; i++) {
      child = children[i];
      if (child._isSplit) {
        _deWordify2(child);
      } else {
        if (i && child.previousSibling.nodeType === 3) {
          child.previousSibling.nodeValue += child.nodeType === 3 ? child.nodeValue : child.firstChild.nodeValue;
        } else if (child.nodeType !== 3) {
          e.insertBefore(child.firstChild, child);
        }
        e.removeChild(child);
      }
    }
  };
  var _getStyleAsNumber = function _getStyleAsNumber2(name, computedStyle) {
    return parseFloat(computedStyle[name]) || 0;
  };
  var _setPositionsAfterSplit = function _setPositionsAfterSplit2(element, vars, allChars, allWords, allLines, origWidth, origHeight) {
    var cs = _getComputedStyle3(element), paddingLeft = _getStyleAsNumber("paddingLeft", cs), lineOffsetY = -999, borderTopAndBottom = _getStyleAsNumber("borderBottomWidth", cs) + _getStyleAsNumber("borderTopWidth", cs), borderLeftAndRight = _getStyleAsNumber("borderLeftWidth", cs) + _getStyleAsNumber("borderRightWidth", cs), padTopAndBottom = _getStyleAsNumber("paddingTop", cs) + _getStyleAsNumber("paddingBottom", cs), padLeftAndRight = _getStyleAsNumber("paddingLeft", cs) + _getStyleAsNumber("paddingRight", cs), lineThreshold = _getStyleAsNumber("fontSize", cs) * (vars.lineThreshold || 0.2), textAlign = cs.textAlign, charArray = [], wordArray = [], lineArray = [], wordDelimiter = vars.wordDelimiter || " ", tag = vars.tag ? vars.tag : vars.span ? "span" : "div", types = vars.type || vars.split || "chars,words,lines", lines = allLines && ~types.indexOf("lines") ? [] : null, words = ~types.indexOf("words"), chars = ~types.indexOf("chars"), absolute = _isAbsolute(vars), linesClass = vars.linesClass, iterateLine = ~(linesClass || "").indexOf("++"), spaceNodesToRemove = [], i, j, l, node, nodes, isChild, curLine, addWordSpaces, style, lineNode, lineWidth, offset;
    if (iterateLine) {
      linesClass = linesClass.split("++").join("");
    }
    j = element.getElementsByTagName("*");
    l = j.length;
    nodes = [];
    for (i = 0; i < l; i++) {
      nodes[i] = j[i];
    }
    if (lines || absolute) {
      for (i = 0; i < l; i++) {
        node = nodes[i];
        isChild = node.parentNode === element;
        if (isChild || absolute || chars && !words) {
          offset = node.offsetTop;
          if (lines && isChild && Math.abs(offset - lineOffsetY) > lineThreshold && (node.nodeName !== "BR" || i === 0)) {
            curLine = [];
            lines.push(curLine);
            lineOffsetY = offset;
          }
          if (absolute) {
            node._x = node.offsetLeft;
            node._y = offset;
            node._w = node.offsetWidth;
            node._h = node.offsetHeight;
          }
          if (lines) {
            if (node._isSplit && isChild || !chars && isChild || words && isChild || !words && node.parentNode.parentNode === element && !node.parentNode._isSplit) {
              curLine.push(node);
              node._x -= paddingLeft;
              if (_isBeforeWordDelimiter(node, element, wordDelimiter)) {
                node._wordEnd = true;
              }
            }
            if (node.nodeName === "BR" && (node.nextSibling && node.nextSibling.nodeName === "BR" || i === 0)) {
              lines.push([]);
            }
          }
        }
      }
    }
    for (i = 0; i < l; i++) {
      node = nodes[i];
      isChild = node.parentNode === element;
      if (node.nodeName === "BR") {
        if (lines || absolute) {
          node.parentNode && node.parentNode.removeChild(node);
          nodes.splice(i--, 1);
          l--;
        } else if (!words) {
          element.appendChild(node);
        }
        continue;
      }
      if (absolute) {
        style = node.style;
        if (!words && !isChild) {
          node._x += node.parentNode._x;
          node._y += node.parentNode._y;
        }
        style.left = node._x + "px";
        style.top = node._y + "px";
        style.position = "absolute";
        style.display = "block";
        style.width = node._w + 1 + "px";
        style.height = node._h + "px";
      }
      if (!words && chars) {
        if (node._isSplit) {
          node._next = node.nextSibling;
          node.parentNode.appendChild(node);
        } else if (node.parentNode._isSplit) {
          node._parent = node.parentNode;
          if (!node.previousSibling && node.firstChild) {
            node.firstChild._isFirst = true;
          }
          if (node.nextSibling && node.nextSibling.textContent === " " && !node.nextSibling.nextSibling) {
            spaceNodesToRemove.push(node.nextSibling);
          }
          node._next = node.nextSibling && node.nextSibling._isFirst ? null : node.nextSibling;
          node.parentNode.removeChild(node);
          nodes.splice(i--, 1);
          l--;
        } else if (!isChild) {
          offset = !node.nextSibling && _isBeforeWordDelimiter(node.parentNode, element, wordDelimiter);
          if (node.parentNode._parent) {
            node.parentNode._parent.appendChild(node);
          }
          offset && node.parentNode.appendChild(_doc4.createTextNode(" "));
          if (tag === "span") {
            node.style.display = "inline";
          }
          charArray.push(node);
        }
      } else if (node.parentNode._isSplit && !node._isSplit && node.innerHTML !== "") {
        wordArray.push(node);
      } else if (chars && !node._isSplit) {
        if (tag === "span") {
          node.style.display = "inline";
        }
        charArray.push(node);
      }
    }
    i = spaceNodesToRemove.length;
    while (--i > -1) {
      spaceNodesToRemove[i].parentNode.removeChild(spaceNodesToRemove[i]);
    }
    if (lines) {
      if (absolute) {
        lineNode = _doc4.createElement(tag);
        element.appendChild(lineNode);
        lineWidth = lineNode.offsetWidth + "px";
        offset = lineNode.offsetParent === element ? 0 : element.offsetLeft;
        element.removeChild(lineNode);
      }
      style = element.style.cssText;
      element.style.cssText = "display:none;";
      while (element.firstChild) {
        element.removeChild(element.firstChild);
      }
      addWordSpaces = wordDelimiter === " " && (!absolute || !words && !chars);
      for (i = 0; i < lines.length; i++) {
        curLine = lines[i];
        lineNode = _doc4.createElement(tag);
        lineNode.style.cssText = "display:block;text-align:" + textAlign + ";position:" + (absolute ? "absolute;" : "relative;");
        if (linesClass) {
          lineNode.className = linesClass + (iterateLine ? i + 1 : "");
        }
        lineArray.push(lineNode);
        l = curLine.length;
        for (j = 0; j < l; j++) {
          if (curLine[j].nodeName !== "BR") {
            node = curLine[j];
            lineNode.appendChild(node);
            addWordSpaces && node._wordEnd && lineNode.appendChild(_doc4.createTextNode(" "));
            if (absolute) {
              if (j === 0) {
                lineNode.style.top = node._y + "px";
                lineNode.style.left = paddingLeft + offset + "px";
              }
              node.style.top = "0px";
              if (offset) {
                node.style.left = node._x - offset + "px";
              }
            }
          }
        }
        if (l === 0) {
          lineNode.innerHTML = "&nbsp;";
        } else if (!words && !chars) {
          _deWordify(lineNode);
          _swapText(lineNode, String.fromCharCode(160), " ");
        }
        if (absolute) {
          lineNode.style.width = lineWidth;
          lineNode.style.height = node._h + "px";
        }
        element.appendChild(lineNode);
      }
      element.style.cssText = style;
    }
    if (absolute) {
      if (origHeight > element.clientHeight) {
        element.style.height = origHeight - padTopAndBottom + "px";
        if (element.clientHeight < origHeight) {
          element.style.height = origHeight + borderTopAndBottom + "px";
        }
      }
      if (origWidth > element.clientWidth) {
        element.style.width = origWidth - padLeftAndRight + "px";
        if (element.clientWidth < origWidth) {
          element.style.width = origWidth + borderLeftAndRight + "px";
        }
      }
    }
    _pushReversed(allChars, charArray);
    if (words) {
      _pushReversed(allWords, wordArray);
    }
    _pushReversed(allLines, lineArray);
  };
  var _splitRawText = function _splitRawText2(element, vars, wordStart, charStart) {
    var tag = vars.tag ? vars.tag : vars.span ? "span" : "div", types = vars.type || vars.split || "chars,words,lines", chars = ~types.indexOf("chars"), absolute = _isAbsolute(vars), wordDelimiter = vars.wordDelimiter || " ", space = wordDelimiter !== " " ? "" : absolute ? "&#173; " : " ", wordEnd = "</" + tag + ">", wordIsOpen = 1, specialChars = vars.specialChars ? typeof vars.specialChars === "function" ? vars.specialChars : _findSpecialChars : null, text, splitText, i, j, l, character, hasTagStart, testResult, container = _doc4.createElement("div"), parent = element.parentNode;
    parent.insertBefore(container, element);
    container.textContent = element.nodeValue;
    parent.removeChild(element);
    element = container;
    text = getText(element);
    hasTagStart = text.indexOf("<") !== -1;
    if (vars.reduceWhiteSpace !== false) {
      text = text.replace(_multipleSpacesExp, " ").replace(_stripExp, "");
    }
    if (hasTagStart) {
      text = text.split("<").join("{{LT}}");
    }
    l = text.length;
    splitText = (text.charAt(0) === " " ? space : "") + wordStart();
    for (i = 0; i < l; i++) {
      character = text.charAt(i);
      if (specialChars && (testResult = specialChars(text.substr(i), vars.specialChars))) {
        character = text.substr(i, testResult || 1);
        splitText += chars && character !== " " ? charStart() + character + "</" + tag + ">" : character;
        i += testResult - 1;
      } else if (character === wordDelimiter && text.charAt(i - 1) !== wordDelimiter && i) {
        splitText += wordIsOpen ? wordEnd : "";
        wordIsOpen = 0;
        while (text.charAt(i + 1) === wordDelimiter) {
          splitText += space;
          i++;
        }
        if (i === l - 1) {
          splitText += space;
        } else if (text.charAt(i + 1) !== ")") {
          splitText += space + wordStart();
          wordIsOpen = 1;
        }
      } else if (character === "{" && text.substr(i, 6) === "{{LT}}") {
        splitText += chars ? charStart() + "{{LT}}</" + tag + ">" : "{{LT}}";
        i += 5;
      } else if (character.charCodeAt(0) >= 55296 && character.charCodeAt(0) <= 56319 || text.charCodeAt(i + 1) >= 65024 && text.charCodeAt(i + 1) <= 65039) {
        j = ((text.substr(i, 12).split(emojiExp) || [])[1] || "").length || 2;
        splitText += chars && character !== " " ? charStart() + text.substr(i, j) + "</" + tag + ">" : text.substr(i, j);
        i += j - 1;
      } else {
        splitText += chars && character !== " " ? charStart() + character + "</" + tag + ">" : character;
      }
    }
    element.outerHTML = splitText + (wordIsOpen ? wordEnd : "");
    if (hasTagStart) {
      _swapText(parent, "{{LT}}", "<");
    }
  };
  var _split = function _split2(element, vars, wordStart, charStart) {
    var children = _toArray2(element.childNodes), l = children.length, absolute = _isAbsolute(vars), i, child;
    if (element.nodeType !== 3 || l > 1) {
      vars.absolute = false;
      for (i = 0; i < l; i++) {
        child = children[i];
        if (child.nodeType !== 3 || /\S+/.test(child.nodeValue)) {
          if (absolute && child.nodeType !== 3 && _getComputedStyle3(child).display === "inline") {
            child.style.display = "inline-block";
            child.style.position = "relative";
          }
          child._isSplit = true;
          _split2(child, vars, wordStart, charStart);
        }
      }
      vars.absolute = absolute;
      element._isSplit = true;
      return;
    }
    _splitRawText(element, vars, wordStart, charStart);
  };
  var SplitText = /* @__PURE__ */ function() {
    function SplitText2(element, vars) {
      _coreInitted3 || _initCore3();
      this.elements = _toArray2(element);
      this.chars = [];
      this.words = [];
      this.lines = [];
      this._originals = [];
      this.vars = vars || {};
      _bonusValidated && this.split(vars);
    }
    var _proto = SplitText2.prototype;
    _proto.split = function split(vars) {
      this.isSplit && this.revert();
      this.vars = vars = vars || this.vars;
      this._originals.length = this.chars.length = this.words.length = this.lines.length = 0;
      var i = this.elements.length, tag = vars.tag ? vars.tag : vars.span ? "span" : "div", wordStart = _cssClassFunc(vars.wordsClass, tag), charStart = _cssClassFunc(vars.charsClass, tag), origHeight, origWidth, e;
      while (--i > -1) {
        e = this.elements[i];
        this._originals[i] = e.innerHTML;
        origHeight = e.clientHeight;
        origWidth = e.clientWidth;
        _split(e, vars, wordStart, charStart);
        _setPositionsAfterSplit(e, vars, this.chars, this.words, this.lines, origWidth, origHeight);
      }
      this.chars.reverse();
      this.words.reverse();
      this.lines.reverse();
      this.isSplit = true;
      return this;
    };
    _proto.revert = function revert() {
      var originals = this._originals;
      if (!originals) {
        throw "revert() call wasn't scoped properly.";
      }
      this.elements.forEach(function(e, i) {
        return e.innerHTML = originals[i];
      });
      this.chars = [];
      this.words = [];
      this.lines = [];
      this.isSplit = false;
      return this;
    };
    SplitText2.create = function create(element, vars) {
      return new SplitText2(element, vars);
    };
    return SplitText2;
  }();
  SplitText.version = "3.5.1";

  // src/lib/polyfills.js
  var polyfills = [];
  "fetch" in window || polyfills.push("fetch");
  "Promise" in window || polyfills.push("Promise");
  "IntersectionObserver" in window || polyfills.push("IntersectionObserver");
  "IntersectionObserverEntry" in window || polyfills.push("IntersectionObserverEntry");
  "ResizeObserver" in window || polyfills.push("ResizeObserver");
  "URLSearchParams" in window || polyfills.push("URLSearchParams");
  "requestIdleCallback" in window || polyfills.push("requestIdleCallback");
  "assign" in Object || polyfills.push("Object.assign");
  "from" in Array || polyfills.push("Array.from");
  "find" in Array.prototype || polyfills.push("Array.prototype.find");
  "includes" in Array.prototype || polyfills.push("Array.prototype.includes");
  "forEach" in NodeList.prototype || polyfills.push("NodeList.prototype.forEach");
  "closest" in Element.prototype || polyfills.push("Element.prototype.closest");
  "prepend" in Element.prototype || polyfills.push("Element.prototype.prepend");
  "append" in Element.prototype || polyfills.push("Element.prototype.append");
  "remove" in Element.prototype || polyfills.push("Element.prototype.remove");
  var polyfills_default = polyfills;

  // src/modules/accordion.js
  function accordion_default(node) {
    const props = toJSON(node.dataset.props || "");
    const items = findAll(".accordion-heading", node).map((el) => {
      const trigger = el.firstElementChild;
      const content = el.nextElementSibling;
      return { trigger, content, expanded: false };
    });
    function expand(item) {
      attr(item.trigger, "aria-expanded", "true");
      attr(item.content, "aria-hidden", "false");
      item.expanded = true;
    }
    function collapse(item) {
      attr(item.trigger, "aria-expanded", "false");
      attr(item.content, "aria-hidden", "true");
      item.expanded = false;
    }
    function click(event) {
      const item = items.find((item2) => item2.trigger === event.target);
      if (!item)
        return;
      if (!props.multiple)
        items.filter((o) => o.expanded && o !== item).forEach(collapse);
      item.expanded ? collapse(item) : expand(item);
      resize();
    }
    function resize() {
      items.forEach(({ expanded, content }) => {
        content.style.maxHeight = expanded ? `${content.scrollHeight}px` : null;
      });
    }
    if (items[props.initial]) {
      expand(items[props.initial]);
    }
    node.addEventListener("click", click);
    window.addEventListener("resize", resize);
    resize();
    return () => {
      node.removeEventListener("click", click);
      window.removeEventListener("resize", resize);
    };
  }

  // src/modules/lazyload.js
  var io;
  function lazyload_default(node) {
    io != null ? io : io = new IntersectionObserver(callback, { rootMargin: "100%" });
    io.observe(node);
    return () => io.unobserve(node);
  }
  function callback(entries) {
    entries.forEach((e) => e.isIntersecting && load(e.target));
  }
  function load(el) {
    const { src, srcset, sizes } = el.dataset;
    el.removeAttribute("data-src");
    io.unobserve(el);
    switch (el.tagName.toLowerCase()) {
      case "img":
      case "video":
      case "iframe":
        el.src = src;
        if (srcset) {
          el.srcset = srcset;
          el.removeAttribute("data-srcset");
        }
        if (sizes) {
          el.sizes = sizes;
          el.removeAttribute("data-sizes");
        }
        break;
      default:
        el.style.backgroundImage = `url(${src})`;
    }
  }

  // src/lib/Component.js
  var Component_default = class {
    constructor(el) {
      bind(this);
      this.el = isString(el) ? findOne(el) : el;
      this.ui = {};
      const props = this.el.dataset.props;
      this.props = props ? toJSON(props) : {};
    }
    get width() {
      return this.el.offsetWidth;
    }
    get height() {
      return this.el.offsetHeight;
    }
    findOne(s) {
      return findOne(s, this.el);
    }
    findAll(s) {
      return findAll(s, this.el);
    }
    destroy() {
    }
  };

  // src/modules/Hero.js
  var Hero_default = class extends Component_default {
    constructor(el) {
      super(el);
      console.log("Hero", this.props);
      const video = html`<video src="${this.props.video}" class="absolute fill pin fit-cover" loop muted autoplay playsinline></video>`;
      this.el.prepend(video);
    }
    destroy() {
    }
  };

  // src/modules/Nav.js
  var Nav_default = class extends Component_default {
    constructor(el) {
      super(el);
      on("click", ".nav-toggle", this.onToggleClick);
      on("click", ".nav-item.has-submenu > :where(a, button)", this.onItemClick);
      document.addEventListener("click", this.onClickOutside);
    }
    onItemClick(event) {
      event.preventDefault();
      const button = event.target;
      const active = attr(button, "aria-expanded") === "true";
      attr(button, "aria-expanded", active ? "false" : "true");
      this.current && attr(this.current, "aria-expanded", "false");
      this.current = active ? null : button;
    }
    onToggleClick(event) {
      const expanded = attr(event.target, "aria-expanded") === "true";
      attr(event.target, "aria-expanded", expanded ? "false" : "true");
    }
    onClickOutside(event) {
      if (!this.current || event.target.closest(".nav-item"))
        return;
      attr(this.current, "aria-expanded", "false");
      this.current = null;
    }
  };

  // src/modules/index.js
  var modules_default = {
    ".nav": Nav_default,
    ".hero": Hero_default,
    ".accordion": accordion_default,
    "[data-src]": lazyload_default
  };

  // src/lib/mount.js
  function mount_default(modules, parent = document) {
    Object.entries(modules).forEach(([selector, module]) => {
      const invoke = isClass(module) ? (node) => new module(node) : (node) => module.call(node, node);
      findAll(selector, parent).forEach(invoke);
    });
  }

  // src/index.js
  var import_isotope_layout = __toESM(require_isotope());

  // src/lib/hello.js
  navigator.userAgent.toLowerCase().match(/chrome|firefox/) ? console.log.apply(console, [
    "\n%c  Site by TMBR  %c  https://wearetmbr.com  \n",
    "display: inline-block; color: #FFFFFF; background: #FF6600; font-size: 11px; line-height: 25px; font-weight: bold;",
    "display: inline-block; color: #FFFFFF; background: #23221F; font-size: 11px; line-height: 25px;"
  ]) : console.log("Site by TMBR \u2022 https://wearetmbr.com");

  // src/lib/icons.js
  var svg = findOne("svg[data-icons]");
  var ids = svg.innerHTML.match(/id="icon:[a-z0-9-]+/g).map((s) => s.replace('id="icon:', ""));
  window.site.icons = ids.reduce((result, key) => {
    result[key] = `<svg class="icon icon:${key}"><use xlink:href="#icon:${key}"></use></svg>`;
    return result;
  }, {});

  // src/index.js
  gsapWithCSS.registerPlugin(ScrollTrigger);
  console.log("jQuery", window.jQuery === window.$);
  jQuery(function($2) {
    console.log("jQuery", $2.fn.jquery);
  });
  var html2 = document.documentElement;
  var body = document.body;
  function init4() {
    const mq = window.matchMedia("(hover: none), (pointer: coarse)");
    html2.classList.add(mq.matches ? "has-touch" : "has-hover");
    html2.classList.replace("loading", "loaded");
    const banner = findOne(".site-banner");
    const header = findOne(".site-header");
    ro(body, () => {
      prop(html2, "--vh", `${window.innerHeight * 0.01}px`);
      prop(html2, "--banner-height", `${banner ? banner.offsetHeight : 0}px`);
      prop(html2, "--header-height", `${header ? header.offsetHeight : 0}px`);
    });
    mount_default(modules_default);
  }
  if (polyfills_default.length) {
    const script = document.createElement("script");
    script.src = `//polyfill.io/v3/polyfill.min.js?features=${polyfills_default.join(",")}&flags=gated&ua=${window.navigator.userAgent}`;
    script.onload = init4;
    body.appendChild(script);
  } else {
    init4();
  }
  jQuery(document).ready(function($2) {
    $2(".internal-template").scroll(function() {
      if ($2(".internal-template").scrollTop() > 30) {
        $2(".js-nav-scroll").addClass("scrolled");
      } else {
        $2(".js-nav-scroll").removeClass("scrolled");
      }
    });
    $2('.content iframe[src*="youtube"],iframe[src*="vimeo"]').wrap("<div class='video-frame'/>");
    var tl = gsapWithCSS.timeline(), mySplitText = new SplitText("#loader-heading", { type: "words,chars" }), chars = mySplitText.chars;
    gsapWithCSS.set("#loader-heading", { perspective: 400 });
    tl.from(chars, { duration: 0.5, opacity: 0, scale: 0.9, y: 10, delay: 1, transformOrigin: "0% 50% -50", ease: "easeInOut", stagger: 0.03 }, "+=0");
    var tl2 = gsapWithCSS.timeline(), mySplitText = new SplitText("#intro-title", { type: "words,chars" }), chars = mySplitText.chars;
    gsapWithCSS.set("#intro-title", { perspective: 400 });
    tl2.from(chars, { duration: 0.3, opacity: 0, scale: 0.9, y: 10, delay: 0.5, transformOrigin: "0% 50% -50", ease: "easeInOut", stagger: 0.02 }, "+=0");
    $2(".js-hamburger-toggle").on("click", function(e) {
      e.preventDefault();
      $2(".navbar-hamburger").toggleClass("-collapsed");
      $2(".navbar-menu").toggleClass("-open");
    });
    if ($2(window).width() < 992) {
      $2(".parent-menu > .menu-item-has-children > a").on("click", function(e) {
        if ($2(this).parent().hasClass("-open")) {
        } else {
          e.preventDefault();
          $2(".sub-menu").removeClass("-open");
          $2(".menu-item-has-children").removeClass("-open");
          $2(this).toggleClass("-open");
          $2(this).parent().toggleClass("-open");
          $2(this).parent().children("ul").toggleClass("-open");
        }
      });
    }
    $2(".js-flex-gallery-img").magnificPopup({
      type: "image",
      gallery: {
        enabled: true
      },
      titleSrc: function(item) {
        return item.el.attr("title");
      }
    });
    $2("a").each(function() {
      var a = new RegExp("/" + window.location.host + "/");
      if (!a.test(this.href)) {
        $2(this).attr("target", "_blank");
      }
    });
    var warp = $2("#image-warp");
    if (warp.length > 0) {
      let hoverImage = function() {
        let parent = document.getElementById("image-warp");
        let overlay = document.getElementById("overlay");
        let background = document.getElementById("background");
        const overlayH = overlay.clientHeight;
        const overlayW = overlay.clientWidth;
        const bgH = background.clientHeight;
        const bgW = background.clientWidth;
        parent.addEventListener("mousemove", handleOverlay);
        parent.addEventListener("mousemove", handleBackground);
        function handleOverlay(e) {
          const oxVal = e.layerX;
          const oyVal = e.layerY;
          const oyRotation = 6 * ((oxVal - overlayW / 2) / overlayW);
          const oxRotation = -6 * ((oyVal - overlayH / 2) / overlayH);
          const ostring = "perspective(500px) scale(1.1) rotateX(" + oxRotation + "deg) rotateY(" + oyRotation + "deg)";
          overlay.style.transform = ostring;
        }
        function handleBackground(e) {
          const bxVal = e.layerX;
          const byVal = e.layerY;
          const byRotation = 3 * ((bxVal - bgW / 2) / bgW);
          const bxRotation = -3 * ((byVal - bgH / 2) / bgH);
          const bstring = "perspective(500px) scale(1.1) rotateX(" + bxRotation + "deg) rotateY(" + byRotation + "deg)";
          background.style.transform = bstring;
        }
        parent.addEventListener("mouseout", function() {
          overlay.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
          background.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
        });
        parent.addEventListener("mousedown", function() {
          overlay.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
          background.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
        });
        parent.addEventListener("mouseup", function() {
          overlay.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
          background.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
        });
      };
      ;
      hoverImage();
    }
  });
  $(window).on("load", function() {
    $(".js-mosaic-gallery").each((i, item) => {
      new import_isotope_layout.default(item, {
        itemSelector: ".mosaic-image",
        percentPosition: true
        // masonry: {
        //   // use outer width of grid-sizer for columnWidth
        //   columnWidth: 20,
        //   gutter: 20,
        //   fitWidth: true
        // }
      });
    });
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        entry.isIntersecting && requestAnimationFrame(() => {
          entry.target.classList.add("animate");
          observer.unobserve(entry.target);
        });
      });
    });
    findAll("[data-animate]").forEach((el) => {
      observer.observe(el);
    });
    setTimeout(function() {
      $("#site-loader").addClass("-loaded");
    });
  });
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL2V2LWVtaXR0ZXIvZXYtZW1pdHRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvZ2V0LXNpemUvZ2V0LXNpemUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2Rlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3Rvci5qcyIsICIuLi9ub2RlX21vZHVsZXMvZml6enktdWktdXRpbHMvdXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL291dGxheWVyL2l0ZW0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL291dGxheWVyL291dGxheWVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pc290b3BlLWxheW91dC9qcy9pdGVtLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pc290b3BlLWxheW91dC9qcy9sYXlvdXQtbW9kZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWFzb25yeS1sYXlvdXQvbWFzb25yeS5qcyIsICIuLi9ub2RlX21vZHVsZXMvaXNvdG9wZS1sYXlvdXQvanMvbGF5b3V0LW1vZGVzL21hc29ucnkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2lzb3RvcGUtbGF5b3V0L2pzL2xheW91dC1tb2Rlcy9maXQtcm93cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvaXNvdG9wZS1sYXlvdXQvanMvbGF5b3V0LW1vZGVzL3ZlcnRpY2FsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pc290b3BlLWxheW91dC9qcy9pc290b3BlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvcHJvcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL3RvSlNPTi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL2lzQm9vbGVhbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL2F0dHIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B0bWJyL3V0aWxzL2xpYi9pc0Z1bmN0aW9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvYmluZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL2lzU3RyaW5nLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvZmluZEFsbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL2ZpbmRPbmUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B0bWJyL3V0aWxzL2xpYi9odG1sLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvaXNDbGFzcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL29uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvcm8uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2dzYXAvZ3NhcC1jb3JlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9nc2FwL0NTU1BsdWdpbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvZ3NhcC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZ3NhcC9TY3JvbGxUcmlnZ2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9nc2FwL3V0aWxzL3N0cmluZ3MuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2dzYXAvU3BsaXRUZXh0LmpzIiwgIi4uL3NyYy9saWIvcG9seWZpbGxzLmpzIiwgIi4uL3NyYy9tb2R1bGVzL2FjY29yZGlvbi5qcyIsICIuLi9zcmMvbW9kdWxlcy9sYXp5bG9hZC5qcyIsICIuLi9zcmMvbGliL0NvbXBvbmVudC5qcyIsICIuLi9zcmMvbW9kdWxlcy9IZXJvLmpzIiwgIi4uL3NyYy9tb2R1bGVzL05hdi5qcyIsICIuLi9zcmMvbW9kdWxlcy9pbmRleC5qcyIsICIuLi9zcmMvbGliL21vdW50LmpzIiwgIi4uL3NyYy9pbmRleC5qcyIsICIuLi9zcmMvbGliL2hlbGxvLmpzIiwgIi4uL3NyYy9saWIvaWNvbnMuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogRXZFbWl0dGVyIHYxLjEuMFxuICogTGlsJyBldmVudCBlbWl0dGVyXG4gKiBNSVQgTGljZW5zZVxuICovXG5cbi8qIGpzaGludCB1bnVzZWQ6IHRydWUsIHVuZGVmOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLyogZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgd2luZG93ICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EIC0gUmVxdWlyZUpTXG4gICAgZGVmaW5lKCBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlMgLSBCcm93c2VyaWZ5LCBXZWJwYWNrXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgZ2xvYmFsLkV2RW1pdHRlciA9IGZhY3RvcnkoKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBFdkVtaXR0ZXIoKSB7fVxuXG52YXIgcHJvdG8gPSBFdkVtaXR0ZXIucHJvdG90eXBlO1xuXG5wcm90by5vbiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBzZXQgZXZlbnRzIGhhc2hcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgLy8gc2V0IGxpc3RlbmVycyBhcnJheVxuICB2YXIgbGlzdGVuZXJzID0gZXZlbnRzWyBldmVudE5hbWUgXSA9IGV2ZW50c1sgZXZlbnROYW1lIF0gfHwgW107XG4gIC8vIG9ubHkgYWRkIG9uY2VcbiAgaWYgKCBsaXN0ZW5lcnMuaW5kZXhPZiggbGlzdGVuZXIgKSA9PSAtMSApIHtcbiAgICBsaXN0ZW5lcnMucHVzaCggbGlzdGVuZXIgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub25jZSA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBhZGQgZXZlbnRcbiAgdGhpcy5vbiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICAvLyBzZXQgb25jZSBmbGFnXG4gIC8vIHNldCBvbmNlRXZlbnRzIGhhc2hcbiAgdmFyIG9uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyB8fCB7fTtcbiAgLy8gc2V0IG9uY2VMaXN0ZW5lcnMgb2JqZWN0XG4gIHZhciBvbmNlTGlzdGVuZXJzID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSB8fCB7fTtcbiAgLy8gc2V0IGZsYWdcbiAgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXSA9IHRydWU7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5vZmYgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApO1xuICBpZiAoIGluZGV4ICE9IC0xICkge1xuICAgIGxpc3RlbmVycy5zcGxpY2UoIGluZGV4LCAxICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLmVtaXRFdmVudCA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGFyZ3MgKSB7XG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcbiAgaWYgKCAhbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBjb3B5IG92ZXIgdG8gYXZvaWQgaW50ZXJmZXJlbmNlIGlmIC5vZmYoKSBpbiBsaXN0ZW5lclxuICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoMCk7XG4gIGFyZ3MgPSBhcmdzIHx8IFtdO1xuICAvLyBvbmNlIHN0dWZmXG4gIHZhciBvbmNlTGlzdGVuZXJzID0gdGhpcy5fb25jZUV2ZW50cyAmJiB0aGlzLl9vbmNlRXZlbnRzWyBldmVudE5hbWUgXTtcblxuICBmb3IgKCB2YXIgaT0wOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXVxuICAgIHZhciBpc09uY2UgPSBvbmNlTGlzdGVuZXJzICYmIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF07XG4gICAgaWYgKCBpc09uY2UgKSB7XG4gICAgICAvLyByZW1vdmUgbGlzdGVuZXJcbiAgICAgIC8vIHJlbW92ZSBiZWZvcmUgdHJpZ2dlciB0byBwcmV2ZW50IHJlY3Vyc2lvblxuICAgICAgdGhpcy5vZmYoIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcbiAgICAgIC8vIHVuc2V0IG9uY2UgZmxhZ1xuICAgICAgZGVsZXRlIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF07XG4gICAgfVxuICAgIC8vIHRyaWdnZXIgbGlzdGVuZXJcbiAgICBsaXN0ZW5lci5hcHBseSggdGhpcywgYXJncyApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5hbGxPZmYgPSBmdW5jdGlvbigpIHtcbiAgZGVsZXRlIHRoaXMuX2V2ZW50cztcbiAgZGVsZXRlIHRoaXMuX29uY2VFdmVudHM7XG59O1xuXG5yZXR1cm4gRXZFbWl0dGVyO1xuXG59KSk7XG4iLCAiLyohXG4gKiBnZXRTaXplIHYyLjAuM1xuICogbWVhc3VyZSBzaXplIG9mIGVsZW1lbnRzXG4gKiBNSVQgbGljZW5zZVxuICovXG5cbi8qIGpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUgKi9cbi8qIGdsb2JhbHMgY29uc29sZTogZmFsc2UgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5nZXRTaXplID0gZmFjdG9yeSgpO1xuICB9XG5cbn0pKCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZ2V0IGEgbnVtYmVyIGZyb20gYSBzdHJpbmcsIG5vdCBhIHBlcmNlbnRhZ2VcbmZ1bmN0aW9uIGdldFN0eWxlU2l6ZSggdmFsdWUgKSB7XG4gIHZhciBudW0gPSBwYXJzZUZsb2F0KCB2YWx1ZSApO1xuICAvLyBub3QgYSBwZXJjZW50IGxpa2UgJzEwMCUnLCBhbmQgYSBudW1iZXJcbiAgdmFyIGlzVmFsaWQgPSB2YWx1ZS5pbmRleE9mKCclJykgPT0gLTEgJiYgIWlzTmFOKCBudW0gKTtcbiAgcmV0dXJuIGlzVmFsaWQgJiYgbnVtO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIGxvZ0Vycm9yID0gdHlwZW9mIGNvbnNvbGUgPT0gJ3VuZGVmaW5lZCcgPyBub29wIDpcbiAgZnVuY3Rpb24oIG1lc3NhZ2UgKSB7XG4gICAgY29uc29sZS5lcnJvciggbWVzc2FnZSApO1xuICB9O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBtZWFzdXJlbWVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudmFyIG1lYXN1cmVtZW50cyA9IFtcbiAgJ3BhZGRpbmdMZWZ0JyxcbiAgJ3BhZGRpbmdSaWdodCcsXG4gICdwYWRkaW5nVG9wJyxcbiAgJ3BhZGRpbmdCb3R0b20nLFxuICAnbWFyZ2luTGVmdCcsXG4gICdtYXJnaW5SaWdodCcsXG4gICdtYXJnaW5Ub3AnLFxuICAnbWFyZ2luQm90dG9tJyxcbiAgJ2JvcmRlckxlZnRXaWR0aCcsXG4gICdib3JkZXJSaWdodFdpZHRoJyxcbiAgJ2JvcmRlclRvcFdpZHRoJyxcbiAgJ2JvcmRlckJvdHRvbVdpZHRoJ1xuXTtcblxudmFyIG1lYXN1cmVtZW50c0xlbmd0aCA9IG1lYXN1cmVtZW50cy5sZW5ndGg7XG5cbmZ1bmN0aW9uIGdldFplcm9TaXplKCkge1xuICB2YXIgc2l6ZSA9IHtcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgaW5uZXJXaWR0aDogMCxcbiAgICBpbm5lckhlaWdodDogMCxcbiAgICBvdXRlcldpZHRoOiAwLFxuICAgIG91dGVySGVpZ2h0OiAwXG4gIH07XG4gIGZvciAoIHZhciBpPTA7IGkgPCBtZWFzdXJlbWVudHNMZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgbWVhc3VyZW1lbnQgPSBtZWFzdXJlbWVudHNbaV07XG4gICAgc2l6ZVsgbWVhc3VyZW1lbnQgXSA9IDA7XG4gIH1cbiAgcmV0dXJuIHNpemU7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGdldFN0eWxlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogZ2V0U3R5bGUsIGdldCBzdHlsZSBvZiBlbGVtZW50LCBjaGVjayBmb3IgRmlyZWZveCBidWdcbiAqIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTU0ODM5N1xuICovXG5mdW5jdGlvbiBnZXRTdHlsZSggZWxlbSApIHtcbiAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xuICBpZiAoICFzdHlsZSApIHtcbiAgICBsb2dFcnJvciggJ1N0eWxlIHJldHVybmVkICcgKyBzdHlsZSArXG4gICAgICAnLiBBcmUgeW91IHJ1bm5pbmcgdGhpcyBjb2RlIGluIGEgaGlkZGVuIGlmcmFtZSBvbiBGaXJlZm94PyAnICtcbiAgICAgICdTZWUgaHR0cHM6Ly9iaXQubHkvZ2V0c2l6ZWJ1ZzEnICk7XG4gIH1cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBzZXR1cCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG52YXIgaXNTZXR1cCA9IGZhbHNlO1xuXG52YXIgaXNCb3hTaXplT3V0ZXI7XG5cbi8qKlxuICogc2V0dXBcbiAqIGNoZWNrIGlzQm94U2l6ZXJPdXRlclxuICogZG8gb24gZmlyc3QgZ2V0U2l6ZSgpIHJhdGhlciB0aGFuIG9uIHBhZ2UgbG9hZCBmb3IgRmlyZWZveCBidWdcbiAqL1xuZnVuY3Rpb24gc2V0dXAoKSB7XG4gIC8vIHNldHVwIG9uY2VcbiAgaWYgKCBpc1NldHVwICkge1xuICAgIHJldHVybjtcbiAgfVxuICBpc1NldHVwID0gdHJ1ZTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBib3ggc2l6aW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgLyoqXG4gICAqIENocm9tZSAmIFNhZmFyaSBtZWFzdXJlIHRoZSBvdXRlci13aWR0aCBvbiBzdHlsZS53aWR0aCBvbiBib3JkZXItYm94IGVsZW1zXG4gICAqIElFMTEgJiBGaXJlZm94PDI5IG1lYXN1cmVzIHRoZSBpbm5lci13aWR0aFxuICAgKi9cbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuc3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICBkaXYuc3R5bGUucGFkZGluZyA9ICcxcHggMnB4IDNweCA0cHgnO1xuICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xuICBkaXYuc3R5bGUuYm9yZGVyV2lkdGggPSAnMXB4IDJweCAzcHggNHB4JztcbiAgZGl2LnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94JztcblxuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICBib2R5LmFwcGVuZENoaWxkKCBkaXYgKTtcbiAgdmFyIHN0eWxlID0gZ2V0U3R5bGUoIGRpdiApO1xuICAvLyByb3VuZCB2YWx1ZSBmb3IgYnJvd3NlciB6b29tLiBkZXNhbmRyby9tYXNvbnJ5IzkyOFxuICBpc0JveFNpemVPdXRlciA9IE1hdGgucm91bmQoIGdldFN0eWxlU2l6ZSggc3R5bGUud2lkdGggKSApID09IDIwMDtcbiAgZ2V0U2l6ZS5pc0JveFNpemVPdXRlciA9IGlzQm94U2l6ZU91dGVyO1xuXG4gIGJvZHkucmVtb3ZlQ2hpbGQoIGRpdiApO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBnZXRTaXplIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIGdldFNpemUoIGVsZW0gKSB7XG4gIHNldHVwKCk7XG5cbiAgLy8gdXNlIHF1ZXJ5U2VsZXRvciBpZiBlbGVtIGlzIHN0cmluZ1xuICBpZiAoIHR5cGVvZiBlbGVtID09ICdzdHJpbmcnICkge1xuICAgIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBlbGVtICk7XG4gIH1cblxuICAvLyBkbyBub3QgcHJvY2VlZCBvbiBub24tb2JqZWN0c1xuICBpZiAoICFlbGVtIHx8IHR5cGVvZiBlbGVtICE9ICdvYmplY3QnIHx8ICFlbGVtLm5vZGVUeXBlICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzdHlsZSA9IGdldFN0eWxlKCBlbGVtICk7XG5cbiAgLy8gaWYgaGlkZGVuLCBldmVyeXRoaW5nIGlzIDBcbiAgaWYgKCBzdHlsZS5kaXNwbGF5ID09ICdub25lJyApIHtcbiAgICByZXR1cm4gZ2V0WmVyb1NpemUoKTtcbiAgfVxuXG4gIHZhciBzaXplID0ge307XG4gIHNpemUud2lkdGggPSBlbGVtLm9mZnNldFdpZHRoO1xuICBzaXplLmhlaWdodCA9IGVsZW0ub2Zmc2V0SGVpZ2h0O1xuXG4gIHZhciBpc0JvcmRlckJveCA9IHNpemUuaXNCb3JkZXJCb3ggPSBzdHlsZS5ib3hTaXppbmcgPT0gJ2JvcmRlci1ib3gnO1xuXG4gIC8vIGdldCBhbGwgbWVhc3VyZW1lbnRzXG4gIGZvciAoIHZhciBpPTA7IGkgPCBtZWFzdXJlbWVudHNMZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgbWVhc3VyZW1lbnQgPSBtZWFzdXJlbWVudHNbaV07XG4gICAgdmFyIHZhbHVlID0gc3R5bGVbIG1lYXN1cmVtZW50IF07XG4gICAgdmFyIG51bSA9IHBhcnNlRmxvYXQoIHZhbHVlICk7XG4gICAgLy8gYW55ICdhdXRvJywgJ21lZGl1bScgdmFsdWUgd2lsbCBiZSAwXG4gICAgc2l6ZVsgbWVhc3VyZW1lbnQgXSA9ICFpc05hTiggbnVtICkgPyBudW0gOiAwO1xuICB9XG5cbiAgdmFyIHBhZGRpbmdXaWR0aCA9IHNpemUucGFkZGluZ0xlZnQgKyBzaXplLnBhZGRpbmdSaWdodDtcbiAgdmFyIHBhZGRpbmdIZWlnaHQgPSBzaXplLnBhZGRpbmdUb3AgKyBzaXplLnBhZGRpbmdCb3R0b207XG4gIHZhciBtYXJnaW5XaWR0aCA9IHNpemUubWFyZ2luTGVmdCArIHNpemUubWFyZ2luUmlnaHQ7XG4gIHZhciBtYXJnaW5IZWlnaHQgPSBzaXplLm1hcmdpblRvcCArIHNpemUubWFyZ2luQm90dG9tO1xuICB2YXIgYm9yZGVyV2lkdGggPSBzaXplLmJvcmRlckxlZnRXaWR0aCArIHNpemUuYm9yZGVyUmlnaHRXaWR0aDtcbiAgdmFyIGJvcmRlckhlaWdodCA9IHNpemUuYm9yZGVyVG9wV2lkdGggKyBzaXplLmJvcmRlckJvdHRvbVdpZHRoO1xuXG4gIHZhciBpc0JvcmRlckJveFNpemVPdXRlciA9IGlzQm9yZGVyQm94ICYmIGlzQm94U2l6ZU91dGVyO1xuXG4gIC8vIG92ZXJ3cml0ZSB3aWR0aCBhbmQgaGVpZ2h0IGlmIHdlIGNhbiBnZXQgaXQgZnJvbSBzdHlsZVxuICB2YXIgc3R5bGVXaWR0aCA9IGdldFN0eWxlU2l6ZSggc3R5bGUud2lkdGggKTtcbiAgaWYgKCBzdHlsZVdpZHRoICE9PSBmYWxzZSApIHtcbiAgICBzaXplLndpZHRoID0gc3R5bGVXaWR0aCArXG4gICAgICAvLyBhZGQgcGFkZGluZyBhbmQgYm9yZGVyIHVubGVzcyBpdCdzIGFscmVhZHkgaW5jbHVkaW5nIGl0XG4gICAgICAoIGlzQm9yZGVyQm94U2l6ZU91dGVyID8gMCA6IHBhZGRpbmdXaWR0aCArIGJvcmRlcldpZHRoICk7XG4gIH1cblxuICB2YXIgc3R5bGVIZWlnaHQgPSBnZXRTdHlsZVNpemUoIHN0eWxlLmhlaWdodCApO1xuICBpZiAoIHN0eWxlSGVpZ2h0ICE9PSBmYWxzZSApIHtcbiAgICBzaXplLmhlaWdodCA9IHN0eWxlSGVpZ2h0ICtcbiAgICAgIC8vIGFkZCBwYWRkaW5nIGFuZCBib3JkZXIgdW5sZXNzIGl0J3MgYWxyZWFkeSBpbmNsdWRpbmcgaXRcbiAgICAgICggaXNCb3JkZXJCb3hTaXplT3V0ZXIgPyAwIDogcGFkZGluZ0hlaWdodCArIGJvcmRlckhlaWdodCApO1xuICB9XG5cbiAgc2l6ZS5pbm5lcldpZHRoID0gc2l6ZS53aWR0aCAtICggcGFkZGluZ1dpZHRoICsgYm9yZGVyV2lkdGggKTtcbiAgc2l6ZS5pbm5lckhlaWdodCA9IHNpemUuaGVpZ2h0IC0gKCBwYWRkaW5nSGVpZ2h0ICsgYm9yZGVySGVpZ2h0ICk7XG5cbiAgc2l6ZS5vdXRlcldpZHRoID0gc2l6ZS53aWR0aCArIG1hcmdpbldpZHRoO1xuICBzaXplLm91dGVySGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKyBtYXJnaW5IZWlnaHQ7XG5cbiAgcmV0dXJuIHNpemU7XG59XG5cbnJldHVybiBnZXRTaXplO1xuXG59KTtcbiIsICIvKipcbiAqIG1hdGNoZXNTZWxlY3RvciB2Mi4wLjJcbiAqIG1hdGNoZXNTZWxlY3RvciggZWxlbWVudCwgJy5zZWxlY3RvcicgKVxuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBtb2R1bGU6IGZhbHNlICovXG4gICd1c2Ugc3RyaWN0JztcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5tYXRjaGVzU2VsZWN0b3IgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIG1hdGNoZXNNZXRob2QgPSAoIGZ1bmN0aW9uKCkge1xuICAgIHZhciBFbGVtUHJvdG8gPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGU7XG4gICAgLy8gY2hlY2sgZm9yIHRoZSBzdGFuZGFyZCBtZXRob2QgbmFtZSBmaXJzdFxuICAgIGlmICggRWxlbVByb3RvLm1hdGNoZXMgKSB7XG4gICAgICByZXR1cm4gJ21hdGNoZXMnO1xuICAgIH1cbiAgICAvLyBjaGVjayB1bi1wcmVmaXhlZFxuICAgIGlmICggRWxlbVByb3RvLm1hdGNoZXNTZWxlY3RvciApIHtcbiAgICAgIHJldHVybiAnbWF0Y2hlc1NlbGVjdG9yJztcbiAgICB9XG4gICAgLy8gY2hlY2sgdmVuZG9yIHByZWZpeGVzXG4gICAgdmFyIHByZWZpeGVzID0gWyAnd2Via2l0JywgJ21veicsICdtcycsICdvJyBdO1xuXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIHByZWZpeCA9IHByZWZpeGVzW2ldO1xuICAgICAgdmFyIG1ldGhvZCA9IHByZWZpeCArICdNYXRjaGVzU2VsZWN0b3InO1xuICAgICAgaWYgKCBFbGVtUHJvdG9bIG1ldGhvZCBdICkge1xuICAgICAgICByZXR1cm4gbWV0aG9kO1xuICAgICAgfVxuICAgIH1cbiAgfSkoKTtcblxuICByZXR1cm4gZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBzZWxlY3RvciApIHtcbiAgICByZXR1cm4gZWxlbVsgbWF0Y2hlc01ldGhvZCBdKCBzZWxlY3RvciApO1xuICB9O1xuXG59KSk7XG4iLCAiLyoqXG4gKiBGaXp6eSBVSSB1dGlscyB2Mi4wLjdcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qanNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG5cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICdkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yL21hdGNoZXMtc2VsZWN0b3InXG4gICAgXSwgZnVuY3Rpb24oIG1hdGNoZXNTZWxlY3RvciApIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIG1hdGNoZXNTZWxlY3RvciApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3RvcicpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5maXp6eVVJVXRpbHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93Lm1hdGNoZXNTZWxlY3RvclxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIG1hdGNoZXNTZWxlY3RvciApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSB7fTtcblxuLy8gLS0tLS0gZXh0ZW5kIC0tLS0tIC8vXG5cbi8vIGV4dGVuZHMgb2JqZWN0c1xudXRpbHMuZXh0ZW5kID0gZnVuY3Rpb24oIGEsIGIgKSB7XG4gIGZvciAoIHZhciBwcm9wIGluIGIgKSB7XG4gICAgYVsgcHJvcCBdID0gYlsgcHJvcCBdO1xuICB9XG4gIHJldHVybiBhO1xufTtcblxuLy8gLS0tLS0gbW9kdWxvIC0tLS0tIC8vXG5cbnV0aWxzLm1vZHVsbyA9IGZ1bmN0aW9uKCBudW0sIGRpdiApIHtcbiAgcmV0dXJuICggKCBudW0gJSBkaXYgKSArIGRpdiApICUgZGl2O1xufTtcblxuLy8gLS0tLS0gbWFrZUFycmF5IC0tLS0tIC8vXG5cbnZhciBhcnJheVNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vLyB0dXJuIGVsZW1lbnQgb3Igbm9kZUxpc3QgaW50byBhbiBhcnJheVxudXRpbHMubWFrZUFycmF5ID0gZnVuY3Rpb24oIG9iaiApIHtcbiAgaWYgKCBBcnJheS5pc0FycmF5KCBvYmogKSApIHtcbiAgICAvLyB1c2Ugb2JqZWN0IGlmIGFscmVhZHkgYW4gYXJyYXlcbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIC8vIHJldHVybiBlbXB0eSBhcnJheSBpZiB1bmRlZmluZWQgb3IgbnVsbC4gIzZcbiAgaWYgKCBvYmogPT09IG51bGwgfHwgb2JqID09PSB1bmRlZmluZWQgKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgdmFyIGlzQXJyYXlMaWtlID0gdHlwZW9mIG9iaiA9PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqLmxlbmd0aCA9PSAnbnVtYmVyJztcbiAgaWYgKCBpc0FycmF5TGlrZSApIHtcbiAgICAvLyBjb252ZXJ0IG5vZGVMaXN0IHRvIGFycmF5XG4gICAgcmV0dXJuIGFycmF5U2xpY2UuY2FsbCggb2JqICk7XG4gIH1cblxuICAvLyBhcnJheSBvZiBzaW5nbGUgaW5kZXhcbiAgcmV0dXJuIFsgb2JqIF07XG59O1xuXG4vLyAtLS0tLSByZW1vdmVGcm9tIC0tLS0tIC8vXG5cbnV0aWxzLnJlbW92ZUZyb20gPSBmdW5jdGlvbiggYXJ5LCBvYmogKSB7XG4gIHZhciBpbmRleCA9IGFyeS5pbmRleE9mKCBvYmogKTtcbiAgaWYgKCBpbmRleCAhPSAtMSApIHtcbiAgICBhcnkuc3BsaWNlKCBpbmRleCwgMSApO1xuICB9XG59O1xuXG4vLyAtLS0tLSBnZXRQYXJlbnQgLS0tLS0gLy9cblxudXRpbHMuZ2V0UGFyZW50ID0gZnVuY3Rpb24oIGVsZW0sIHNlbGVjdG9yICkge1xuICB3aGlsZSAoIGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtICE9IGRvY3VtZW50LmJvZHkgKSB7XG4gICAgZWxlbSA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICBpZiAoIG1hdGNoZXNTZWxlY3RvciggZWxlbSwgc2VsZWN0b3IgKSApIHtcbiAgICAgIHJldHVybiBlbGVtO1xuICAgIH1cbiAgfVxufTtcblxuLy8gLS0tLS0gZ2V0UXVlcnlFbGVtZW50IC0tLS0tIC8vXG5cbi8vIHVzZSBlbGVtZW50IGFzIHNlbGVjdG9yIHN0cmluZ1xudXRpbHMuZ2V0UXVlcnlFbGVtZW50ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIGlmICggdHlwZW9mIGVsZW0gPT0gJ3N0cmluZycgKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIGVsZW0gKTtcbiAgfVxuICByZXR1cm4gZWxlbTtcbn07XG5cbi8vIC0tLS0tIGhhbmRsZUV2ZW50IC0tLS0tIC8vXG5cbi8vIGVuYWJsZSAub250eXBlIHRvIHRyaWdnZXIgZnJvbSAuYWRkRXZlbnRMaXN0ZW5lciggZWxlbSwgJ3R5cGUnIClcbnV0aWxzLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgbWV0aG9kID0gJ29uJyArIGV2ZW50LnR5cGU7XG4gIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG4gICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIGZpbHRlckZpbmRFbGVtZW50cyAtLS0tLSAvL1xuXG51dGlscy5maWx0ZXJGaW5kRWxlbWVudHMgPSBmdW5jdGlvbiggZWxlbXMsIHNlbGVjdG9yICkge1xuICAvLyBtYWtlIGFycmF5IG9mIGVsZW1zXG4gIGVsZW1zID0gdXRpbHMubWFrZUFycmF5KCBlbGVtcyApO1xuICB2YXIgZmZFbGVtcyA9IFtdO1xuXG4gIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIC8vIGNoZWNrIHRoYXQgZWxlbSBpcyBhbiBhY3R1YWwgZWxlbWVudFxuICAgIGlmICggISggZWxlbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICkgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGFkZCBlbGVtIGlmIG5vIHNlbGVjdG9yXG4gICAgaWYgKCAhc2VsZWN0b3IgKSB7XG4gICAgICBmZkVsZW1zLnB1c2goIGVsZW0gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZmlsdGVyICYgZmluZCBpdGVtcyBpZiB3ZSBoYXZlIGEgc2VsZWN0b3JcbiAgICAvLyBmaWx0ZXJcbiAgICBpZiAoIG1hdGNoZXNTZWxlY3RvciggZWxlbSwgc2VsZWN0b3IgKSApIHtcbiAgICAgIGZmRWxlbXMucHVzaCggZWxlbSApO1xuICAgIH1cbiAgICAvLyBmaW5kIGNoaWxkcmVuXG4gICAgdmFyIGNoaWxkRWxlbXMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoIHNlbGVjdG9yICk7XG4gICAgLy8gY29uY2F0IGNoaWxkRWxlbXMgdG8gZmlsdGVyRm91bmQgYXJyYXlcbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgY2hpbGRFbGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIGZmRWxlbXMucHVzaCggY2hpbGRFbGVtc1tpXSApO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGZmRWxlbXM7XG59O1xuXG4vLyAtLS0tLSBkZWJvdW5jZU1ldGhvZCAtLS0tLSAvL1xuXG51dGlscy5kZWJvdW5jZU1ldGhvZCA9IGZ1bmN0aW9uKCBfY2xhc3MsIG1ldGhvZE5hbWUsIHRocmVzaG9sZCApIHtcbiAgdGhyZXNob2xkID0gdGhyZXNob2xkIHx8IDEwMDtcbiAgLy8gb3JpZ2luYWwgbWV0aG9kXG4gIHZhciBtZXRob2QgPSBfY2xhc3MucHJvdG90eXBlWyBtZXRob2ROYW1lIF07XG4gIHZhciB0aW1lb3V0TmFtZSA9IG1ldGhvZE5hbWUgKyAnVGltZW91dCc7XG5cbiAgX2NsYXNzLnByb3RvdHlwZVsgbWV0aG9kTmFtZSBdID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRpbWVvdXQgPSB0aGlzWyB0aW1lb3V0TmFtZSBdO1xuICAgIGNsZWFyVGltZW91dCggdGltZW91dCApO1xuXG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzWyB0aW1lb3V0TmFtZSBdID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBtZXRob2QuYXBwbHkoIF90aGlzLCBhcmdzICk7XG4gICAgICBkZWxldGUgX3RoaXNbIHRpbWVvdXROYW1lIF07XG4gICAgfSwgdGhyZXNob2xkICk7XG4gIH07XG59O1xuXG4vLyAtLS0tLSBkb2NSZWFkeSAtLS0tLSAvL1xuXG51dGlscy5kb2NSZWFkeSA9IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcbiAgdmFyIHJlYWR5U3RhdGUgPSBkb2N1bWVudC5yZWFkeVN0YXRlO1xuICBpZiAoIHJlYWR5U3RhdGUgPT0gJ2NvbXBsZXRlJyB8fCByZWFkeVN0YXRlID09ICdpbnRlcmFjdGl2ZScgKSB7XG4gICAgLy8gZG8gYXN5bmMgdG8gYWxsb3cgZm9yIG90aGVyIHNjcmlwdHMgdG8gcnVuLiBtZXRhZml6enkvZmxpY2tpdHkjNDQxXG4gICAgc2V0VGltZW91dCggY2FsbGJhY2sgKTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnRE9NQ29udGVudExvYWRlZCcsIGNhbGxiYWNrICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIGh0bWxJbml0IC0tLS0tIC8vXG5cbi8vIGh0dHA6Ly9qYW1lc3JvYmVydHMubmFtZS9ibG9nLzIwMTAvMDIvMjIvc3RyaW5nLWZ1bmN0aW9ucy1mb3ItamF2YXNjcmlwdC10cmltLXRvLWNhbWVsLWNhc2UtdG8tZGFzaGVkLWFuZC10by11bmRlcnNjb3JlL1xudXRpbHMudG9EYXNoZWQgPSBmdW5jdGlvbiggc3RyICkge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoIC8oLikoW0EtWl0pL2csIGZ1bmN0aW9uKCBtYXRjaCwgJDEsICQyICkge1xuICAgIHJldHVybiAkMSArICctJyArICQyO1xuICB9KS50b0xvd2VyQ2FzZSgpO1xufTtcblxudmFyIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZTtcbi8qKlxuICogYWxsb3cgdXNlciB0byBpbml0aWFsaXplIGNsYXNzZXMgdmlhIFtkYXRhLW5hbWVzcGFjZV0gb3IgLmpzLW5hbWVzcGFjZSBjbGFzc1xuICogaHRtbEluaXQoIFdpZGdldCwgJ3dpZGdldE5hbWUnIClcbiAqIG9wdGlvbnMgYXJlIHBhcnNlZCBmcm9tIGRhdGEtbmFtZXNwYWNlLW9wdGlvbnNcbiAqL1xudXRpbHMuaHRtbEluaXQgPSBmdW5jdGlvbiggV2lkZ2V0Q2xhc3MsIG5hbWVzcGFjZSApIHtcbiAgdXRpbHMuZG9jUmVhZHkoIGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXNoZWROYW1lc3BhY2UgPSB1dGlscy50b0Rhc2hlZCggbmFtZXNwYWNlICk7XG4gICAgdmFyIGRhdGFBdHRyID0gJ2RhdGEtJyArIGRhc2hlZE5hbWVzcGFjZTtcbiAgICB2YXIgZGF0YUF0dHJFbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdbJyArIGRhdGFBdHRyICsgJ10nICk7XG4gICAgdmFyIGpzRGFzaEVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5qcy0nICsgZGFzaGVkTmFtZXNwYWNlICk7XG4gICAgdmFyIGVsZW1zID0gdXRpbHMubWFrZUFycmF5KCBkYXRhQXR0ckVsZW1zIClcbiAgICAgIC5jb25jYXQoIHV0aWxzLm1ha2VBcnJheSgganNEYXNoRWxlbXMgKSApO1xuICAgIHZhciBkYXRhT3B0aW9uc0F0dHIgPSBkYXRhQXR0ciArICctb3B0aW9ucyc7XG4gICAgdmFyIGpRdWVyeSA9IHdpbmRvdy5qUXVlcnk7XG5cbiAgICBlbGVtcy5mb3JFYWNoKCBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgIHZhciBhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoIGRhdGFBdHRyICkgfHxcbiAgICAgICAgZWxlbS5nZXRBdHRyaWJ1dGUoIGRhdGFPcHRpb25zQXR0ciApO1xuICAgICAgdmFyIG9wdGlvbnM7XG4gICAgICB0cnkge1xuICAgICAgICBvcHRpb25zID0gYXR0ciAmJiBKU09OLnBhcnNlKCBhdHRyICk7XG4gICAgICB9IGNhdGNoICggZXJyb3IgKSB7XG4gICAgICAgIC8vIGxvZyBlcnJvciwgZG8gbm90IGluaXRpYWxpemVcbiAgICAgICAgaWYgKCBjb25zb2xlICkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoICdFcnJvciBwYXJzaW5nICcgKyBkYXRhQXR0ciArICcgb24gJyArIGVsZW0uY2xhc3NOYW1lICtcbiAgICAgICAgICAnOiAnICsgZXJyb3IgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBpbml0aWFsaXplXG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgV2lkZ2V0Q2xhc3MoIGVsZW0sIG9wdGlvbnMgKTtcbiAgICAgIC8vIG1ha2UgYXZhaWxhYmxlIHZpYSAkKCkuZGF0YSgnbmFtZXNwYWNlJylcbiAgICAgIGlmICggalF1ZXJ5ICkge1xuICAgICAgICBqUXVlcnkuZGF0YSggZWxlbSwgbmFtZXNwYWNlLCBpbnN0YW5jZSApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH0pO1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbnJldHVybiB1dGlscztcblxufSkpO1xuIiwgIi8qKlxuICogT3V0bGF5ZXIgSXRlbVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qIGdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgLSBSZXF1aXJlSlNcbiAgICBkZWZpbmUoIFtcbiAgICAgICAgJ2V2LWVtaXR0ZXIvZXYtZW1pdHRlcicsXG4gICAgICAgICdnZXQtc2l6ZS9nZXQtc2l6ZSdcbiAgICAgIF0sXG4gICAgICBmYWN0b3J5XG4gICAgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICByZXF1aXJlKCdldi1lbWl0dGVyJyksXG4gICAgICByZXF1aXJlKCdnZXQtc2l6ZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5PdXRsYXllciA9IHt9O1xuICAgIHdpbmRvdy5PdXRsYXllci5JdGVtID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXIsXG4gICAgICB3aW5kb3cuZ2V0U2l6ZVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBFdkVtaXR0ZXIsIGdldFNpemUgKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tIGhlbHBlcnMgLS0tLS0gLy9cblxuZnVuY3Rpb24gaXNFbXB0eU9iaiggb2JqICkge1xuICBmb3IgKCB2YXIgcHJvcCBpbiBvYmogKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHByb3AgPSBudWxsO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQ1NTMyBzdXBwb3J0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cblxudmFyIGRvY0VsZW1TdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcblxudmFyIHRyYW5zaXRpb25Qcm9wZXJ0eSA9IHR5cGVvZiBkb2NFbGVtU3R5bGUudHJhbnNpdGlvbiA9PSAnc3RyaW5nJyA/XG4gICd0cmFuc2l0aW9uJyA6ICdXZWJraXRUcmFuc2l0aW9uJztcbnZhciB0cmFuc2Zvcm1Qcm9wZXJ0eSA9IHR5cGVvZiBkb2NFbGVtU3R5bGUudHJhbnNmb3JtID09ICdzdHJpbmcnID9cbiAgJ3RyYW5zZm9ybScgOiAnV2Via2l0VHJhbnNmb3JtJztcblxudmFyIHRyYW5zaXRpb25FbmRFdmVudCA9IHtcbiAgV2Via2l0VHJhbnNpdGlvbjogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICB0cmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCdcbn1bIHRyYW5zaXRpb25Qcm9wZXJ0eSBdO1xuXG4vLyBjYWNoZSBhbGwgdmVuZG9yIHByb3BlcnRpZXMgdGhhdCBjb3VsZCBoYXZlIHZlbmRvciBwcmVmaXhcbnZhciB2ZW5kb3JQcm9wZXJ0aWVzID0ge1xuICB0cmFuc2Zvcm06IHRyYW5zZm9ybVByb3BlcnR5LFxuICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uUHJvcGVydHksXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogdHJhbnNpdGlvblByb3BlcnR5ICsgJ0R1cmF0aW9uJyxcbiAgdHJhbnNpdGlvblByb3BlcnR5OiB0cmFuc2l0aW9uUHJvcGVydHkgKyAnUHJvcGVydHknLFxuICB0cmFuc2l0aW9uRGVsYXk6IHRyYW5zaXRpb25Qcm9wZXJ0eSArICdEZWxheSdcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEl0ZW0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gSXRlbSggZWxlbWVudCwgbGF5b3V0ICkge1xuICBpZiAoICFlbGVtZW50ICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIC8vIHBhcmVudCBsYXlvdXQgY2xhc3MsIGkuZS4gTWFzb25yeSwgSXNvdG9wZSwgb3IgUGFja2VyeVxuICB0aGlzLmxheW91dCA9IGxheW91dDtcbiAgdGhpcy5wb3NpdGlvbiA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcblxuICB0aGlzLl9jcmVhdGUoKTtcbn1cblxuLy8gaW5oZXJpdCBFdkVtaXR0ZXJcbnZhciBwcm90byA9IEl0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZFbWl0dGVyLnByb3RvdHlwZSApO1xucHJvdG8uY29uc3RydWN0b3IgPSBJdGVtO1xuXG5wcm90by5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIHRyYW5zaXRpb24gb2JqZWN0c1xuICB0aGlzLl90cmFuc24gPSB7XG4gICAgaW5nUHJvcGVydGllczoge30sXG4gICAgY2xlYW46IHt9LFxuICAgIG9uRW5kOiB7fVxuICB9O1xuXG4gIHRoaXMuY3NzKHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICB9KTtcbn07XG5cbi8vIHRyaWdnZXIgc3BlY2lmaWVkIGhhbmRsZXIgZm9yIGV2ZW50IHR5cGVcbnByb3RvLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgbWV0aG9kID0gJ29uJyArIGV2ZW50LnR5cGU7XG4gIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG4gICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gIH1cbn07XG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG59O1xuXG4vKipcbiAqIGFwcGx5IENTUyBzdHlsZXMgdG8gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4gKi9cbnByb3RvLmNzcyA9IGZ1bmN0aW9uKCBzdHlsZSApIHtcbiAgdmFyIGVsZW1TdHlsZSA9IHRoaXMuZWxlbWVudC5zdHlsZTtcblxuICBmb3IgKCB2YXIgcHJvcCBpbiBzdHlsZSApIHtcbiAgICAvLyB1c2UgdmVuZG9yIHByb3BlcnR5IGlmIGF2YWlsYWJsZVxuICAgIHZhciBzdXBwb3J0ZWRQcm9wID0gdmVuZG9yUHJvcGVydGllc1sgcHJvcCBdIHx8IHByb3A7XG4gICAgZWxlbVN0eWxlWyBzdXBwb3J0ZWRQcm9wIF0gPSBzdHlsZVsgcHJvcCBdO1xuICB9XG59O1xuXG4gLy8gbWVhc3VyZSBwb3NpdGlvbiwgYW5kIHNldHMgaXRcbnByb3RvLmdldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoIHRoaXMuZWxlbWVudCApO1xuICB2YXIgaXNPcmlnaW5MZWZ0ID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignb3JpZ2luTGVmdCcpO1xuICB2YXIgaXNPcmlnaW5Ub3AgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdvcmlnaW5Ub3AnKTtcbiAgdmFyIHhWYWx1ZSA9IHN0eWxlWyBpc09yaWdpbkxlZnQgPyAnbGVmdCcgOiAncmlnaHQnIF07XG4gIHZhciB5VmFsdWUgPSBzdHlsZVsgaXNPcmlnaW5Ub3AgPyAndG9wJyA6ICdib3R0b20nIF07XG4gIHZhciB4ID0gcGFyc2VGbG9hdCggeFZhbHVlICk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdCggeVZhbHVlICk7XG4gIC8vIGNvbnZlcnQgcGVyY2VudCB0byBwaXhlbHNcbiAgdmFyIGxheW91dFNpemUgPSB0aGlzLmxheW91dC5zaXplO1xuICBpZiAoIHhWYWx1ZS5pbmRleE9mKCclJykgIT0gLTEgKSB7XG4gICAgeCA9ICggeCAvIDEwMCApICogbGF5b3V0U2l6ZS53aWR0aDtcbiAgfVxuICBpZiAoIHlWYWx1ZS5pbmRleE9mKCclJykgIT0gLTEgKSB7XG4gICAgeSA9ICggeSAvIDEwMCApICogbGF5b3V0U2l6ZS5oZWlnaHQ7XG4gIH1cbiAgLy8gY2xlYW4gdXAgJ2F1dG8nIG9yIG90aGVyIG5vbi1pbnRlZ2VyIHZhbHVlc1xuICB4ID0gaXNOYU4oIHggKSA/IDAgOiB4O1xuICB5ID0gaXNOYU4oIHkgKSA/IDAgOiB5O1xuICAvLyByZW1vdmUgcGFkZGluZyBmcm9tIG1lYXN1cmVtZW50XG4gIHggLT0gaXNPcmlnaW5MZWZ0ID8gbGF5b3V0U2l6ZS5wYWRkaW5nTGVmdCA6IGxheW91dFNpemUucGFkZGluZ1JpZ2h0O1xuICB5IC09IGlzT3JpZ2luVG9wID8gbGF5b3V0U2l6ZS5wYWRkaW5nVG9wIDogbGF5b3V0U2l6ZS5wYWRkaW5nQm90dG9tO1xuXG4gIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gIHRoaXMucG9zaXRpb24ueSA9IHk7XG59O1xuXG4vLyBzZXQgc2V0dGxlZCBwb3NpdGlvbiwgYXBwbHkgcGFkZGluZ1xucHJvdG8ubGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGxheW91dFNpemUgPSB0aGlzLmxheW91dC5zaXplO1xuICB2YXIgc3R5bGUgPSB7fTtcbiAgdmFyIGlzT3JpZ2luTGVmdCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ29yaWdpbkxlZnQnKTtcbiAgdmFyIGlzT3JpZ2luVG9wID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignb3JpZ2luVG9wJyk7XG5cbiAgLy8geFxuICB2YXIgeFBhZGRpbmcgPSBpc09yaWdpbkxlZnQgPyAncGFkZGluZ0xlZnQnIDogJ3BhZGRpbmdSaWdodCc7XG4gIHZhciB4UHJvcGVydHkgPSBpc09yaWdpbkxlZnQgPyAnbGVmdCcgOiAncmlnaHQnO1xuICB2YXIgeFJlc2V0UHJvcGVydHkgPSBpc09yaWdpbkxlZnQgPyAncmlnaHQnIDogJ2xlZnQnO1xuXG4gIHZhciB4ID0gdGhpcy5wb3NpdGlvbi54ICsgbGF5b3V0U2l6ZVsgeFBhZGRpbmcgXTtcbiAgLy8gc2V0IGluIHBlcmNlbnRhZ2Ugb3IgcGl4ZWxzXG4gIHN0eWxlWyB4UHJvcGVydHkgXSA9IHRoaXMuZ2V0WFZhbHVlKCB4ICk7XG4gIC8vIHJlc2V0IG90aGVyIHByb3BlcnR5XG4gIHN0eWxlWyB4UmVzZXRQcm9wZXJ0eSBdID0gJyc7XG5cbiAgLy8geVxuICB2YXIgeVBhZGRpbmcgPSBpc09yaWdpblRvcCA/ICdwYWRkaW5nVG9wJyA6ICdwYWRkaW5nQm90dG9tJztcbiAgdmFyIHlQcm9wZXJ0eSA9IGlzT3JpZ2luVG9wID8gJ3RvcCcgOiAnYm90dG9tJztcbiAgdmFyIHlSZXNldFByb3BlcnR5ID0gaXNPcmlnaW5Ub3AgPyAnYm90dG9tJyA6ICd0b3AnO1xuXG4gIHZhciB5ID0gdGhpcy5wb3NpdGlvbi55ICsgbGF5b3V0U2l6ZVsgeVBhZGRpbmcgXTtcbiAgLy8gc2V0IGluIHBlcmNlbnRhZ2Ugb3IgcGl4ZWxzXG4gIHN0eWxlWyB5UHJvcGVydHkgXSA9IHRoaXMuZ2V0WVZhbHVlKCB5ICk7XG4gIC8vIHJlc2V0IG90aGVyIHByb3BlcnR5XG4gIHN0eWxlWyB5UmVzZXRQcm9wZXJ0eSBdID0gJyc7XG5cbiAgdGhpcy5jc3MoIHN0eWxlICk7XG4gIHRoaXMuZW1pdEV2ZW50KCAnbGF5b3V0JywgWyB0aGlzIF0gKTtcbn07XG5cbnByb3RvLmdldFhWYWx1ZSA9IGZ1bmN0aW9uKCB4ICkge1xuICB2YXIgaXNIb3Jpem9udGFsID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignaG9yaXpvbnRhbCcpO1xuICByZXR1cm4gdGhpcy5sYXlvdXQub3B0aW9ucy5wZXJjZW50UG9zaXRpb24gJiYgIWlzSG9yaXpvbnRhbCA/XG4gICAgKCAoIHggLyB0aGlzLmxheW91dC5zaXplLndpZHRoICkgKiAxMDAgKSArICclJyA6IHggKyAncHgnO1xufTtcblxucHJvdG8uZ2V0WVZhbHVlID0gZnVuY3Rpb24oIHkgKSB7XG4gIHZhciBpc0hvcml6b250YWwgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdob3Jpem9udGFsJyk7XG4gIHJldHVybiB0aGlzLmxheW91dC5vcHRpb25zLnBlcmNlbnRQb3NpdGlvbiAmJiBpc0hvcml6b250YWwgP1xuICAgICggKCB5IC8gdGhpcy5sYXlvdXQuc2l6ZS5oZWlnaHQgKSAqIDEwMCApICsgJyUnIDogeSArICdweCc7XG59O1xuXG5wcm90by5fdHJhbnNpdGlvblRvID0gZnVuY3Rpb24oIHgsIHkgKSB7XG4gIHRoaXMuZ2V0UG9zaXRpb24oKTtcbiAgLy8gZ2V0IGN1cnJlbnQgeCAmIHkgZnJvbSB0b3AvbGVmdFxuICB2YXIgY3VyWCA9IHRoaXMucG9zaXRpb24ueDtcbiAgdmFyIGN1clkgPSB0aGlzLnBvc2l0aW9uLnk7XG5cbiAgdmFyIGRpZE5vdE1vdmUgPSB4ID09IHRoaXMucG9zaXRpb24ueCAmJiB5ID09IHRoaXMucG9zaXRpb24ueTtcblxuICAvLyBzYXZlIGVuZCBwb3NpdGlvblxuICB0aGlzLnNldFBvc2l0aW9uKCB4LCB5ICk7XG5cbiAgLy8gaWYgZGlkIG5vdCBtb3ZlIGFuZCBub3QgdHJhbnNpdGlvbmluZywganVzdCBnbyB0byBsYXlvdXRcbiAgaWYgKCBkaWROb3RNb3ZlICYmICF0aGlzLmlzVHJhbnNpdGlvbmluZyApIHtcbiAgICB0aGlzLmxheW91dFBvc2l0aW9uKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRyYW5zWCA9IHggLSBjdXJYO1xuICB2YXIgdHJhbnNZID0geSAtIGN1clk7XG4gIHZhciB0cmFuc2l0aW9uU3R5bGUgPSB7fTtcbiAgdHJhbnNpdGlvblN0eWxlLnRyYW5zZm9ybSA9IHRoaXMuZ2V0VHJhbnNsYXRlKCB0cmFuc1gsIHRyYW5zWSApO1xuXG4gIHRoaXMudHJhbnNpdGlvbih7XG4gICAgdG86IHRyYW5zaXRpb25TdHlsZSxcbiAgICBvblRyYW5zaXRpb25FbmQ6IHtcbiAgICAgIHRyYW5zZm9ybTogdGhpcy5sYXlvdXRQb3NpdGlvblxuICAgIH0sXG4gICAgaXNDbGVhbmluZzogdHJ1ZVxuICB9KTtcbn07XG5cbnByb3RvLmdldFRyYW5zbGF0ZSA9IGZ1bmN0aW9uKCB4LCB5ICkge1xuICAvLyBmbGlwIGNvb3JpZGluYXRlcyBpZiBvcmlnaW4gb24gcmlnaHQgb3IgYm90dG9tXG4gIHZhciBpc09yaWdpbkxlZnQgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdvcmlnaW5MZWZ0Jyk7XG4gIHZhciBpc09yaWdpblRvcCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ29yaWdpblRvcCcpO1xuICB4ID0gaXNPcmlnaW5MZWZ0ID8geCA6IC14O1xuICB5ID0gaXNPcmlnaW5Ub3AgPyB5IDogLXk7XG4gIHJldHVybiAndHJhbnNsYXRlM2QoJyArIHggKyAncHgsICcgKyB5ICsgJ3B4LCAwKSc7XG59O1xuXG4vLyBub24gdHJhbnNpdGlvbiArIHRyYW5zZm9ybSBzdXBwb3J0XG5wcm90by5nb1RvID0gZnVuY3Rpb24oIHgsIHkgKSB7XG4gIHRoaXMuc2V0UG9zaXRpb24oIHgsIHkgKTtcbiAgdGhpcy5sYXlvdXRQb3NpdGlvbigpO1xufTtcblxucHJvdG8ubW92ZVRvID0gcHJvdG8uX3RyYW5zaXRpb25UbztcblxucHJvdG8uc2V0UG9zaXRpb24gPSBmdW5jdGlvbiggeCwgeSApIHtcbiAgdGhpcy5wb3NpdGlvbi54ID0gcGFyc2VGbG9hdCggeCApO1xuICB0aGlzLnBvc2l0aW9uLnkgPSBwYXJzZUZsb2F0KCB5ICk7XG59O1xuXG4vLyAtLS0tLSB0cmFuc2l0aW9uIC0tLS0tIC8vXG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlIC0gQ1NTXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblRyYW5zaXRpb25FbmRcbiAqL1xuXG4vLyBub24gdHJhbnNpdGlvbiwganVzdCB0cmlnZ2VyIGNhbGxiYWNrXG5wcm90by5fbm9uVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCBhcmdzICkge1xuICB0aGlzLmNzcyggYXJncy50byApO1xuICBpZiAoIGFyZ3MuaXNDbGVhbmluZyApIHtcbiAgICB0aGlzLl9yZW1vdmVTdHlsZXMoIGFyZ3MudG8gKTtcbiAgfVxuICBmb3IgKCB2YXIgcHJvcCBpbiBhcmdzLm9uVHJhbnNpdGlvbkVuZCApIHtcbiAgICBhcmdzLm9uVHJhbnNpdGlvbkVuZFsgcHJvcCBdLmNhbGwoIHRoaXMgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBwcm9wZXIgdHJhbnNpdGlvblxuICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgLSBhcmd1bWVudHNcbiAqICAgQHBhcmFtIHtPYmplY3R9IHRvIC0gc3R5bGUgdG8gdHJhbnNpdGlvbiB0b1xuICogICBAcGFyYW0ge09iamVjdH0gZnJvbSAtIHN0eWxlIHRvIHN0YXJ0IHRyYW5zaXRpb24gZnJvbVxuICogICBAcGFyYW0ge0Jvb2xlYW59IGlzQ2xlYW5pbmcgLSByZW1vdmVzIHRyYW5zaXRpb24gc3R5bGVzIGFmdGVyIHRyYW5zaXRpb25cbiAqICAgQHBhcmFtIHtGdW5jdGlvbn0gb25UcmFuc2l0aW9uRW5kIC0gY2FsbGJhY2tcbiAqL1xucHJvdG8udHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCBhcmdzICkge1xuICAvLyByZWRpcmVjdCB0byBub25UcmFuc2l0aW9uIGlmIG5vIHRyYW5zaXRpb24gZHVyYXRpb25cbiAgaWYgKCAhcGFyc2VGbG9hdCggdGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24gKSApIHtcbiAgICB0aGlzLl9ub25UcmFuc2l0aW9uKCBhcmdzICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIF90cmFuc2l0aW9uID0gdGhpcy5fdHJhbnNuO1xuICAvLyBrZWVwIHRyYWNrIG9mIG9uVHJhbnNpdGlvbkVuZCBjYWxsYmFjayBieSBjc3MgcHJvcGVydHlcbiAgZm9yICggdmFyIHByb3AgaW4gYXJncy5vblRyYW5zaXRpb25FbmQgKSB7XG4gICAgX3RyYW5zaXRpb24ub25FbmRbIHByb3AgXSA9IGFyZ3Mub25UcmFuc2l0aW9uRW5kWyBwcm9wIF07XG4gIH1cbiAgLy8ga2VlcCB0cmFjayBvZiBwcm9wZXJ0aWVzIHRoYXQgYXJlIHRyYW5zaXRpb25pbmdcbiAgZm9yICggcHJvcCBpbiBhcmdzLnRvICkge1xuICAgIF90cmFuc2l0aW9uLmluZ1Byb3BlcnRpZXNbIHByb3AgXSA9IHRydWU7XG4gICAgLy8ga2VlcCB0cmFjayBvZiBwcm9wZXJ0aWVzIHRvIGNsZWFuIHVwIHdoZW4gdHJhbnNpdGlvbiBpcyBkb25lXG4gICAgaWYgKCBhcmdzLmlzQ2xlYW5pbmcgKSB7XG4gICAgICBfdHJhbnNpdGlvbi5jbGVhblsgcHJvcCBdID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXQgZnJvbSBzdHlsZXNcbiAgaWYgKCBhcmdzLmZyb20gKSB7XG4gICAgdGhpcy5jc3MoIGFyZ3MuZnJvbSApO1xuICAgIC8vIGZvcmNlIHJlZHJhdy4gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICAgdmFyIGggPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIC8vIGhhY2sgZm9yIEpTSGludCB0byBodXNoIGFib3V0IHVudXNlZCB2YXJcbiAgICBoID0gbnVsbDtcbiAgfVxuICAvLyBlbmFibGUgdHJhbnNpdGlvblxuICB0aGlzLmVuYWJsZVRyYW5zaXRpb24oIGFyZ3MudG8gKTtcbiAgLy8gc2V0IHN0eWxlcyB0aGF0IGFyZSB0cmFuc2l0aW9uaW5nXG4gIHRoaXMuY3NzKCBhcmdzLnRvICk7XG5cbiAgdGhpcy5pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuXG59O1xuXG4vLyBkYXNoIGJlZm9yZSBhbGwgY2FwIGxldHRlcnMsIGluY2x1ZGluZyBmaXJzdCBmb3Jcbi8vIFdlYmtpdFRyYW5zZm9ybSA9PiAtd2Via2l0LXRyYW5zZm9ybVxuZnVuY3Rpb24gdG9EYXNoZWRBbGwoIHN0ciApIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKCAvKFtBLVpdKS9nLCBmdW5jdGlvbiggJDEgKSB7XG4gICAgcmV0dXJuICctJyArICQxLnRvTG93ZXJDYXNlKCk7XG4gIH0pO1xufVxuXG52YXIgdHJhbnNpdGlvblByb3BzID0gJ29wYWNpdHksJyArIHRvRGFzaGVkQWxsKCB0cmFuc2Zvcm1Qcm9wZXJ0eSApO1xuXG5wcm90by5lbmFibGVUcmFuc2l0aW9uID0gZnVuY3Rpb24oLyogc3R5bGUgKi8pIHtcbiAgLy8gSEFDSyBjaGFuZ2luZyB0cmFuc2l0aW9uUHJvcGVydHkgZHVyaW5nIGEgdHJhbnNpdGlvblxuICAvLyB3aWxsIGNhdXNlIHRyYW5zaXRpb24gdG8ganVtcFxuICBpZiAoIHRoaXMuaXNUcmFuc2l0aW9uaW5nICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIG1ha2UgYHRyYW5zaXRpb246IGZvbywgYmFyLCBiYXpgIGZyb20gc3R5bGUgb2JqZWN0XG4gIC8vIEhBQ0sgdW4tY29tbWVudCB0aGlzIHdoZW4gZW5hYmxlVHJhbnNpdGlvbiBjYW4gd29ya1xuICAvLyB3aGlsZSBhIHRyYW5zaXRpb24gaXMgaGFwcGVuaW5nXG4gIC8vIHZhciB0cmFuc2l0aW9uVmFsdWVzID0gW107XG4gIC8vIGZvciAoIHZhciBwcm9wIGluIHN0eWxlICkge1xuICAvLyAgIC8vIGRhc2gtaWZ5IGNhbWVsQ2FzZWQgcHJvcGVydGllcyBsaWtlIFdlYmtpdFRyYW5zaXRpb25cbiAgLy8gICBwcm9wID0gdmVuZG9yUHJvcGVydGllc1sgcHJvcCBdIHx8IHByb3A7XG4gIC8vICAgdHJhbnNpdGlvblZhbHVlcy5wdXNoKCB0b0Rhc2hlZEFsbCggcHJvcCApICk7XG4gIC8vIH1cbiAgLy8gbXVuZ2UgbnVtYmVyIHRvIG1pbGxpc2Vjb25kLCB0byBtYXRjaCBzdGFnZ2VyXG4gIHZhciBkdXJhdGlvbiA9IHRoaXMubGF5b3V0Lm9wdGlvbnMudHJhbnNpdGlvbkR1cmF0aW9uO1xuICBkdXJhdGlvbiA9IHR5cGVvZiBkdXJhdGlvbiA9PSAnbnVtYmVyJyA/IGR1cmF0aW9uICsgJ21zJyA6IGR1cmF0aW9uO1xuICAvLyBlbmFibGUgdHJhbnNpdGlvbiBzdHlsZXNcbiAgdGhpcy5jc3Moe1xuICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogdHJhbnNpdGlvblByb3BzLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogZHVyYXRpb24sXG4gICAgdHJhbnNpdGlvbkRlbGF5OiB0aGlzLnN0YWdnZXJEZWxheSB8fCAwXG4gIH0pO1xuICAvLyBsaXN0ZW4gZm9yIHRyYW5zaXRpb24gZW5kIGV2ZW50XG4gIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCB0cmFuc2l0aW9uRW5kRXZlbnQsIHRoaXMsIGZhbHNlICk7XG59O1xuXG4vLyAtLS0tLSBldmVudHMgLS0tLS0gLy9cblxucHJvdG8ub253ZWJraXRUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLm9udHJhbnNpdGlvbmVuZCggZXZlbnQgKTtcbn07XG5cbnByb3RvLm9ub3RyYW5zaXRpb25lbmQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMub250cmFuc2l0aW9uZW5kKCBldmVudCApO1xufTtcblxuLy8gcHJvcGVydGllcyB0aGF0IEkgbXVuZ2UgdG8gbWFrZSBteSBsaWZlIGVhc2llclxudmFyIGRhc2hlZFZlbmRvclByb3BlcnRpZXMgPSB7XG4gICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2Zvcm0nXG59O1xuXG5wcm90by5vbnRyYW5zaXRpb25lbmQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIC8vIGRpc3JlZ2FyZCBidWJibGVkIGV2ZW50cyBmcm9tIGNoaWxkcmVuXG4gIGlmICggZXZlbnQudGFyZ2V0ICE9PSB0aGlzLmVsZW1lbnQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBfdHJhbnNpdGlvbiA9IHRoaXMuX3RyYW5zbjtcbiAgLy8gZ2V0IHByb3BlcnR5IG5hbWUgb2YgdHJhbnNpdGlvbmVkIHByb3BlcnR5LCBjb252ZXJ0IHRvIHByZWZpeC1mcmVlXG4gIHZhciBwcm9wZXJ0eU5hbWUgPSBkYXNoZWRWZW5kb3JQcm9wZXJ0aWVzWyBldmVudC5wcm9wZXJ0eU5hbWUgXSB8fCBldmVudC5wcm9wZXJ0eU5hbWU7XG5cbiAgLy8gcmVtb3ZlIHByb3BlcnR5IHRoYXQgaGFzIGNvbXBsZXRlZCB0cmFuc2l0aW9uaW5nXG4gIGRlbGV0ZSBfdHJhbnNpdGlvbi5pbmdQcm9wZXJ0aWVzWyBwcm9wZXJ0eU5hbWUgXTtcbiAgLy8gY2hlY2sgaWYgYW55IHByb3BlcnRpZXMgYXJlIHN0aWxsIHRyYW5zaXRpb25pbmdcbiAgaWYgKCBpc0VtcHR5T2JqKCBfdHJhbnNpdGlvbi5pbmdQcm9wZXJ0aWVzICkgKSB7XG4gICAgLy8gYWxsIHByb3BlcnRpZXMgaGF2ZSBjb21wbGV0ZWQgdHJhbnNpdGlvbmluZ1xuICAgIHRoaXMuZGlzYWJsZVRyYW5zaXRpb24oKTtcbiAgfVxuICAvLyBjbGVhbiBzdHlsZVxuICBpZiAoIHByb3BlcnR5TmFtZSBpbiBfdHJhbnNpdGlvbi5jbGVhbiApIHtcbiAgICAvLyBjbGVhbiB1cCBzdHlsZVxuICAgIHRoaXMuZWxlbWVudC5zdHlsZVsgZXZlbnQucHJvcGVydHlOYW1lIF0gPSAnJztcbiAgICBkZWxldGUgX3RyYW5zaXRpb24uY2xlYW5bIHByb3BlcnR5TmFtZSBdO1xuICB9XG4gIC8vIHRyaWdnZXIgb25UcmFuc2l0aW9uRW5kIGNhbGxiYWNrXG4gIGlmICggcHJvcGVydHlOYW1lIGluIF90cmFuc2l0aW9uLm9uRW5kICkge1xuICAgIHZhciBvblRyYW5zaXRpb25FbmQgPSBfdHJhbnNpdGlvbi5vbkVuZFsgcHJvcGVydHlOYW1lIF07XG4gICAgb25UcmFuc2l0aW9uRW5kLmNhbGwoIHRoaXMgKTtcbiAgICBkZWxldGUgX3RyYW5zaXRpb24ub25FbmRbIHByb3BlcnR5TmFtZSBdO1xuICB9XG5cbiAgdGhpcy5lbWl0RXZlbnQoICd0cmFuc2l0aW9uRW5kJywgWyB0aGlzIF0gKTtcbn07XG5cbnByb3RvLmRpc2FibGVUcmFuc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVtb3ZlVHJhbnNpdGlvblN0eWxlcygpO1xuICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHJhbnNpdGlvbkVuZEV2ZW50LCB0aGlzLCBmYWxzZSApO1xuICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiByZW1vdmVzIHN0eWxlIHByb3BlcnR5IGZyb20gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4qKi9cbnByb3RvLl9yZW1vdmVTdHlsZXMgPSBmdW5jdGlvbiggc3R5bGUgKSB7XG4gIC8vIGNsZWFuIHVwIHRyYW5zaXRpb24gc3R5bGVzXG4gIHZhciBjbGVhblN0eWxlID0ge307XG4gIGZvciAoIHZhciBwcm9wIGluIHN0eWxlICkge1xuICAgIGNsZWFuU3R5bGVbIHByb3AgXSA9ICcnO1xuICB9XG4gIHRoaXMuY3NzKCBjbGVhblN0eWxlICk7XG59O1xuXG52YXIgY2xlYW5UcmFuc2l0aW9uU3R5bGUgPSB7XG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogJycsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogJycsXG4gIHRyYW5zaXRpb25EZWxheTogJydcbn07XG5cbnByb3RvLnJlbW92ZVRyYW5zaXRpb25TdHlsZXMgPSBmdW5jdGlvbigpIHtcbiAgLy8gcmVtb3ZlIHRyYW5zaXRpb25cbiAgdGhpcy5jc3MoIGNsZWFuVHJhbnNpdGlvblN0eWxlICk7XG59O1xuXG4vLyAtLS0tLSBzdGFnZ2VyIC0tLS0tIC8vXG5cbnByb3RvLnN0YWdnZXIgPSBmdW5jdGlvbiggZGVsYXkgKSB7XG4gIGRlbGF5ID0gaXNOYU4oIGRlbGF5ICkgPyAwIDogZGVsYXk7XG4gIHRoaXMuc3RhZ2dlckRlbGF5ID0gZGVsYXkgKyAnbXMnO1xufTtcblxuLy8gLS0tLS0gc2hvdy9oaWRlL3JlbW92ZSAtLS0tLSAvL1xuXG4vLyByZW1vdmUgZWxlbWVudCBmcm9tIERPTVxucHJvdG8ucmVtb3ZlRWxlbSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGhpcy5lbGVtZW50ICk7XG4gIC8vIHJlbW92ZSBkaXNwbGF5OiBub25lXG4gIHRoaXMuY3NzKHsgZGlzcGxheTogJycgfSk7XG4gIHRoaXMuZW1pdEV2ZW50KCAncmVtb3ZlJywgWyB0aGlzIF0gKTtcbn07XG5cbnByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBqdXN0IHJlbW92ZSBlbGVtZW50IGlmIG5vIHRyYW5zaXRpb24gc3VwcG9ydCBvciBubyB0cmFuc2l0aW9uXG4gIGlmICggIXRyYW5zaXRpb25Qcm9wZXJ0eSB8fCAhcGFyc2VGbG9hdCggdGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24gKSApIHtcbiAgICB0aGlzLnJlbW92ZUVsZW0oKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzdGFydCB0cmFuc2l0aW9uXG4gIHRoaXMub25jZSggJ3RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUVsZW0oKTtcbiAgfSk7XG4gIHRoaXMuaGlkZSgpO1xufTtcblxucHJvdG8ucmV2ZWFsID0gZnVuY3Rpb24oKSB7XG4gIGRlbGV0ZSB0aGlzLmlzSGlkZGVuO1xuICAvLyByZW1vdmUgZGlzcGxheTogbm9uZVxuICB0aGlzLmNzcyh7IGRpc3BsYXk6ICcnIH0pO1xuXG4gIHZhciBvcHRpb25zID0gdGhpcy5sYXlvdXQub3B0aW9ucztcblxuICB2YXIgb25UcmFuc2l0aW9uRW5kID0ge307XG4gIHZhciB0cmFuc2l0aW9uRW5kUHJvcGVydHkgPSB0aGlzLmdldEhpZGVSZXZlYWxUcmFuc2l0aW9uRW5kUHJvcGVydHkoJ3Zpc2libGVTdHlsZScpO1xuICBvblRyYW5zaXRpb25FbmRbIHRyYW5zaXRpb25FbmRQcm9wZXJ0eSBdID0gdGhpcy5vblJldmVhbFRyYW5zaXRpb25FbmQ7XG5cbiAgdGhpcy50cmFuc2l0aW9uKHtcbiAgICBmcm9tOiBvcHRpb25zLmhpZGRlblN0eWxlLFxuICAgIHRvOiBvcHRpb25zLnZpc2libGVTdHlsZSxcbiAgICBpc0NsZWFuaW5nOiB0cnVlLFxuICAgIG9uVHJhbnNpdGlvbkVuZDogb25UcmFuc2l0aW9uRW5kXG4gIH0pO1xufTtcblxucHJvdG8ub25SZXZlYWxUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNoZWNrIGlmIHN0aWxsIHZpc2libGVcbiAgLy8gZHVyaW5nIHRyYW5zaXRpb24sIGl0ZW0gbWF5IGhhdmUgYmVlbiBoaWRkZW5cbiAgaWYgKCAhdGhpcy5pc0hpZGRlbiApIHtcbiAgICB0aGlzLmVtaXRFdmVudCgncmV2ZWFsJyk7XG4gIH1cbn07XG5cbi8qKlxuICogZ2V0IHN0eWxlIHByb3BlcnR5IHVzZSBmb3IgaGlkZS9yZXZlYWwgdHJhbnNpdGlvbiBlbmRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHlsZVByb3BlcnR5IC0gaGlkZGVuU3R5bGUvdmlzaWJsZVN0eWxlXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5wcm90by5nZXRIaWRlUmV2ZWFsVHJhbnNpdGlvbkVuZFByb3BlcnR5ID0gZnVuY3Rpb24oIHN0eWxlUHJvcGVydHkgKSB7XG4gIHZhciBvcHRpb25TdHlsZSA9IHRoaXMubGF5b3V0Lm9wdGlvbnNbIHN0eWxlUHJvcGVydHkgXTtcbiAgLy8gdXNlIG9wYWNpdHlcbiAgaWYgKCBvcHRpb25TdHlsZS5vcGFjaXR5ICkge1xuICAgIHJldHVybiAnb3BhY2l0eSc7XG4gIH1cbiAgLy8gZ2V0IGZpcnN0IHByb3BlcnR5XG4gIGZvciAoIHZhciBwcm9wIGluIG9wdGlvblN0eWxlICkge1xuICAgIHJldHVybiBwcm9wO1xuICB9XG59O1xuXG5wcm90by5oaWRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIHNldCBmbGFnXG4gIHRoaXMuaXNIaWRkZW4gPSB0cnVlO1xuICAvLyByZW1vdmUgZGlzcGxheTogbm9uZVxuICB0aGlzLmNzcyh7IGRpc3BsYXk6ICcnIH0pO1xuXG4gIHZhciBvcHRpb25zID0gdGhpcy5sYXlvdXQub3B0aW9ucztcblxuICB2YXIgb25UcmFuc2l0aW9uRW5kID0ge307XG4gIHZhciB0cmFuc2l0aW9uRW5kUHJvcGVydHkgPSB0aGlzLmdldEhpZGVSZXZlYWxUcmFuc2l0aW9uRW5kUHJvcGVydHkoJ2hpZGRlblN0eWxlJyk7XG4gIG9uVHJhbnNpdGlvbkVuZFsgdHJhbnNpdGlvbkVuZFByb3BlcnR5IF0gPSB0aGlzLm9uSGlkZVRyYW5zaXRpb25FbmQ7XG5cbiAgdGhpcy50cmFuc2l0aW9uKHtcbiAgICBmcm9tOiBvcHRpb25zLnZpc2libGVTdHlsZSxcbiAgICB0bzogb3B0aW9ucy5oaWRkZW5TdHlsZSxcbiAgICAvLyBrZWVwIGhpZGRlbiBzdHVmZiBoaWRkZW5cbiAgICBpc0NsZWFuaW5nOiB0cnVlLFxuICAgIG9uVHJhbnNpdGlvbkVuZDogb25UcmFuc2l0aW9uRW5kXG4gIH0pO1xufTtcblxucHJvdG8ub25IaWRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uKCkge1xuICAvLyBjaGVjayBpZiBzdGlsbCBoaWRkZW5cbiAgLy8gZHVyaW5nIHRyYW5zaXRpb24sIGl0ZW0gbWF5IGhhdmUgYmVlbiB1bi1oaWRkZW5cbiAgaWYgKCB0aGlzLmlzSGlkZGVuICkge1xuICAgIHRoaXMuY3NzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuICAgIHRoaXMuZW1pdEV2ZW50KCdoaWRlJyk7XG4gIH1cbn07XG5cbnByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jc3Moe1xuICAgIHBvc2l0aW9uOiAnJyxcbiAgICBsZWZ0OiAnJyxcbiAgICByaWdodDogJycsXG4gICAgdG9wOiAnJyxcbiAgICBib3R0b206ICcnLFxuICAgIHRyYW5zaXRpb246ICcnLFxuICAgIHRyYW5zZm9ybTogJydcbiAgfSk7XG59O1xuXG5yZXR1cm4gSXRlbTtcblxufSkpO1xuIiwgIi8qIVxuICogT3V0bGF5ZXIgdjIuMS4xXG4gKiB0aGUgYnJhaW5zIGFuZCBndXRzIG9mIGEgbGF5b3V0IGxpYnJhcnlcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAndXNlIHN0cmljdCc7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EIC0gUmVxdWlyZUpTXG4gICAgZGVmaW5lKCBbXG4gICAgICAgICdldi1lbWl0dGVyL2V2LWVtaXR0ZXInLFxuICAgICAgICAnZ2V0LXNpemUvZ2V0LXNpemUnLFxuICAgICAgICAnZml6enktdWktdXRpbHMvdXRpbHMnLFxuICAgICAgICAnLi9pdGVtJ1xuICAgICAgXSxcbiAgICAgIGZ1bmN0aW9uKCBFdkVtaXR0ZXIsIGdldFNpemUsIHV0aWxzLCBJdGVtICkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIsIGdldFNpemUsIHV0aWxzLCBJdGVtKTtcbiAgICAgIH1cbiAgICApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2dldC1zaXplJyksXG4gICAgICByZXF1aXJlKCdmaXp6eS11aS11dGlscycpLFxuICAgICAgcmVxdWlyZSgnLi9pdGVtJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lk91dGxheWVyID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXIsXG4gICAgICB3aW5kb3cuZ2V0U2l6ZSxcbiAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHMsXG4gICAgICB3aW5kb3cuT3V0bGF5ZXIuSXRlbVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciwgZ2V0U2l6ZSwgdXRpbHMsIEl0ZW0gKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tIHZhcnMgLS0tLS0gLy9cblxudmFyIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZTtcbnZhciBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5O1xudmFyIG5vb3AgPSBmdW5jdGlvbigpIHt9O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBPdXRsYXllciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBnbG9iYWxseSB1bmlxdWUgaWRlbnRpZmllcnNcbnZhciBHVUlEID0gMDtcbi8vIGludGVybmFsIHN0b3JlIG9mIGFsbCBPdXRsYXllciBpbnRhbmNlc1xudmFyIGluc3RhbmNlcyA9IHt9O1xuXG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50LCBTdHJpbmd9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gT3V0bGF5ZXIoIGVsZW1lbnQsIG9wdGlvbnMgKSB7XG4gIHZhciBxdWVyeUVsZW1lbnQgPSB1dGlscy5nZXRRdWVyeUVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgaWYgKCAhcXVlcnlFbGVtZW50ICkge1xuICAgIGlmICggY29uc29sZSApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoICdCYWQgZWxlbWVudCBmb3IgJyArIHRoaXMuY29uc3RydWN0b3IubmFtZXNwYWNlICtcbiAgICAgICAgJzogJyArICggcXVlcnlFbGVtZW50IHx8IGVsZW1lbnQgKSApO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5lbGVtZW50ID0gcXVlcnlFbGVtZW50O1xuICAvLyBhZGQgalF1ZXJ5XG4gIGlmICggalF1ZXJ5ICkge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBqUXVlcnkoIHRoaXMuZWxlbWVudCApO1xuICB9XG5cbiAgLy8gb3B0aW9uc1xuICB0aGlzLm9wdGlvbnMgPSB1dGlscy5leHRlbmQoIHt9LCB0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzICk7XG4gIHRoaXMub3B0aW9uKCBvcHRpb25zICk7XG5cbiAgLy8gYWRkIGlkIGZvciBPdXRsYXllci5nZXRGcm9tRWxlbWVudFxuICB2YXIgaWQgPSArK0dVSUQ7XG4gIHRoaXMuZWxlbWVudC5vdXRsYXllckdVSUQgPSBpZDsgLy8gZXhwYW5kb1xuICBpbnN0YW5jZXNbIGlkIF0gPSB0aGlzOyAvLyBhc3NvY2lhdGUgdmlhIGlkXG5cbiAgLy8ga2ljayBpdCBvZmZcbiAgdGhpcy5fY3JlYXRlKCk7XG5cbiAgdmFyIGlzSW5pdExheW91dCA9IHRoaXMuX2dldE9wdGlvbignaW5pdExheW91dCcpO1xuICBpZiAoIGlzSW5pdExheW91dCApIHtcbiAgICB0aGlzLmxheW91dCgpO1xuICB9XG59XG5cbi8vIHNldHRpbmdzIGFyZSBmb3IgaW50ZXJuYWwgdXNlIG9ubHlcbk91dGxheWVyLm5hbWVzcGFjZSA9ICdvdXRsYXllcic7XG5PdXRsYXllci5JdGVtID0gSXRlbTtcblxuLy8gZGVmYXVsdCBvcHRpb25zXG5PdXRsYXllci5kZWZhdWx0cyA9IHtcbiAgY29udGFpbmVyU3R5bGU6IHtcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICB9LFxuICBpbml0TGF5b3V0OiB0cnVlLFxuICBvcmlnaW5MZWZ0OiB0cnVlLFxuICBvcmlnaW5Ub3A6IHRydWUsXG4gIHJlc2l6ZTogdHJ1ZSxcbiAgcmVzaXplQ29udGFpbmVyOiB0cnVlLFxuICAvLyBpdGVtIG9wdGlvbnNcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAnMC40cycsXG4gIGhpZGRlblN0eWxlOiB7XG4gICAgb3BhY2l0eTogMCxcbiAgICB0cmFuc2Zvcm06ICdzY2FsZSgwLjAwMSknXG4gIH0sXG4gIHZpc2libGVTdHlsZToge1xuICAgIG9wYWNpdHk6IDEsXG4gICAgdHJhbnNmb3JtOiAnc2NhbGUoMSknXG4gIH1cbn07XG5cbnZhciBwcm90byA9IE91dGxheWVyLnByb3RvdHlwZTtcbi8vIGluaGVyaXQgRXZFbWl0dGVyXG51dGlscy5leHRlbmQoIHByb3RvLCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbi8qKlxuICogc2V0IG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKi9cbnByb3RvLm9wdGlvbiA9IGZ1bmN0aW9uKCBvcHRzICkge1xuICB1dGlscy5leHRlbmQoIHRoaXMub3B0aW9ucywgb3B0cyApO1xufTtcblxuLyoqXG4gKiBnZXQgYmFja3dhcmRzIGNvbXBhdGlibGUgb3B0aW9uIHZhbHVlLCBjaGVjayBvbGQgbmFtZVxuICovXG5wcm90by5fZ2V0T3B0aW9uID0gZnVuY3Rpb24oIG9wdGlvbiApIHtcbiAgdmFyIG9sZE9wdGlvbiA9IHRoaXMuY29uc3RydWN0b3IuY29tcGF0T3B0aW9uc1sgb3B0aW9uIF07XG4gIHJldHVybiBvbGRPcHRpb24gJiYgdGhpcy5vcHRpb25zWyBvbGRPcHRpb24gXSAhPT0gdW5kZWZpbmVkID9cbiAgICB0aGlzLm9wdGlvbnNbIG9sZE9wdGlvbiBdIDogdGhpcy5vcHRpb25zWyBvcHRpb24gXTtcbn07XG5cbk91dGxheWVyLmNvbXBhdE9wdGlvbnMgPSB7XG4gIC8vIGN1cnJlbnROYW1lOiBvbGROYW1lXG4gIGluaXRMYXlvdXQ6ICdpc0luaXRMYXlvdXQnLFxuICBob3Jpem9udGFsOiAnaXNIb3Jpem9udGFsJyxcbiAgbGF5b3V0SW5zdGFudDogJ2lzTGF5b3V0SW5zdGFudCcsXG4gIG9yaWdpbkxlZnQ6ICdpc09yaWdpbkxlZnQnLFxuICBvcmlnaW5Ub3A6ICdpc09yaWdpblRvcCcsXG4gIHJlc2l6ZTogJ2lzUmVzaXplQm91bmQnLFxuICByZXNpemVDb250YWluZXI6ICdpc1Jlc2l6aW5nQ29udGFpbmVyJ1xufTtcblxucHJvdG8uX2NyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBnZXQgaXRlbXMgZnJvbSBjaGlsZHJlblxuICB0aGlzLnJlbG9hZEl0ZW1zKCk7XG4gIC8vIGVsZW1lbnRzIHRoYXQgYWZmZWN0IGxheW91dCwgYnV0IGFyZSBub3QgbGFpZCBvdXRcbiAgdGhpcy5zdGFtcHMgPSBbXTtcbiAgdGhpcy5zdGFtcCggdGhpcy5vcHRpb25zLnN0YW1wICk7XG4gIC8vIHNldCBjb250YWluZXIgc3R5bGVcbiAgdXRpbHMuZXh0ZW5kKCB0aGlzLmVsZW1lbnQuc3R5bGUsIHRoaXMub3B0aW9ucy5jb250YWluZXJTdHlsZSApO1xuXG4gIC8vIGJpbmQgcmVzaXplIG1ldGhvZFxuICB2YXIgY2FuQmluZFJlc2l6ZSA9IHRoaXMuX2dldE9wdGlvbigncmVzaXplJyk7XG4gIGlmICggY2FuQmluZFJlc2l6ZSApIHtcbiAgICB0aGlzLmJpbmRSZXNpemUoKTtcbiAgfVxufTtcblxuLy8gZ29lcyB0aHJvdWdoIGFsbCBjaGlsZHJlbiBhZ2FpbiBhbmQgZ2V0cyBicmlja3MgaW4gcHJvcGVyIG9yZGVyXG5wcm90by5yZWxvYWRJdGVtcyA9IGZ1bmN0aW9uKCkge1xuICAvLyBjb2xsZWN0aW9uIG9mIGl0ZW0gZWxlbWVudHNcbiAgdGhpcy5pdGVtcyA9IHRoaXMuX2l0ZW1pemUoIHRoaXMuZWxlbWVudC5jaGlsZHJlbiApO1xufTtcblxuXG4vKipcbiAqIHR1cm4gZWxlbWVudHMgaW50byBPdXRsYXllci5JdGVtcyB0byBiZSB1c2VkIGluIGxheW91dFxuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBIVE1MRWxlbWVudH0gZWxlbXNcbiAqIEByZXR1cm5zIHtBcnJheX0gaXRlbXMgLSBjb2xsZWN0aW9uIG9mIG5ldyBPdXRsYXllciBJdGVtc1xuICovXG5wcm90by5faXRlbWl6ZSA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuICB2YXIgaXRlbUVsZW1zID0gdGhpcy5fZmlsdGVyRmluZEl0ZW1FbGVtZW50cyggZWxlbXMgKTtcbiAgdmFyIEl0ZW0gPSB0aGlzLmNvbnN0cnVjdG9yLkl0ZW07XG5cbiAgLy8gY3JlYXRlIG5ldyBPdXRsYXllciBJdGVtcyBmb3IgY29sbGVjdGlvblxuICB2YXIgaXRlbXMgPSBbXTtcbiAgZm9yICggdmFyIGk9MDsgaSA8IGl0ZW1FbGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgZWxlbSA9IGl0ZW1FbGVtc1tpXTtcbiAgICB2YXIgaXRlbSA9IG5ldyBJdGVtKCBlbGVtLCB0aGlzICk7XG4gICAgaXRlbXMucHVzaCggaXRlbSApO1xuICB9XG5cbiAgcmV0dXJuIGl0ZW1zO1xufTtcblxuLyoqXG4gKiBnZXQgaXRlbSBlbGVtZW50cyB0byBiZSB1c2VkIGluIGxheW91dFxuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBIVE1MRWxlbWVudH0gZWxlbXNcbiAqIEByZXR1cm5zIHtBcnJheX0gaXRlbXMgLSBpdGVtIGVsZW1lbnRzXG4gKi9cbnByb3RvLl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICByZXR1cm4gdXRpbHMuZmlsdGVyRmluZEVsZW1lbnRzKCBlbGVtcywgdGhpcy5vcHRpb25zLml0ZW1TZWxlY3RvciApO1xufTtcblxuLyoqXG4gKiBnZXR0ZXIgbWV0aG9kIGZvciBnZXR0aW5nIGl0ZW0gZWxlbWVudHNcbiAqIEByZXR1cm5zIHtBcnJheX0gZWxlbXMgLSBjb2xsZWN0aW9uIG9mIGl0ZW0gZWxlbWVudHNcbiAqL1xucHJvdG8uZ2V0SXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLml0ZW1zLm1hcCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgcmV0dXJuIGl0ZW0uZWxlbWVudDtcbiAgfSk7XG59O1xuXG4vLyAtLS0tLSBpbml0ICYgbGF5b3V0IC0tLS0tIC8vXG5cbi8qKlxuICogbGF5cyBvdXQgYWxsIGl0ZW1zXG4gKi9cbnByb3RvLmxheW91dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9yZXNldExheW91dCgpO1xuICB0aGlzLl9tYW5hZ2VTdGFtcHMoKTtcblxuICAvLyBkb24ndCBhbmltYXRlIGZpcnN0IGxheW91dFxuICB2YXIgbGF5b3V0SW5zdGFudCA9IHRoaXMuX2dldE9wdGlvbignbGF5b3V0SW5zdGFudCcpO1xuICB2YXIgaXNJbnN0YW50ID0gbGF5b3V0SW5zdGFudCAhPT0gdW5kZWZpbmVkID9cbiAgICBsYXlvdXRJbnN0YW50IDogIXRoaXMuX2lzTGF5b3V0SW5pdGVkO1xuICB0aGlzLmxheW91dEl0ZW1zKCB0aGlzLml0ZW1zLCBpc0luc3RhbnQgKTtcblxuICAvLyBmbGFnIGZvciBpbml0YWxpemVkXG4gIHRoaXMuX2lzTGF5b3V0SW5pdGVkID0gdHJ1ZTtcbn07XG5cbi8vIF9pbml0IGlzIGFsaWFzIGZvciBsYXlvdXRcbnByb3RvLl9pbml0ID0gcHJvdG8ubGF5b3V0O1xuXG4vKipcbiAqIGxvZ2ljIGJlZm9yZSBhbnkgbmV3IGxheW91dFxuICovXG5wcm90by5fcmVzZXRMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5nZXRTaXplKCk7XG59O1xuXG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG59O1xuXG4vKipcbiAqIGdldCBtZWFzdXJlbWVudCBmcm9tIG9wdGlvbiwgZm9yIGNvbHVtbldpZHRoLCByb3dIZWlnaHQsIGd1dHRlclxuICogaWYgb3B0aW9uIGlzIFN0cmluZyAtPiBnZXQgZWxlbWVudCBmcm9tIHNlbGVjdG9yIHN0cmluZywgJiBnZXQgc2l6ZSBvZiBlbGVtZW50XG4gKiBpZiBvcHRpb24gaXMgRWxlbWVudCAtPiBnZXQgc2l6ZSBvZiBlbGVtZW50XG4gKiBlbHNlIHVzZSBvcHRpb24gYXMgYSBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVhc3VyZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gd2lkdGggb3IgaGVpZ2h0XG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5fZ2V0TWVhc3VyZW1lbnQgPSBmdW5jdGlvbiggbWVhc3VyZW1lbnQsIHNpemUgKSB7XG4gIHZhciBvcHRpb24gPSB0aGlzLm9wdGlvbnNbIG1lYXN1cmVtZW50IF07XG4gIHZhciBlbGVtO1xuICBpZiAoICFvcHRpb24gKSB7XG4gICAgLy8gZGVmYXVsdCB0byAwXG4gICAgdGhpc1sgbWVhc3VyZW1lbnQgXSA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gdXNlIG9wdGlvbiBhcyBhbiBlbGVtZW50XG4gICAgaWYgKCB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnICkge1xuICAgICAgZWxlbSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCBvcHRpb24gKTtcbiAgICB9IGVsc2UgaWYgKCBvcHRpb24gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCApIHtcbiAgICAgIGVsZW0gPSBvcHRpb247XG4gICAgfVxuICAgIC8vIHVzZSBzaXplIG9mIGVsZW1lbnQsIGlmIGVsZW1lbnRcbiAgICB0aGlzWyBtZWFzdXJlbWVudCBdID0gZWxlbSA/IGdldFNpemUoIGVsZW0gKVsgc2l6ZSBdIDogb3B0aW9uO1xuICB9XG59O1xuXG4vKipcbiAqIGxheW91dCBhIGNvbGxlY3Rpb24gb2YgaXRlbSBlbGVtZW50c1xuICogQGFwaSBwdWJsaWNcbiAqL1xucHJvdG8ubGF5b3V0SXRlbXMgPSBmdW5jdGlvbiggaXRlbXMsIGlzSW5zdGFudCApIHtcbiAgaXRlbXMgPSB0aGlzLl9nZXRJdGVtc0ZvckxheW91dCggaXRlbXMgKTtcblxuICB0aGlzLl9sYXlvdXRJdGVtcyggaXRlbXMsIGlzSW5zdGFudCApO1xuXG4gIHRoaXMuX3Bvc3RMYXlvdXQoKTtcbn07XG5cbi8qKlxuICogZ2V0IHRoZSBpdGVtcyB0byBiZSBsYWlkIG91dFxuICogeW91IG1heSB3YW50IHRvIHNraXAgb3ZlciBzb21lIGl0ZW1zXG4gKiBAcGFyYW0ge0FycmF5fSBpdGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtc1xuICovXG5wcm90by5fZ2V0SXRlbXNGb3JMYXlvdXQgPSBmdW5jdGlvbiggaXRlbXMgKSB7XG4gIHJldHVybiBpdGVtcy5maWx0ZXIoIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgIHJldHVybiAhaXRlbS5pc0lnbm9yZWQ7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBsYXlvdXQgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzSW5zdGFudFxuICovXG5wcm90by5fbGF5b3V0SXRlbXMgPSBmdW5jdGlvbiggaXRlbXMsIGlzSW5zdGFudCApIHtcbiAgdGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcyggJ2xheW91dCcsIGl0ZW1zICk7XG5cbiAgaWYgKCAhaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCApIHtcbiAgICAvLyBubyBpdGVtcywgZW1pdCBldmVudCB3aXRoIGVtcHR5IGFycmF5XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHF1ZXVlID0gW107XG5cbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgLy8gZ2V0IHgveSBvYmplY3QgZnJvbSBtZXRob2RcbiAgICB2YXIgcG9zaXRpb24gPSB0aGlzLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24oIGl0ZW0gKTtcbiAgICAvLyBlbnF1ZXVlXG4gICAgcG9zaXRpb24uaXRlbSA9IGl0ZW07XG4gICAgcG9zaXRpb24uaXNJbnN0YW50ID0gaXNJbnN0YW50IHx8IGl0ZW0uaXNMYXlvdXRJbnN0YW50O1xuICAgIHF1ZXVlLnB1c2goIHBvc2l0aW9uICk7XG4gIH0sIHRoaXMgKTtcblxuICB0aGlzLl9wcm9jZXNzTGF5b3V0UXVldWUoIHF1ZXVlICk7XG59O1xuXG4vKipcbiAqIGdldCBpdGVtIGxheW91dCBwb3NpdGlvblxuICogQHBhcmFtIHtPdXRsYXllci5JdGVtfSBpdGVtXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB4IGFuZCB5IHBvc2l0aW9uXG4gKi9cbnByb3RvLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiggLyogaXRlbSAqLyApIHtcbiAgcmV0dXJuIHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcbn07XG5cbi8qKlxuICogaXRlcmF0ZSBvdmVyIGFycmF5IGFuZCBwb3NpdGlvbiBlYWNoIGl0ZW1cbiAqIFJlYXNvbiBiZWluZyAtIHNlcGFyYXRpbmcgdGhpcyBsb2dpYyBwcmV2ZW50cyAnbGF5b3V0IGludmFsaWRhdGlvbidcbiAqIHRoeCBAcGF1bF9pcmlzaFxuICogQHBhcmFtIHtBcnJheX0gcXVldWVcbiAqL1xucHJvdG8uX3Byb2Nlc3NMYXlvdXRRdWV1ZSA9IGZ1bmN0aW9uKCBxdWV1ZSApIHtcbiAgdGhpcy51cGRhdGVTdGFnZ2VyKCk7XG4gIHF1ZXVlLmZvckVhY2goIGZ1bmN0aW9uKCBvYmosIGkgKSB7XG4gICAgdGhpcy5fcG9zaXRpb25JdGVtKCBvYmouaXRlbSwgb2JqLngsIG9iai55LCBvYmouaXNJbnN0YW50LCBpICk7XG4gIH0sIHRoaXMgKTtcbn07XG5cbi8vIHNldCBzdGFnZ2VyIGZyb20gb3B0aW9uIGluIG1pbGxpc2Vjb25kcyBudW1iZXJcbnByb3RvLnVwZGF0ZVN0YWdnZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YWdnZXIgPSB0aGlzLm9wdGlvbnMuc3RhZ2dlcjtcbiAgaWYgKCBzdGFnZ2VyID09PSBudWxsIHx8IHN0YWdnZXIgPT09IHVuZGVmaW5lZCApIHtcbiAgICB0aGlzLnN0YWdnZXIgPSAwO1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnN0YWdnZXIgPSBnZXRNaWxsaXNlY29uZHMoIHN0YWdnZXIgKTtcbiAgcmV0dXJuIHRoaXMuc3RhZ2dlcjtcbn07XG5cbi8qKlxuICogU2V0cyBwb3NpdGlvbiBvZiBpdGVtIGluIERPTVxuICogQHBhcmFtIHtPdXRsYXllci5JdGVtfSBpdGVtXG4gKiBAcGFyYW0ge051bWJlcn0geCAtIGhvcml6b250YWwgcG9zaXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gdmVydGljYWwgcG9zaXRpb25cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNJbnN0YW50IC0gZGlzYWJsZXMgdHJhbnNpdGlvbnNcbiAqL1xucHJvdG8uX3Bvc2l0aW9uSXRlbSA9IGZ1bmN0aW9uKCBpdGVtLCB4LCB5LCBpc0luc3RhbnQsIGkgKSB7XG4gIGlmICggaXNJbnN0YW50ICkge1xuICAgIC8vIGlmIG5vdCB0cmFuc2l0aW9uLCBqdXN0IHNldCBDU1NcbiAgICBpdGVtLmdvVG8oIHgsIHkgKTtcbiAgfSBlbHNlIHtcbiAgICBpdGVtLnN0YWdnZXIoIGkgKiB0aGlzLnN0YWdnZXIgKTtcbiAgICBpdGVtLm1vdmVUbyggeCwgeSApO1xuICB9XG59O1xuXG4vKipcbiAqIEFueSBsb2dpYyB5b3Ugd2FudCB0byBkbyBhZnRlciBlYWNoIGxheW91dCxcbiAqIGkuZS4gc2l6ZSB0aGUgY29udGFpbmVyXG4gKi9cbnByb3RvLl9wb3N0TGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVzaXplQ29udGFpbmVyKCk7XG59O1xuXG5wcm90by5yZXNpemVDb250YWluZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGlzUmVzaXppbmdDb250YWluZXIgPSB0aGlzLl9nZXRPcHRpb24oJ3Jlc2l6ZUNvbnRhaW5lcicpO1xuICBpZiAoICFpc1Jlc2l6aW5nQ29udGFpbmVyICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgc2l6ZSA9IHRoaXMuX2dldENvbnRhaW5lclNpemUoKTtcbiAgaWYgKCBzaXplICkge1xuICAgIHRoaXMuX3NldENvbnRhaW5lck1lYXN1cmUoIHNpemUud2lkdGgsIHRydWUgKTtcbiAgICB0aGlzLl9zZXRDb250YWluZXJNZWFzdXJlKCBzaXplLmhlaWdodCwgZmFsc2UgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHdpZHRoIG9yIGhlaWdodCBvZiBjb250YWluZXIgaWYgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IHNpemVcbiAqICAgQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG4gKiAgIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAqL1xucHJvdG8uX2dldENvbnRhaW5lclNpemUgPSBub29wO1xuXG4vKipcbiAqIEBwYXJhbSB7TnVtYmVyfSBtZWFzdXJlIC0gc2l6ZSBvZiB3aWR0aCBvciBoZWlnaHRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNXaWR0aFxuICovXG5wcm90by5fc2V0Q29udGFpbmVyTWVhc3VyZSA9IGZ1bmN0aW9uKCBtZWFzdXJlLCBpc1dpZHRoICkge1xuICBpZiAoIG1lYXN1cmUgPT09IHVuZGVmaW5lZCApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZWxlbVNpemUgPSB0aGlzLnNpemU7XG4gIC8vIGFkZCBwYWRkaW5nIGFuZCBib3JkZXIgd2lkdGggaWYgYm9yZGVyIGJveFxuICBpZiAoIGVsZW1TaXplLmlzQm9yZGVyQm94ICkge1xuICAgIG1lYXN1cmUgKz0gaXNXaWR0aCA/IGVsZW1TaXplLnBhZGRpbmdMZWZ0ICsgZWxlbVNpemUucGFkZGluZ1JpZ2h0ICtcbiAgICAgIGVsZW1TaXplLmJvcmRlckxlZnRXaWR0aCArIGVsZW1TaXplLmJvcmRlclJpZ2h0V2lkdGggOlxuICAgICAgZWxlbVNpemUucGFkZGluZ0JvdHRvbSArIGVsZW1TaXplLnBhZGRpbmdUb3AgK1xuICAgICAgZWxlbVNpemUuYm9yZGVyVG9wV2lkdGggKyBlbGVtU2l6ZS5ib3JkZXJCb3R0b21XaWR0aDtcbiAgfVxuXG4gIG1lYXN1cmUgPSBNYXRoLm1heCggbWVhc3VyZSwgMCApO1xuICB0aGlzLmVsZW1lbnQuc3R5bGVbIGlzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCcgXSA9IG1lYXN1cmUgKyAncHgnO1xufTtcblxuLyoqXG4gKiBlbWl0IGV2ZW50Q29tcGxldGUgb24gYSBjb2xsZWN0aW9uIG9mIGl0ZW1zIGV2ZW50c1xuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxuICogQHBhcmFtIHtBcnJheX0gaXRlbXMgLSBPdXRsYXllci5JdGVtc1xuICovXG5wcm90by5fZW1pdENvbXBsZXRlT25JdGVtcyA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGl0ZW1zICkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICBmdW5jdGlvbiBvbkNvbXBsZXRlKCkge1xuICAgIF90aGlzLmRpc3BhdGNoRXZlbnQoIGV2ZW50TmFtZSArICdDb21wbGV0ZScsIG51bGwsIFsgaXRlbXMgXSApO1xuICB9XG5cbiAgdmFyIGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuICBpZiAoICFpdGVtcyB8fCAhY291bnQgKSB7XG4gICAgb25Db21wbGV0ZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkb25lQ291bnQgPSAwO1xuICBmdW5jdGlvbiB0aWNrKCkge1xuICAgIGRvbmVDb3VudCsrO1xuICAgIGlmICggZG9uZUNvdW50ID09IGNvdW50ICkge1xuICAgICAgb25Db21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGJpbmQgY2FsbGJhY2tcbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgaXRlbS5vbmNlKCBldmVudE5hbWUsIHRpY2sgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIGVtaXRzIGV2ZW50cyB2aWEgRXZFbWl0dGVyIGFuZCBqUXVlcnkgZXZlbnRzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIG5hbWUgb2YgZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gb3JpZ2luYWwgZXZlbnRcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgLSBleHRyYSBhcmd1bWVudHNcbiAqL1xucHJvdG8uZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKCB0eXBlLCBldmVudCwgYXJncyApIHtcbiAgLy8gYWRkIG9yaWdpbmFsIGV2ZW50IHRvIGFyZ3VtZW50c1xuICB2YXIgZW1pdEFyZ3MgPSBldmVudCA/IFsgZXZlbnQgXS5jb25jYXQoIGFyZ3MgKSA6IGFyZ3M7XG4gIHRoaXMuZW1pdEV2ZW50KCB0eXBlLCBlbWl0QXJncyApO1xuXG4gIGlmICggalF1ZXJ5ICkge1xuICAgIC8vIHNldCB0aGlzLiRlbGVtZW50XG4gICAgdGhpcy4kZWxlbWVudCA9IHRoaXMuJGVsZW1lbnQgfHwgalF1ZXJ5KCB0aGlzLmVsZW1lbnQgKTtcbiAgICBpZiAoIGV2ZW50ICkge1xuICAgICAgLy8gY3JlYXRlIGpRdWVyeSBldmVudFxuICAgICAgdmFyICRldmVudCA9IGpRdWVyeS5FdmVudCggZXZlbnQgKTtcbiAgICAgICRldmVudC50eXBlID0gdHlwZTtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlciggJGV2ZW50LCBhcmdzICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGp1c3QgdHJpZ2dlciB3aXRoIHR5cGUgaWYgbm8gZXZlbnQgYXZhaWxhYmxlXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoIHR5cGUsIGFyZ3MgKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGlnbm9yZSAmIHN0YW1wcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5cbi8qKlxuICoga2VlcCBpdGVtIGluIGNvbGxlY3Rpb24sIGJ1dCBkbyBub3QgbGF5IGl0IG91dFxuICogaWdub3JlZCBpdGVtcyBkbyBub3QgZ2V0IHNraXBwZWQgaW4gbGF5b3V0XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1cbiAqL1xucHJvdG8uaWdub3JlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIHZhciBpdGVtID0gdGhpcy5nZXRJdGVtKCBlbGVtICk7XG4gIGlmICggaXRlbSApIHtcbiAgICBpdGVtLmlzSWdub3JlZCA9IHRydWU7XG4gIH1cbn07XG5cbi8qKlxuICogcmV0dXJuIGl0ZW0gdG8gbGF5b3V0IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICovXG5wcm90by51bmlnbm9yZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgaXRlbSA9IHRoaXMuZ2V0SXRlbSggZWxlbSApO1xuICBpZiAoIGl0ZW0gKSB7XG4gICAgZGVsZXRlIGl0ZW0uaXNJZ25vcmVkO1xuICB9XG59O1xuXG4vKipcbiAqIGFkZHMgZWxlbWVudHMgdG8gc3RhbXBzXG4gKiBAcGFyYW0ge05vZGVMaXN0LCBBcnJheSwgRWxlbWVudCwgb3IgU3RyaW5nfSBlbGVtc1xuICovXG5wcm90by5zdGFtcCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgZWxlbXMgPSB0aGlzLl9maW5kKCBlbGVtcyApO1xuICBpZiAoICFlbGVtcyApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnN0YW1wcyA9IHRoaXMuc3RhbXBzLmNvbmNhdCggZWxlbXMgKTtcbiAgLy8gaWdub3JlXG4gIGVsZW1zLmZvckVhY2goIHRoaXMuaWdub3JlLCB0aGlzICk7XG59O1xuXG4vKipcbiAqIHJlbW92ZXMgZWxlbWVudHMgdG8gc3RhbXBzXG4gKiBAcGFyYW0ge05vZGVMaXN0LCBBcnJheSwgb3IgRWxlbWVudH0gZWxlbXNcbiAqL1xucHJvdG8udW5zdGFtcCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgZWxlbXMgPSB0aGlzLl9maW5kKCBlbGVtcyApO1xuICBpZiAoICFlbGVtcyApe1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIC8vIGZpbHRlciBvdXQgcmVtb3ZlZCBzdGFtcCBlbGVtZW50c1xuICAgIHV0aWxzLnJlbW92ZUZyb20oIHRoaXMuc3RhbXBzLCBlbGVtICk7XG4gICAgdGhpcy51bmlnbm9yZSggZWxlbSApO1xuICB9LCB0aGlzICk7XG59O1xuXG4vKipcbiAqIGZpbmRzIGNoaWxkIGVsZW1lbnRzXG4gKiBAcGFyYW0ge05vZGVMaXN0LCBBcnJheSwgRWxlbWVudCwgb3IgU3RyaW5nfSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBlbGVtc1xuICovXG5wcm90by5fZmluZCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgaWYgKCAhZWxlbXMgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGlmIHN0cmluZywgdXNlIGFyZ3VtZW50IGFzIHNlbGVjdG9yIHN0cmluZ1xuICBpZiAoIHR5cGVvZiBlbGVtcyA9PSAnc3RyaW5nJyApIHtcbiAgICBlbGVtcyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCBlbGVtcyApO1xuICB9XG4gIGVsZW1zID0gdXRpbHMubWFrZUFycmF5KCBlbGVtcyApO1xuICByZXR1cm4gZWxlbXM7XG59O1xuXG5wcm90by5fbWFuYWdlU3RhbXBzID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMuc3RhbXBzIHx8ICF0aGlzLnN0YW1wcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fZ2V0Qm91bmRpbmdSZWN0KCk7XG5cbiAgdGhpcy5zdGFtcHMuZm9yRWFjaCggdGhpcy5fbWFuYWdlU3RhbXAsIHRoaXMgKTtcbn07XG5cbi8vIHVwZGF0ZSBib3VuZGluZ0xlZnQgLyBUb3BcbnByb3RvLl9nZXRCb3VuZGluZ1JlY3QgPSBmdW5jdGlvbigpIHtcbiAgLy8gZ2V0IGJvdW5kaW5nIHJlY3QgZm9yIGNvbnRhaW5lciBlbGVtZW50XG4gIHZhciBib3VuZGluZ1JlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzaXplID0gdGhpcy5zaXplO1xuICB0aGlzLl9ib3VuZGluZ1JlY3QgPSB7XG4gICAgbGVmdDogYm91bmRpbmdSZWN0LmxlZnQgKyBzaXplLnBhZGRpbmdMZWZ0ICsgc2l6ZS5ib3JkZXJMZWZ0V2lkdGgsXG4gICAgdG9wOiBib3VuZGluZ1JlY3QudG9wICsgc2l6ZS5wYWRkaW5nVG9wICsgc2l6ZS5ib3JkZXJUb3BXaWR0aCxcbiAgICByaWdodDogYm91bmRpbmdSZWN0LnJpZ2h0IC0gKCBzaXplLnBhZGRpbmdSaWdodCArIHNpemUuYm9yZGVyUmlnaHRXaWR0aCApLFxuICAgIGJvdHRvbTogYm91bmRpbmdSZWN0LmJvdHRvbSAtICggc2l6ZS5wYWRkaW5nQm90dG9tICsgc2l6ZS5ib3JkZXJCb3R0b21XaWR0aCApXG4gIH07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gc3RhbXBcbioqL1xucHJvdG8uX21hbmFnZVN0YW1wID0gbm9vcDtcblxuLyoqXG4gKiBnZXQgeC95IHBvc2l0aW9uIG9mIGVsZW1lbnQgcmVsYXRpdmUgdG8gY29udGFpbmVyIGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHJldHVybnMge09iamVjdH0gb2Zmc2V0IC0gaGFzIGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbVxuICovXG5wcm90by5fZ2V0RWxlbWVudE9mZnNldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgYm91bmRpbmdSZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHRoaXNSZWN0ID0gdGhpcy5fYm91bmRpbmdSZWN0O1xuICB2YXIgc2l6ZSA9IGdldFNpemUoIGVsZW0gKTtcbiAgdmFyIG9mZnNldCA9IHtcbiAgICBsZWZ0OiBib3VuZGluZ1JlY3QubGVmdCAtIHRoaXNSZWN0LmxlZnQgLSBzaXplLm1hcmdpbkxlZnQsXG4gICAgdG9wOiBib3VuZGluZ1JlY3QudG9wIC0gdGhpc1JlY3QudG9wIC0gc2l6ZS5tYXJnaW5Ub3AsXG4gICAgcmlnaHQ6IHRoaXNSZWN0LnJpZ2h0IC0gYm91bmRpbmdSZWN0LnJpZ2h0IC0gc2l6ZS5tYXJnaW5SaWdodCxcbiAgICBib3R0b206IHRoaXNSZWN0LmJvdHRvbSAtIGJvdW5kaW5nUmVjdC5ib3R0b20gLSBzaXplLm1hcmdpbkJvdHRvbVxuICB9O1xuICByZXR1cm4gb2Zmc2V0O1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcmVzaXplIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGVuYWJsZSBldmVudCBoYW5kbGVycyBmb3IgbGlzdGVuZXJzXG4vLyBpLmUuIHJlc2l6ZSAtPiBvbnJlc2l6ZVxucHJvdG8uaGFuZGxlRXZlbnQgPSB1dGlscy5oYW5kbGVFdmVudDtcblxuLyoqXG4gKiBCaW5kIGxheW91dCB0byB3aW5kb3cgcmVzaXppbmdcbiAqL1xucHJvdG8uYmluZFJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMgKTtcbiAgdGhpcy5pc1Jlc2l6ZUJvdW5kID0gdHJ1ZTtcbn07XG5cbi8qKlxuICogVW5iaW5kIGxheW91dCB0byB3aW5kb3cgcmVzaXppbmdcbiAqL1xucHJvdG8udW5iaW5kUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcyApO1xuICB0aGlzLmlzUmVzaXplQm91bmQgPSBmYWxzZTtcbn07XG5cbnByb3RvLm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVzaXplKCk7XG59O1xuXG51dGlscy5kZWJvdW5jZU1ldGhvZCggT3V0bGF5ZXIsICdvbnJlc2l6ZScsIDEwMCApO1xuXG5wcm90by5yZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgLy8gZG9uJ3QgdHJpZ2dlciBpZiBzaXplIGRpZCBub3QgY2hhbmdlXG4gIC8vIG9yIGlmIHJlc2l6ZSB3YXMgdW5ib3VuZC4gU2VlICM5XG4gIGlmICggIXRoaXMuaXNSZXNpemVCb3VuZCB8fCAhdGhpcy5uZWVkc1Jlc2l6ZUxheW91dCgpICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMubGF5b3V0KCk7XG59O1xuXG4vKipcbiAqIGNoZWNrIGlmIGxheW91dCBpcyBuZWVkZWQgcG9zdCBsYXlvdXRcbiAqIEByZXR1cm5zIEJvb2xlYW5cbiAqL1xucHJvdG8ubmVlZHNSZXNpemVMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNpemUgPSBnZXRTaXplKCB0aGlzLmVsZW1lbnQgKTtcbiAgLy8gY2hlY2sgdGhhdCB0aGlzLnNpemUgYW5kIHNpemUgYXJlIHRoZXJlXG4gIC8vIElFOCB0cmlnZ2VycyByZXNpemUgb24gYm9keSBzaXplIGNoYW5nZSwgc28gdGhleSBtaWdodCBub3QgYmVcbiAgdmFyIGhhc1NpemVzID0gdGhpcy5zaXplICYmIHNpemU7XG4gIHJldHVybiBoYXNTaXplcyAmJiBzaXplLmlubmVyV2lkdGggIT09IHRoaXMuc2l6ZS5pbm5lcldpZHRoO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGFkZCBpdGVtcyB0byBPdXRsYXllciBpbnN0YW5jZVxuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBFbGVtZW50fSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtcyAtIE91dGxheWVyLkl0ZW1zXG4qKi9cbnByb3RvLmFkZEl0ZW1zID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtaXplKCBlbGVtcyApO1xuICAvLyBhZGQgaXRlbXMgdG8gY29sbGVjdGlvblxuICBpZiAoIGl0ZW1zLmxlbmd0aCApIHtcbiAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5jb25jYXQoIGl0ZW1zICk7XG4gIH1cbiAgcmV0dXJuIGl0ZW1zO1xufTtcblxuLyoqXG4gKiBMYXlvdXQgbmV3bHktYXBwZW5kZWQgaXRlbSBlbGVtZW50c1xuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBFbGVtZW50fSBlbGVtc1xuICovXG5wcm90by5hcHBlbmRlZCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdmFyIGl0ZW1zID0gdGhpcy5hZGRJdGVtcyggZWxlbXMgKTtcbiAgaWYgKCAhaXRlbXMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBsYXlvdXQgYW5kIHJldmVhbCBqdXN0IHRoZSBuZXcgaXRlbXNcbiAgdGhpcy5sYXlvdXRJdGVtcyggaXRlbXMsIHRydWUgKTtcbiAgdGhpcy5yZXZlYWwoIGl0ZW1zICk7XG59O1xuXG4vKipcbiAqIExheW91dCBwcmVwZW5kZWQgZWxlbWVudHNcbiAqIEBwYXJhbSB7QXJyYXkgb3IgTm9kZUxpc3Qgb3IgRWxlbWVudH0gZWxlbXNcbiAqL1xucHJvdG8ucHJlcGVuZGVkID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtaXplKCBlbGVtcyApO1xuICBpZiAoICFpdGVtcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGFkZCBpdGVtcyB0byBiZWdpbm5pbmcgb2YgY29sbGVjdGlvblxuICB2YXIgcHJldmlvdXNJdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gIHRoaXMuaXRlbXMgPSBpdGVtcy5jb25jYXQoIHByZXZpb3VzSXRlbXMgKTtcbiAgLy8gc3RhcnQgbmV3IGxheW91dFxuICB0aGlzLl9yZXNldExheW91dCgpO1xuICB0aGlzLl9tYW5hZ2VTdGFtcHMoKTtcbiAgLy8gbGF5b3V0IG5ldyBzdHVmZiB3aXRob3V0IHRyYW5zaXRpb25cbiAgdGhpcy5sYXlvdXRJdGVtcyggaXRlbXMsIHRydWUgKTtcbiAgdGhpcy5yZXZlYWwoIGl0ZW1zICk7XG4gIC8vIGxheW91dCBwcmV2aW91cyBpdGVtc1xuICB0aGlzLmxheW91dEl0ZW1zKCBwcmV2aW91c0l0ZW1zICk7XG59O1xuXG4vKipcbiAqIHJldmVhbCBhIGNvbGxlY3Rpb24gb2YgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXkgb2YgT3V0bGF5ZXIuSXRlbXN9IGl0ZW1zXG4gKi9cbnByb3RvLnJldmVhbCA9IGZ1bmN0aW9uKCBpdGVtcyApIHtcbiAgdGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcyggJ3JldmVhbCcsIGl0ZW1zICk7XG4gIGlmICggIWl0ZW1zIHx8ICFpdGVtcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBzdGFnZ2VyID0gdGhpcy51cGRhdGVTdGFnZ2VyKCk7XG4gIGl0ZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBpdGVtLCBpICkge1xuICAgIGl0ZW0uc3RhZ2dlciggaSAqIHN0YWdnZXIgKTtcbiAgICBpdGVtLnJldmVhbCgpO1xuICB9KTtcbn07XG5cbi8qKlxuICogaGlkZSBhIGNvbGxlY3Rpb24gb2YgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXkgb2YgT3V0bGF5ZXIuSXRlbXN9IGl0ZW1zXG4gKi9cbnByb3RvLmhpZGUgPSBmdW5jdGlvbiggaXRlbXMgKSB7XG4gIHRoaXMuX2VtaXRDb21wbGV0ZU9uSXRlbXMoICdoaWRlJywgaXRlbXMgKTtcbiAgaWYgKCAhaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHN0YWdnZXIgPSB0aGlzLnVwZGF0ZVN0YWdnZXIoKTtcbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0sIGkgKSB7XG4gICAgaXRlbS5zdGFnZ2VyKCBpICogc3RhZ2dlciApO1xuICAgIGl0ZW0uaGlkZSgpO1xuICB9KTtcbn07XG5cbi8qKlxuICogcmV2ZWFsIGl0ZW0gZWxlbWVudHNcbiAqIEBwYXJhbSB7QXJyYXl9LCB7RWxlbWVudH0sIHtOb2RlTGlzdH0gaXRlbXNcbiAqL1xucHJvdG8ucmV2ZWFsSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLmdldEl0ZW1zKCBlbGVtcyApO1xuICB0aGlzLnJldmVhbCggaXRlbXMgKTtcbn07XG5cbi8qKlxuICogaGlkZSBpdGVtIGVsZW1lbnRzXG4gKiBAcGFyYW0ge0FycmF5fSwge0VsZW1lbnR9LCB7Tm9kZUxpc3R9IGl0ZW1zXG4gKi9cbnByb3RvLmhpZGVJdGVtRWxlbWVudHMgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHZhciBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoIGVsZW1zICk7XG4gIHRoaXMuaGlkZSggaXRlbXMgKTtcbn07XG5cbi8qKlxuICogZ2V0IE91dGxheWVyLkl0ZW0sIGdpdmVuIGFuIEVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtPdXRsYXllci5JdGVtfSBpdGVtXG4gKi9cbnByb3RvLmdldEl0ZW0gPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgLy8gbG9vcCB0aHJvdWdoIGl0ZW1zIHRvIGdldCB0aGUgb25lIHRoYXQgbWF0Y2hlc1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG4gICAgaWYgKCBpdGVtLmVsZW1lbnQgPT0gZWxlbSApIHtcbiAgICAgIC8vIHJldHVybiBpdGVtXG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogZ2V0IGNvbGxlY3Rpb24gb2YgT3V0bGF5ZXIuSXRlbXMsIGdpdmVuIEVsZW1lbnRzXG4gKiBAcGFyYW0ge0FycmF5fSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtcyAtIE91dGxheWVyLkl0ZW1zXG4gKi9cbnByb3RvLmdldEl0ZW1zID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZWxlbXMgKTtcbiAgdmFyIGl0ZW1zID0gW107XG4gIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHZhciBpdGVtID0gdGhpcy5nZXRJdGVtKCBlbGVtICk7XG4gICAgaWYgKCBpdGVtICkge1xuICAgICAgaXRlbXMucHVzaCggaXRlbSApO1xuICAgIH1cbiAgfSwgdGhpcyApO1xuXG4gIHJldHVybiBpdGVtcztcbn07XG5cbi8qKlxuICogcmVtb3ZlIGVsZW1lbnQocykgZnJvbSBpbnN0YW5jZSBhbmQgRE9NXG4gKiBAcGFyYW0ge0FycmF5IG9yIE5vZGVMaXN0IG9yIEVsZW1lbnR9IGVsZW1zXG4gKi9cbnByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdmFyIHJlbW92ZUl0ZW1zID0gdGhpcy5nZXRJdGVtcyggZWxlbXMgKTtcblxuICB0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCAncmVtb3ZlJywgcmVtb3ZlSXRlbXMgKTtcblxuICAvLyBiYWlsIGlmIG5vIGl0ZW1zIHRvIHJlbW92ZVxuICBpZiAoICFyZW1vdmVJdGVtcyB8fCAhcmVtb3ZlSXRlbXMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJlbW92ZUl0ZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgIGl0ZW0ucmVtb3ZlKCk7XG4gICAgLy8gcmVtb3ZlIGl0ZW0gZnJvbSBjb2xsZWN0aW9uXG4gICAgdXRpbHMucmVtb3ZlRnJvbSggdGhpcy5pdGVtcywgaXRlbSApO1xuICB9LCB0aGlzICk7XG59O1xuXG4vLyAtLS0tLSBkZXN0cm95IC0tLS0tIC8vXG5cbi8vIHJlbW92ZSBhbmQgZGlzYWJsZSBPdXRsYXllciBpbnN0YW5jZVxucHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAvLyBjbGVhbiB1cCBkeW5hbWljIHN0eWxlc1xuICB2YXIgc3R5bGUgPSB0aGlzLmVsZW1lbnQuc3R5bGU7XG4gIHN0eWxlLmhlaWdodCA9ICcnO1xuICBzdHlsZS5wb3NpdGlvbiA9ICcnO1xuICBzdHlsZS53aWR0aCA9ICcnO1xuICAvLyBkZXN0cm95IGl0ZW1zXG4gIHRoaXMuaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgaXRlbS5kZXN0cm95KCk7XG4gIH0pO1xuXG4gIHRoaXMudW5iaW5kUmVzaXplKCk7XG5cbiAgdmFyIGlkID0gdGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRDtcbiAgZGVsZXRlIGluc3RhbmNlc1sgaWQgXTsgLy8gcmVtb3ZlIHJlZmVyZW5jZSB0byBpbnN0YW5jZSBieSBpZFxuICBkZWxldGUgdGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRDtcbiAgLy8gcmVtb3ZlIGRhdGEgZm9yIGpRdWVyeVxuICBpZiAoIGpRdWVyeSApIHtcbiAgICBqUXVlcnkucmVtb3ZlRGF0YSggdGhpcy5lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLm5hbWVzcGFjZSApO1xuICB9XG5cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRhdGEgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBnZXQgT3V0bGF5ZXIgaW5zdGFuY2UgZnJvbSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1cbiAqIEByZXR1cm5zIHtPdXRsYXllcn1cbiAqL1xuT3V0bGF5ZXIuZGF0YSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICBlbGVtID0gdXRpbHMuZ2V0UXVlcnlFbGVtZW50KCBlbGVtICk7XG4gIHZhciBpZCA9IGVsZW0gJiYgZWxlbS5vdXRsYXllckdVSUQ7XG4gIHJldHVybiBpZCAmJiBpbnN0YW5jZXNbIGlkIF07XG59O1xuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGNyZWF0ZSBPdXRsYXllciBjbGFzcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGNyZWF0ZSBhIGxheW91dCBjbGFzc1xuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICovXG5PdXRsYXllci5jcmVhdGUgPSBmdW5jdGlvbiggbmFtZXNwYWNlLCBvcHRpb25zICkge1xuICAvLyBzdWItY2xhc3MgT3V0bGF5ZXJcbiAgdmFyIExheW91dCA9IHN1YmNsYXNzKCBPdXRsYXllciApO1xuICAvLyBhcHBseSBuZXcgb3B0aW9ucyBhbmQgY29tcGF0T3B0aW9uc1xuICBMYXlvdXQuZGVmYXVsdHMgPSB1dGlscy5leHRlbmQoIHt9LCBPdXRsYXllci5kZWZhdWx0cyApO1xuICB1dGlscy5leHRlbmQoIExheW91dC5kZWZhdWx0cywgb3B0aW9ucyApO1xuICBMYXlvdXQuY29tcGF0T3B0aW9ucyA9IHV0aWxzLmV4dGVuZCgge30sIE91dGxheWVyLmNvbXBhdE9wdGlvbnMgICk7XG5cbiAgTGF5b3V0Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblxuICBMYXlvdXQuZGF0YSA9IE91dGxheWVyLmRhdGE7XG5cbiAgLy8gc3ViLWNsYXNzIEl0ZW1cbiAgTGF5b3V0Lkl0ZW0gPSBzdWJjbGFzcyggSXRlbSApO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRlY2xhcmF0aXZlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgdXRpbHMuaHRtbEluaXQoIExheW91dCwgbmFtZXNwYWNlICk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0galF1ZXJ5IGJyaWRnZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIG1ha2UgaW50byBqUXVlcnkgcGx1Z2luXG4gIGlmICggalF1ZXJ5ICYmIGpRdWVyeS5icmlkZ2V0ICkge1xuICAgIGpRdWVyeS5icmlkZ2V0KCBuYW1lc3BhY2UsIExheW91dCApO1xuICB9XG5cbiAgcmV0dXJuIExheW91dDtcbn07XG5cbmZ1bmN0aW9uIHN1YmNsYXNzKCBQYXJlbnQgKSB7XG4gIGZ1bmN0aW9uIFN1YkNsYXNzKCkge1xuICAgIFBhcmVudC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gIH1cblxuICBTdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQYXJlbnQucHJvdG90eXBlICk7XG4gIFN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN1YkNsYXNzO1xuXG4gIHJldHVybiBTdWJDbGFzcztcbn1cblxuLy8gLS0tLS0gaGVscGVycyAtLS0tLSAvL1xuXG4vLyBob3cgbWFueSBtaWxsaXNlY29uZHMgYXJlIGluIGVhY2ggdW5pdFxudmFyIG1zVW5pdHMgPSB7XG4gIG1zOiAxLFxuICBzOiAxMDAwXG59O1xuXG4vLyBtdW5nZSB0aW1lLWxpa2UgcGFyYW1ldGVyIGludG8gbWlsbGlzZWNvbmQgbnVtYmVyXG4vLyAnMC40cycgLT4gNDBcbmZ1bmN0aW9uIGdldE1pbGxpc2Vjb25kcyggdGltZSApIHtcbiAgaWYgKCB0eXBlb2YgdGltZSA9PSAnbnVtYmVyJyApIHtcbiAgICByZXR1cm4gdGltZTtcbiAgfVxuICB2YXIgbWF0Y2hlcyA9IHRpbWUubWF0Y2goIC8oXlxcZCpcXC4/XFxkKikoXFx3KikvICk7XG4gIHZhciBudW0gPSBtYXRjaGVzICYmIG1hdGNoZXNbMV07XG4gIHZhciB1bml0ID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzJdO1xuICBpZiAoICFudW0ubGVuZ3RoICkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIG51bSA9IHBhcnNlRmxvYXQoIG51bSApO1xuICB2YXIgbXVsdCA9IG1zVW5pdHNbIHVuaXQgXSB8fCAxO1xuICByZXR1cm4gbnVtICogbXVsdDtcbn1cblxuLy8gLS0tLS0gZmluIC0tLS0tIC8vXG5cbi8vIGJhY2sgaW4gZ2xvYmFsXG5PdXRsYXllci5JdGVtID0gSXRlbTtcblxucmV0dXJuIE91dGxheWVyO1xuXG59KSk7XG4iLCAiLyoqXG4gKiBJc290b3BlIEl0ZW1cbioqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICAgJ291dGxheWVyL291dGxheWVyJ1xuICAgICAgXSxcbiAgICAgIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHJlcXVpcmUoJ291dGxheWVyJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lklzb3RvcGUgPSB3aW5kb3cuSXNvdG9wZSB8fCB7fTtcbiAgICB3aW5kb3cuSXNvdG9wZS5JdGVtID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdy5PdXRsYXllclxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBPdXRsYXllciApIHtcbid1c2Ugc3RyaWN0JztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSXRlbSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBzdWItY2xhc3MgT3V0bGF5ZXIgSXRlbVxuZnVuY3Rpb24gSXRlbSgpIHtcbiAgT3V0bGF5ZXIuSXRlbS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG59XG5cbnZhciBwcm90byA9IEl0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggT3V0bGF5ZXIuSXRlbS5wcm90b3R5cGUgKTtcblxudmFyIF9jcmVhdGUgPSBwcm90by5fY3JlYXRlO1xucHJvdG8uX2NyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBhc3NpZ24gaWQsIHVzZWQgZm9yIG9yaWdpbmFsLW9yZGVyIHNvcnRpbmdcbiAgdGhpcy5pZCA9IHRoaXMubGF5b3V0Lml0ZW1HVUlEKys7XG4gIF9jcmVhdGUuY2FsbCggdGhpcyApO1xuICB0aGlzLnNvcnREYXRhID0ge307XG59O1xuXG5wcm90by51cGRhdGVTb3J0RGF0YSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIHRoaXMuaXNJZ25vcmVkICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBkZWZhdWx0IHNvcnRlcnNcbiAgdGhpcy5zb3J0RGF0YS5pZCA9IHRoaXMuaWQ7XG4gIC8vIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gIHRoaXMuc29ydERhdGFbJ29yaWdpbmFsLW9yZGVyJ10gPSB0aGlzLmlkO1xuICB0aGlzLnNvcnREYXRhLnJhbmRvbSA9IE1hdGgucmFuZG9tKCk7XG4gIC8vIGdvIHRocnUgZ2V0U29ydERhdGEgb2JqIGFuZCBhcHBseSB0aGUgc29ydGVyc1xuICB2YXIgZ2V0U29ydERhdGEgPSB0aGlzLmxheW91dC5vcHRpb25zLmdldFNvcnREYXRhO1xuICB2YXIgc29ydGVycyA9IHRoaXMubGF5b3V0Ll9zb3J0ZXJzO1xuICBmb3IgKCB2YXIga2V5IGluIGdldFNvcnREYXRhICkge1xuICAgIHZhciBzb3J0ZXIgPSBzb3J0ZXJzWyBrZXkgXTtcbiAgICB0aGlzLnNvcnREYXRhWyBrZXkgXSA9IHNvcnRlciggdGhpcy5lbGVtZW50LCB0aGlzICk7XG4gIH1cbn07XG5cbnZhciBfZGVzdHJveSA9IHByb3RvLmRlc3Ryb3k7XG5wcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNhbGwgc3VwZXJcbiAgX2Rlc3Ryb3kuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuICAvLyByZXNldCBkaXNwbGF5LCAjNzQxXG4gIHRoaXMuY3NzKHtcbiAgICBkaXNwbGF5OiAnJ1xuICB9KTtcbn07XG5cbnJldHVybiBJdGVtO1xuXG59KSk7XG4iLCAiLyoqXG4gKiBJc290b3BlIExheW91dE1vZGVcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICAgJ2dldC1zaXplL2dldC1zaXplJyxcbiAgICAgICAgJ291dGxheWVyL291dGxheWVyJ1xuICAgICAgXSxcbiAgICAgIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHJlcXVpcmUoJ2dldC1zaXplJyksXG4gICAgICByZXF1aXJlKCdvdXRsYXllcicpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5Jc290b3BlID0gd2luZG93Lklzb3RvcGUgfHwge307XG4gICAgd2luZG93Lklzb3RvcGUuTGF5b3V0TW9kZSA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3cuZ2V0U2l6ZSxcbiAgICAgIHdpbmRvdy5PdXRsYXllclxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBnZXRTaXplLCBPdXRsYXllciApIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIGxheW91dCBtb2RlIGNsYXNzXG4gIGZ1bmN0aW9uIExheW91dE1vZGUoIGlzb3RvcGUgKSB7XG4gICAgdGhpcy5pc290b3BlID0gaXNvdG9wZTtcbiAgICAvLyBsaW5rIHByb3BlcnRpZXNcbiAgICBpZiAoIGlzb3RvcGUgKSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBpc290b3BlLm9wdGlvbnNbIHRoaXMubmFtZXNwYWNlIF07XG4gICAgICB0aGlzLmVsZW1lbnQgPSBpc290b3BlLmVsZW1lbnQ7XG4gICAgICB0aGlzLml0ZW1zID0gaXNvdG9wZS5maWx0ZXJlZEl0ZW1zO1xuICAgICAgdGhpcy5zaXplID0gaXNvdG9wZS5zaXplO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IExheW91dE1vZGUucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBzb21lIG1ldGhvZHMgc2hvdWxkIGp1c3QgZGVmZXIgdG8gZGVmYXVsdCBPdXRsYXllciBtZXRob2RcbiAgICogYW5kIHJlZmVyZW5jZSB0aGUgSXNvdG9wZSBpbnN0YW5jZSBhcyBgdGhpc2BcbiAgKiovXG4gIHZhciBmYWNhZGVNZXRob2RzID0gW1xuICAgICdfcmVzZXRMYXlvdXQnLFxuICAgICdfZ2V0SXRlbUxheW91dFBvc2l0aW9uJyxcbiAgICAnX21hbmFnZVN0YW1wJyxcbiAgICAnX2dldENvbnRhaW5lclNpemUnLFxuICAgICdfZ2V0RWxlbWVudE9mZnNldCcsXG4gICAgJ25lZWRzUmVzaXplTGF5b3V0JyxcbiAgICAnX2dldE9wdGlvbidcbiAgXTtcblxuICBmYWNhZGVNZXRob2RzLmZvckVhY2goIGZ1bmN0aW9uKCBtZXRob2ROYW1lICkge1xuICAgIHByb3RvWyBtZXRob2ROYW1lIF0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPdXRsYXllci5wcm90b3R5cGVbIG1ldGhvZE5hbWUgXS5hcHBseSggdGhpcy5pc290b3BlLCBhcmd1bWVudHMgKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyAtLS0tLSAgLS0tLS0gLy9cblxuICAvLyBmb3IgaG9yaXpvbnRhbCBsYXlvdXQgbW9kZXMsIGNoZWNrIHZlcnRpY2FsIHNpemVcbiAgcHJvdG8ubmVlZHNWZXJ0aWNhbFJlc2l6ZUxheW91dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGRvbid0IHRyaWdnZXIgaWYgc2l6ZSBkaWQgbm90IGNoYW5nZVxuICAgIHZhciBzaXplID0gZ2V0U2l6ZSggdGhpcy5pc290b3BlLmVsZW1lbnQgKTtcbiAgICAvLyBjaGVjayB0aGF0IHRoaXMuc2l6ZSBhbmQgc2l6ZSBhcmUgdGhlcmVcbiAgICAvLyBJRTggdHJpZ2dlcnMgcmVzaXplIG9uIGJvZHkgc2l6ZSBjaGFuZ2UsIHNvIHRoZXkgbWlnaHQgbm90IGJlXG4gICAgdmFyIGhhc1NpemVzID0gdGhpcy5pc290b3BlLnNpemUgJiYgc2l6ZTtcbiAgICByZXR1cm4gaGFzU2l6ZXMgJiYgc2l6ZS5pbm5lckhlaWdodCAhPSB0aGlzLmlzb3RvcGUuc2l6ZS5pbm5lckhlaWdodDtcbiAgfTtcblxuICAvLyAtLS0tLSBtZWFzdXJlbWVudHMgLS0tLS0gLy9cblxuICBwcm90by5fZ2V0TWVhc3VyZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzb3RvcGUuX2dldE1lYXN1cmVtZW50LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgfTtcblxuICBwcm90by5nZXRDb2x1bW5XaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0U2VnbWVudFNpemUoICdjb2x1bW4nLCAnV2lkdGgnICk7XG4gIH07XG5cbiAgcHJvdG8uZ2V0Um93SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXRTZWdtZW50U2l6ZSggJ3JvdycsICdIZWlnaHQnICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGdldCBjb2x1bW5XaWR0aCBvciByb3dIZWlnaHRcbiAgICogc2VnbWVudDogJ2NvbHVtbicgb3IgJ3JvdydcbiAgICogc2l6ZSAnV2lkdGgnIG9yICdIZWlnaHQnXG4gICoqL1xuICBwcm90by5nZXRTZWdtZW50U2l6ZSA9IGZ1bmN0aW9uKCBzZWdtZW50LCBzaXplICkge1xuICAgIHZhciBzZWdtZW50TmFtZSA9IHNlZ21lbnQgKyBzaXplO1xuICAgIHZhciBvdXRlclNpemUgPSAnb3V0ZXInICsgc2l6ZTtcbiAgICAvLyBjb2x1bW5XaWR0aCAvIG91dGVyV2lkdGggLy8gcm93SGVpZ2h0IC8gb3V0ZXJIZWlnaHRcbiAgICB0aGlzLl9nZXRNZWFzdXJlbWVudCggc2VnbWVudE5hbWUsIG91dGVyU2l6ZSApO1xuICAgIC8vIGdvdCByb3dIZWlnaHQgb3IgY29sdW1uV2lkdGgsIHdlIGNhbiBjaGlsbFxuICAgIGlmICggdGhpc1sgc2VnbWVudE5hbWUgXSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZmFsbCBiYWNrIHRvIGl0ZW0gb2YgZmlyc3QgZWxlbWVudFxuICAgIHZhciBmaXJzdEl0ZW1TaXplID0gdGhpcy5nZXRGaXJzdEl0ZW1TaXplKCk7XG4gICAgdGhpc1sgc2VnbWVudE5hbWUgXSA9IGZpcnN0SXRlbVNpemUgJiYgZmlyc3RJdGVtU2l6ZVsgb3V0ZXJTaXplIF0gfHxcbiAgICAgIC8vIG9yIHNpemUgb2YgY29udGFpbmVyXG4gICAgICB0aGlzLmlzb3RvcGUuc2l6ZVsgJ2lubmVyJyArIHNpemUgXTtcbiAgfTtcblxuICBwcm90by5nZXRGaXJzdEl0ZW1TaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZpcnN0SXRlbSA9IHRoaXMuaXNvdG9wZS5maWx0ZXJlZEl0ZW1zWzBdO1xuICAgIHJldHVybiBmaXJzdEl0ZW0gJiYgZmlyc3RJdGVtLmVsZW1lbnQgJiYgZ2V0U2l6ZSggZmlyc3RJdGVtLmVsZW1lbnQgKTtcbiAgfTtcblxuICAvLyAtLS0tLSBtZXRob2RzIHRoYXQgc2hvdWxkIHJlZmVyZW5jZSBpc290b3BlIC0tLS0tIC8vXG5cbiAgcHJvdG8ubGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc290b3BlLmxheW91dC5hcHBseSggdGhpcy5pc290b3BlLCBhcmd1bWVudHMgKTtcbiAgfTtcblxuICBwcm90by5nZXRTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc290b3BlLmdldFNpemUoKTtcbiAgICB0aGlzLnNpemUgPSB0aGlzLmlzb3RvcGUuc2l6ZTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBjcmVhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICBMYXlvdXRNb2RlLm1vZGVzID0ge307XG5cbiAgTGF5b3V0TW9kZS5jcmVhdGUgPSBmdW5jdGlvbiggbmFtZXNwYWNlLCBvcHRpb25zICkge1xuXG4gICAgZnVuY3Rpb24gTW9kZSgpIHtcbiAgICAgIExheW91dE1vZGUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuICAgIH1cblxuICAgIE1vZGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggcHJvdG8gKTtcbiAgICBNb2RlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1vZGU7XG5cbiAgICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgICBpZiAoIG9wdGlvbnMgKSB7XG4gICAgICBNb2RlLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIE1vZGUucHJvdG90eXBlLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgICAvLyByZWdpc3RlciBpbiBJc290b3BlXG4gICAgTGF5b3V0TW9kZS5tb2Rlc1sgbmFtZXNwYWNlIF0gPSBNb2RlO1xuXG4gICAgcmV0dXJuIE1vZGU7XG4gIH07XG5cbiAgcmV0dXJuIExheW91dE1vZGU7XG5cbn0pKTtcbiIsICIvKiFcbiAqIE1hc29ucnkgdjQuMi4yXG4gKiBDYXNjYWRpbmcgZ3JpZCBsYXlvdXQgbGlicmFyeVxuICogaHR0cHM6Ly9tYXNvbnJ5LmRlc2FuZHJvLmNvbVxuICogTUlUIExpY2Vuc2VcbiAqIGJ5IERhdmlkIERlU2FuZHJvXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAgICdvdXRsYXllci9vdXRsYXllcicsXG4gICAgICAgICdnZXQtc2l6ZS9nZXQtc2l6ZSdcbiAgICAgIF0sXG4gICAgICBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICByZXF1aXJlKCdvdXRsYXllcicpLFxuICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuTWFzb25yeSA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3cuT3V0bGF5ZXIsXG4gICAgICB3aW5kb3cuZ2V0U2l6ZVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBPdXRsYXllciwgZ2V0U2l6ZSApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBtYXNvbnJ5RGVmaW5pdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIGNyZWF0ZSBhbiBPdXRsYXllciBsYXlvdXQgY2xhc3NcbiAgdmFyIE1hc29ucnkgPSBPdXRsYXllci5jcmVhdGUoJ21hc29ucnknKTtcbiAgLy8gaXNGaXRXaWR0aCAtPiBmaXRXaWR0aFxuICBNYXNvbnJ5LmNvbXBhdE9wdGlvbnMuZml0V2lkdGggPSAnaXNGaXRXaWR0aCc7XG5cbiAgdmFyIHByb3RvID0gTWFzb25yeS5wcm90b3R5cGU7XG5cbiAgcHJvdG8uX3Jlc2V0TGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXRTaXplKCk7XG4gICAgdGhpcy5fZ2V0TWVhc3VyZW1lbnQoICdjb2x1bW5XaWR0aCcsICdvdXRlcldpZHRoJyApO1xuICAgIHRoaXMuX2dldE1lYXN1cmVtZW50KCAnZ3V0dGVyJywgJ291dGVyV2lkdGgnICk7XG4gICAgdGhpcy5tZWFzdXJlQ29sdW1ucygpO1xuXG4gICAgLy8gcmVzZXQgY29sdW1uIFlcbiAgICB0aGlzLmNvbFlzID0gW107XG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHRoaXMuY29sczsgaSsrICkge1xuICAgICAgdGhpcy5jb2xZcy5wdXNoKCAwICk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXhZID0gMDtcbiAgICB0aGlzLmhvcml6b250YWxDb2xJbmRleCA9IDA7XG4gIH07XG5cbiAgcHJvdG8ubWVhc3VyZUNvbHVtbnMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldENvbnRhaW5lcldpZHRoKCk7XG4gICAgLy8gaWYgY29sdW1uV2lkdGggaXMgMCwgZGVmYXVsdCB0byBvdXRlcldpZHRoIG9mIGZpcnN0IGl0ZW1cbiAgICBpZiAoICF0aGlzLmNvbHVtbldpZHRoICkge1xuICAgICAgdmFyIGZpcnN0SXRlbSA9IHRoaXMuaXRlbXNbMF07XG4gICAgICB2YXIgZmlyc3RJdGVtRWxlbSA9IGZpcnN0SXRlbSAmJiBmaXJzdEl0ZW0uZWxlbWVudDtcbiAgICAgIC8vIGNvbHVtbldpZHRoIGZhbGwgYmFjayB0byBpdGVtIG9mIGZpcnN0IGVsZW1lbnRcbiAgICAgIHRoaXMuY29sdW1uV2lkdGggPSBmaXJzdEl0ZW1FbGVtICYmIGdldFNpemUoIGZpcnN0SXRlbUVsZW0gKS5vdXRlcldpZHRoIHx8XG4gICAgICAgIC8vIGlmIGZpcnN0IGVsZW0gaGFzIG5vIHdpZHRoLCBkZWZhdWx0IHRvIHNpemUgb2YgY29udGFpbmVyXG4gICAgICAgIHRoaXMuY29udGFpbmVyV2lkdGg7XG4gICAgfVxuXG4gICAgdmFyIGNvbHVtbldpZHRoID0gdGhpcy5jb2x1bW5XaWR0aCArPSB0aGlzLmd1dHRlcjtcblxuICAgIC8vIGNhbGN1bGF0ZSBjb2x1bW5zXG4gICAgdmFyIGNvbnRhaW5lcldpZHRoID0gdGhpcy5jb250YWluZXJXaWR0aCArIHRoaXMuZ3V0dGVyO1xuICAgIHZhciBjb2xzID0gY29udGFpbmVyV2lkdGggLyBjb2x1bW5XaWR0aDtcbiAgICAvLyBmaXggcm91bmRpbmcgZXJyb3JzLCB0eXBpY2FsbHkgd2l0aCBndXR0ZXJzXG4gICAgdmFyIGV4Y2VzcyA9IGNvbHVtbldpZHRoIC0gY29udGFpbmVyV2lkdGggJSBjb2x1bW5XaWR0aDtcbiAgICAvLyBpZiBvdmVyc2hvb3QgaXMgbGVzcyB0aGFuIGEgcGl4ZWwsIHJvdW5kIHVwLCBvdGhlcndpc2UgZmxvb3IgaXRcbiAgICB2YXIgbWF0aE1ldGhvZCA9IGV4Y2VzcyAmJiBleGNlc3MgPCAxID8gJ3JvdW5kJyA6ICdmbG9vcic7XG4gICAgY29scyA9IE1hdGhbIG1hdGhNZXRob2QgXSggY29scyApO1xuICAgIHRoaXMuY29scyA9IE1hdGgubWF4KCBjb2xzLCAxICk7XG4gIH07XG5cbiAgcHJvdG8uZ2V0Q29udGFpbmVyV2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAvLyBjb250YWluZXIgaXMgcGFyZW50IGlmIGZpdCB3aWR0aFxuICAgIHZhciBpc0ZpdFdpZHRoID0gdGhpcy5fZ2V0T3B0aW9uKCdmaXRXaWR0aCcpO1xuICAgIHZhciBjb250YWluZXIgPSBpc0ZpdFdpZHRoID8gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUgOiB0aGlzLmVsZW1lbnQ7XG4gICAgLy8gY2hlY2sgdGhhdCB0aGlzLnNpemUgYW5kIHNpemUgYXJlIHRoZXJlXG4gICAgLy8gSUU4IHRyaWdnZXJzIHJlc2l6ZSBvbiBib2R5IHNpemUgY2hhbmdlLCBzbyB0aGV5IG1pZ2h0IG5vdCBiZVxuICAgIHZhciBzaXplID0gZ2V0U2l6ZSggY29udGFpbmVyICk7XG4gICAgdGhpcy5jb250YWluZXJXaWR0aCA9IHNpemUgJiYgc2l6ZS5pbm5lcldpZHRoO1xuICB9O1xuXG4gIHByb3RvLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiggaXRlbSApIHtcbiAgICBpdGVtLmdldFNpemUoKTtcbiAgICAvLyBob3cgbWFueSBjb2x1bW5zIGRvZXMgdGhpcyBicmljayBzcGFuXG4gICAgdmFyIHJlbWFpbmRlciA9IGl0ZW0uc2l6ZS5vdXRlcldpZHRoICUgdGhpcy5jb2x1bW5XaWR0aDtcbiAgICB2YXIgbWF0aE1ldGhvZCA9IHJlbWFpbmRlciAmJiByZW1haW5kZXIgPCAxID8gJ3JvdW5kJyA6ICdjZWlsJztcbiAgICAvLyByb3VuZCBpZiBvZmYgYnkgMSBwaXhlbCwgb3RoZXJ3aXNlIHVzZSBjZWlsXG4gICAgdmFyIGNvbFNwYW4gPSBNYXRoWyBtYXRoTWV0aG9kIF0oIGl0ZW0uc2l6ZS5vdXRlcldpZHRoIC8gdGhpcy5jb2x1bW5XaWR0aCApO1xuICAgIGNvbFNwYW4gPSBNYXRoLm1pbiggY29sU3BhbiwgdGhpcy5jb2xzICk7XG4gICAgLy8gdXNlIGhvcml6b250YWwgb3IgdG9wIGNvbHVtbiBwb3NpdGlvblxuICAgIHZhciBjb2xQb3NNZXRob2QgPSB0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbE9yZGVyID9cbiAgICAgICdfZ2V0SG9yaXpvbnRhbENvbFBvc2l0aW9uJyA6ICdfZ2V0VG9wQ29sUG9zaXRpb24nO1xuICAgIHZhciBjb2xQb3NpdGlvbiA9IHRoaXNbIGNvbFBvc01ldGhvZCBdKCBjb2xTcGFuLCBpdGVtICk7XG4gICAgLy8gcG9zaXRpb24gdGhlIGJyaWNrXG4gICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgeDogdGhpcy5jb2x1bW5XaWR0aCAqIGNvbFBvc2l0aW9uLmNvbCxcbiAgICAgIHk6IGNvbFBvc2l0aW9uLnlcbiAgICB9O1xuICAgIC8vIGFwcGx5IHNldEhlaWdodCB0byBuZWNlc3NhcnkgY29sdW1uc1xuICAgIHZhciBzZXRIZWlnaHQgPSBjb2xQb3NpdGlvbi55ICsgaXRlbS5zaXplLm91dGVySGVpZ2h0O1xuICAgIHZhciBzZXRNYXggPSBjb2xTcGFuICsgY29sUG9zaXRpb24uY29sO1xuICAgIGZvciAoIHZhciBpID0gY29sUG9zaXRpb24uY29sOyBpIDwgc2V0TWF4OyBpKysgKSB7XG4gICAgICB0aGlzLmNvbFlzW2ldID0gc2V0SGVpZ2h0O1xuICAgIH1cblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfTtcblxuICBwcm90by5fZ2V0VG9wQ29sUG9zaXRpb24gPSBmdW5jdGlvbiggY29sU3BhbiApIHtcbiAgICB2YXIgY29sR3JvdXAgPSB0aGlzLl9nZXRUb3BDb2xHcm91cCggY29sU3BhbiApO1xuICAgIC8vIGdldCB0aGUgbWluaW11bSBZIHZhbHVlIGZyb20gdGhlIGNvbHVtbnNcbiAgICB2YXIgbWluaW11bVkgPSBNYXRoLm1pbi5hcHBseSggTWF0aCwgY29sR3JvdXAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2w6IGNvbEdyb3VwLmluZGV4T2YoIG1pbmltdW1ZICksXG4gICAgICB5OiBtaW5pbXVtWSxcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge051bWJlcn0gY29sU3BhbiAtIG51bWJlciBvZiBjb2x1bW5zIHRoZSBlbGVtZW50IHNwYW5zXG4gICAqIEByZXR1cm5zIHtBcnJheX0gY29sR3JvdXBcbiAgICovXG4gIHByb3RvLl9nZXRUb3BDb2xHcm91cCA9IGZ1bmN0aW9uKCBjb2xTcGFuICkge1xuICAgIGlmICggY29sU3BhbiA8IDIgKSB7XG4gICAgICAvLyBpZiBicmljayBzcGFucyBvbmx5IG9uZSBjb2x1bW4sIHVzZSBhbGwgdGhlIGNvbHVtbiBZc1xuICAgICAgcmV0dXJuIHRoaXMuY29sWXM7XG4gICAgfVxuXG4gICAgdmFyIGNvbEdyb3VwID0gW107XG4gICAgLy8gaG93IG1hbnkgZGlmZmVyZW50IHBsYWNlcyBjb3VsZCB0aGlzIGJyaWNrIGZpdCBob3Jpem9udGFsbHlcbiAgICB2YXIgZ3JvdXBDb3VudCA9IHRoaXMuY29scyArIDEgLSBjb2xTcGFuO1xuICAgIC8vIGZvciBlYWNoIGdyb3VwIHBvdGVudGlhbCBob3Jpem9udGFsIHBvc2l0aW9uXG4gICAgZm9yICggdmFyIGkgPSAwOyBpIDwgZ3JvdXBDb3VudDsgaSsrICkge1xuICAgICAgY29sR3JvdXBbaV0gPSB0aGlzLl9nZXRDb2xHcm91cFkoIGksIGNvbFNwYW4gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbEdyb3VwO1xuICB9O1xuXG4gIHByb3RvLl9nZXRDb2xHcm91cFkgPSBmdW5jdGlvbiggY29sLCBjb2xTcGFuICkge1xuICAgIGlmICggY29sU3BhbiA8IDIgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb2xZc1sgY29sIF07XG4gICAgfVxuICAgIC8vIG1ha2UgYW4gYXJyYXkgb2YgY29sWSB2YWx1ZXMgZm9yIHRoYXQgb25lIGdyb3VwXG4gICAgdmFyIGdyb3VwQ29sWXMgPSB0aGlzLmNvbFlzLnNsaWNlKCBjb2wsIGNvbCArIGNvbFNwYW4gKTtcbiAgICAvLyBhbmQgZ2V0IHRoZSBtYXggdmFsdWUgb2YgdGhlIGFycmF5XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KCBNYXRoLCBncm91cENvbFlzICk7XG4gIH07XG5cbiAgLy8gZ2V0IGNvbHVtbiBwb3NpdGlvbiBiYXNlZCBvbiBob3Jpem9udGFsIGluZGV4LiAjODczXG4gIHByb3RvLl9nZXRIb3Jpem9udGFsQ29sUG9zaXRpb24gPSBmdW5jdGlvbiggY29sU3BhbiwgaXRlbSApIHtcbiAgICB2YXIgY29sID0gdGhpcy5ob3Jpem9udGFsQ29sSW5kZXggJSB0aGlzLmNvbHM7XG4gICAgdmFyIGlzT3ZlciA9IGNvbFNwYW4gPiAxICYmIGNvbCArIGNvbFNwYW4gPiB0aGlzLmNvbHM7XG4gICAgLy8gc2hpZnQgdG8gbmV4dCByb3cgaWYgaXRlbSBjYW4ndCBmaXQgb24gY3VycmVudCByb3dcbiAgICBjb2wgPSBpc092ZXIgPyAwIDogY29sO1xuICAgIC8vIGRvbid0IGxldCB6ZXJvLXNpemUgaXRlbXMgdGFrZSB1cCBzcGFjZVxuICAgIHZhciBoYXNTaXplID0gaXRlbS5zaXplLm91dGVyV2lkdGggJiYgaXRlbS5zaXplLm91dGVySGVpZ2h0O1xuICAgIHRoaXMuaG9yaXpvbnRhbENvbEluZGV4ID0gaGFzU2l6ZSA/IGNvbCArIGNvbFNwYW4gOiB0aGlzLmhvcml6b250YWxDb2xJbmRleDtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2w6IGNvbCxcbiAgICAgIHk6IHRoaXMuX2dldENvbEdyb3VwWSggY29sLCBjb2xTcGFuICksXG4gICAgfTtcbiAgfTtcblxuICBwcm90by5fbWFuYWdlU3RhbXAgPSBmdW5jdGlvbiggc3RhbXAgKSB7XG4gICAgdmFyIHN0YW1wU2l6ZSA9IGdldFNpemUoIHN0YW1wICk7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuX2dldEVsZW1lbnRPZmZzZXQoIHN0YW1wICk7XG4gICAgLy8gZ2V0IHRoZSBjb2x1bW5zIHRoYXQgdGhpcyBzdGFtcCBhZmZlY3RzXG4gICAgdmFyIGlzT3JpZ2luTGVmdCA9IHRoaXMuX2dldE9wdGlvbignb3JpZ2luTGVmdCcpO1xuICAgIHZhciBmaXJzdFggPSBpc09yaWdpbkxlZnQgPyBvZmZzZXQubGVmdCA6IG9mZnNldC5yaWdodDtcbiAgICB2YXIgbGFzdFggPSBmaXJzdFggKyBzdGFtcFNpemUub3V0ZXJXaWR0aDtcbiAgICB2YXIgZmlyc3RDb2wgPSBNYXRoLmZsb29yKCBmaXJzdFggLyB0aGlzLmNvbHVtbldpZHRoICk7XG4gICAgZmlyc3RDb2wgPSBNYXRoLm1heCggMCwgZmlyc3RDb2wgKTtcbiAgICB2YXIgbGFzdENvbCA9IE1hdGguZmxvb3IoIGxhc3RYIC8gdGhpcy5jb2x1bW5XaWR0aCApO1xuICAgIC8vIGxhc3RDb2wgc2hvdWxkIG5vdCBnbyBvdmVyIGlmIG11bHRpcGxlIG9mIGNvbHVtbldpZHRoICM0MjVcbiAgICBsYXN0Q29sIC09IGxhc3RYICUgdGhpcy5jb2x1bW5XaWR0aCA/IDAgOiAxO1xuICAgIGxhc3RDb2wgPSBNYXRoLm1pbiggdGhpcy5jb2xzIC0gMSwgbGFzdENvbCApO1xuICAgIC8vIHNldCBjb2xZcyB0byBib3R0b20gb2YgdGhlIHN0YW1wXG5cbiAgICB2YXIgaXNPcmlnaW5Ub3AgPSB0aGlzLl9nZXRPcHRpb24oJ29yaWdpblRvcCcpO1xuICAgIHZhciBzdGFtcE1heFkgPSAoIGlzT3JpZ2luVG9wID8gb2Zmc2V0LnRvcCA6IG9mZnNldC5ib3R0b20gKSArXG4gICAgICBzdGFtcFNpemUub3V0ZXJIZWlnaHQ7XG4gICAgZm9yICggdmFyIGkgPSBmaXJzdENvbDsgaSA8PSBsYXN0Q29sOyBpKysgKSB7XG4gICAgICB0aGlzLmNvbFlzW2ldID0gTWF0aC5tYXgoIHN0YW1wTWF4WSwgdGhpcy5jb2xZc1tpXSApO1xuICAgIH1cbiAgfTtcblxuICBwcm90by5fZ2V0Q29udGFpbmVyU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubWF4WSA9IE1hdGgubWF4LmFwcGx5KCBNYXRoLCB0aGlzLmNvbFlzICk7XG4gICAgdmFyIHNpemUgPSB7XG4gICAgICBoZWlnaHQ6IHRoaXMubWF4WVxuICAgIH07XG5cbiAgICBpZiAoIHRoaXMuX2dldE9wdGlvbignZml0V2lkdGgnKSApIHtcbiAgICAgIHNpemUud2lkdGggPSB0aGlzLl9nZXRDb250YWluZXJGaXRXaWR0aCgpO1xuICAgIH1cblxuICAgIHJldHVybiBzaXplO1xuICB9O1xuXG4gIHByb3RvLl9nZXRDb250YWluZXJGaXRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1bnVzZWRDb2xzID0gMDtcbiAgICAvLyBjb3VudCB1bnVzZWQgY29sdW1uc1xuICAgIHZhciBpID0gdGhpcy5jb2xzO1xuICAgIHdoaWxlICggLS1pICkge1xuICAgICAgaWYgKCB0aGlzLmNvbFlzW2ldICE9PSAwICkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHVudXNlZENvbHMrKztcbiAgICB9XG4gICAgLy8gZml0IGNvbnRhaW5lciB0byBjb2x1bW5zIHRoYXQgaGF2ZSBiZWVuIHVzZWRcbiAgICByZXR1cm4gKCB0aGlzLmNvbHMgLSB1bnVzZWRDb2xzICkgKiB0aGlzLmNvbHVtbldpZHRoIC0gdGhpcy5ndXR0ZXI7XG4gIH07XG5cbiAgcHJvdG8ubmVlZHNSZXNpemVMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJldmlvdXNXaWR0aCA9IHRoaXMuY29udGFpbmVyV2lkdGg7XG4gICAgdGhpcy5nZXRDb250YWluZXJXaWR0aCgpO1xuICAgIHJldHVybiBwcmV2aW91c1dpZHRoICE9IHRoaXMuY29udGFpbmVyV2lkdGg7XG4gIH07XG5cbiAgcmV0dXJuIE1hc29ucnk7XG5cbn0pKTtcbiIsICIvKiFcbiAqIE1hc29ucnkgbGF5b3V0IG1vZGVcbiAqIHN1Yi1jbGFzc2VzIE1hc29ucnlcbiAqIGh0dHBzOi8vbWFzb25yeS5kZXNhbmRyby5jb21cbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICAgJy4uL2xheW91dC1tb2RlJyxcbiAgICAgICAgJ21hc29ucnktbGF5b3V0L21hc29ucnknXG4gICAgICBdLFxuICAgICAgZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgcmVxdWlyZSgnLi4vbGF5b3V0LW1vZGUnKSxcbiAgICAgIHJlcXVpcmUoJ21hc29ucnktbGF5b3V0JylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZmFjdG9yeShcbiAgICAgIHdpbmRvdy5Jc290b3BlLkxheW91dE1vZGUsXG4gICAgICB3aW5kb3cuTWFzb25yeVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBMYXlvdXRNb2RlLCBNYXNvbnJ5ICkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBtYXNvbnJ5RGVmaW5pdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIGNyZWF0ZSBhbiBPdXRsYXllciBsYXlvdXQgY2xhc3NcbiAgdmFyIE1hc29ucnlNb2RlID0gTGF5b3V0TW9kZS5jcmVhdGUoJ21hc29ucnknKTtcblxuICB2YXIgcHJvdG8gPSBNYXNvbnJ5TW9kZS5wcm90b3R5cGU7XG5cbiAgdmFyIGtlZXBNb2RlTWV0aG9kcyA9IHtcbiAgICBfZ2V0RWxlbWVudE9mZnNldDogdHJ1ZSxcbiAgICBsYXlvdXQ6IHRydWUsXG4gICAgX2dldE1lYXN1cmVtZW50OiB0cnVlXG4gIH07XG5cbiAgLy8gaW5oZXJpdCBNYXNvbnJ5IHByb3RvdHlwZVxuICBmb3IgKCB2YXIgbWV0aG9kIGluIE1hc29ucnkucHJvdG90eXBlICkge1xuICAgIC8vIGRvIG5vdCBpbmhlcml0IG1vZGUgbWV0aG9kc1xuICAgIGlmICggIWtlZXBNb2RlTWV0aG9kc1sgbWV0aG9kIF0gKSB7XG4gICAgICBwcm90b1sgbWV0aG9kIF0gPSBNYXNvbnJ5LnByb3RvdHlwZVsgbWV0aG9kIF07XG4gICAgfVxuICB9XG5cbiAgdmFyIG1lYXN1cmVDb2x1bW5zID0gcHJvdG8ubWVhc3VyZUNvbHVtbnM7XG4gIHByb3RvLm1lYXN1cmVDb2x1bW5zID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gc2V0IGl0ZW1zLCB1c2VkIGlmIG1lYXN1cmluZyBmaXJzdCBpdGVtXG4gICAgdGhpcy5pdGVtcyA9IHRoaXMuaXNvdG9wZS5maWx0ZXJlZEl0ZW1zO1xuICAgIG1lYXN1cmVDb2x1bW5zLmNhbGwoIHRoaXMgKTtcbiAgfTtcblxuICAvLyBwb2ludCB0byBtb2RlIG9wdGlvbnMgZm9yIGZpdFdpZHRoXG4gIHZhciBfZ2V0T3B0aW9uID0gcHJvdG8uX2dldE9wdGlvbjtcbiAgcHJvdG8uX2dldE9wdGlvbiA9IGZ1bmN0aW9uKCBvcHRpb24gKSB7XG4gICAgaWYgKCBvcHRpb24gPT0gJ2ZpdFdpZHRoJyApIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaXNGaXRXaWR0aCAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgdGhpcy5vcHRpb25zLmlzRml0V2lkdGggOiB0aGlzLm9wdGlvbnMuZml0V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiBfZ2V0T3B0aW9uLmFwcGx5KCB0aGlzLmlzb3RvcGUsIGFyZ3VtZW50cyApO1xuICB9O1xuXG4gIHJldHVybiBNYXNvbnJ5TW9kZTtcblxufSkpO1xuIiwgIi8qKlxuICogZml0Um93cyBsYXlvdXQgbW9kZVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgICAnLi4vbGF5b3V0LW1vZGUnXG4gICAgICBdLFxuICAgICAgZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHJlcXVpcmUoJy4uL2xheW91dC1tb2RlJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZmFjdG9yeShcbiAgICAgIHdpbmRvdy5Jc290b3BlLkxheW91dE1vZGVcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggTGF5b3V0TW9kZSApIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIEZpdFJvd3MgPSBMYXlvdXRNb2RlLmNyZWF0ZSgnZml0Um93cycpO1xuXG52YXIgcHJvdG8gPSBGaXRSb3dzLnByb3RvdHlwZTtcblxucHJvdG8uX3Jlc2V0TGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMueCA9IDA7XG4gIHRoaXMueSA9IDA7XG4gIHRoaXMubWF4WSA9IDA7XG4gIHRoaXMuX2dldE1lYXN1cmVtZW50KCAnZ3V0dGVyJywgJ291dGVyV2lkdGgnICk7XG59O1xuXG5wcm90by5fZ2V0SXRlbUxheW91dFBvc2l0aW9uID0gZnVuY3Rpb24oIGl0ZW0gKSB7XG4gIGl0ZW0uZ2V0U2l6ZSgpO1xuXG4gIHZhciBpdGVtV2lkdGggPSBpdGVtLnNpemUub3V0ZXJXaWR0aCArIHRoaXMuZ3V0dGVyO1xuICAvLyBpZiB0aGlzIGVsZW1lbnQgY2Fubm90IGZpdCBpbiB0aGUgY3VycmVudCByb3dcbiAgdmFyIGNvbnRhaW5lcldpZHRoID0gdGhpcy5pc290b3BlLnNpemUuaW5uZXJXaWR0aCArIHRoaXMuZ3V0dGVyO1xuICBpZiAoIHRoaXMueCAhPT0gMCAmJiBpdGVtV2lkdGggKyB0aGlzLnggPiBjb250YWluZXJXaWR0aCApIHtcbiAgICB0aGlzLnggPSAwO1xuICAgIHRoaXMueSA9IHRoaXMubWF4WTtcbiAgfVxuXG4gIHZhciBwb3NpdGlvbiA9IHtcbiAgICB4OiB0aGlzLngsXG4gICAgeTogdGhpcy55XG4gIH07XG5cbiAgdGhpcy5tYXhZID0gTWF0aC5tYXgoIHRoaXMubWF4WSwgdGhpcy55ICsgaXRlbS5zaXplLm91dGVySGVpZ2h0ICk7XG4gIHRoaXMueCArPSBpdGVtV2lkdGg7XG5cbiAgcmV0dXJuIHBvc2l0aW9uO1xufTtcblxucHJvdG8uX2dldENvbnRhaW5lclNpemUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHsgaGVpZ2h0OiB0aGlzLm1heFkgfTtcbn07XG5cbnJldHVybiBGaXRSb3dzO1xuXG59KSk7XG4iLCAiLyoqXG4gKiB2ZXJ0aWNhbCBsYXlvdXQgbW9kZVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgICAnLi4vbGF5b3V0LW1vZGUnXG4gICAgICBdLFxuICAgICAgZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgcmVxdWlyZSgnLi4vbGF5b3V0LW1vZGUnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KFxuICAgICAgd2luZG93Lklzb3RvcGUuTGF5b3V0TW9kZVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBMYXlvdXRNb2RlICkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgVmVydGljYWwgPSBMYXlvdXRNb2RlLmNyZWF0ZSggJ3ZlcnRpY2FsJywge1xuICBob3Jpem9udGFsQWxpZ25tZW50OiAwXG59KTtcblxudmFyIHByb3RvID0gVmVydGljYWwucHJvdG90eXBlO1xuXG5wcm90by5fcmVzZXRMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy55ID0gMDtcbn07XG5cbnByb3RvLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiggaXRlbSApIHtcbiAgaXRlbS5nZXRTaXplKCk7XG4gIHZhciB4ID0gKCB0aGlzLmlzb3RvcGUuc2l6ZS5pbm5lcldpZHRoIC0gaXRlbS5zaXplLm91dGVyV2lkdGggKSAqXG4gICAgdGhpcy5vcHRpb25zLmhvcml6b250YWxBbGlnbm1lbnQ7XG4gIHZhciB5ID0gdGhpcy55O1xuICB0aGlzLnkgKz0gaXRlbS5zaXplLm91dGVySGVpZ2h0O1xuICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG59O1xuXG5wcm90by5fZ2V0Q29udGFpbmVyU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4geyBoZWlnaHQ6IHRoaXMueSB9O1xufTtcblxucmV0dXJuIFZlcnRpY2FsO1xuXG59KSk7XG4iLCAiLyohXG4gKiBJc290b3BlIHYzLjAuNlxuICpcbiAqIExpY2Vuc2VkIEdQTHYzIGZvciBvcGVuIHNvdXJjZSB1c2VcbiAqIG9yIElzb3RvcGUgQ29tbWVyY2lhbCBMaWNlbnNlIGZvciBjb21tZXJjaWFsIHVzZVxuICpcbiAqIGh0dHBzOi8vaXNvdG9wZS5tZXRhZml6enkuY29cbiAqIENvcHlyaWdodCAyMDEwLTIwMTggTWV0YWZpenp5XG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAgICdvdXRsYXllci9vdXRsYXllcicsXG4gICAgICAgICdnZXQtc2l6ZS9nZXQtc2l6ZScsXG4gICAgICAgICdkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yL21hdGNoZXMtc2VsZWN0b3InLFxuICAgICAgICAnZml6enktdWktdXRpbHMvdXRpbHMnLFxuICAgICAgICAnLi9pdGVtJyxcbiAgICAgICAgJy4vbGF5b3V0LW1vZGUnLFxuICAgICAgICAvLyBpbmNsdWRlIGRlZmF1bHQgbGF5b3V0IG1vZGVzXG4gICAgICAgICcuL2xheW91dC1tb2Rlcy9tYXNvbnJ5JyxcbiAgICAgICAgJy4vbGF5b3V0LW1vZGVzL2ZpdC1yb3dzJyxcbiAgICAgICAgJy4vbGF5b3V0LW1vZGVzL3ZlcnRpY2FsJ1xuICAgICAgXSxcbiAgICAgIGZ1bmN0aW9uKCBPdXRsYXllciwgZ2V0U2l6ZSwgbWF0Y2hlc1NlbGVjdG9yLCB1dGlscywgSXRlbSwgTGF5b3V0TW9kZSApIHtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgT3V0bGF5ZXIsIGdldFNpemUsIG1hdGNoZXNTZWxlY3RvciwgdXRpbHMsIEl0ZW0sIExheW91dE1vZGUgKTtcbiAgICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnb3V0bGF5ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2dldC1zaXplJyksXG4gICAgICByZXF1aXJlKCdkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yJyksXG4gICAgICByZXF1aXJlKCdmaXp6eS11aS11dGlscycpLFxuICAgICAgcmVxdWlyZSgnLi9pdGVtJyksXG4gICAgICByZXF1aXJlKCcuL2xheW91dC1tb2RlJyksXG4gICAgICAvLyBpbmNsdWRlIGRlZmF1bHQgbGF5b3V0IG1vZGVzXG4gICAgICByZXF1aXJlKCcuL2xheW91dC1tb2Rlcy9tYXNvbnJ5JyksXG4gICAgICByZXF1aXJlKCcuL2xheW91dC1tb2Rlcy9maXQtcm93cycpLFxuICAgICAgcmVxdWlyZSgnLi9sYXlvdXQtbW9kZXMvdmVydGljYWwnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuSXNvdG9wZSA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cuT3V0bGF5ZXIsXG4gICAgICB3aW5kb3cuZ2V0U2l6ZSxcbiAgICAgIHdpbmRvdy5tYXRjaGVzU2VsZWN0b3IsXG4gICAgICB3aW5kb3cuZml6enlVSVV0aWxzLFxuICAgICAgd2luZG93Lklzb3RvcGUuSXRlbSxcbiAgICAgIHdpbmRvdy5Jc290b3BlLkxheW91dE1vZGVcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBPdXRsYXllciwgZ2V0U2l6ZSwgbWF0Y2hlc1NlbGVjdG9yLCB1dGlscyxcbiAgSXRlbSwgTGF5b3V0TW9kZSApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB2YXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciB0cmltID0gU3RyaW5nLnByb3RvdHlwZS50cmltID9cbiAgZnVuY3Rpb24oIHN0ciApIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgfSA6XG4gIGZ1bmN0aW9uKCBzdHIgKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKCAvXlxccyt8XFxzKyQvZywgJycgKTtcbiAgfTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaXNvdG9wZURlZmluaXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvLyBjcmVhdGUgYW4gT3V0bGF5ZXIgbGF5b3V0IGNsYXNzXG4gIHZhciBJc290b3BlID0gT3V0bGF5ZXIuY3JlYXRlKCAnaXNvdG9wZScsIHtcbiAgICBsYXlvdXRNb2RlOiAnbWFzb25yeScsXG4gICAgaXNKUXVlcnlGaWx0ZXJpbmc6IHRydWUsXG4gICAgc29ydEFzY2VuZGluZzogdHJ1ZVxuICB9KTtcblxuICBJc290b3BlLkl0ZW0gPSBJdGVtO1xuICBJc290b3BlLkxheW91dE1vZGUgPSBMYXlvdXRNb2RlO1xuXG4gIHZhciBwcm90byA9IElzb3RvcGUucHJvdG90eXBlO1xuXG4gIHByb3RvLl9jcmVhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLml0ZW1HVUlEID0gMDtcbiAgICAvLyBmdW5jdGlvbnMgdGhhdCBzb3J0IGl0ZW1zXG4gICAgdGhpcy5fc29ydGVycyA9IHt9O1xuICAgIHRoaXMuX2dldFNvcnRlcnMoKTtcbiAgICAvLyBjYWxsIHN1cGVyXG4gICAgT3V0bGF5ZXIucHJvdG90eXBlLl9jcmVhdGUuY2FsbCggdGhpcyApO1xuXG4gICAgLy8gY3JlYXRlIGxheW91dCBtb2Rlc1xuICAgIHRoaXMubW9kZXMgPSB7fTtcbiAgICAvLyBzdGFydCBmaWx0ZXJlZEl0ZW1zIHdpdGggYWxsIGl0ZW1zXG4gICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICAvLyBrZWVwIG9mIHRyYWNrIG9mIHNvcnRCeXNcbiAgICB0aGlzLnNvcnRIaXN0b3J5ID0gWyAnb3JpZ2luYWwtb3JkZXInIF07XG4gICAgLy8gY3JlYXRlIGZyb20gcmVnaXN0ZXJlZCBsYXlvdXQgbW9kZXNcbiAgICBmb3IgKCB2YXIgbmFtZSBpbiBMYXlvdXRNb2RlLm1vZGVzICkge1xuICAgICAgdGhpcy5faW5pdExheW91dE1vZGUoIG5hbWUgKTtcbiAgICB9XG4gIH07XG5cbiAgcHJvdG8ucmVsb2FkSXRlbXMgPSBmdW5jdGlvbigpIHtcbiAgICAvLyByZXNldCBpdGVtIElEIGNvdW50ZXJcbiAgICB0aGlzLml0ZW1HVUlEID0gMDtcbiAgICAvLyBjYWxsIHN1cGVyXG4gICAgT3V0bGF5ZXIucHJvdG90eXBlLnJlbG9hZEl0ZW1zLmNhbGwoIHRoaXMgKTtcbiAgfTtcblxuICBwcm90by5faXRlbWl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IE91dGxheWVyLnByb3RvdHlwZS5faXRlbWl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgLy8gYXNzaWduIElEIGZvciBvcmlnaW5hbC1vcmRlclxuICAgIGZvciAoIHZhciBpPTA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICBpdGVtLmlkID0gdGhpcy5pdGVtR1VJRCsrO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVJdGVtc1NvcnREYXRhKCBpdGVtcyApO1xuICAgIHJldHVybiBpdGVtcztcbiAgfTtcblxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGxheW91dCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIHByb3RvLl9pbml0TGF5b3V0TW9kZSA9IGZ1bmN0aW9uKCBuYW1lICkge1xuICAgIHZhciBNb2RlID0gTGF5b3V0TW9kZS5tb2Rlc1sgbmFtZSBdO1xuICAgIC8vIHNldCBtb2RlIG9wdGlvbnNcbiAgICAvLyBIQUNLIGV4dGVuZCBpbml0aWFsIG9wdGlvbnMsIGJhY2stZmlsbCBpbiBkZWZhdWx0IG9wdGlvbnNcbiAgICB2YXIgaW5pdGlhbE9wdHMgPSB0aGlzLm9wdGlvbnNbIG5hbWUgXSB8fCB7fTtcbiAgICB0aGlzLm9wdGlvbnNbIG5hbWUgXSA9IE1vZGUub3B0aW9ucyA/XG4gICAgICB1dGlscy5leHRlbmQoIE1vZGUub3B0aW9ucywgaW5pdGlhbE9wdHMgKSA6IGluaXRpYWxPcHRzO1xuICAgIC8vIGluaXQgbGF5b3V0IG1vZGUgaW5zdGFuY2VcbiAgICB0aGlzLm1vZGVzWyBuYW1lIF0gPSBuZXcgTW9kZSggdGhpcyApO1xuICB9O1xuXG5cbiAgcHJvdG8ubGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gaWYgZmlyc3QgdGltZSBkb2luZyBsYXlvdXQsIGRvIGFsbCBtYWdpY1xuICAgIGlmICggIXRoaXMuX2lzTGF5b3V0SW5pdGVkICYmIHRoaXMuX2dldE9wdGlvbignaW5pdExheW91dCcpICkge1xuICAgICAgdGhpcy5hcnJhbmdlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2xheW91dCgpO1xuICB9O1xuXG4gIC8vIHByaXZhdGUgbWV0aG9kIHRvIGJlIHVzZWQgaW4gbGF5b3V0KCkgJiBtYWdpYygpXG4gIHByb3RvLl9sYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBkb24ndCBhbmltYXRlIGZpcnN0IGxheW91dFxuICAgIHZhciBpc0luc3RhbnQgPSB0aGlzLl9nZXRJc0luc3RhbnQoKTtcbiAgICAvLyBsYXlvdXQgZmxvd1xuICAgIHRoaXMuX3Jlc2V0TGF5b3V0KCk7XG4gICAgdGhpcy5fbWFuYWdlU3RhbXBzKCk7XG4gICAgdGhpcy5sYXlvdXRJdGVtcyggdGhpcy5maWx0ZXJlZEl0ZW1zLCBpc0luc3RhbnQgKTtcblxuICAgIC8vIGZsYWcgZm9yIGluaXRhbGl6ZWRcbiAgICB0aGlzLl9pc0xheW91dEluaXRlZCA9IHRydWU7XG4gIH07XG5cbiAgLy8gZmlsdGVyICsgc29ydCArIGxheW91dFxuICBwcm90by5hcnJhbmdlID0gZnVuY3Rpb24oIG9wdHMgKSB7XG4gICAgLy8gc2V0IGFueSBvcHRpb25zIHBhc3NcbiAgICB0aGlzLm9wdGlvbiggb3B0cyApO1xuICAgIHRoaXMuX2dldElzSW5zdGFudCgpO1xuICAgIC8vIGZpbHRlciwgc29ydCwgYW5kIGxheW91dFxuXG4gICAgLy8gZmlsdGVyXG4gICAgdmFyIGZpbHRlcmVkID0gdGhpcy5fZmlsdGVyKCB0aGlzLml0ZW1zICk7XG4gICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWQubWF0Y2hlcztcblxuICAgIHRoaXMuX2JpbmRBcnJhbmdlQ29tcGxldGUoKTtcblxuICAgIGlmICggdGhpcy5faXNJbnN0YW50ICkge1xuICAgICAgdGhpcy5fbm9UcmFuc2l0aW9uKCB0aGlzLl9oaWRlUmV2ZWFsLCBbIGZpbHRlcmVkIF0gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZVJldmVhbCggZmlsdGVyZWQgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zb3J0KCk7XG4gICAgdGhpcy5fbGF5b3V0KCk7XG4gIH07XG4gIC8vIGFsaWFzIHRvIF9pbml0IGZvciBtYWluIHBsdWdpbiBtZXRob2RcbiAgcHJvdG8uX2luaXQgPSBwcm90by5hcnJhbmdlO1xuXG4gIHByb3RvLl9oaWRlUmV2ZWFsID0gZnVuY3Rpb24oIGZpbHRlcmVkICkge1xuICAgIHRoaXMucmV2ZWFsKCBmaWx0ZXJlZC5uZWVkUmV2ZWFsICk7XG4gICAgdGhpcy5oaWRlKCBmaWx0ZXJlZC5uZWVkSGlkZSApO1xuICB9O1xuXG4gIC8vIEhBQ0tcbiAgLy8gRG9uJ3QgYW5pbWF0ZS90cmFuc2l0aW9uIGZpcnN0IGxheW91dFxuICAvLyBPciBkb24ndCBhbmltYXRlL3RyYW5zaXRpb24gb3RoZXIgbGF5b3V0c1xuICBwcm90by5fZ2V0SXNJbnN0YW50ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlzTGF5b3V0SW5zdGFudCA9IHRoaXMuX2dldE9wdGlvbignbGF5b3V0SW5zdGFudCcpO1xuICAgIHZhciBpc0luc3RhbnQgPSBpc0xheW91dEluc3RhbnQgIT09IHVuZGVmaW5lZCA/IGlzTGF5b3V0SW5zdGFudCA6XG4gICAgICAhdGhpcy5faXNMYXlvdXRJbml0ZWQ7XG4gICAgdGhpcy5faXNJbnN0YW50ID0gaXNJbnN0YW50O1xuICAgIHJldHVybiBpc0luc3RhbnQ7XG4gIH07XG5cbiAgLy8gbGlzdGVuIGZvciBsYXlvdXRDb21wbGV0ZSwgaGlkZUNvbXBsZXRlIGFuZCByZXZlYWxDb21wbGV0ZVxuICAvLyB0byB0cmlnZ2VyIGFycmFuZ2VDb21wbGV0ZVxuICBwcm90by5fYmluZEFycmFuZ2VDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGxpc3RlbiBmb3IgMyBldmVudHMgdG8gdHJpZ2dlciBhcnJhbmdlQ29tcGxldGVcbiAgICB2YXIgaXNMYXlvdXRDb21wbGV0ZSwgaXNIaWRlQ29tcGxldGUsIGlzUmV2ZWFsQ29tcGxldGU7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBmdW5jdGlvbiBhcnJhbmdlUGFyYWxsZWxDYWxsYmFjaygpIHtcbiAgICAgIGlmICggaXNMYXlvdXRDb21wbGV0ZSAmJiBpc0hpZGVDb21wbGV0ZSAmJiBpc1JldmVhbENvbXBsZXRlICkge1xuICAgICAgICBfdGhpcy5kaXNwYXRjaEV2ZW50KCAnYXJyYW5nZUNvbXBsZXRlJywgbnVsbCwgWyBfdGhpcy5maWx0ZXJlZEl0ZW1zIF0gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5vbmNlKCAnbGF5b3V0Q29tcGxldGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlzTGF5b3V0Q29tcGxldGUgPSB0cnVlO1xuICAgICAgYXJyYW5nZVBhcmFsbGVsQ2FsbGJhY2soKTtcbiAgICB9KTtcbiAgICB0aGlzLm9uY2UoICdoaWRlQ29tcGxldGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlzSGlkZUNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgIGFycmFuZ2VQYXJhbGxlbENhbGxiYWNrKCk7XG4gICAgfSk7XG4gICAgdGhpcy5vbmNlKCAncmV2ZWFsQ29tcGxldGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlzUmV2ZWFsQ29tcGxldGUgPSB0cnVlO1xuICAgICAgYXJyYW5nZVBhcmFsbGVsQ2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBmaWx0ZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICBwcm90by5fZmlsdGVyID0gZnVuY3Rpb24oIGl0ZW1zICkge1xuICAgIHZhciBmaWx0ZXIgPSB0aGlzLm9wdGlvbnMuZmlsdGVyO1xuICAgIGZpbHRlciA9IGZpbHRlciB8fCAnKic7XG4gICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICB2YXIgaGlkZGVuTWF0Y2hlZCA9IFtdO1xuICAgIHZhciB2aXNpYmxlVW5tYXRjaGVkID0gW107XG5cbiAgICB2YXIgdGVzdCA9IHRoaXMuX2dldEZpbHRlclRlc3QoIGZpbHRlciApO1xuXG4gICAgLy8gdGVzdCBlYWNoIGl0ZW1cbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgaXRlbXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgaWYgKCBpdGVtLmlzSWdub3JlZCApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBhZGQgaXRlbSB0byBlaXRoZXIgbWF0Y2hlZCBvciB1bm1hdGNoZWQgZ3JvdXBcbiAgICAgIHZhciBpc01hdGNoZWQgPSB0ZXN0KCBpdGVtICk7XG4gICAgICAvLyBpdGVtLmlzRmlsdGVyTWF0Y2hlZCA9IGlzTWF0Y2hlZDtcbiAgICAgIC8vIGFkZCB0byBtYXRjaGVzIGlmIGl0cyBhIG1hdGNoXG4gICAgICBpZiAoIGlzTWF0Y2hlZCApIHtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKCBpdGVtICk7XG4gICAgICB9XG4gICAgICAvLyBhZGQgdG8gYWRkaXRpb25hbCBncm91cCBpZiBpdGVtIG5lZWRzIHRvIGJlIGhpZGRlbiBvciByZXZlYWxlZFxuICAgICAgaWYgKCBpc01hdGNoZWQgJiYgaXRlbS5pc0hpZGRlbiApIHtcbiAgICAgICAgaGlkZGVuTWF0Y2hlZC5wdXNoKCBpdGVtICk7XG4gICAgICB9IGVsc2UgaWYgKCAhaXNNYXRjaGVkICYmICFpdGVtLmlzSGlkZGVuICkge1xuICAgICAgICB2aXNpYmxlVW5tYXRjaGVkLnB1c2goIGl0ZW0gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZXR1cm4gY29sbGVjdGlvbnMgb2YgaXRlbXMgdG8gYmUgbWFuaXB1bGF0ZWRcbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlczogbWF0Y2hlcyxcbiAgICAgIG5lZWRSZXZlYWw6IGhpZGRlbk1hdGNoZWQsXG4gICAgICBuZWVkSGlkZTogdmlzaWJsZVVubWF0Y2hlZFxuICAgIH07XG4gIH07XG5cbiAgLy8gZ2V0IGEgalF1ZXJ5LCBmdW5jdGlvbiwgb3IgYSBtYXRjaGVzU2VsZWN0b3IgdGVzdCBnaXZlbiB0aGUgZmlsdGVyXG4gIHByb3RvLl9nZXRGaWx0ZXJUZXN0ID0gZnVuY3Rpb24oIGZpbHRlciApIHtcbiAgICBpZiAoIGpRdWVyeSAmJiB0aGlzLm9wdGlvbnMuaXNKUXVlcnlGaWx0ZXJpbmcgKSB7XG4gICAgICAvLyB1c2UgalF1ZXJ5XG4gICAgICByZXR1cm4gZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgICAgIHJldHVybiBqUXVlcnkoIGl0ZW0uZWxlbWVudCApLmlzKCBmaWx0ZXIgKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICggdHlwZW9mIGZpbHRlciA9PSAnZnVuY3Rpb24nICkge1xuICAgICAgLy8gdXNlIGZpbHRlciBhcyBmdW5jdGlvblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgICAgICByZXR1cm4gZmlsdGVyKCBpdGVtLmVsZW1lbnQgKTtcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIGRlZmF1bHQsIHVzZSBmaWx0ZXIgYXMgc2VsZWN0b3Igc3RyaW5nXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgICAgcmV0dXJuIG1hdGNoZXNTZWxlY3RvciggaXRlbS5lbGVtZW50LCBmaWx0ZXIgKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHNvcnRpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvKipcbiAgICogQHBhcmFtcyB7QXJyYXl9IGVsZW1zXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHByb3RvLnVwZGF0ZVNvcnREYXRhID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICAgIC8vIGdldCBpdGVtc1xuICAgIHZhciBpdGVtcztcbiAgICBpZiAoIGVsZW1zICkge1xuICAgICAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG4gICAgICBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoIGVsZW1zICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZSBhbGwgaXRlbXMgaWYgbm8gZWxlbXMgcHJvdmlkZWRcbiAgICAgIGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICB9XG5cbiAgICB0aGlzLl9nZXRTb3J0ZXJzKCk7XG4gICAgdGhpcy5fdXBkYXRlSXRlbXNTb3J0RGF0YSggaXRlbXMgKTtcbiAgfTtcblxuICBwcm90by5fZ2V0U29ydGVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBnZXRTb3J0RGF0YSA9IHRoaXMub3B0aW9ucy5nZXRTb3J0RGF0YTtcbiAgICBmb3IgKCB2YXIga2V5IGluIGdldFNvcnREYXRhICkge1xuICAgICAgdmFyIHNvcnRlciA9IGdldFNvcnREYXRhWyBrZXkgXTtcbiAgICAgIHRoaXMuX3NvcnRlcnNbIGtleSBdID0gbXVuZ2VTb3J0ZXIoIHNvcnRlciApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtcyB7QXJyYXl9IGl0ZW1zIC0gb2YgSXNvdG9wZS5JdGVtc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJvdG8uX3VwZGF0ZUl0ZW1zU29ydERhdGEgPSBmdW5jdGlvbiggaXRlbXMgKSB7XG4gICAgLy8gZG8gbm90IHVwZGF0ZSBpZiBubyBpdGVtc1xuICAgIHZhciBsZW4gPSBpdGVtcyAmJiBpdGVtcy5sZW5ndGg7XG5cbiAgICBmb3IgKCB2YXIgaT0wOyBsZW4gJiYgaSA8IGxlbjsgaSsrICkge1xuICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIGl0ZW0udXBkYXRlU29ydERhdGEoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gLS0tLS0gbXVuZ2Ugc29ydGVyIC0tLS0tIC8vXG5cbiAgLy8gZW5jYXBzdWxhdGUgdGhpcywgYXMgd2UganVzdCBuZWVkIG11bmdlU29ydGVyXG4gIC8vIG90aGVyIGZ1bmN0aW9ucyBpbiBoZXJlIGFyZSBqdXN0IGZvciBtdW5naW5nXG4gIHZhciBtdW5nZVNvcnRlciA9ICggZnVuY3Rpb24oKSB7XG4gICAgLy8gYWRkIGEgbWFnaWMgbGF5ZXIgdG8gc29ydGVycyBmb3IgY29udmllbmVudCBzaG9ydGhhbmRzXG4gICAgLy8gYC5mb28tYmFyYCB3aWxsIHVzZSB0aGUgdGV4dCBvZiAuZm9vLWJhciBxdWVyeVNlbGVjdG9yXG4gICAgLy8gYFtmb28tYmFyXWAgd2lsbCB1c2UgYXR0cmlidXRlXG4gICAgLy8geW91IGNhbiBhbHNvIGFkZCBwYXJzZXJcbiAgICAvLyBgLmZvby1iYXIgcGFyc2VJbnRgIHdpbGwgcGFyc2UgdGhhdCBhcyBhIG51bWJlclxuICAgIGZ1bmN0aW9uIG11bmdlU29ydGVyKCBzb3J0ZXIgKSB7XG4gICAgICAvLyBpZiBub3QgYSBzdHJpbmcsIHJldHVybiBmdW5jdGlvbiBvciB3aGF0ZXZlciBpdCBpc1xuICAgICAgaWYgKCB0eXBlb2Ygc29ydGVyICE9ICdzdHJpbmcnICkge1xuICAgICAgICByZXR1cm4gc29ydGVyO1xuICAgICAgfVxuICAgICAgLy8gcGFyc2UgdGhlIHNvcnRlciBzdHJpbmdcbiAgICAgIHZhciBhcmdzID0gdHJpbSggc29ydGVyICkuc3BsaXQoJyAnKTtcbiAgICAgIHZhciBxdWVyeSA9IGFyZ3NbMF07XG4gICAgICAvLyBjaGVjayBpZiBxdWVyeSBsb29rcyBsaWtlIFthbi1hdHRyaWJ1dGVdXG4gICAgICB2YXIgYXR0ck1hdGNoID0gcXVlcnkubWF0Y2goIC9eXFxbKC4rKVxcXSQvICk7XG4gICAgICB2YXIgYXR0ciA9IGF0dHJNYXRjaCAmJiBhdHRyTWF0Y2hbMV07XG4gICAgICB2YXIgZ2V0VmFsdWUgPSBnZXRWYWx1ZUdldHRlciggYXR0ciwgcXVlcnkgKTtcbiAgICAgIC8vIHVzZSBzZWNvbmQgYXJndW1lbnQgYXMgYSBwYXJzZXJcbiAgICAgIHZhciBwYXJzZXIgPSBJc290b3BlLnNvcnREYXRhUGFyc2Vyc1sgYXJnc1sxXSBdO1xuICAgICAgLy8gcGFyc2UgdGhlIHZhbHVlLCBpZiB0aGVyZSB3YXMgYSBwYXJzZXJcbiAgICAgIHNvcnRlciA9IHBhcnNlciA/IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICByZXR1cm4gZWxlbSAmJiBwYXJzZXIoIGdldFZhbHVlKCBlbGVtICkgKTtcbiAgICAgIH0gOlxuICAgICAgLy8gb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHZhbHVlXG4gICAgICBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgICAgcmV0dXJuIGVsZW0gJiYgZ2V0VmFsdWUoIGVsZW0gKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzb3J0ZXI7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGFuIGF0dHJpYnV0ZSBnZXR0ZXIsIG9yIGdldCB0ZXh0IG9mIHRoZSBxdWVyeVNlbGVjdG9yXG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVHZXR0ZXIoIGF0dHIsIHF1ZXJ5ICkge1xuICAgICAgLy8gaWYgcXVlcnkgbG9va3MgbGlrZSBbZm9vLWJhcl0sIGdldCBhdHRyaWJ1dGVcbiAgICAgIGlmICggYXR0ciApIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZSggZWxlbSApIHtcbiAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIGF0dHIgKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gb3RoZXJ3aXNlLCBhc3N1bWUgaXRzIGEgcXVlcnlTZWxlY3RvciwgYW5kIGdldCBpdHMgdGV4dFxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdldENoaWxkVGV4dCggZWxlbSApIHtcbiAgICAgICAgdmFyIGNoaWxkID0gZWxlbS5xdWVyeVNlbGVjdG9yKCBxdWVyeSApO1xuICAgICAgICByZXR1cm4gY2hpbGQgJiYgY2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBtdW5nZVNvcnRlcjtcbiAgfSkoKTtcblxuICAvLyBwYXJzZXJzIHVzZWQgaW4gZ2V0U29ydERhdGEgc2hvcnRjdXQgc3RyaW5nc1xuICBJc290b3BlLnNvcnREYXRhUGFyc2VycyA9IHtcbiAgICAncGFyc2VJbnQnOiBmdW5jdGlvbiggdmFsICkge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KCB2YWwsIDEwICk7XG4gICAgfSxcbiAgICAncGFyc2VGbG9hdCc6IGZ1bmN0aW9uKCB2YWwgKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCggdmFsICk7XG4gICAgfVxuICB9O1xuXG4gIC8vIC0tLS0tIHNvcnQgbWV0aG9kIC0tLS0tIC8vXG5cbiAgLy8gc29ydCBmaWx0ZXJlZEl0ZW0gb3JkZXJcbiAgcHJvdG8uX3NvcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoICF0aGlzLm9wdGlvbnMuc29ydEJ5ICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBrZWVwIHRyYWNrIG9mIHNvcnRCeSBIaXN0b3J5XG4gICAgdmFyIHNvcnRCeXMgPSB1dGlscy5tYWtlQXJyYXkoIHRoaXMub3B0aW9ucy5zb3J0QnkgKTtcbiAgICBpZiAoICF0aGlzLl9nZXRJc1NhbWVTb3J0QnkoIHNvcnRCeXMgKSApIHtcbiAgICAgIC8vIGNvbmNhdCBhbGwgc29ydEJ5IGFuZCBzb3J0SGlzdG9yeSwgYWRkIHRvIGZyb250LCBvbGRlc3QgZ29lcyBpbiBsYXN0XG4gICAgICB0aGlzLnNvcnRIaXN0b3J5ID0gc29ydEJ5cy5jb25jYXQoIHRoaXMuc29ydEhpc3RvcnkgKTtcbiAgICB9XG4gICAgLy8gc29ydCBtYWdpY1xuICAgIHZhciBpdGVtU29ydGVyID0gZ2V0SXRlbVNvcnRlciggdGhpcy5zb3J0SGlzdG9yeSwgdGhpcy5vcHRpb25zLnNvcnRBc2NlbmRpbmcgKTtcbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMuc29ydCggaXRlbVNvcnRlciApO1xuICB9O1xuXG4gIC8vIGNoZWNrIGlmIHNvcnRCeXMgaXMgc2FtZSBhcyBzdGFydCBvZiBzb3J0SGlzdG9yeVxuICBwcm90by5fZ2V0SXNTYW1lU29ydEJ5ID0gZnVuY3Rpb24oIHNvcnRCeXMgKSB7XG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHNvcnRCeXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICBpZiAoIHNvcnRCeXNbaV0gIT0gdGhpcy5zb3J0SGlzdG9yeVtpXSApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyByZXR1cm5zIGEgZnVuY3Rpb24gdXNlZCBmb3Igc29ydGluZ1xuICBmdW5jdGlvbiBnZXRJdGVtU29ydGVyKCBzb3J0QnlzLCBzb3J0QXNjICkge1xuICAgIHJldHVybiBmdW5jdGlvbiBzb3J0ZXIoIGl0ZW1BLCBpdGVtQiApIHtcbiAgICAgIC8vIGN5Y2xlIHRocm91Z2ggYWxsIHNvcnRLZXlzXG4gICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBzb3J0QnlzLmxlbmd0aDsgaSsrICkge1xuICAgICAgICB2YXIgc29ydEJ5ID0gc29ydEJ5c1tpXTtcbiAgICAgICAgdmFyIGEgPSBpdGVtQS5zb3J0RGF0YVsgc29ydEJ5IF07XG4gICAgICAgIHZhciBiID0gaXRlbUIuc29ydERhdGFbIHNvcnRCeSBdO1xuICAgICAgICBpZiAoIGEgPiBiIHx8IGEgPCBiICkge1xuICAgICAgICAgIC8vIGlmIHNvcnRBc2MgaXMgYW4gb2JqZWN0LCB1c2UgdGhlIHZhbHVlIGdpdmVuIHRoZSBzb3J0Qnkga2V5XG4gICAgICAgICAgdmFyIGlzQXNjZW5kaW5nID0gc29ydEFzY1sgc29ydEJ5IF0gIT09IHVuZGVmaW5lZCA/IHNvcnRBc2NbIHNvcnRCeSBdIDogc29ydEFzYztcbiAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gaXNBc2NlbmRpbmcgPyAxIDogLTE7XG4gICAgICAgICAgcmV0dXJuICggYSA+IGIgPyAxIDogLTEgKSAqIGRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIG1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvLyBnZXQgbGF5b3V0IG1vZGVcbiAgcHJvdG8uX21vZGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGF5b3V0TW9kZSA9IHRoaXMub3B0aW9ucy5sYXlvdXRNb2RlO1xuICAgIHZhciBtb2RlID0gdGhpcy5tb2Rlc1sgbGF5b3V0TW9kZSBdO1xuICAgIGlmICggIW1vZGUgKSB7XG4gICAgICAvLyBUT0RPIGNvbnNvbGUuZXJyb3JcbiAgICAgIHRocm93IG5ldyBFcnJvciggJ05vIGxheW91dCBtb2RlOiAnICsgbGF5b3V0TW9kZSApO1xuICAgIH1cbiAgICAvLyBIQUNLIHN5bmMgbW9kZSdzIG9wdGlvbnNcbiAgICAvLyBhbnkgb3B0aW9ucyBzZXQgYWZ0ZXIgaW5pdCBmb3IgbGF5b3V0IG1vZGUgbmVlZCB0byBiZSBzeW5jZWRcbiAgICBtb2RlLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnNbIGxheW91dE1vZGUgXTtcbiAgICByZXR1cm4gbW9kZTtcbiAgfTtcblxuICBwcm90by5fcmVzZXRMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyB0cmlnZ2VyIG9yaWdpbmFsIHJlc2V0IGxheW91dFxuICAgIE91dGxheWVyLnByb3RvdHlwZS5fcmVzZXRMYXlvdXQuY2FsbCggdGhpcyApO1xuICAgIHRoaXMuX21vZGUoKS5fcmVzZXRMYXlvdXQoKTtcbiAgfTtcblxuICBwcm90by5fZ2V0SXRlbUxheW91dFBvc2l0aW9uID0gZnVuY3Rpb24oIGl0ZW0gICkge1xuICAgIHJldHVybiB0aGlzLl9tb2RlKCkuX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiggaXRlbSApO1xuICB9O1xuXG4gIHByb3RvLl9tYW5hZ2VTdGFtcCA9IGZ1bmN0aW9uKCBzdGFtcCApIHtcbiAgICB0aGlzLl9tb2RlKCkuX21hbmFnZVN0YW1wKCBzdGFtcCApO1xuICB9O1xuXG4gIHByb3RvLl9nZXRDb250YWluZXJTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vZGUoKS5fZ2V0Q29udGFpbmVyU2l6ZSgpO1xuICB9O1xuXG4gIHByb3RvLm5lZWRzUmVzaXplTGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vZGUoKS5uZWVkc1Jlc2l6ZUxheW91dCgpO1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGFkZGluZyAmIHJlbW92aW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgLy8gSEVBRFMgVVAgb3ZlcndyaXRlcyBkZWZhdWx0IE91dGxheWVyIGFwcGVuZGVkXG4gIHByb3RvLmFwcGVuZGVkID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICAgIHZhciBpdGVtcyA9IHRoaXMuYWRkSXRlbXMoIGVsZW1zICk7XG4gICAgaWYgKCAhaXRlbXMubGVuZ3RoICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaWx0ZXIsIGxheW91dCwgcmV2ZWFsIG5ldyBpdGVtc1xuICAgIHZhciBmaWx0ZXJlZEl0ZW1zID0gdGhpcy5fZmlsdGVyUmV2ZWFsQWRkZWQoIGl0ZW1zICk7XG4gICAgLy8gYWRkIHRvIGZpbHRlcmVkSXRlbXNcbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSB0aGlzLmZpbHRlcmVkSXRlbXMuY29uY2F0KCBmaWx0ZXJlZEl0ZW1zICk7XG4gIH07XG5cbiAgLy8gSEVBRFMgVVAgb3ZlcndyaXRlcyBkZWZhdWx0IE91dGxheWVyIHByZXBlbmRlZFxuICBwcm90by5wcmVwZW5kZWQgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5faXRlbWl6ZSggZWxlbXMgKTtcbiAgICBpZiAoICFpdGVtcy5sZW5ndGggKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHN0YXJ0IG5ldyBsYXlvdXRcbiAgICB0aGlzLl9yZXNldExheW91dCgpO1xuICAgIHRoaXMuX21hbmFnZVN0YW1wcygpO1xuICAgIC8vIGZpbHRlciwgbGF5b3V0LCByZXZlYWwgbmV3IGl0ZW1zXG4gICAgdmFyIGZpbHRlcmVkSXRlbXMgPSB0aGlzLl9maWx0ZXJSZXZlYWxBZGRlZCggaXRlbXMgKTtcbiAgICAvLyBsYXlvdXQgcHJldmlvdXMgaXRlbXNcbiAgICB0aGlzLmxheW91dEl0ZW1zKCB0aGlzLmZpbHRlcmVkSXRlbXMgKTtcbiAgICAvLyBhZGQgdG8gaXRlbXMgYW5kIGZpbHRlcmVkSXRlbXNcbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmNvbmNhdCggdGhpcy5maWx0ZXJlZEl0ZW1zICk7XG4gICAgdGhpcy5pdGVtcyA9IGl0ZW1zLmNvbmNhdCggdGhpcy5pdGVtcyApO1xuICB9O1xuXG4gIHByb3RvLl9maWx0ZXJSZXZlYWxBZGRlZCA9IGZ1bmN0aW9uKCBpdGVtcyApIHtcbiAgICB2YXIgZmlsdGVyZWQgPSB0aGlzLl9maWx0ZXIoIGl0ZW1zICk7XG4gICAgdGhpcy5oaWRlKCBmaWx0ZXJlZC5uZWVkSGlkZSApO1xuICAgIC8vIHJldmVhbCBhbGwgbmV3IGl0ZW1zXG4gICAgdGhpcy5yZXZlYWwoIGZpbHRlcmVkLm1hdGNoZXMgKTtcbiAgICAvLyBsYXlvdXQgbmV3IGl0ZW1zLCBubyB0cmFuc2l0aW9uXG4gICAgdGhpcy5sYXlvdXRJdGVtcyggZmlsdGVyZWQubWF0Y2hlcywgdHJ1ZSApO1xuICAgIHJldHVybiBmaWx0ZXJlZC5tYXRjaGVzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaWx0ZXIsIHNvcnQsIGFuZCBsYXlvdXQgbmV3bHktYXBwZW5kZWQgaXRlbSBlbGVtZW50c1xuICAgKiBAcGFyYW0ge0FycmF5IG9yIE5vZGVMaXN0IG9yIEVsZW1lbnR9IGVsZW1zXG4gICAqL1xuICBwcm90by5pbnNlcnQgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5hZGRJdGVtcyggZWxlbXMgKTtcbiAgICBpZiAoICFpdGVtcy5sZW5ndGggKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGFwcGVuZCBpdGVtIGVsZW1lbnRzXG4gICAgdmFyIGksIGl0ZW07XG4gICAgdmFyIGxlbiA9IGl0ZW1zLmxlbmd0aDtcbiAgICBmb3IgKCBpPTA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCggaXRlbS5lbGVtZW50ICk7XG4gICAgfVxuICAgIC8vIGZpbHRlciBuZXcgc3R1ZmZcbiAgICB2YXIgZmlsdGVyZWRJbnNlcnRJdGVtcyA9IHRoaXMuX2ZpbHRlciggaXRlbXMgKS5tYXRjaGVzO1xuICAgIC8vIHNldCBmbGFnXG4gICAgZm9yICggaT0wOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICBpdGVtc1tpXS5pc0xheW91dEluc3RhbnQgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmFycmFuZ2UoKTtcbiAgICAvLyByZXNldCBmbGFnXG4gICAgZm9yICggaT0wOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICBkZWxldGUgaXRlbXNbaV0uaXNMYXlvdXRJbnN0YW50O1xuICAgIH1cbiAgICB0aGlzLnJldmVhbCggZmlsdGVyZWRJbnNlcnRJdGVtcyApO1xuICB9O1xuXG4gIHZhciBfcmVtb3ZlID0gcHJvdG8ucmVtb3ZlO1xuICBwcm90by5yZW1vdmUgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gICAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG4gICAgdmFyIHJlbW92ZUl0ZW1zID0gdGhpcy5nZXRJdGVtcyggZWxlbXMgKTtcbiAgICAvLyBkbyByZWd1bGFyIHRoaW5nXG4gICAgX3JlbW92ZS5jYWxsKCB0aGlzLCBlbGVtcyApO1xuICAgIC8vIGJhaWwgaWYgbm8gaXRlbXMgdG8gcmVtb3ZlXG4gICAgdmFyIGxlbiA9IHJlbW92ZUl0ZW1zICYmIHJlbW92ZUl0ZW1zLmxlbmd0aDtcbiAgICAvLyByZW1vdmUgZWxlbXMgZnJvbSBmaWx0ZXJlZEl0ZW1zXG4gICAgZm9yICggdmFyIGk9MDsgbGVuICYmIGkgPCBsZW47IGkrKyApIHtcbiAgICAgIHZhciBpdGVtID0gcmVtb3ZlSXRlbXNbaV07XG4gICAgICAvLyByZW1vdmUgaXRlbSBmcm9tIGNvbGxlY3Rpb25cbiAgICAgIHV0aWxzLnJlbW92ZUZyb20oIHRoaXMuZmlsdGVyZWRJdGVtcywgaXRlbSApO1xuICAgIH1cbiAgfTtcblxuICBwcm90by5zaHVmZmxlID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gdXBkYXRlIHJhbmRvbSBzb3J0RGF0YVxuICAgIGZvciAoIHZhciBpPTA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgaXRlbS5zb3J0RGF0YS5yYW5kb20gPSBNYXRoLnJhbmRvbSgpO1xuICAgIH1cbiAgICB0aGlzLm9wdGlvbnMuc29ydEJ5ID0gJ3JhbmRvbSc7XG4gICAgdGhpcy5fc29ydCgpO1xuICAgIHRoaXMuX2xheW91dCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiB0cmlnZ2VyIGZuIHdpdGhvdXQgdHJhbnNpdGlvblxuICAgKiBraW5kIG9mIGhhY2t5IHRvIGhhdmUgdGhpcyBpbiB0aGUgZmlyc3QgcGxhY2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICAgKiBAcmV0dXJucyByZXRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByb3RvLl9ub1RyYW5zaXRpb24gPSBmdW5jdGlvbiggZm4sIGFyZ3MgKSB7XG4gICAgLy8gc2F2ZSB0cmFuc2l0aW9uRHVyYXRpb24gYmVmb3JlIGRpc2FibGluZ1xuICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgIC8vIGRpc2FibGUgdHJhbnNpdGlvblxuICAgIHRoaXMub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24gPSAwO1xuICAgIC8vIGRvIGl0XG4gICAgdmFyIHJldHVyblZhbHVlID0gZm4uYXBwbHkoIHRoaXMsIGFyZ3MgKTtcbiAgICAvLyByZS1lbmFibGUgdHJhbnNpdGlvbiBmb3IgcmV2ZWFsXG4gICAgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbjtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH07XG5cbiAgLy8gLS0tLS0gaGVscGVyIG1ldGhvZHMgLS0tLS0gLy9cblxuICAvKipcbiAgICogZ2V0dGVyIG1ldGhvZCBmb3IgZ2V0dGluZyBmaWx0ZXJlZCBpdGVtIGVsZW1lbnRzXG4gICAqIEByZXR1cm5zIHtBcnJheX0gZWxlbXMgLSBjb2xsZWN0aW9uIG9mIGl0ZW0gZWxlbWVudHNcbiAgICovXG4gIHByb3RvLmdldEZpbHRlcmVkSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRJdGVtcy5tYXAoIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgICAgcmV0dXJuIGl0ZW0uZWxlbWVudDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyAtLS0tLSAgLS0tLS0gLy9cblxuICByZXR1cm4gSXNvdG9wZTtcblxufSkpO1xuIiwgImltcG9ydCB7IGlzVW5kZWZpbmVkIH0gZnJvbSAnLi9pc1VuZGVmaW5lZC5qcyc7XG5cbi8vIFRPRE86IHJlbW92ZSB0aGlzIHdpdGggMi4wIHJlbGVhc2VcbmV4cG9ydCBmdW5jdGlvbiBzZXRQcm9wZXJ0eSh0YXJnZXQsIG5hbWUsIHZhbHVlKSB7XG4gIGlmICghc2V0UHJvcGVydHkud2FybmVkKSB7XG4gICAgY29uc29sZS53YXJuKCdAdG1ici91dGlsczogc2V0UHJvcGVydHkgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBwcm9wKGVsLCBuYW1lWywgdmFsdWVdKScpO1xuICAgIHNldFByb3BlcnR5Lndhcm5lZCA9IHRydWU7XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgIHNldFByb3BlcnR5KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgLi4uYXJndW1lbnRzKTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvcChlbCwgbmFtZSwgdmFsdWUpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgcmV0dXJuIGVsLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcbiIsICJleHBvcnQgZnVuY3Rpb24gdG9KU09OKHN0cmluZywgZGVmYXVsdHMpIHtcbiAgbGV0IHJlc3VsdDtcbiAgdHJ5IHtcbiAgICByZXN1bHQgPSBuZXcgRnVuY3Rpb24oJ3N0cmluZycsIGB2YXIgb2JqZWN0OyB3aXRoIChzdHJpbmcpIHsgb2JqZWN0ID0gJHtzdHJpbmcgfHwgJyd9IH07IHJldHVybiBvYmplY3Q7YCkoc3RyaW5nIHx8ICd7fScpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVzdWx0ID0ge307XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocmVzdWx0IHx8IHt9LCBkZWZhdWx0cyk7XG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xufTtcbiIsICJpbXBvcnQgeyBpc0Jvb2xlYW4gfSBmcm9tICcuL2lzQm9vbGVhbi5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhdHRyKGVsLCBuYW1lLCB2YWx1ZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKG5hbWUsIGlzQm9vbGVhbih2YWx1ZSkgPyAnJyA6IHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcbiIsICJleHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbiIsICJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uLmpzJztcblxuLyoqXG4gKiBCaW5kIGZ1bmN0aW9ucyB0byBhIGNvbnRleHQgb3IgY2xhc3MgaW5zdGFuY2VcbiAqIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2F1dG8tYmluZFxuICpcbiAqIEBwYXJhbSAge29iamVjdH1cbiAqIEBwYXJhbSAge2FycmF5fVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoc2VsZiwgbWV0aG9kcykge1xuXG4gIGlmIChtZXRob2RzKSB7XG4gICAgW10uY29uY2F0KG1ldGhvZHMpLmZvckVhY2goZm4gPT4gaXNGdW5jdGlvbihzZWxmW2ZuXSkgJiYgKHNlbGZbZm5dID0gc2VsZltmbl0uYmluZChzZWxmKSkpO1xuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgY29uc3QgcHJvcGVydGllcyA9IG5ldyBTZXQoKTtcbiAgbGV0IG9iamVjdCA9IHNlbGYuY29uc3RydWN0b3IucHJvdG90eXBlO1xuXG4gIGRvIHtcblxuICAgIGZvciAoY29uc3Qga2V5IG9mIFJlZmxlY3Qub3duS2V5cyhvYmplY3QpKSB7XG4gICAgICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InKSBjb250aW51ZTtcbiAgICAgIHByb3BlcnRpZXMuYWRkKFtvYmplY3QsIGtleV0pO1xuICAgIH1cblxuICB9IHdoaWxlICgob2JqZWN0ID0gUmVmbGVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpKSAmJiBvYmplY3QgIT09IE9iamVjdC5wcm90b3R5cGUpO1xuXG4gIGZvciAoY29uc3QgW29iamVjdCwga2V5XSBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgZGVzY3JpcHRvciA9IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwga2V5KTtcbiAgICBpZiAoZGVzY3JpcHRvciAmJiBpc0Z1bmN0aW9uKGRlc2NyaXB0b3IudmFsdWUpKSBzZWxmW2tleV0gPSBzZWxmW2tleV0uYmluZChzZWxmKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufTtcbiIsICJleHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7XG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBmaW5kQWxsKHNlbGVjdG9yLCBwYXJlbnQpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oKHBhcmVudCB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufTtcbiIsICJleHBvcnQgZnVuY3Rpb24gZmluZE9uZShzZWxlY3RvciwgcGFyZW50KSB7XG4gIHJldHVybiAocGFyZW50IHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGh0bWwoc3RyaW5ncywgLi4udmFycykge1xuXG4gIGxldCByZXN1bHQgPSAnJztcbiAgY29uc3QgYXBwZW5kcyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh2YXJzW2ldIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgdmFyc1tpXSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICAgIGFwcGVuZHMucHVzaCh2YXJzW2ldKTtcbiAgICAgIHJlc3VsdCArPSBzdHJpbmdzW2ldICsgYDxkaXYgYXBwZW5kPVwiJHtpfVwiPjwvZGl2PmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCArPSBzdHJpbmdzW2ldICsgdmFyc1tpXTtcbiAgICB9XG4gIH1cblxuICByZXN1bHQgKz0gc3RyaW5nc1tzdHJpbmdzLmxlbmd0aCAtIDFdO1xuXG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gcmVzdWx0LnRyaW0oKTtcblxuICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGUuY29udGVudDtcblxuICBbLi4uY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdbYXBwZW5kXScpXS5mb3JFYWNoKChub2RlLCBpKSA9PiB7XG4gICAgbm9kZS5iZWZvcmUoYXBwZW5kc1tpXSk7XG4gICAgbm9kZS5yZW1vdmUoKVxuICB9KTtcblxuICByZXR1cm4gY29udGVudC5jaGlsZEVsZW1lbnRDb3VudCA9PT0gMSA/IGNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQgOiBjb250ZW50O1xufTtcbiIsICJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2xhc3MoZm4pIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oZm4pICYmIC9eY2xhc3NcXHMvLnRlc3QoRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZm4pKTtcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIG9uKHR5cGUsIHNlbGVjdG9yLCBjYWxsYmFjaywgc2NvcGUgPSBkb2N1bWVudCkge1xuXG4gIGxldCBtYXRjaDtcblxuICBmdW5jdGlvbiBsaXN0ZW5lcihldmVudCkge1xuICAgIG1hdGNoID0gZXZlbnQuYnViYmxlc1xuICAgICAgPyBldmVudC50YXJnZXQuY2xvc2VzdCAmJiBldmVudC50YXJnZXQuY2xvc2VzdChzZWxlY3RvcilcbiAgICAgIDogZXZlbnQudGFyZ2V0Lm1hdGNoZXMgJiYgZXZlbnQudGFyZ2V0Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgIG1hdGNoICYmIGNhbGxiYWNrKGV2ZW50KTtcbiAgfVxuXG4gIHNjb3BlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICByZXR1cm4gKCkgPT4gc2NvcGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBybyhlbCwgZm4pIHtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiBmbihlbnRyaWVzWzBdKSk7XG4gIG9ic2VydmVyLm9ic2VydmUoZWwpO1xuICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xufTtcbiIsICJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7IHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOyBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qIVxuICogR1NBUCAzLjUuMVxuICogaHR0cHM6Ly9ncmVlbnNvY2suY29tXG4gKlxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IDIwMDgtMjAyMCwgR3JlZW5Tb2NrLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogU3ViamVjdCB0byB0aGUgdGVybXMgYXQgaHR0cHM6Ly9ncmVlbnNvY2suY29tL3N0YW5kYXJkLWxpY2Vuc2Ugb3IgZm9yXG4gKiBDbHViIEdyZWVuU29jayBtZW1iZXJzLCB0aGUgYWdyZWVtZW50IGlzc3VlZCB3aXRoIHRoYXQgbWVtYmVyc2hpcC5cbiAqIEBhdXRob3I6IEphY2sgRG95bGUsIGphY2tAZ3JlZW5zb2NrLmNvbVxuKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbnZhciBfY29uZmlnID0ge1xuICBhdXRvU2xlZXA6IDEyMCxcbiAgZm9yY2UzRDogXCJhdXRvXCIsXG4gIG51bGxUYXJnZXRXYXJuOiAxLFxuICB1bml0czoge1xuICAgIGxpbmVIZWlnaHQ6IFwiXCJcbiAgfVxufSxcbiAgICBfZGVmYXVsdHMgPSB7XG4gIGR1cmF0aW9uOiAuNSxcbiAgb3ZlcndyaXRlOiBmYWxzZSxcbiAgZGVsYXk6IDBcbn0sXG4gICAgX2JpZ051bSA9IDFlOCxcbiAgICBfdGlueU51bSA9IDEgLyBfYmlnTnVtLFxuICAgIF8yUEkgPSBNYXRoLlBJICogMixcbiAgICBfSEFMRl9QSSA9IF8yUEkgLyA0LFxuICAgIF9nc0lEID0gMCxcbiAgICBfc3FydCA9IE1hdGguc3FydCxcbiAgICBfY29zID0gTWF0aC5jb3MsXG4gICAgX3NpbiA9IE1hdGguc2luLFxuICAgIF9pc1N0cmluZyA9IGZ1bmN0aW9uIF9pc1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiO1xufSxcbiAgICBfaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIF9pc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIjtcbn0sXG4gICAgX2lzTnVtYmVyID0gZnVuY3Rpb24gX2lzTnVtYmVyKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCI7XG59LFxuICAgIF9pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uIF9pc1VuZGVmaW5lZCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiO1xufSxcbiAgICBfaXNPYmplY3QgPSBmdW5jdGlvbiBfaXNPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIjtcbn0sXG4gICAgX2lzTm90RmFsc2UgPSBmdW5jdGlvbiBfaXNOb3RGYWxzZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IGZhbHNlO1xufSxcbiAgICBfd2luZG93RXhpc3RzID0gZnVuY3Rpb24gX3dpbmRvd0V4aXN0cygpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG59LFxuICAgIF9pc0Z1bmNPclN0cmluZyA9IGZ1bmN0aW9uIF9pc0Z1bmNPclN0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gX2lzRnVuY3Rpb24odmFsdWUpIHx8IF9pc1N0cmluZyh2YWx1ZSk7XG59LFxuICAgIF9pc1R5cGVkQXJyYXkgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIiAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgZnVuY3Rpb24gKCkge30sXG4gICAgLy8gbm90ZTogSUUxMCBoYXMgQXJyYXlCdWZmZXIsIGJ1dCBOT1QgQXJyYXlCdWZmZXIuaXNWaWV3KCkuXG5faXNBcnJheSA9IEFycmF5LmlzQXJyYXksXG4gICAgX3N0cmljdE51bUV4cCA9IC8oPzotP1xcLj9cXGR8XFwuKSsvZ2ksXG4gICAgLy9vbmx5IG51bWJlcnMgKGluY2x1ZGluZyBuZWdhdGl2ZXMgYW5kIGRlY2ltYWxzKSBidXQgTk9UIHJlbGF0aXZlIHZhbHVlcy5cbl9udW1FeHAgPSAvWy0rPS5dKlxcZCtbLmVcXC0rXSpcXGQqW2VcXC1cXCtdKlxcZCovZyxcbiAgICAvL2ZpbmRzIGFueSBudW1iZXJzLCBpbmNsdWRpbmcgb25lcyB0aGF0IHN0YXJ0IHdpdGggKz0gb3IgLT0sIG5lZ2F0aXZlIG51bWJlcnMsIGFuZCBvbmVzIGluIHNjaWVudGlmaWMgbm90YXRpb24gbGlrZSAxZS04LlxuX251bVdpdGhVbml0RXhwID0gL1stKz0uXSpcXGQrWy5lLV0qXFxkKlthLXolXSovZyxcbiAgICBfY29tcGxleFN0cmluZ051bUV4cCA9IC9bLSs9Ll0qXFxkKyg/OlxcLnxlLXxlKSpcXGQqL2dpLFxuICAgIC8vZHVwbGljYXRlIHNvIHRoYXQgd2hpbGUgd2UncmUgbG9vcGluZyB0aHJvdWdoIG1hdGNoZXMgZnJvbSBleGVjKCksIGl0IGRvZXNuJ3QgY29udGFtaW5hdGUgdGhlIGxhc3RJbmRleCBvZiBfbnVtRXhwIHdoaWNoIHdlIHVzZSB0byBzZWFyY2ggZm9yIGNvbG9ycyB0b28uXG5fcmVsRXhwID0gL1srLV09LT9bXFwuXFxkXSsvLFxuICAgIF9kZWxpbWl0ZWRWYWx1ZUV4cCA9IC9bI1xcLSsuXSpcXGJbYS16XFxkLT0rJS5dKy9naSxcbiAgICBfZ2xvYmFsVGltZWxpbmUsXG4gICAgX3dpbixcbiAgICBfY29yZUluaXR0ZWQsXG4gICAgX2RvYyxcbiAgICBfZ2xvYmFscyA9IHt9LFxuICAgIF9pbnN0YWxsU2NvcGUgPSB7fSxcbiAgICBfY29yZVJlYWR5LFxuICAgIF9pbnN0YWxsID0gZnVuY3Rpb24gX2luc3RhbGwoc2NvcGUpIHtcbiAgcmV0dXJuIChfaW5zdGFsbFNjb3BlID0gX21lcmdlKHNjb3BlLCBfZ2xvYmFscykpICYmIGdzYXA7XG59LFxuICAgIF9taXNzaW5nUGx1Z2luID0gZnVuY3Rpb24gX21pc3NpbmdQbHVnaW4ocHJvcGVydHksIHZhbHVlKSB7XG4gIHJldHVybiBjb25zb2xlLndhcm4oXCJJbnZhbGlkIHByb3BlcnR5XCIsIHByb3BlcnR5LCBcInNldCB0b1wiLCB2YWx1ZSwgXCJNaXNzaW5nIHBsdWdpbj8gZ3NhcC5yZWdpc3RlclBsdWdpbigpXCIpO1xufSxcbiAgICBfd2FybiA9IGZ1bmN0aW9uIF93YXJuKG1lc3NhZ2UsIHN1cHByZXNzKSB7XG4gIHJldHVybiAhc3VwcHJlc3MgJiYgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xufSxcbiAgICBfYWRkR2xvYmFsID0gZnVuY3Rpb24gX2FkZEdsb2JhbChuYW1lLCBvYmopIHtcbiAgcmV0dXJuIG5hbWUgJiYgKF9nbG9iYWxzW25hbWVdID0gb2JqKSAmJiBfaW5zdGFsbFNjb3BlICYmIChfaW5zdGFsbFNjb3BlW25hbWVdID0gb2JqKSB8fCBfZ2xvYmFscztcbn0sXG4gICAgX2VtcHR5RnVuYyA9IGZ1bmN0aW9uIF9lbXB0eUZ1bmMoKSB7XG4gIHJldHVybiAwO1xufSxcbiAgICBfcmVzZXJ2ZWRQcm9wcyA9IHt9LFxuICAgIF9sYXp5VHdlZW5zID0gW10sXG4gICAgX2xhenlMb29rdXAgPSB7fSxcbiAgICBfbGFzdFJlbmRlcmVkRnJhbWUsXG4gICAgX3BsdWdpbnMgPSB7fSxcbiAgICBfZWZmZWN0cyA9IHt9LFxuICAgIF9uZXh0R0NGcmFtZSA9IDMwLFxuICAgIF9oYXJuZXNzUGx1Z2lucyA9IFtdLFxuICAgIF9jYWxsYmFja05hbWVzID0gXCJcIixcbiAgICBfaGFybmVzcyA9IGZ1bmN0aW9uIF9oYXJuZXNzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldCA9IHRhcmdldHNbMF0sXG4gICAgICBoYXJuZXNzUGx1Z2luLFxuICAgICAgaTtcbiAgX2lzT2JqZWN0KHRhcmdldCkgfHwgX2lzRnVuY3Rpb24odGFyZ2V0KSB8fCAodGFyZ2V0cyA9IFt0YXJnZXRzXSk7XG5cbiAgaWYgKCEoaGFybmVzc1BsdWdpbiA9ICh0YXJnZXQuX2dzYXAgfHwge30pLmhhcm5lc3MpKSB7XG4gICAgaSA9IF9oYXJuZXNzUGx1Z2lucy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaS0tICYmICFfaGFybmVzc1BsdWdpbnNbaV0udGFyZ2V0VGVzdCh0YXJnZXQpKSB7fVxuXG4gICAgaGFybmVzc1BsdWdpbiA9IF9oYXJuZXNzUGx1Z2luc1tpXTtcbiAgfVxuXG4gIGkgPSB0YXJnZXRzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdGFyZ2V0c1tpXSAmJiAodGFyZ2V0c1tpXS5fZ3NhcCB8fCAodGFyZ2V0c1tpXS5fZ3NhcCA9IG5ldyBHU0NhY2hlKHRhcmdldHNbaV0sIGhhcm5lc3NQbHVnaW4pKSkgfHwgdGFyZ2V0cy5zcGxpY2UoaSwgMSk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0cztcbn0sXG4gICAgX2dldENhY2hlID0gZnVuY3Rpb24gX2dldENhY2hlKHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0Ll9nc2FwIHx8IF9oYXJuZXNzKHRvQXJyYXkodGFyZ2V0KSlbMF0uX2dzYXA7XG59LFxuICAgIF9nZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIF9nZXRQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB2KSB7XG4gIHJldHVybiAodiA9IHRhcmdldFtwcm9wZXJ0eV0pICYmIF9pc0Z1bmN0aW9uKHYpID8gdGFyZ2V0W3Byb3BlcnR5XSgpIDogX2lzVW5kZWZpbmVkKHYpICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUgJiYgdGFyZ2V0LmdldEF0dHJpYnV0ZShwcm9wZXJ0eSkgfHwgdjtcbn0sXG4gICAgX2ZvckVhY2hOYW1lID0gZnVuY3Rpb24gX2ZvckVhY2hOYW1lKG5hbWVzLCBmdW5jKSB7XG4gIHJldHVybiAobmFtZXMgPSBuYW1lcy5zcGxpdChcIixcIikpLmZvckVhY2goZnVuYykgfHwgbmFtZXM7XG59LFxuICAgIC8vc3BsaXQgYSBjb21tYS1kZWxpbWl0ZWQgbGlzdCBvZiBuYW1lcyBpbnRvIGFuIGFycmF5LCB0aGVuIHJ1biBhIGZvckVhY2goKSBmdW5jdGlvbiBhbmQgcmV0dXJuIHRoZSBzcGxpdCBhcnJheSAodGhpcyBpcyBqdXN0IGEgd2F5IHRvIGNvbnNvbGlkYXRlL3Nob3J0ZW4gc29tZSBjb2RlKS5cbl9yb3VuZCA9IGZ1bmN0aW9uIF9yb3VuZCh2YWx1ZSkge1xuICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMDAwMCkgLyAxMDAwMDAgfHwgMDtcbn0sXG4gICAgX2FycmF5Q29udGFpbnNBbnkgPSBmdW5jdGlvbiBfYXJyYXlDb250YWluc0FueSh0b1NlYXJjaCwgdG9GaW5kKSB7XG4gIC8vc2VhcmNoZXMgb25lIGFycmF5IHRvIGZpbmQgbWF0Y2hlcyBmb3IgYW55IG9mIHRoZSBpdGVtcyBpbiB0aGUgdG9GaW5kIGFycmF5LiBBcyBzb29uIGFzIG9uZSBpcyBmb3VuZCwgaXQgcmV0dXJucyB0cnVlLiBJdCBkb2VzIE5PVCByZXR1cm4gYWxsIHRoZSBtYXRjaGVzOyBpdCdzIHNpbXBseSBhIGJvb2xlYW4gc2VhcmNoLlxuICB2YXIgbCA9IHRvRmluZC5sZW5ndGgsXG4gICAgICBpID0gMDtcblxuICBmb3IgKDsgdG9TZWFyY2guaW5kZXhPZih0b0ZpbmRbaV0pIDwgMCAmJiArK2kgPCBsOykge31cblxuICByZXR1cm4gaSA8IGw7XG59LFxuICAgIF9wYXJzZVZhcnMgPSBmdW5jdGlvbiBfcGFyc2VWYXJzKHBhcmFtcywgdHlwZSwgcGFyZW50KSB7XG4gIC8vcmVhZHMgdGhlIGFyZ3VtZW50cyBwYXNzZWQgdG8gb25lIG9mIHRoZSBrZXkgbWV0aG9kcyBhbmQgZmlndXJlcyBvdXQgaWYgdGhlIHVzZXIgaXMgZGVmaW5pbmcgdGhpbmdzIHdpdGggdGhlIE9MRC9sZWdhY3kgc3ludGF4IHdoZXJlIHRoZSBkdXJhdGlvbiBpcyB0aGUgMm5kIHBhcmFtZXRlciwgYW5kIHRoZW4gaXQgYWRqdXN0cyB0aGluZ3MgYWNjb3JkaW5nbHkgYW5kIHNwaXRzIGJhY2sgdGhlIGNvcnJlY3RlZCB2YXJzIG9iamVjdCAod2l0aCB0aGUgZHVyYXRpb24gYWRkZWQgaWYgbmVjZXNzYXJ5LCBhcyB3ZWxsIGFzIHJ1bkJhY2t3YXJkcyBvciBzdGFydEF0IG9yIGltbWVkaWF0ZVJlbmRlcikuIHR5cGUgMCA9IHRvKCkvc3RhZ2dlclRvKCksIDEgPSBmcm9tKCkvc3RhZ2dlckZyb20oKSwgMiA9IGZyb21UbygpL3N0YWdnZXJGcm9tVG8oKVxuICB2YXIgaXNMZWdhY3kgPSBfaXNOdW1iZXIocGFyYW1zWzFdKSxcbiAgICAgIHZhcnNJbmRleCA9IChpc0xlZ2FjeSA/IDIgOiAxKSArICh0eXBlIDwgMiA/IDAgOiAxKSxcbiAgICAgIHZhcnMgPSBwYXJhbXNbdmFyc0luZGV4XSxcbiAgICAgIGlyVmFycztcblxuICBpc0xlZ2FjeSAmJiAodmFycy5kdXJhdGlvbiA9IHBhcmFtc1sxXSk7XG4gIHZhcnMucGFyZW50ID0gcGFyZW50O1xuXG4gIGlmICh0eXBlKSB7XG4gICAgaXJWYXJzID0gdmFycztcblxuICAgIHdoaWxlIChwYXJlbnQgJiYgIShcImltbWVkaWF0ZVJlbmRlclwiIGluIGlyVmFycykpIHtcbiAgICAgIC8vIGluaGVyaXRhbmNlIGhhc24ndCBoYXBwZW5lZCB5ZXQsIGJ1dCBzb21lb25lIG1heSBoYXZlIHNldCBhIGRlZmF1bHQgaW4gYW4gYW5jZXN0b3IgdGltZWxpbmUuIFdlIGNvdWxkIGRvIHZhcnMuaW1tZWRpYXRlUmVuZGVyID0gX2lzTm90RmFsc2UoX2luaGVyaXREZWZhdWx0cyh2YXJzKS5pbW1lZGlhdGVSZW5kZXIpIGJ1dCB0aGF0J2QgZXhhY3QgYSBzbGlnaHQgcGVyZm9ybWFuY2UgcGVuYWx0eSBiZWNhdXNlIF9pbmhlcml0RGVmYXVsdHMoKSBhbHNvIHJ1bnMgaW4gdGhlIFR3ZWVuIGNvbnN0cnVjdG9yLiBXZSdyZSBwYXlpbmcgYSBzbWFsbCBrYiBwcmljZSBoZXJlIHRvIGdhaW4gc3BlZWQuXG4gICAgICBpclZhcnMgPSBwYXJlbnQudmFycy5kZWZhdWx0cyB8fCB7fTtcbiAgICAgIHBhcmVudCA9IF9pc05vdEZhbHNlKHBhcmVudC52YXJzLmluaGVyaXQpICYmIHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuXG4gICAgdmFycy5pbW1lZGlhdGVSZW5kZXIgPSBfaXNOb3RGYWxzZShpclZhcnMuaW1tZWRpYXRlUmVuZGVyKTtcbiAgICB0eXBlIDwgMiA/IHZhcnMucnVuQmFja3dhcmRzID0gMSA6IHZhcnMuc3RhcnRBdCA9IHBhcmFtc1t2YXJzSW5kZXggLSAxXTsgLy8gXCJmcm9tXCIgdmFyc1xuICB9XG5cbiAgcmV0dXJuIHZhcnM7XG59LFxuICAgIF9sYXp5UmVuZGVyID0gZnVuY3Rpb24gX2xhenlSZW5kZXIoKSB7XG4gIHZhciBsID0gX2xhenlUd2VlbnMubGVuZ3RoLFxuICAgICAgYSA9IF9sYXp5VHdlZW5zLnNsaWNlKDApLFxuICAgICAgaSxcbiAgICAgIHR3ZWVuO1xuXG4gIF9sYXp5TG9va3VwID0ge307XG4gIF9sYXp5VHdlZW5zLmxlbmd0aCA9IDA7XG5cbiAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIHR3ZWVuID0gYVtpXTtcbiAgICB0d2VlbiAmJiB0d2Vlbi5fbGF6eSAmJiAodHdlZW4ucmVuZGVyKHR3ZWVuLl9sYXp5WzBdLCB0d2Vlbi5fbGF6eVsxXSwgdHJ1ZSkuX2xhenkgPSAwKTtcbiAgfVxufSxcbiAgICBfbGF6eVNhZmVSZW5kZXIgPSBmdW5jdGlvbiBfbGF6eVNhZmVSZW5kZXIoYW5pbWF0aW9uLCB0aW1lLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpIHtcbiAgX2xhenlUd2VlbnMubGVuZ3RoICYmIF9sYXp5UmVuZGVyKCk7XG4gIGFuaW1hdGlvbi5yZW5kZXIodGltZSwgc3VwcHJlc3NFdmVudHMsIGZvcmNlKTtcbiAgX2xhenlUd2VlbnMubGVuZ3RoICYmIF9sYXp5UmVuZGVyKCk7IC8vaW4gY2FzZSByZW5kZXJpbmcgY2F1c2VkIGFueSB0d2VlbnMgdG8gbGF6eS1pbml0LCB3ZSBzaG91bGQgcmVuZGVyIHRoZW0gYmVjYXVzZSB0eXBpY2FsbHkgd2hlbiBzb21lb25lIGNhbGxzIHNlZWsoKSBvciB0aW1lKCkgb3IgcHJvZ3Jlc3MoKSwgdGhleSBleHBlY3QgYW4gaW1tZWRpYXRlIHJlbmRlci5cbn0sXG4gICAgX251bWVyaWNJZlBvc3NpYmxlID0gZnVuY3Rpb24gX251bWVyaWNJZlBvc3NpYmxlKHZhbHVlKSB7XG4gIHZhciBuID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIHJldHVybiAobiB8fCBuID09PSAwKSAmJiAodmFsdWUgKyBcIlwiKS5tYXRjaChfZGVsaW1pdGVkVmFsdWVFeHApLmxlbmd0aCA8IDIgPyBuIDogX2lzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnRyaW0oKSA6IHZhbHVlO1xufSxcbiAgICBfcGFzc1Rocm91Z2ggPSBmdW5jdGlvbiBfcGFzc1Rocm91Z2gocCkge1xuICByZXR1cm4gcDtcbn0sXG4gICAgX3NldERlZmF1bHRzID0gZnVuY3Rpb24gX3NldERlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHtcbiAgZm9yICh2YXIgcCBpbiBkZWZhdWx0cykge1xuICAgIHAgaW4gb2JqIHx8IChvYmpbcF0gPSBkZWZhdWx0c1twXSk7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufSxcbiAgICBfc2V0S2V5ZnJhbWVEZWZhdWx0cyA9IGZ1bmN0aW9uIF9zZXRLZXlmcmFtZURlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHtcbiAgZm9yICh2YXIgcCBpbiBkZWZhdWx0cykge1xuICAgIHAgaW4gb2JqIHx8IHAgPT09IFwiZHVyYXRpb25cIiB8fCBwID09PSBcImVhc2VcIiB8fCAob2JqW3BdID0gZGVmYXVsdHNbcF0pO1xuICB9XG59LFxuICAgIF9tZXJnZSA9IGZ1bmN0aW9uIF9tZXJnZShiYXNlLCB0b01lcmdlKSB7XG4gIGZvciAodmFyIHAgaW4gdG9NZXJnZSkge1xuICAgIGJhc2VbcF0gPSB0b01lcmdlW3BdO1xuICB9XG5cbiAgcmV0dXJuIGJhc2U7XG59LFxuICAgIF9tZXJnZURlZXAgPSBmdW5jdGlvbiBfbWVyZ2VEZWVwKGJhc2UsIHRvTWVyZ2UpIHtcbiAgZm9yICh2YXIgcCBpbiB0b01lcmdlKSB7XG4gICAgYmFzZVtwXSA9IF9pc09iamVjdCh0b01lcmdlW3BdKSA/IF9tZXJnZURlZXAoYmFzZVtwXSB8fCAoYmFzZVtwXSA9IHt9KSwgdG9NZXJnZVtwXSkgOiB0b01lcmdlW3BdO1xuICB9XG5cbiAgcmV0dXJuIGJhc2U7XG59LFxuICAgIF9jb3B5RXhjbHVkaW5nID0gZnVuY3Rpb24gX2NvcHlFeGNsdWRpbmcob2JqLCBleGNsdWRpbmcpIHtcbiAgdmFyIGNvcHkgPSB7fSxcbiAgICAgIHA7XG5cbiAgZm9yIChwIGluIG9iaikge1xuICAgIHAgaW4gZXhjbHVkaW5nIHx8IChjb3B5W3BdID0gb2JqW3BdKTtcbiAgfVxuXG4gIHJldHVybiBjb3B5O1xufSxcbiAgICBfaW5oZXJpdERlZmF1bHRzID0gZnVuY3Rpb24gX2luaGVyaXREZWZhdWx0cyh2YXJzKSB7XG4gIHZhciBwYXJlbnQgPSB2YXJzLnBhcmVudCB8fCBfZ2xvYmFsVGltZWxpbmUsXG4gICAgICBmdW5jID0gdmFycy5rZXlmcmFtZXMgPyBfc2V0S2V5ZnJhbWVEZWZhdWx0cyA6IF9zZXREZWZhdWx0cztcblxuICBpZiAoX2lzTm90RmFsc2UodmFycy5pbmhlcml0KSkge1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIGZ1bmModmFycywgcGFyZW50LnZhcnMuZGVmYXVsdHMpO1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudCB8fCBwYXJlbnQuX2RwO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YXJzO1xufSxcbiAgICBfYXJyYXlzTWF0Y2ggPSBmdW5jdGlvbiBfYXJyYXlzTWF0Y2goYTEsIGEyKSB7XG4gIHZhciBpID0gYTEubGVuZ3RoLFxuICAgICAgbWF0Y2ggPSBpID09PSBhMi5sZW5ndGg7XG5cbiAgd2hpbGUgKG1hdGNoICYmIGktLSAmJiBhMVtpXSA9PT0gYTJbaV0pIHt9XG5cbiAgcmV0dXJuIGkgPCAwO1xufSxcbiAgICBfYWRkTGlua2VkTGlzdEl0ZW0gPSBmdW5jdGlvbiBfYWRkTGlua2VkTGlzdEl0ZW0ocGFyZW50LCBjaGlsZCwgZmlyc3RQcm9wLCBsYXN0UHJvcCwgc29ydEJ5KSB7XG4gIGlmIChmaXJzdFByb3AgPT09IHZvaWQgMCkge1xuICAgIGZpcnN0UHJvcCA9IFwiX2ZpcnN0XCI7XG4gIH1cblxuICBpZiAobGFzdFByb3AgPT09IHZvaWQgMCkge1xuICAgIGxhc3RQcm9wID0gXCJfbGFzdFwiO1xuICB9XG5cbiAgdmFyIHByZXYgPSBwYXJlbnRbbGFzdFByb3BdLFxuICAgICAgdDtcblxuICBpZiAoc29ydEJ5KSB7XG4gICAgdCA9IGNoaWxkW3NvcnRCeV07XG5cbiAgICB3aGlsZSAocHJldiAmJiBwcmV2W3NvcnRCeV0gPiB0KSB7XG4gICAgICBwcmV2ID0gcHJldi5fcHJldjtcbiAgICB9XG4gIH1cblxuICBpZiAocHJldikge1xuICAgIGNoaWxkLl9uZXh0ID0gcHJldi5fbmV4dDtcbiAgICBwcmV2Ll9uZXh0ID0gY2hpbGQ7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGQuX25leHQgPSBwYXJlbnRbZmlyc3RQcm9wXTtcbiAgICBwYXJlbnRbZmlyc3RQcm9wXSA9IGNoaWxkO1xuICB9XG5cbiAgaWYgKGNoaWxkLl9uZXh0KSB7XG4gICAgY2hpbGQuX25leHQuX3ByZXYgPSBjaGlsZDtcbiAgfSBlbHNlIHtcbiAgICBwYXJlbnRbbGFzdFByb3BdID0gY2hpbGQ7XG4gIH1cblxuICBjaGlsZC5fcHJldiA9IHByZXY7XG4gIGNoaWxkLnBhcmVudCA9IGNoaWxkLl9kcCA9IHBhcmVudDtcbiAgcmV0dXJuIGNoaWxkO1xufSxcbiAgICBfcmVtb3ZlTGlua2VkTGlzdEl0ZW0gPSBmdW5jdGlvbiBfcmVtb3ZlTGlua2VkTGlzdEl0ZW0ocGFyZW50LCBjaGlsZCwgZmlyc3RQcm9wLCBsYXN0UHJvcCkge1xuICBpZiAoZmlyc3RQcm9wID09PSB2b2lkIDApIHtcbiAgICBmaXJzdFByb3AgPSBcIl9maXJzdFwiO1xuICB9XG5cbiAgaWYgKGxhc3RQcm9wID09PSB2b2lkIDApIHtcbiAgICBsYXN0UHJvcCA9IFwiX2xhc3RcIjtcbiAgfVxuXG4gIHZhciBwcmV2ID0gY2hpbGQuX3ByZXYsXG4gICAgICBuZXh0ID0gY2hpbGQuX25leHQ7XG5cbiAgaWYgKHByZXYpIHtcbiAgICBwcmV2Ll9uZXh0ID0gbmV4dDtcbiAgfSBlbHNlIGlmIChwYXJlbnRbZmlyc3RQcm9wXSA9PT0gY2hpbGQpIHtcbiAgICBwYXJlbnRbZmlyc3RQcm9wXSA9IG5leHQ7XG4gIH1cblxuICBpZiAobmV4dCkge1xuICAgIG5leHQuX3ByZXYgPSBwcmV2O1xuICB9IGVsc2UgaWYgKHBhcmVudFtsYXN0UHJvcF0gPT09IGNoaWxkKSB7XG4gICAgcGFyZW50W2xhc3RQcm9wXSA9IHByZXY7XG4gIH1cblxuICBjaGlsZC5fbmV4dCA9IGNoaWxkLl9wcmV2ID0gY2hpbGQucGFyZW50ID0gbnVsbDsgLy8gZG9uJ3QgZGVsZXRlIHRoZSBfZHAganVzdCBzbyB3ZSBjYW4gcmV2ZXJ0IGlmIG5lY2Vzc2FyeS4gQnV0IHBhcmVudCBzaG91bGQgYmUgbnVsbCB0byBpbmRpY2F0ZSB0aGUgaXRlbSBpc24ndCBpbiBhIGxpbmtlZCBsaXN0LlxufSxcbiAgICBfcmVtb3ZlRnJvbVBhcmVudCA9IGZ1bmN0aW9uIF9yZW1vdmVGcm9tUGFyZW50KGNoaWxkLCBvbmx5SWZQYXJlbnRIYXNBdXRvUmVtb3ZlKSB7XG4gIGNoaWxkLnBhcmVudCAmJiAoIW9ubHlJZlBhcmVudEhhc0F1dG9SZW1vdmUgfHwgY2hpbGQucGFyZW50LmF1dG9SZW1vdmVDaGlsZHJlbikgJiYgY2hpbGQucGFyZW50LnJlbW92ZShjaGlsZCk7XG4gIGNoaWxkLl9hY3QgPSAwO1xufSxcbiAgICBfdW5jYWNoZSA9IGZ1bmN0aW9uIF91bmNhY2hlKGFuaW1hdGlvbiwgY2hpbGQpIHtcbiAgaWYgKGFuaW1hdGlvbiAmJiAoIWNoaWxkIHx8IGNoaWxkLl9lbmQgPiBhbmltYXRpb24uX2R1ciB8fCBjaGlsZC5fc3RhcnQgPCAwKSkge1xuICAgIC8vIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogaWYgYSBjaGlsZCBhbmltYXRpb24gaXMgcGFzc2VkIGluIHdlIHNob3VsZCBvbmx5IHVuY2FjaGUgaWYgdGhhdCBjaGlsZCBFWFRFTkRTIHRoZSBhbmltYXRpb24gKGl0cyBlbmQgdGltZSBpcyBiZXlvbmQgdGhlIGVuZClcbiAgICB2YXIgYSA9IGFuaW1hdGlvbjtcblxuICAgIHdoaWxlIChhKSB7XG4gICAgICBhLl9kaXJ0eSA9IDE7XG4gICAgICBhID0gYS5wYXJlbnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFuaW1hdGlvbjtcbn0sXG4gICAgX3JlY2FjaGVBbmNlc3RvcnMgPSBmdW5jdGlvbiBfcmVjYWNoZUFuY2VzdG9ycyhhbmltYXRpb24pIHtcbiAgdmFyIHBhcmVudCA9IGFuaW1hdGlvbi5wYXJlbnQ7XG5cbiAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQucGFyZW50KSB7XG4gICAgLy9zb21ldGltZXMgd2UgbXVzdCBmb3JjZSBhIHJlLXNvcnQgb2YgYWxsIGNoaWxkcmVuIGFuZCB1cGRhdGUgdGhlIGR1cmF0aW9uL3RvdGFsRHVyYXRpb24gb2YgYWxsIGFuY2VzdG9yIHRpbWVsaW5lcyBpbW1lZGlhdGVseSBpbiBjYXNlLCBmb3IgZXhhbXBsZSwgaW4gdGhlIG1pZGRsZSBvZiBhIHJlbmRlciBsb29wLCBvbmUgdHdlZW4gYWx0ZXJzIGFub3RoZXIgdHdlZW4ncyB0aW1lU2NhbGUgd2hpY2ggc2hvdmVzIGl0cyBzdGFydFRpbWUgYmVmb3JlIDAsIGZvcmNpbmcgdGhlIHBhcmVudCB0aW1lbGluZSB0byBzaGlmdCBhcm91bmQgYW5kIHNoaWZ0Q2hpbGRyZW4oKSB3aGljaCBjb3VsZCBhZmZlY3QgdGhhdCBuZXh0IHR3ZWVuJ3MgcmVuZGVyIChzdGFydFRpbWUpLiBEb2Vzbid0IG1hdHRlciBmb3IgdGhlIHJvb3QgdGltZWxpbmUgdGhvdWdoLlxuICAgIHBhcmVudC5fZGlydHkgPSAxO1xuICAgIHBhcmVudC50b3RhbER1cmF0aW9uKCk7XG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgfVxuXG4gIHJldHVybiBhbmltYXRpb247XG59LFxuICAgIF9oYXNOb1BhdXNlZEFuY2VzdG9ycyA9IGZ1bmN0aW9uIF9oYXNOb1BhdXNlZEFuY2VzdG9ycyhhbmltYXRpb24pIHtcbiAgcmV0dXJuICFhbmltYXRpb24gfHwgYW5pbWF0aW9uLl90cyAmJiBfaGFzTm9QYXVzZWRBbmNlc3RvcnMoYW5pbWF0aW9uLnBhcmVudCk7XG59LFxuICAgIF9lbGFwc2VkQ3ljbGVEdXJhdGlvbiA9IGZ1bmN0aW9uIF9lbGFwc2VkQ3ljbGVEdXJhdGlvbihhbmltYXRpb24pIHtcbiAgcmV0dXJuIGFuaW1hdGlvbi5fcmVwZWF0ID8gX2FuaW1hdGlvbkN5Y2xlKGFuaW1hdGlvbi5fdFRpbWUsIGFuaW1hdGlvbiA9IGFuaW1hdGlvbi5kdXJhdGlvbigpICsgYW5pbWF0aW9uLl9yRGVsYXkpICogYW5pbWF0aW9uIDogMDtcbn0sXG4gICAgLy8gZmVlZCBpbiB0aGUgdG90YWxUaW1lIGFuZCBjeWNsZUR1cmF0aW9uIGFuZCBpdCdsbCByZXR1cm4gdGhlIGN5Y2xlIChpdGVyYXRpb24gbWludXMgMSkgYW5kIGlmIHRoZSBwbGF5aGVhZCBpcyBleGFjdGx5IGF0IHRoZSB2ZXJ5IEVORCwgaXQgd2lsbCBOT1QgYnVtcCB1cCB0byB0aGUgbmV4dCBjeWNsZS5cbl9hbmltYXRpb25DeWNsZSA9IGZ1bmN0aW9uIF9hbmltYXRpb25DeWNsZSh0VGltZSwgY3ljbGVEdXJhdGlvbikge1xuICByZXR1cm4gKHRUaW1lIC89IGN5Y2xlRHVyYXRpb24pICYmIH5+dFRpbWUgPT09IHRUaW1lID8gfn50VGltZSAtIDEgOiB+fnRUaW1lO1xufSxcbiAgICBfcGFyZW50VG9DaGlsZFRvdGFsVGltZSA9IGZ1bmN0aW9uIF9wYXJlbnRUb0NoaWxkVG90YWxUaW1lKHBhcmVudFRpbWUsIGNoaWxkKSB7XG4gIHJldHVybiAocGFyZW50VGltZSAtIGNoaWxkLl9zdGFydCkgKiBjaGlsZC5fdHMgKyAoY2hpbGQuX3RzID49IDAgPyAwIDogY2hpbGQuX2RpcnR5ID8gY2hpbGQudG90YWxEdXJhdGlvbigpIDogY2hpbGQuX3REdXIpO1xufSxcbiAgICBfc2V0RW5kID0gZnVuY3Rpb24gX3NldEVuZChhbmltYXRpb24pIHtcbiAgcmV0dXJuIGFuaW1hdGlvbi5fZW5kID0gX3JvdW5kKGFuaW1hdGlvbi5fc3RhcnQgKyAoYW5pbWF0aW9uLl90RHVyIC8gTWF0aC5hYnMoYW5pbWF0aW9uLl90cyB8fCBhbmltYXRpb24uX3J0cyB8fCBfdGlueU51bSkgfHwgMCkpO1xufSxcbiAgICBfYWxpZ25QbGF5aGVhZCA9IGZ1bmN0aW9uIF9hbGlnblBsYXloZWFkKGFuaW1hdGlvbiwgdG90YWxUaW1lKSB7XG4gIC8vIGFkanVzdHMgdGhlIGFuaW1hdGlvbidzIF9zdGFydCBhbmQgX2VuZCBhY2NvcmRpbmcgdG8gdGhlIHByb3ZpZGVkIHRvdGFsVGltZSAob25seSBpZiB0aGUgcGFyZW50J3Mgc21vb3RoQ2hpbGRUaW1pbmcgaXMgdHJ1ZSBhbmQgdGhlIGFuaW1hdGlvbiBpc24ndCBwYXVzZWQpLiBJdCBkb2Vzbid0IGRvIGFueSByZW5kZXJpbmcgb3IgZm9yY2luZyB0aGluZ3MgYmFjayBpbnRvIHBhcmVudCB0aW1lbGluZXMsIGV0Yy4gLSB0aGF0J3Mgd2hhdCB0b3RhbFRpbWUoKSBpcyBmb3IuXG4gIHZhciBwYXJlbnQgPSBhbmltYXRpb24uX2RwO1xuXG4gIGlmIChwYXJlbnQgJiYgcGFyZW50LnNtb290aENoaWxkVGltaW5nICYmIGFuaW1hdGlvbi5fdHMpIHtcbiAgICBhbmltYXRpb24uX3N0YXJ0ID0gX3JvdW5kKGFuaW1hdGlvbi5fZHAuX3RpbWUgLSAoYW5pbWF0aW9uLl90cyA+IDAgPyB0b3RhbFRpbWUgLyBhbmltYXRpb24uX3RzIDogKChhbmltYXRpb24uX2RpcnR5ID8gYW5pbWF0aW9uLnRvdGFsRHVyYXRpb24oKSA6IGFuaW1hdGlvbi5fdER1cikgLSB0b3RhbFRpbWUpIC8gLWFuaW1hdGlvbi5fdHMpKTtcblxuICAgIF9zZXRFbmQoYW5pbWF0aW9uKTtcblxuICAgIHBhcmVudC5fZGlydHkgfHwgX3VuY2FjaGUocGFyZW50LCBhbmltYXRpb24pOyAvL2ZvciBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudC4gSWYgdGhlIHBhcmVudCdzIGNhY2hlIGlzIGFscmVhZHkgZGlydHksIGl0IGFscmVhZHkgdG9vayBjYXJlIG9mIG1hcmtpbmcgdGhlIGFuY2VzdG9ycyBhcyBkaXJ0eSB0b28sIHNvIHNraXAgdGhlIGZ1bmN0aW9uIGNhbGwgaGVyZS5cbiAgfVxuXG4gIHJldHVybiBhbmltYXRpb247XG59LFxuXG4vKlxuX3RvdGFsVGltZVRvVGltZSA9IChjbGFtcGVkVG90YWxUaW1lLCBkdXJhdGlvbiwgcmVwZWF0LCByZXBlYXREZWxheSwgeW95bykgPT4ge1xuXHRsZXQgY3ljbGVEdXJhdGlvbiA9IGR1cmF0aW9uICsgcmVwZWF0RGVsYXksXG5cdFx0dGltZSA9IF9yb3VuZChjbGFtcGVkVG90YWxUaW1lICUgY3ljbGVEdXJhdGlvbik7XG5cdGlmICh0aW1lID4gZHVyYXRpb24pIHtcblx0XHR0aW1lID0gZHVyYXRpb247XG5cdH1cblx0cmV0dXJuICh5b3lvICYmICh+fihjbGFtcGVkVG90YWxUaW1lIC8gY3ljbGVEdXJhdGlvbikgJiAxKSkgPyBkdXJhdGlvbiAtIHRpbWUgOiB0aW1lO1xufSxcbiovXG5fcG9zdEFkZENoZWNrcyA9IGZ1bmN0aW9uIF9wb3N0QWRkQ2hlY2tzKHRpbWVsaW5lLCBjaGlsZCkge1xuICB2YXIgdDtcblxuICBpZiAoY2hpbGQuX3RpbWUgfHwgY2hpbGQuX2luaXR0ZWQgJiYgIWNoaWxkLl9kdXIpIHtcbiAgICAvL2luIGNhc2UsIGZvciBleGFtcGxlLCB0aGUgX3N0YXJ0IGlzIG1vdmVkIG9uIGEgdHdlZW4gdGhhdCBoYXMgYWxyZWFkeSByZW5kZXJlZC4gSW1hZ2luZSBpdCdzIGF0IGl0cyBlbmQgc3RhdGUsIHRoZW4gdGhlIHN0YXJ0VGltZSBpcyBtb3ZlZCBXQVkgbGF0ZXIgKGFmdGVyIHRoZSBlbmQgb2YgdGhpcyB0aW1lbGluZSksIGl0IHNob3VsZCByZW5kZXIgYXQgaXRzIGJlZ2lubmluZy5cbiAgICB0ID0gX3BhcmVudFRvQ2hpbGRUb3RhbFRpbWUodGltZWxpbmUucmF3VGltZSgpLCBjaGlsZCk7XG5cbiAgICBpZiAoIWNoaWxkLl9kdXIgfHwgX2NsYW1wKDAsIGNoaWxkLnRvdGFsRHVyYXRpb24oKSwgdCkgLSBjaGlsZC5fdFRpbWUgPiBfdGlueU51bSkge1xuICAgICAgY2hpbGQucmVuZGVyKHQsIHRydWUpO1xuICAgIH1cbiAgfSAvL2lmIHRoZSB0aW1lbGluZSBoYXMgYWxyZWFkeSBlbmRlZCBidXQgdGhlIGluc2VydGVkIHR3ZWVuL3RpbWVsaW5lIGV4dGVuZHMgdGhlIGR1cmF0aW9uLCB3ZSBzaG91bGQgZW5hYmxlIHRoaXMgdGltZWxpbmUgYWdhaW4gc28gdGhhdCBpdCByZW5kZXJzIHByb3Blcmx5LiBXZSBzaG91bGQgYWxzbyBhbGlnbiB0aGUgcGxheWhlYWQgd2l0aCB0aGUgcGFyZW50IHRpbWVsaW5lJ3Mgd2hlbiBhcHByb3ByaWF0ZS5cblxuXG4gIGlmIChfdW5jYWNoZSh0aW1lbGluZSwgY2hpbGQpLl9kcCAmJiB0aW1lbGluZS5faW5pdHRlZCAmJiB0aW1lbGluZS5fdGltZSA+PSB0aW1lbGluZS5fZHVyICYmIHRpbWVsaW5lLl90cykge1xuICAgIC8vaW4gY2FzZSBhbnkgb2YgdGhlIGFuY2VzdG9ycyBoYWQgY29tcGxldGVkIGJ1dCBzaG91bGQgbm93IGJlIGVuYWJsZWQuLi5cbiAgICBpZiAodGltZWxpbmUuX2R1ciA8IHRpbWVsaW5lLmR1cmF0aW9uKCkpIHtcbiAgICAgIHQgPSB0aW1lbGluZTtcblxuICAgICAgd2hpbGUgKHQuX2RwKSB7XG4gICAgICAgIHQucmF3VGltZSgpID49IDAgJiYgdC50b3RhbFRpbWUodC5fdFRpbWUpOyAvL21vdmVzIHRoZSB0aW1lbGluZSAoc2hpZnRzIGl0cyBzdGFydFRpbWUpIGlmIG5lY2Vzc2FyeSwgYW5kIGFsc28gZW5hYmxlcyBpdC4gSWYgaXQncyBjdXJyZW50bHkgemVybywgdGhvdWdoLCBpdCBtYXkgbm90IGJlIHNjaGVkdWxlZCB0byByZW5kZXIgdW50aWwgbGF0ZXIgc28gdGhlcmUncyBubyBuZWVkIHRvIGZvcmNlIGl0IHRvIGFsaWduIHdpdGggdGhlIGN1cnJlbnQgcGxheWhlYWQgcG9zaXRpb24uIE9ubHkgbW92ZSB0byBjYXRjaCB1cCB3aXRoIHRoZSBwbGF5aGVhZC5cblxuICAgICAgICB0ID0gdC5fZHA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGltZWxpbmUuX3pUaW1lID0gLV90aW55TnVtOyAvLyBoZWxwcyBlbnN1cmUgdGhhdCB0aGUgbmV4dCByZW5kZXIoKSB3aWxsIGJlIGZvcmNlZCAoY3Jvc3NpbmdTdGFydCA9IHRydWUgaW4gcmVuZGVyKCkpLCBldmVuIGlmIHRoZSBkdXJhdGlvbiBoYXNuJ3QgY2hhbmdlZCAod2UncmUgYWRkaW5nIGEgY2hpbGQgd2hpY2ggd291bGQgbmVlZCB0byBnZXQgcmVuZGVyZWQpLiBEZWZpbml0ZWx5IGFuIGVkZ2UgY2FzZS4gTm90ZTogd2UgTVVTVCBkbyB0aGlzIEFGVEVSIHRoZSBsb29wIGFib3ZlIHdoZXJlIHRoZSB0b3RhbFRpbWUoKSBtaWdodCB0cmlnZ2VyIGEgcmVuZGVyKCkgYmVjYXVzZSB0aGlzIF9hZGRUb1RpbWVsaW5lKCkgbWV0aG9kIGdldHMgY2FsbGVkIGZyb20gdGhlIEFuaW1hdGlvbiBjb25zdHJ1Y3RvciwgQkVGT1JFIHR3ZWVucyBldmVuIHJlY29yZCB0aGVpciB0YXJnZXRzLCBldGMuIHNvIHdlIHdvdWxkbid0IHdhbnQgdGhpbmdzIHRvIGdldCB0cmlnZ2VyZWQgaW4gdGhlIHdyb25nIG9yZGVyLlxuICB9XG59LFxuICAgIF9hZGRUb1RpbWVsaW5lID0gZnVuY3Rpb24gX2FkZFRvVGltZWxpbmUodGltZWxpbmUsIGNoaWxkLCBwb3NpdGlvbiwgc2tpcENoZWNrcykge1xuICBjaGlsZC5wYXJlbnQgJiYgX3JlbW92ZUZyb21QYXJlbnQoY2hpbGQpO1xuICBjaGlsZC5fc3RhcnQgPSBfcm91bmQocG9zaXRpb24gKyBjaGlsZC5fZGVsYXkpO1xuICBjaGlsZC5fZW5kID0gX3JvdW5kKGNoaWxkLl9zdGFydCArIChjaGlsZC50b3RhbER1cmF0aW9uKCkgLyBNYXRoLmFicyhjaGlsZC50aW1lU2NhbGUoKSkgfHwgMCkpO1xuXG4gIF9hZGRMaW5rZWRMaXN0SXRlbSh0aW1lbGluZSwgY2hpbGQsIFwiX2ZpcnN0XCIsIFwiX2xhc3RcIiwgdGltZWxpbmUuX3NvcnQgPyBcIl9zdGFydFwiIDogMCk7XG5cbiAgdGltZWxpbmUuX3JlY2VudCA9IGNoaWxkO1xuICBza2lwQ2hlY2tzIHx8IF9wb3N0QWRkQ2hlY2tzKHRpbWVsaW5lLCBjaGlsZCk7XG4gIHJldHVybiB0aW1lbGluZTtcbn0sXG4gICAgX3Njcm9sbFRyaWdnZXIgPSBmdW5jdGlvbiBfc2Nyb2xsVHJpZ2dlcihhbmltYXRpb24sIHRyaWdnZXIpIHtcbiAgcmV0dXJuIChfZ2xvYmFscy5TY3JvbGxUcmlnZ2VyIHx8IF9taXNzaW5nUGx1Z2luKFwic2Nyb2xsVHJpZ2dlclwiLCB0cmlnZ2VyKSkgJiYgX2dsb2JhbHMuU2Nyb2xsVHJpZ2dlci5jcmVhdGUodHJpZ2dlciwgYW5pbWF0aW9uKTtcbn0sXG4gICAgX2F0dGVtcHRJbml0VHdlZW4gPSBmdW5jdGlvbiBfYXR0ZW1wdEluaXRUd2Vlbih0d2VlbiwgdG90YWxUaW1lLCBmb3JjZSwgc3VwcHJlc3NFdmVudHMpIHtcbiAgX2luaXRUd2Vlbih0d2VlbiwgdG90YWxUaW1lKTtcblxuICBpZiAoIXR3ZWVuLl9pbml0dGVkKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBpZiAoIWZvcmNlICYmIHR3ZWVuLl9wdCAmJiAodHdlZW4uX2R1ciAmJiB0d2Vlbi52YXJzLmxhenkgIT09IGZhbHNlIHx8ICF0d2Vlbi5fZHVyICYmIHR3ZWVuLnZhcnMubGF6eSkgJiYgX2xhc3RSZW5kZXJlZEZyYW1lICE9PSBfdGlja2VyLmZyYW1lKSB7XG4gICAgX2xhenlUd2VlbnMucHVzaCh0d2Vlbik7XG5cbiAgICB0d2Vlbi5fbGF6eSA9IFt0b3RhbFRpbWUsIHN1cHByZXNzRXZlbnRzXTtcbiAgICByZXR1cm4gMTtcbiAgfVxufSxcbiAgICBfcmVuZGVyWmVyb0R1cmF0aW9uVHdlZW4gPSBmdW5jdGlvbiBfcmVuZGVyWmVyb0R1cmF0aW9uVHdlZW4odHdlZW4sIHRvdGFsVGltZSwgc3VwcHJlc3NFdmVudHMsIGZvcmNlKSB7XG4gIHZhciBwcmV2UmF0aW8gPSB0d2Vlbi5yYXRpbyxcbiAgICAgIHJhdGlvID0gdG90YWxUaW1lIDwgMCB8fCAhdG90YWxUaW1lICYmIHByZXZSYXRpbyAmJiAhdHdlZW4uX3N0YXJ0ICYmIHR3ZWVuLl96VGltZSA+IF90aW55TnVtICYmICF0d2Vlbi5fZHAuX2xvY2sgfHwgKHR3ZWVuLl90cyA8IDAgfHwgdHdlZW4uX2RwLl90cyA8IDApICYmIHR3ZWVuLmRhdGEgIT09IFwiaXNGcm9tU3RhcnRcIiAmJiB0d2Vlbi5kYXRhICE9PSBcImlzU3RhcnRcIiA/IDAgOiAxLFxuICAgICAgLy8gY2hlY2sgcGFyZW50J3MgX2xvY2sgYmVjYXVzZSB3aGVuIGEgdGltZWxpbmUgcmVwZWF0cy95b3lvcyBhbmQgZG9lcyBpdHMgYXJ0aWZpY2lhbCB3cmFwcGluZywgd2Ugc2hvdWxkbid0IGZvcmNlIHRoZSByYXRpbyBiYWNrIHRvIDAuIEFsc28sIGlmIHRoZSB0d2VlbiBvciBpdHMgcGFyZW50IGlzIHJldmVyc2VkIGFuZCB0aGUgdG90YWxUaW1lIGlzIDAsIHdlIHNob3VsZCBnbyB0byBhIHJhdGlvIG9mIDAuXG4gIHJlcGVhdERlbGF5ID0gdHdlZW4uX3JEZWxheSxcbiAgICAgIHRUaW1lID0gMCxcbiAgICAgIHB0LFxuICAgICAgaXRlcmF0aW9uLFxuICAgICAgcHJldkl0ZXJhdGlvbjtcblxuICBpZiAocmVwZWF0RGVsYXkgJiYgdHdlZW4uX3JlcGVhdCkge1xuICAgIC8vIGluIGNhc2UgdGhlcmUncyBhIHplcm8tZHVyYXRpb24gdHdlZW4gdGhhdCBoYXMgYSByZXBlYXQgd2l0aCBhIHJlcGVhdERlbGF5XG4gICAgdFRpbWUgPSBfY2xhbXAoMCwgdHdlZW4uX3REdXIsIHRvdGFsVGltZSk7XG4gICAgaXRlcmF0aW9uID0gX2FuaW1hdGlvbkN5Y2xlKHRUaW1lLCByZXBlYXREZWxheSk7XG4gICAgcHJldkl0ZXJhdGlvbiA9IF9hbmltYXRpb25DeWNsZSh0d2Vlbi5fdFRpbWUsIHJlcGVhdERlbGF5KTtcblxuICAgIGlmIChpdGVyYXRpb24gIT09IHByZXZJdGVyYXRpb24pIHtcbiAgICAgIHByZXZSYXRpbyA9IDEgLSByYXRpbztcbiAgICAgIHR3ZWVuLnZhcnMucmVwZWF0UmVmcmVzaCAmJiB0d2Vlbi5faW5pdHRlZCAmJiB0d2Vlbi5pbnZhbGlkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJhdGlvICE9PSBwcmV2UmF0aW8gfHwgZm9yY2UgfHwgdHdlZW4uX3pUaW1lID09PSBfdGlueU51bSB8fCAhdG90YWxUaW1lICYmIHR3ZWVuLl96VGltZSkge1xuICAgIGlmICghdHdlZW4uX2luaXR0ZWQgJiYgX2F0dGVtcHRJbml0VHdlZW4odHdlZW4sIHRvdGFsVGltZSwgZm9yY2UsIHN1cHByZXNzRXZlbnRzKSkge1xuICAgICAgLy8gaWYgd2UgcmVuZGVyIHRoZSB2ZXJ5IGJlZ2lubmluZyAodGltZSA9PSAwKSBvZiBhIGZyb21UbygpLCB3ZSBtdXN0IGZvcmNlIHRoZSByZW5kZXIgKG5vcm1hbCB0d2VlbnMgd291bGRuJ3QgbmVlZCB0byByZW5kZXIgYXQgYSB0aW1lIG9mIDAgd2hlbiB0aGUgcHJldlRpbWUgd2FzIGFsc28gMCkuIFRoaXMgaXMgYWxzbyBtYW5kYXRvcnkgdG8gbWFrZSBzdXJlIG92ZXJ3cml0aW5nIGtpY2tzIGluIGltbWVkaWF0ZWx5LlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHByZXZJdGVyYXRpb24gPSB0d2Vlbi5felRpbWU7XG4gICAgdHdlZW4uX3pUaW1lID0gdG90YWxUaW1lIHx8IChzdXBwcmVzc0V2ZW50cyA/IF90aW55TnVtIDogMCk7IC8vIHdoZW4gdGhlIHBsYXloZWFkIGFycml2ZXMgYXQgRVhBQ1RMWSB0aW1lIDAgKHJpZ2h0IG9uIHRvcCkgb2YgYSB6ZXJvLWR1cmF0aW9uIHR3ZWVuLCB3ZSBuZWVkIHRvIGRpc2Nlcm4gaWYgZXZlbnRzIGFyZSBzdXBwcmVzc2VkIHNvIHRoYXQgd2hlbiB0aGUgcGxheWhlYWQgbW92ZXMgYWdhaW4gKG5leHQgdGltZSksIGl0J2xsIHRyaWdnZXIgdGhlIGNhbGxiYWNrLiBJZiBldmVudHMgYXJlIE5PVCBzdXBwcmVzc2VkLCBvYnZpb3VzbHkgdGhlIGNhbGxiYWNrIHdvdWxkIGJlIHRyaWdnZXJlZCBpbiB0aGlzIHJlbmRlci4gQmFzaWNhbGx5LCB0aGUgY2FsbGJhY2sgc2hvdWxkIGZpcmUgZWl0aGVyIHdoZW4gdGhlIHBsYXloZWFkIEFSUklWRVMgb3IgTEVBVkVTIHRoaXMgZXhhY3Qgc3BvdCwgbm90IGJvdGguIEltYWdpbmUgZG9pbmcgYSB0aW1lbGluZS5zZWVrKDApIGFuZCB0aGVyZSdzIGEgY2FsbGJhY2sgdGhhdCBzaXRzIGF0IDAuIFNpbmNlIGV2ZW50cyBhcmUgc3VwcHJlc3NlZCBvbiB0aGF0IHNlZWsoKSBieSBkZWZhdWx0LCBub3RoaW5nIHdpbGwgZmlyZSwgYnV0IHdoZW4gdGhlIHBsYXloZWFkIG1vdmVzIG9mZiBvZiB0aGF0IHBvc2l0aW9uLCB0aGUgY2FsbGJhY2sgc2hvdWxkIGZpcmUuIFRoaXMgYmVoYXZpb3IgaXMgd2hhdCBwZW9wbGUgaW50dWl0aXZlbHkgZXhwZWN0LlxuXG4gICAgc3VwcHJlc3NFdmVudHMgfHwgKHN1cHByZXNzRXZlbnRzID0gdG90YWxUaW1lICYmICFwcmV2SXRlcmF0aW9uKTsgLy8gaWYgaXQgd2FzIHJlbmRlcmVkIHByZXZpb3VzbHkgYXQgZXhhY3RseSAwIChfelRpbWUpIGFuZCBub3cgdGhlIHBsYXloZWFkIGlzIG1vdmluZyBhd2F5LCBET04nVCBmaXJlIGNhbGxiYWNrcyBvdGhlcndpc2UgdGhleSdsbCBzZWVtIGxpa2UgZHVwbGljYXRlcy5cblxuICAgIHR3ZWVuLnJhdGlvID0gcmF0aW87XG4gICAgdHdlZW4uX2Zyb20gJiYgKHJhdGlvID0gMSAtIHJhdGlvKTtcbiAgICB0d2Vlbi5fdGltZSA9IDA7XG4gICAgdHdlZW4uX3RUaW1lID0gdFRpbWU7XG4gICAgc3VwcHJlc3NFdmVudHMgfHwgX2NhbGxiYWNrKHR3ZWVuLCBcIm9uU3RhcnRcIik7XG4gICAgcHQgPSB0d2Vlbi5fcHQ7XG5cbiAgICB3aGlsZSAocHQpIHtcbiAgICAgIHB0LnIocmF0aW8sIHB0LmQpO1xuICAgICAgcHQgPSBwdC5fbmV4dDtcbiAgICB9XG5cbiAgICB0d2Vlbi5fc3RhcnRBdCAmJiB0b3RhbFRpbWUgPCAwICYmIHR3ZWVuLl9zdGFydEF0LnJlbmRlcih0b3RhbFRpbWUsIHRydWUsIHRydWUpO1xuICAgIHR3ZWVuLl9vblVwZGF0ZSAmJiAhc3VwcHJlc3NFdmVudHMgJiYgX2NhbGxiYWNrKHR3ZWVuLCBcIm9uVXBkYXRlXCIpO1xuICAgIHRUaW1lICYmIHR3ZWVuLl9yZXBlYXQgJiYgIXN1cHByZXNzRXZlbnRzICYmIHR3ZWVuLnBhcmVudCAmJiBfY2FsbGJhY2sodHdlZW4sIFwib25SZXBlYXRcIik7XG5cbiAgICBpZiAoKHRvdGFsVGltZSA+PSB0d2Vlbi5fdER1ciB8fCB0b3RhbFRpbWUgPCAwKSAmJiB0d2Vlbi5yYXRpbyA9PT0gcmF0aW8pIHtcbiAgICAgIHJhdGlvICYmIF9yZW1vdmVGcm9tUGFyZW50KHR3ZWVuLCAxKTtcblxuICAgICAgaWYgKCFzdXBwcmVzc0V2ZW50cykge1xuICAgICAgICBfY2FsbGJhY2sodHdlZW4sIHJhdGlvID8gXCJvbkNvbXBsZXRlXCIgOiBcIm9uUmV2ZXJzZUNvbXBsZXRlXCIsIHRydWUpO1xuXG4gICAgICAgIHR3ZWVuLl9wcm9tICYmIHR3ZWVuLl9wcm9tKCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKCF0d2Vlbi5felRpbWUpIHtcbiAgICB0d2Vlbi5felRpbWUgPSB0b3RhbFRpbWU7XG4gIH1cbn0sXG4gICAgX2ZpbmROZXh0UGF1c2VUd2VlbiA9IGZ1bmN0aW9uIF9maW5kTmV4dFBhdXNlVHdlZW4oYW5pbWF0aW9uLCBwcmV2VGltZSwgdGltZSkge1xuICB2YXIgY2hpbGQ7XG5cbiAgaWYgKHRpbWUgPiBwcmV2VGltZSkge1xuICAgIGNoaWxkID0gYW5pbWF0aW9uLl9maXJzdDtcblxuICAgIHdoaWxlIChjaGlsZCAmJiBjaGlsZC5fc3RhcnQgPD0gdGltZSkge1xuICAgICAgaWYgKCFjaGlsZC5fZHVyICYmIGNoaWxkLmRhdGEgPT09IFwiaXNQYXVzZVwiICYmIGNoaWxkLl9zdGFydCA+IHByZXZUaW1lKSB7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH1cblxuICAgICAgY2hpbGQgPSBjaGlsZC5fbmV4dDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2hpbGQgPSBhbmltYXRpb24uX2xhc3Q7XG5cbiAgICB3aGlsZSAoY2hpbGQgJiYgY2hpbGQuX3N0YXJ0ID49IHRpbWUpIHtcbiAgICAgIGlmICghY2hpbGQuX2R1ciAmJiBjaGlsZC5kYXRhID09PSBcImlzUGF1c2VcIiAmJiBjaGlsZC5fc3RhcnQgPCBwcmV2VGltZSkge1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9XG5cbiAgICAgIGNoaWxkID0gY2hpbGQuX3ByZXY7XG4gICAgfVxuICB9XG59LFxuICAgIF9zZXREdXJhdGlvbiA9IGZ1bmN0aW9uIF9zZXREdXJhdGlvbihhbmltYXRpb24sIGR1cmF0aW9uLCBza2lwVW5jYWNoZSwgbGVhdmVQbGF5aGVhZCkge1xuICB2YXIgcmVwZWF0ID0gYW5pbWF0aW9uLl9yZXBlYXQsXG4gICAgICBkdXIgPSBfcm91bmQoZHVyYXRpb24pIHx8IDAsXG4gICAgICB0b3RhbFByb2dyZXNzID0gYW5pbWF0aW9uLl90VGltZSAvIGFuaW1hdGlvbi5fdER1cjtcbiAgdG90YWxQcm9ncmVzcyAmJiAhbGVhdmVQbGF5aGVhZCAmJiAoYW5pbWF0aW9uLl90aW1lICo9IGR1ciAvIGFuaW1hdGlvbi5fZHVyKTtcbiAgYW5pbWF0aW9uLl9kdXIgPSBkdXI7XG4gIGFuaW1hdGlvbi5fdER1ciA9ICFyZXBlYXQgPyBkdXIgOiByZXBlYXQgPCAwID8gMWUxMCA6IF9yb3VuZChkdXIgKiAocmVwZWF0ICsgMSkgKyBhbmltYXRpb24uX3JEZWxheSAqIHJlcGVhdCk7XG4gIHRvdGFsUHJvZ3Jlc3MgJiYgIWxlYXZlUGxheWhlYWQgPyBfYWxpZ25QbGF5aGVhZChhbmltYXRpb24sIGFuaW1hdGlvbi5fdFRpbWUgPSBhbmltYXRpb24uX3REdXIgKiB0b3RhbFByb2dyZXNzKSA6IGFuaW1hdGlvbi5wYXJlbnQgJiYgX3NldEVuZChhbmltYXRpb24pO1xuICBza2lwVW5jYWNoZSB8fCBfdW5jYWNoZShhbmltYXRpb24ucGFyZW50LCBhbmltYXRpb24pO1xuICByZXR1cm4gYW5pbWF0aW9uO1xufSxcbiAgICBfb25VcGRhdGVUb3RhbER1cmF0aW9uID0gZnVuY3Rpb24gX29uVXBkYXRlVG90YWxEdXJhdGlvbihhbmltYXRpb24pIHtcbiAgcmV0dXJuIGFuaW1hdGlvbiBpbnN0YW5jZW9mIFRpbWVsaW5lID8gX3VuY2FjaGUoYW5pbWF0aW9uKSA6IF9zZXREdXJhdGlvbihhbmltYXRpb24sIGFuaW1hdGlvbi5fZHVyKTtcbn0sXG4gICAgX3plcm9Qb3NpdGlvbiA9IHtcbiAgX3N0YXJ0OiAwLFxuICBlbmRUaW1lOiBfZW1wdHlGdW5jXG59LFxuICAgIF9wYXJzZVBvc2l0aW9uID0gZnVuY3Rpb24gX3BhcnNlUG9zaXRpb24oYW5pbWF0aW9uLCBwb3NpdGlvbikge1xuICB2YXIgbGFiZWxzID0gYW5pbWF0aW9uLmxhYmVscyxcbiAgICAgIHJlY2VudCA9IGFuaW1hdGlvbi5fcmVjZW50IHx8IF96ZXJvUG9zaXRpb24sXG4gICAgICBjbGlwcGVkRHVyYXRpb24gPSBhbmltYXRpb24uZHVyYXRpb24oKSA+PSBfYmlnTnVtID8gcmVjZW50LmVuZFRpbWUoZmFsc2UpIDogYW5pbWF0aW9uLl9kdXIsXG4gICAgICAvL2luIGNhc2UgdGhlcmUncyBhIGNoaWxkIHRoYXQgaW5maW5pdGVseSByZXBlYXRzLCB1c2VycyBhbG1vc3QgbmV2ZXIgaW50ZW5kIGZvciB0aGUgaW5zZXJ0aW9uIHBvaW50IG9mIGEgbmV3IGNoaWxkIHRvIGJlIGJhc2VkIG9uIGEgU1VQRVIgbG9uZyB2YWx1ZSBsaWtlIHRoYXQgc28gd2UgY2xpcCBpdCBhbmQgYXNzdW1lIHRoZSBtb3N0IHJlY2VudGx5LWFkZGVkIGNoaWxkJ3MgZW5kVGltZSBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxuICBpLFxuICAgICAgb2Zmc2V0O1xuXG4gIGlmIChfaXNTdHJpbmcocG9zaXRpb24pICYmIChpc05hTihwb3NpdGlvbikgfHwgcG9zaXRpb24gaW4gbGFiZWxzKSkge1xuICAgIC8vaWYgdGhlIHN0cmluZyBpcyBhIG51bWJlciBsaWtlIFwiMVwiLCBjaGVjayB0byBzZWUgaWYgdGhlcmUncyBhIGxhYmVsIHdpdGggdGhhdCBuYW1lLCBvdGhlcndpc2UgaW50ZXJwcmV0IGl0IGFzIGEgbnVtYmVyIChhYnNvbHV0ZSB2YWx1ZSkuXG4gICAgaSA9IHBvc2l0aW9uLmNoYXJBdCgwKTtcblxuICAgIGlmIChpID09PSBcIjxcIiB8fCBpID09PSBcIj5cIikge1xuICAgICAgcmV0dXJuIChpID09PSBcIjxcIiA/IHJlY2VudC5fc3RhcnQgOiByZWNlbnQuZW5kVGltZShyZWNlbnQuX3JlcGVhdCA+PSAwKSkgKyAocGFyc2VGbG9hdChwb3NpdGlvbi5zdWJzdHIoMSkpIHx8IDApO1xuICAgIH1cblxuICAgIGkgPSBwb3NpdGlvbi5pbmRleE9mKFwiPVwiKTtcblxuICAgIGlmIChpIDwgMCkge1xuICAgICAgcG9zaXRpb24gaW4gbGFiZWxzIHx8IChsYWJlbHNbcG9zaXRpb25dID0gY2xpcHBlZER1cmF0aW9uKTtcbiAgICAgIHJldHVybiBsYWJlbHNbcG9zaXRpb25dO1xuICAgIH1cblxuICAgIG9mZnNldCA9ICsocG9zaXRpb24uY2hhckF0KGkgLSAxKSArIHBvc2l0aW9uLnN1YnN0cihpICsgMSkpO1xuICAgIHJldHVybiBpID4gMSA/IF9wYXJzZVBvc2l0aW9uKGFuaW1hdGlvbiwgcG9zaXRpb24uc3Vic3RyKDAsIGkgLSAxKSkgKyBvZmZzZXQgOiBjbGlwcGVkRHVyYXRpb24gKyBvZmZzZXQ7XG4gIH1cblxuICByZXR1cm4gcG9zaXRpb24gPT0gbnVsbCA/IGNsaXBwZWREdXJhdGlvbiA6ICtwb3NpdGlvbjtcbn0sXG4gICAgX2NvbmRpdGlvbmFsUmV0dXJuID0gZnVuY3Rpb24gX2NvbmRpdGlvbmFsUmV0dXJuKHZhbHVlLCBmdW5jKSB7XG4gIHJldHVybiB2YWx1ZSB8fCB2YWx1ZSA9PT0gMCA/IGZ1bmModmFsdWUpIDogZnVuYztcbn0sXG4gICAgX2NsYW1wID0gZnVuY3Rpb24gX2NsYW1wKG1pbiwgbWF4LCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlO1xufSxcbiAgICBnZXRVbml0ID0gZnVuY3Rpb24gZ2V0VW5pdCh2YWx1ZSkge1xuICByZXR1cm4gKHZhbHVlID0gKHZhbHVlICsgXCJcIikuc3Vic3RyKChwYXJzZUZsb2F0KHZhbHVlKSArIFwiXCIpLmxlbmd0aCkpICYmIGlzTmFOKHZhbHVlKSA/IHZhbHVlIDogXCJcIjtcbn0sXG4gICAgLy8gbm90ZTogcHJvdGVjdCBhZ2FpbnN0IHBhZGRlZCBudW1iZXJzIGFzIHN0cmluZ3MsIGxpa2UgXCIxMDAuMTAwXCIuIFRoYXQgc2hvdWxkbid0IHJldHVybiBcIjAwXCIgYXMgdGhlIHVuaXQuIElmIGl0J3MgbnVtZXJpYywgcmV0dXJuIG5vIHVuaXQuXG5jbGFtcCA9IGZ1bmN0aW9uIGNsYW1wKG1pbiwgbWF4LCB2YWx1ZSkge1xuICByZXR1cm4gX2NvbmRpdGlvbmFsUmV0dXJuKHZhbHVlLCBmdW5jdGlvbiAodikge1xuICAgIHJldHVybiBfY2xhbXAobWluLCBtYXgsIHYpO1xuICB9KTtcbn0sXG4gICAgX3NsaWNlID0gW10uc2xpY2UsXG4gICAgX2lzQXJyYXlMaWtlID0gZnVuY3Rpb24gX2lzQXJyYXlMaWtlKHZhbHVlLCBub25FbXB0eSkge1xuICByZXR1cm4gdmFsdWUgJiYgX2lzT2JqZWN0KHZhbHVlKSAmJiBcImxlbmd0aFwiIGluIHZhbHVlICYmICghbm9uRW1wdHkgJiYgIXZhbHVlLmxlbmd0aCB8fCB2YWx1ZS5sZW5ndGggLSAxIGluIHZhbHVlICYmIF9pc09iamVjdCh2YWx1ZVswXSkpICYmICF2YWx1ZS5ub2RlVHlwZSAmJiB2YWx1ZSAhPT0gX3dpbjtcbn0sXG4gICAgX2ZsYXR0ZW4gPSBmdW5jdGlvbiBfZmxhdHRlbihhciwgbGVhdmVTdHJpbmdzLCBhY2N1bXVsYXRvcikge1xuICBpZiAoYWNjdW11bGF0b3IgPT09IHZvaWQgMCkge1xuICAgIGFjY3VtdWxhdG9yID0gW107XG4gIH1cblxuICByZXR1cm4gYXIuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgX2FjY3VtdWxhdG9yO1xuXG4gICAgcmV0dXJuIF9pc1N0cmluZyh2YWx1ZSkgJiYgIWxlYXZlU3RyaW5ncyB8fCBfaXNBcnJheUxpa2UodmFsdWUsIDEpID8gKF9hY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yKS5wdXNoLmFwcGx5KF9hY2N1bXVsYXRvciwgdG9BcnJheSh2YWx1ZSkpIDogYWNjdW11bGF0b3IucHVzaCh2YWx1ZSk7XG4gIH0pIHx8IGFjY3VtdWxhdG9yO1xufSxcbiAgICAvL3Rha2VzIGFueSB2YWx1ZSBhbmQgcmV0dXJucyBhbiBhcnJheS4gSWYgaXQncyBhIHN0cmluZyAoYW5kIGxlYXZlU3RyaW5ncyBpc24ndCB0cnVlKSwgaXQnbGwgdXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoKSBhbmQgY29udmVydCB0aGF0IHRvIGFuIGFycmF5LiBJdCdsbCBhbHNvIGFjY2VwdCBpdGVyYWJsZXMgbGlrZSBqUXVlcnkgb2JqZWN0cy5cbnRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5KHZhbHVlLCBsZWF2ZVN0cmluZ3MpIHtcbiAgcmV0dXJuIF9pc1N0cmluZyh2YWx1ZSkgJiYgIWxlYXZlU3RyaW5ncyAmJiAoX2NvcmVJbml0dGVkIHx8ICFfd2FrZSgpKSA/IF9zbGljZS5jYWxsKF9kb2MucXVlcnlTZWxlY3RvckFsbCh2YWx1ZSksIDApIDogX2lzQXJyYXkodmFsdWUpID8gX2ZsYXR0ZW4odmFsdWUsIGxlYXZlU3RyaW5ncykgOiBfaXNBcnJheUxpa2UodmFsdWUpID8gX3NsaWNlLmNhbGwodmFsdWUsIDApIDogdmFsdWUgPyBbdmFsdWVdIDogW107XG59LFxuICAgIHNodWZmbGUgPSBmdW5jdGlvbiBzaHVmZmxlKGEpIHtcbiAgcmV0dXJuIGEuc29ydChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIC41IC0gTWF0aC5yYW5kb20oKTtcbiAgfSk7XG59LFxuICAgIC8vIGFsdGVybmF0aXZlIHRoYXQncyBhIGJpdCBmYXN0ZXIgYW5kIG1vcmUgcmVsaWFibHkgZGl2ZXJzZSBidXQgYmlnZ2VyOiAgIGZvciAobGV0IGosIHYsIGkgPSBhLmxlbmd0aDsgaTsgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGkpLCB2ID0gYVstLWldLCBhW2ldID0gYVtqXSwgYVtqXSA9IHYpOyByZXR1cm4gYTtcbi8vZm9yIGRpc3RyaWJ1dGluZyB2YWx1ZXMgYWNyb3NzIGFuIGFycmF5LiBDYW4gYWNjZXB0IGEgbnVtYmVyLCBhIGZ1bmN0aW9uIG9yIChtb3N0IGNvbW1vbmx5KSBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoge2Jhc2UsIGFtb3VudCwgZnJvbSwgZWFzZSwgZ3JpZCwgYXhpcywgbGVuZ3RoLCBlYWNofS4gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgZXhwZWN0cyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6IGluZGV4LCB0YXJnZXQsIGFycmF5LiBSZWNvZ25pemVzIHRoZSBmb2xsb3dpbmdcbmRpc3RyaWJ1dGUgPSBmdW5jdGlvbiBkaXN0cmlidXRlKHYpIHtcbiAgaWYgKF9pc0Z1bmN0aW9uKHYpKSB7XG4gICAgcmV0dXJuIHY7XG4gIH1cblxuICB2YXIgdmFycyA9IF9pc09iamVjdCh2KSA/IHYgOiB7XG4gICAgZWFjaDogdlxuICB9LFxuICAgICAgLy9uOjEgaXMganVzdCB0byBpbmRpY2F0ZSB2IHdhcyBhIG51bWJlcjsgd2UgbGV2ZXJhZ2UgdGhhdCBsYXRlciB0byBzZXQgdiBhY2NvcmRpbmcgdG8gdGhlIGxlbmd0aCB3ZSBnZXQuIElmIGEgbnVtYmVyIGlzIHBhc3NlZCBpbiwgd2UgdHJlYXQgaXQgbGlrZSB0aGUgb2xkIHN0YWdnZXIgdmFsdWUgd2hlcmUgMC4xLCBmb3IgZXhhbXBsZSwgd291bGQgbWVhbiB0aGF0IHRoaW5ncyB3b3VsZCBiZSBkaXN0cmlidXRlZCB3aXRoIDAuMSBiZXR3ZWVuIGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXkgcmF0aGVyIHRoYW4gYSB0b3RhbCBcImFtb3VudFwiIHRoYXQncyBjaHVua2VkIG91dCBhbW9uZyB0aGVtIGFsbC5cbiAgZWFzZSA9IF9wYXJzZUVhc2UodmFycy5lYXNlKSxcbiAgICAgIGZyb20gPSB2YXJzLmZyb20gfHwgMCxcbiAgICAgIGJhc2UgPSBwYXJzZUZsb2F0KHZhcnMuYmFzZSkgfHwgMCxcbiAgICAgIGNhY2hlID0ge30sXG4gICAgICBpc0RlY2ltYWwgPSBmcm9tID4gMCAmJiBmcm9tIDwgMSxcbiAgICAgIHJhdGlvcyA9IGlzTmFOKGZyb20pIHx8IGlzRGVjaW1hbCxcbiAgICAgIGF4aXMgPSB2YXJzLmF4aXMsXG4gICAgICByYXRpb1ggPSBmcm9tLFxuICAgICAgcmF0aW9ZID0gZnJvbTtcblxuICBpZiAoX2lzU3RyaW5nKGZyb20pKSB7XG4gICAgcmF0aW9YID0gcmF0aW9ZID0ge1xuICAgICAgY2VudGVyOiAuNSxcbiAgICAgIGVkZ2VzOiAuNSxcbiAgICAgIGVuZDogMVxuICAgIH1bZnJvbV0gfHwgMDtcbiAgfSBlbHNlIGlmICghaXNEZWNpbWFsICYmIHJhdGlvcykge1xuICAgIHJhdGlvWCA9IGZyb21bMF07XG4gICAgcmF0aW9ZID0gZnJvbVsxXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoaSwgdGFyZ2V0LCBhKSB7XG4gICAgdmFyIGwgPSAoYSB8fCB2YXJzKS5sZW5ndGgsXG4gICAgICAgIGRpc3RhbmNlcyA9IGNhY2hlW2xdLFxuICAgICAgICBvcmlnaW5YLFxuICAgICAgICBvcmlnaW5ZLFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBkLFxuICAgICAgICBqLFxuICAgICAgICBtYXgsXG4gICAgICAgIG1pbixcbiAgICAgICAgd3JhcEF0O1xuXG4gICAgaWYgKCFkaXN0YW5jZXMpIHtcbiAgICAgIHdyYXBBdCA9IHZhcnMuZ3JpZCA9PT0gXCJhdXRvXCIgPyAwIDogKHZhcnMuZ3JpZCB8fCBbMSwgX2JpZ051bV0pWzFdO1xuXG4gICAgICBpZiAoIXdyYXBBdCkge1xuICAgICAgICBtYXggPSAtX2JpZ051bTtcblxuICAgICAgICB3aGlsZSAobWF4IDwgKG1heCA9IGFbd3JhcEF0KytdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpICYmIHdyYXBBdCA8IGwpIHt9XG5cbiAgICAgICAgd3JhcEF0LS07XG4gICAgICB9XG5cbiAgICAgIGRpc3RhbmNlcyA9IGNhY2hlW2xdID0gW107XG4gICAgICBvcmlnaW5YID0gcmF0aW9zID8gTWF0aC5taW4od3JhcEF0LCBsKSAqIHJhdGlvWCAtIC41IDogZnJvbSAlIHdyYXBBdDtcbiAgICAgIG9yaWdpblkgPSByYXRpb3MgPyBsICogcmF0aW9ZIC8gd3JhcEF0IC0gLjUgOiBmcm9tIC8gd3JhcEF0IHwgMDtcbiAgICAgIG1heCA9IDA7XG4gICAgICBtaW4gPSBfYmlnTnVtO1xuXG4gICAgICBmb3IgKGogPSAwOyBqIDwgbDsgaisrKSB7XG4gICAgICAgIHggPSBqICUgd3JhcEF0IC0gb3JpZ2luWDtcbiAgICAgICAgeSA9IG9yaWdpblkgLSAoaiAvIHdyYXBBdCB8IDApO1xuICAgICAgICBkaXN0YW5jZXNbal0gPSBkID0gIWF4aXMgPyBfc3FydCh4ICogeCArIHkgKiB5KSA6IE1hdGguYWJzKGF4aXMgPT09IFwieVwiID8geSA6IHgpO1xuICAgICAgICBkID4gbWF4ICYmIChtYXggPSBkKTtcbiAgICAgICAgZCA8IG1pbiAmJiAobWluID0gZCk7XG4gICAgICB9XG5cbiAgICAgIGZyb20gPT09IFwicmFuZG9tXCIgJiYgc2h1ZmZsZShkaXN0YW5jZXMpO1xuICAgICAgZGlzdGFuY2VzLm1heCA9IG1heCAtIG1pbjtcbiAgICAgIGRpc3RhbmNlcy5taW4gPSBtaW47XG4gICAgICBkaXN0YW5jZXMudiA9IGwgPSAocGFyc2VGbG9hdCh2YXJzLmFtb3VudCkgfHwgcGFyc2VGbG9hdCh2YXJzLmVhY2gpICogKHdyYXBBdCA+IGwgPyBsIC0gMSA6ICFheGlzID8gTWF0aC5tYXgod3JhcEF0LCBsIC8gd3JhcEF0KSA6IGF4aXMgPT09IFwieVwiID8gbCAvIHdyYXBBdCA6IHdyYXBBdCkgfHwgMCkgKiAoZnJvbSA9PT0gXCJlZGdlc1wiID8gLTEgOiAxKTtcbiAgICAgIGRpc3RhbmNlcy5iID0gbCA8IDAgPyBiYXNlIC0gbCA6IGJhc2U7XG4gICAgICBkaXN0YW5jZXMudSA9IGdldFVuaXQodmFycy5hbW91bnQgfHwgdmFycy5lYWNoKSB8fCAwOyAvL3VuaXRcblxuICAgICAgZWFzZSA9IGVhc2UgJiYgbCA8IDAgPyBfaW52ZXJ0RWFzZShlYXNlKSA6IGVhc2U7XG4gICAgfVxuXG4gICAgbCA9IChkaXN0YW5jZXNbaV0gLSBkaXN0YW5jZXMubWluKSAvIGRpc3RhbmNlcy5tYXggfHwgMDtcbiAgICByZXR1cm4gX3JvdW5kKGRpc3RhbmNlcy5iICsgKGVhc2UgPyBlYXNlKGwpIDogbCkgKiBkaXN0YW5jZXMudikgKyBkaXN0YW5jZXMudTsgLy9yb3VuZCBpbiBvcmRlciB0byB3b3JrIGFyb3VuZCBmbG9hdGluZyBwb2ludCBlcnJvcnNcbiAgfTtcbn0sXG4gICAgX3JvdW5kTW9kaWZpZXIgPSBmdW5jdGlvbiBfcm91bmRNb2RpZmllcih2KSB7XG4gIC8vcGFzcyBpbiAwLjEgZ2V0IGEgZnVuY3Rpb24gdGhhdCdsbCByb3VuZCB0byB0aGUgbmVhcmVzdCB0ZW50aCwgb3IgNSB0byByb3VuZCB0byB0aGUgY2xvc2VzdCA1LCBvciAwLjAwMSB0byB0aGUgY2xvc2VzdCAxMDAwdGgsIGV0Yy5cbiAgdmFyIHAgPSB2IDwgMSA/IE1hdGgucG93KDEwLCAodiArIFwiXCIpLmxlbmd0aCAtIDIpIDogMTsgLy90byBhdm9pZCBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAobGlrZSAyNCAqIDAuMSA9PSAyLjQwMDAwMDAwMDAwMDAwMDQpLCB3ZSBjaG9wIG9mZiBhdCBhIHNwZWNpZmljIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyAobXVjaCBmYXN0ZXIgdGhhbiB0b0ZpeGVkKClcblxuICByZXR1cm4gZnVuY3Rpb24gKHJhdykge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucm91bmQocGFyc2VGbG9hdChyYXcpIC8gdikgKiB2ICogcCkgLyBwICsgKF9pc051bWJlcihyYXcpID8gMCA6IGdldFVuaXQocmF3KSk7XG4gIH07XG59LFxuICAgIHNuYXAgPSBmdW5jdGlvbiBzbmFwKHNuYXBUbywgdmFsdWUpIHtcbiAgdmFyIGlzQXJyYXkgPSBfaXNBcnJheShzbmFwVG8pLFxuICAgICAgcmFkaXVzLFxuICAgICAgaXMyRDtcblxuICBpZiAoIWlzQXJyYXkgJiYgX2lzT2JqZWN0KHNuYXBUbykpIHtcbiAgICByYWRpdXMgPSBpc0FycmF5ID0gc25hcFRvLnJhZGl1cyB8fCBfYmlnTnVtO1xuXG4gICAgaWYgKHNuYXBUby52YWx1ZXMpIHtcbiAgICAgIHNuYXBUbyA9IHRvQXJyYXkoc25hcFRvLnZhbHVlcyk7XG5cbiAgICAgIGlmIChpczJEID0gIV9pc051bWJlcihzbmFwVG9bMF0pKSB7XG4gICAgICAgIHJhZGl1cyAqPSByYWRpdXM7IC8vcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHNvIHdlIGRvbid0IGhhdmUgdG8gTWF0aC5zcXJ0KCkgaW4gdGhlIGxvb3AuXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYXBUbyA9IF9yb3VuZE1vZGlmaWVyKHNuYXBUby5pbmNyZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfY29uZGl0aW9uYWxSZXR1cm4odmFsdWUsICFpc0FycmF5ID8gX3JvdW5kTW9kaWZpZXIoc25hcFRvKSA6IF9pc0Z1bmN0aW9uKHNuYXBUbykgPyBmdW5jdGlvbiAocmF3KSB7XG4gICAgaXMyRCA9IHNuYXBUbyhyYXcpO1xuICAgIHJldHVybiBNYXRoLmFicyhpczJEIC0gcmF3KSA8PSByYWRpdXMgPyBpczJEIDogcmF3O1xuICB9IDogZnVuY3Rpb24gKHJhdykge1xuICAgIHZhciB4ID0gcGFyc2VGbG9hdChpczJEID8gcmF3LnggOiByYXcpLFxuICAgICAgICB5ID0gcGFyc2VGbG9hdChpczJEID8gcmF3LnkgOiAwKSxcbiAgICAgICAgbWluID0gX2JpZ051bSxcbiAgICAgICAgY2xvc2VzdCA9IDAsXG4gICAgICAgIGkgPSBzbmFwVG8ubGVuZ3RoLFxuICAgICAgICBkeCxcbiAgICAgICAgZHk7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBpZiAoaXMyRCkge1xuICAgICAgICBkeCA9IHNuYXBUb1tpXS54IC0geDtcbiAgICAgICAgZHkgPSBzbmFwVG9baV0ueSAtIHk7XG4gICAgICAgIGR4ID0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkeCA9IE1hdGguYWJzKHNuYXBUb1tpXSAtIHgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZHggPCBtaW4pIHtcbiAgICAgICAgbWluID0gZHg7XG4gICAgICAgIGNsb3Nlc3QgPSBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNsb3Nlc3QgPSAhcmFkaXVzIHx8IG1pbiA8PSByYWRpdXMgPyBzbmFwVG9bY2xvc2VzdF0gOiByYXc7XG4gICAgcmV0dXJuIGlzMkQgfHwgY2xvc2VzdCA9PT0gcmF3IHx8IF9pc051bWJlcihyYXcpID8gY2xvc2VzdCA6IGNsb3Nlc3QgKyBnZXRVbml0KHJhdyk7XG4gIH0pO1xufSxcbiAgICByYW5kb20gPSBmdW5jdGlvbiByYW5kb20obWluLCBtYXgsIHJvdW5kaW5nSW5jcmVtZW50LCByZXR1cm5GdW5jdGlvbikge1xuICByZXR1cm4gX2NvbmRpdGlvbmFsUmV0dXJuKF9pc0FycmF5KG1pbikgPyAhbWF4IDogcm91bmRpbmdJbmNyZW1lbnQgPT09IHRydWUgPyAhIShyb3VuZGluZ0luY3JlbWVudCA9IDApIDogIXJldHVybkZ1bmN0aW9uLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9pc0FycmF5KG1pbikgPyBtaW5bfn4oTWF0aC5yYW5kb20oKSAqIG1pbi5sZW5ndGgpXSA6IChyb3VuZGluZ0luY3JlbWVudCA9IHJvdW5kaW5nSW5jcmVtZW50IHx8IDFlLTUpICYmIChyZXR1cm5GdW5jdGlvbiA9IHJvdW5kaW5nSW5jcmVtZW50IDwgMSA/IE1hdGgucG93KDEwLCAocm91bmRpbmdJbmNyZW1lbnQgKyBcIlwiKS5sZW5ndGggLSAyKSA6IDEpICYmIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgobWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSAvIHJvdW5kaW5nSW5jcmVtZW50KSAqIHJvdW5kaW5nSW5jcmVtZW50ICogcmV0dXJuRnVuY3Rpb24pIC8gcmV0dXJuRnVuY3Rpb247XG4gIH0pO1xufSxcbiAgICBwaXBlID0gZnVuY3Rpb24gcGlwZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmN0aW9ucyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jdGlvbnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKHYsIGYpIHtcbiAgICAgIHJldHVybiBmKHYpO1xuICAgIH0sIHZhbHVlKTtcbiAgfTtcbn0sXG4gICAgdW5pdGl6ZSA9IGZ1bmN0aW9uIHVuaXRpemUoZnVuYywgdW5pdCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmMocGFyc2VGbG9hdCh2YWx1ZSkpICsgKHVuaXQgfHwgZ2V0VW5pdCh2YWx1ZSkpO1xuICB9O1xufSxcbiAgICBub3JtYWxpemUgPSBmdW5jdGlvbiBub3JtYWxpemUobWluLCBtYXgsIHZhbHVlKSB7XG4gIHJldHVybiBtYXBSYW5nZShtaW4sIG1heCwgMCwgMSwgdmFsdWUpO1xufSxcbiAgICBfd3JhcEFycmF5ID0gZnVuY3Rpb24gX3dyYXBBcnJheShhLCB3cmFwcGVyLCB2YWx1ZSkge1xuICByZXR1cm4gX2NvbmRpdGlvbmFsUmV0dXJuKHZhbHVlLCBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gYVt+fndyYXBwZXIoaW5kZXgpXTtcbiAgfSk7XG59LFxuICAgIHdyYXAgPSBmdW5jdGlvbiB3cmFwKG1pbiwgbWF4LCB2YWx1ZSkge1xuICAvLyBOT1RFOiB3cmFwKCkgQ0FOTk9UIGJlIGFuIGFycm93IGZ1bmN0aW9uISBBIHZlcnkgb2RkIGNvbXBpbGluZyBidWcgY2F1c2VzIHByb2JsZW1zICh1bnJlbGF0ZWQgdG8gR1NBUCkuXG4gIHZhciByYW5nZSA9IG1heCAtIG1pbjtcbiAgcmV0dXJuIF9pc0FycmF5KG1pbikgPyBfd3JhcEFycmF5KG1pbiwgd3JhcCgwLCBtaW4ubGVuZ3RoKSwgbWF4KSA6IF9jb25kaXRpb25hbFJldHVybih2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIChyYW5nZSArICh2YWx1ZSAtIG1pbikgJSByYW5nZSkgJSByYW5nZSArIG1pbjtcbiAgfSk7XG59LFxuICAgIHdyYXBZb3lvID0gZnVuY3Rpb24gd3JhcFlveW8obWluLCBtYXgsIHZhbHVlKSB7XG4gIHZhciByYW5nZSA9IG1heCAtIG1pbixcbiAgICAgIHRvdGFsID0gcmFuZ2UgKiAyO1xuICByZXR1cm4gX2lzQXJyYXkobWluKSA/IF93cmFwQXJyYXkobWluLCB3cmFwWW95bygwLCBtaW4ubGVuZ3RoIC0gMSksIG1heCkgOiBfY29uZGl0aW9uYWxSZXR1cm4odmFsdWUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhbHVlID0gKHRvdGFsICsgKHZhbHVlIC0gbWluKSAlIHRvdGFsKSAlIHRvdGFsIHx8IDA7XG4gICAgcmV0dXJuIG1pbiArICh2YWx1ZSA+IHJhbmdlID8gdG90YWwgLSB2YWx1ZSA6IHZhbHVlKTtcbiAgfSk7XG59LFxuICAgIF9yZXBsYWNlUmFuZG9tID0gZnVuY3Rpb24gX3JlcGxhY2VSYW5kb20odmFsdWUpIHtcbiAgLy9yZXBsYWNlcyBhbGwgb2NjdXJyZW5jZXMgb2YgcmFuZG9tKC4uLikgaW4gYSBzdHJpbmcgd2l0aCB0aGUgY2FsY3VsYXRlZCByYW5kb20gdmFsdWUuIGNhbiBiZSBhIHJhbmdlIGxpa2UgcmFuZG9tKC0xMDAsIDEwMCwgNSkgb3IgYW4gYXJyYXkgbGlrZSByYW5kb20oWzAsIDEwMCwgNTAwXSlcbiAgdmFyIHByZXYgPSAwLFxuICAgICAgcyA9IFwiXCIsXG4gICAgICBpLFxuICAgICAgbnVtcyxcbiAgICAgIGVuZCxcbiAgICAgIGlzQXJyYXk7XG5cbiAgd2hpbGUgKH4oaSA9IHZhbHVlLmluZGV4T2YoXCJyYW5kb20oXCIsIHByZXYpKSkge1xuICAgIGVuZCA9IHZhbHVlLmluZGV4T2YoXCIpXCIsIGkpO1xuICAgIGlzQXJyYXkgPSB2YWx1ZS5jaGFyQXQoaSArIDcpID09PSBcIltcIjtcbiAgICBudW1zID0gdmFsdWUuc3Vic3RyKGkgKyA3LCBlbmQgLSBpIC0gNykubWF0Y2goaXNBcnJheSA/IF9kZWxpbWl0ZWRWYWx1ZUV4cCA6IF9zdHJpY3ROdW1FeHApO1xuICAgIHMgKz0gdmFsdWUuc3Vic3RyKHByZXYsIGkgLSBwcmV2KSArIHJhbmRvbShpc0FycmF5ID8gbnVtcyA6ICtudW1zWzBdLCBpc0FycmF5ID8gMCA6ICtudW1zWzFdLCArbnVtc1syXSB8fCAxZS01KTtcbiAgICBwcmV2ID0gZW5kICsgMTtcbiAgfVxuXG4gIHJldHVybiBzICsgdmFsdWUuc3Vic3RyKHByZXYsIHZhbHVlLmxlbmd0aCAtIHByZXYpO1xufSxcbiAgICBtYXBSYW5nZSA9IGZ1bmN0aW9uIG1hcFJhbmdlKGluTWluLCBpbk1heCwgb3V0TWluLCBvdXRNYXgsIHZhbHVlKSB7XG4gIHZhciBpblJhbmdlID0gaW5NYXggLSBpbk1pbixcbiAgICAgIG91dFJhbmdlID0gb3V0TWF4IC0gb3V0TWluO1xuICByZXR1cm4gX2NvbmRpdGlvbmFsUmV0dXJuKHZhbHVlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gb3V0TWluICsgKCh2YWx1ZSAtIGluTWluKSAvIGluUmFuZ2UgKiBvdXRSYW5nZSB8fCAwKTtcbiAgfSk7XG59LFxuICAgIGludGVycG9sYXRlID0gZnVuY3Rpb24gaW50ZXJwb2xhdGUoc3RhcnQsIGVuZCwgcHJvZ3Jlc3MsIG11dGF0ZSkge1xuICB2YXIgZnVuYyA9IGlzTmFOKHN0YXJ0ICsgZW5kKSA/IDAgOiBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAoMSAtIHApICogc3RhcnQgKyBwICogZW5kO1xuICB9O1xuXG4gIGlmICghZnVuYykge1xuICAgIHZhciBpc1N0cmluZyA9IF9pc1N0cmluZyhzdGFydCksXG4gICAgICAgIG1hc3RlciA9IHt9LFxuICAgICAgICBwLFxuICAgICAgICBpLFxuICAgICAgICBpbnRlcnBvbGF0b3JzLFxuICAgICAgICBsLFxuICAgICAgICBpbDtcblxuICAgIHByb2dyZXNzID09PSB0cnVlICYmIChtdXRhdGUgPSAxKSAmJiAocHJvZ3Jlc3MgPSBudWxsKTtcblxuICAgIGlmIChpc1N0cmluZykge1xuICAgICAgc3RhcnQgPSB7XG4gICAgICAgIHA6IHN0YXJ0XG4gICAgICB9O1xuICAgICAgZW5kID0ge1xuICAgICAgICBwOiBlbmRcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChfaXNBcnJheShzdGFydCkgJiYgIV9pc0FycmF5KGVuZCkpIHtcbiAgICAgIGludGVycG9sYXRvcnMgPSBbXTtcbiAgICAgIGwgPSBzdGFydC5sZW5ndGg7XG4gICAgICBpbCA9IGwgLSAyO1xuXG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGludGVycG9sYXRvcnMucHVzaChpbnRlcnBvbGF0ZShzdGFydFtpIC0gMV0sIHN0YXJ0W2ldKSk7IC8vYnVpbGQgdGhlIGludGVycG9sYXRvcnMgdXAgZnJvbnQgYXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gc28gdGhhdCB3aGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgbWFueSB0aW1lcywgaXQgY2FuIGp1c3QgcmV1c2UgdGhlbS5cbiAgICAgIH1cblxuICAgICAgbC0tO1xuXG4gICAgICBmdW5jID0gZnVuY3Rpb24gZnVuYyhwKSB7XG4gICAgICAgIHAgKj0gbDtcbiAgICAgICAgdmFyIGkgPSBNYXRoLm1pbihpbCwgfn5wKTtcbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRvcnNbaV0ocCAtIGkpO1xuICAgICAgfTtcblxuICAgICAgcHJvZ3Jlc3MgPSBlbmQ7XG4gICAgfSBlbHNlIGlmICghbXV0YXRlKSB7XG4gICAgICBzdGFydCA9IF9tZXJnZShfaXNBcnJheShzdGFydCkgPyBbXSA6IHt9LCBzdGFydCk7XG4gICAgfVxuXG4gICAgaWYgKCFpbnRlcnBvbGF0b3JzKSB7XG4gICAgICBmb3IgKHAgaW4gZW5kKSB7XG4gICAgICAgIF9hZGRQcm9wVHdlZW4uY2FsbChtYXN0ZXIsIHN0YXJ0LCBwLCBcImdldFwiLCBlbmRbcF0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jID0gZnVuY3Rpb24gZnVuYyhwKSB7XG4gICAgICAgIHJldHVybiBfcmVuZGVyUHJvcFR3ZWVucyhwLCBtYXN0ZXIpIHx8IChpc1N0cmluZyA/IHN0YXJ0LnAgOiBzdGFydCk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfY29uZGl0aW9uYWxSZXR1cm4ocHJvZ3Jlc3MsIGZ1bmMpO1xufSxcbiAgICBfZ2V0TGFiZWxJbkRpcmVjdGlvbiA9IGZ1bmN0aW9uIF9nZXRMYWJlbEluRGlyZWN0aW9uKHRpbWVsaW5lLCBmcm9tVGltZSwgYmFja3dhcmQpIHtcbiAgLy91c2VkIGZvciBuZXh0TGFiZWwoKSBhbmQgcHJldmlvdXNMYWJlbCgpXG4gIHZhciBsYWJlbHMgPSB0aW1lbGluZS5sYWJlbHMsXG4gICAgICBtaW4gPSBfYmlnTnVtLFxuICAgICAgcCxcbiAgICAgIGRpc3RhbmNlLFxuICAgICAgbGFiZWw7XG5cbiAgZm9yIChwIGluIGxhYmVscykge1xuICAgIGRpc3RhbmNlID0gbGFiZWxzW3BdIC0gZnJvbVRpbWU7XG5cbiAgICBpZiAoZGlzdGFuY2UgPCAwID09PSAhIWJhY2t3YXJkICYmIGRpc3RhbmNlICYmIG1pbiA+IChkaXN0YW5jZSA9IE1hdGguYWJzKGRpc3RhbmNlKSkpIHtcbiAgICAgIGxhYmVsID0gcDtcbiAgICAgIG1pbiA9IGRpc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsYWJlbDtcbn0sXG4gICAgX2NhbGxiYWNrID0gZnVuY3Rpb24gX2NhbGxiYWNrKGFuaW1hdGlvbiwgdHlwZSwgZXhlY3V0ZUxhenlGaXJzdCkge1xuICB2YXIgdiA9IGFuaW1hdGlvbi52YXJzLFxuICAgICAgY2FsbGJhY2sgPSB2W3R5cGVdLFxuICAgICAgcGFyYW1zLFxuICAgICAgc2NvcGU7XG5cbiAgaWYgKCFjYWxsYmFjaykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHBhcmFtcyA9IHZbdHlwZSArIFwiUGFyYW1zXCJdO1xuICBzY29wZSA9IHYuY2FsbGJhY2tTY29wZSB8fCBhbmltYXRpb247XG4gIGV4ZWN1dGVMYXp5Rmlyc3QgJiYgX2xhenlUd2VlbnMubGVuZ3RoICYmIF9sYXp5UmVuZGVyKCk7IC8vaW4gY2FzZSByZW5kZXJpbmcgY2F1c2VkIGFueSB0d2VlbnMgdG8gbGF6eS1pbml0LCB3ZSBzaG91bGQgcmVuZGVyIHRoZW0gYmVjYXVzZSB0eXBpY2FsbHkgd2hlbiBhIHRpbWVsaW5lIGZpbmlzaGVzLCB1c2VycyBleHBlY3QgdGhpbmdzIHRvIGhhdmUgcmVuZGVyZWQgZnVsbHkuIEltYWdpbmUgYW4gb25VcGRhdGUgb24gYSB0aW1lbGluZSB0aGF0IHJlcG9ydHMvY2hlY2tzIHR3ZWVuZWQgdmFsdWVzLlxuXG4gIHJldHVybiBwYXJhbXMgPyBjYWxsYmFjay5hcHBseShzY29wZSwgcGFyYW1zKSA6IGNhbGxiYWNrLmNhbGwoc2NvcGUpO1xufSxcbiAgICBfaW50ZXJydXB0ID0gZnVuY3Rpb24gX2ludGVycnVwdChhbmltYXRpb24pIHtcbiAgX3JlbW92ZUZyb21QYXJlbnQoYW5pbWF0aW9uKTtcblxuICBhbmltYXRpb24ucHJvZ3Jlc3MoKSA8IDEgJiYgX2NhbGxiYWNrKGFuaW1hdGlvbiwgXCJvbkludGVycnVwdFwiKTtcbiAgcmV0dXJuIGFuaW1hdGlvbjtcbn0sXG4gICAgX3F1aWNrVHdlZW4sXG4gICAgX2NyZWF0ZVBsdWdpbiA9IGZ1bmN0aW9uIF9jcmVhdGVQbHVnaW4oY29uZmlnKSB7XG4gIGNvbmZpZyA9ICFjb25maWcubmFtZSAmJiBjb25maWdbXCJkZWZhdWx0XCJdIHx8IGNvbmZpZzsgLy9VTUQgcGFja2FnaW5nIHdyYXBzIHRoaW5ncyBvZGRseSwgc28gZm9yIGV4YW1wbGUgTW90aW9uUGF0aEhlbHBlciBiZWNvbWVzIHtNb3Rpb25QYXRoSGVscGVyOk1vdGlvblBhdGhIZWxwZXIsIGRlZmF1bHQ6TW90aW9uUGF0aEhlbHBlcn0uXG5cbiAgdmFyIG5hbWUgPSBjb25maWcubmFtZSxcbiAgICAgIGlzRnVuYyA9IF9pc0Z1bmN0aW9uKGNvbmZpZyksXG4gICAgICBQbHVnaW4gPSBuYW1lICYmICFpc0Z1bmMgJiYgY29uZmlnLmluaXQgPyBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fcHJvcHMgPSBbXTtcbiAgfSA6IGNvbmZpZyxcbiAgICAgIC8vaW4gY2FzZSBzb21lb25lIHBhc3NlcyBpbiBhbiBvYmplY3QgdGhhdCdzIG5vdCBhIHBsdWdpbiwgbGlrZSBDdXN0b21FYXNlXG4gIGluc3RhbmNlRGVmYXVsdHMgPSB7XG4gICAgaW5pdDogX2VtcHR5RnVuYyxcbiAgICByZW5kZXI6IF9yZW5kZXJQcm9wVHdlZW5zLFxuICAgIGFkZDogX2FkZFByb3BUd2VlbixcbiAgICBraWxsOiBfa2lsbFByb3BUd2VlbnNPZixcbiAgICBtb2RpZmllcjogX2FkZFBsdWdpbk1vZGlmaWVyLFxuICAgIHJhd1ZhcnM6IDBcbiAgfSxcbiAgICAgIHN0YXRpY3MgPSB7XG4gICAgdGFyZ2V0VGVzdDogMCxcbiAgICBnZXQ6IDAsXG4gICAgZ2V0U2V0dGVyOiBfZ2V0U2V0dGVyLFxuICAgIGFsaWFzZXM6IHt9LFxuICAgIHJlZ2lzdGVyOiAwXG4gIH07XG5cbiAgX3dha2UoKTtcblxuICBpZiAoY29uZmlnICE9PSBQbHVnaW4pIHtcbiAgICBpZiAoX3BsdWdpbnNbbmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBfc2V0RGVmYXVsdHMoUGx1Z2luLCBfc2V0RGVmYXVsdHMoX2NvcHlFeGNsdWRpbmcoY29uZmlnLCBpbnN0YW5jZURlZmF1bHRzKSwgc3RhdGljcykpOyAvL3N0YXRpYyBtZXRob2RzXG5cblxuICAgIF9tZXJnZShQbHVnaW4ucHJvdG90eXBlLCBfbWVyZ2UoaW5zdGFuY2VEZWZhdWx0cywgX2NvcHlFeGNsdWRpbmcoY29uZmlnLCBzdGF0aWNzKSkpOyAvL2luc3RhbmNlIG1ldGhvZHNcblxuXG4gICAgX3BsdWdpbnNbUGx1Z2luLnByb3AgPSBuYW1lXSA9IFBsdWdpbjtcblxuICAgIGlmIChjb25maWcudGFyZ2V0VGVzdCkge1xuICAgICAgX2hhcm5lc3NQbHVnaW5zLnB1c2goUGx1Z2luKTtcblxuICAgICAgX3Jlc2VydmVkUHJvcHNbbmFtZV0gPSAxO1xuICAgIH1cblxuICAgIG5hbWUgPSAobmFtZSA9PT0gXCJjc3NcIiA/IFwiQ1NTXCIgOiBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHIoMSkpICsgXCJQbHVnaW5cIjsgLy9mb3IgdGhlIGdsb2JhbCBuYW1lLiBcIm1vdGlvblBhdGhcIiBzaG91bGQgYmVjb21lIE1vdGlvblBhdGhQbHVnaW5cbiAgfVxuXG4gIF9hZGRHbG9iYWwobmFtZSwgUGx1Z2luKTtcblxuICBjb25maWcucmVnaXN0ZXIgJiYgY29uZmlnLnJlZ2lzdGVyKGdzYXAsIFBsdWdpbiwgUHJvcFR3ZWVuKTtcbn0sXG5cbi8qXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ09MT1JTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5fMjU1ID0gMjU1LFxuICAgIF9jb2xvckxvb2t1cCA9IHtcbiAgYXF1YTogWzAsIF8yNTUsIF8yNTVdLFxuICBsaW1lOiBbMCwgXzI1NSwgMF0sXG4gIHNpbHZlcjogWzE5MiwgMTkyLCAxOTJdLFxuICBibGFjazogWzAsIDAsIDBdLFxuICBtYXJvb246IFsxMjgsIDAsIDBdLFxuICB0ZWFsOiBbMCwgMTI4LCAxMjhdLFxuICBibHVlOiBbMCwgMCwgXzI1NV0sXG4gIG5hdnk6IFswLCAwLCAxMjhdLFxuICB3aGl0ZTogW18yNTUsIF8yNTUsIF8yNTVdLFxuICBvbGl2ZTogWzEyOCwgMTI4LCAwXSxcbiAgeWVsbG93OiBbXzI1NSwgXzI1NSwgMF0sXG4gIG9yYW5nZTogW18yNTUsIDE2NSwgMF0sXG4gIGdyYXk6IFsxMjgsIDEyOCwgMTI4XSxcbiAgcHVycGxlOiBbMTI4LCAwLCAxMjhdLFxuICBncmVlbjogWzAsIDEyOCwgMF0sXG4gIHJlZDogW18yNTUsIDAsIDBdLFxuICBwaW5rOiBbXzI1NSwgMTkyLCAyMDNdLFxuICBjeWFuOiBbMCwgXzI1NSwgXzI1NV0sXG4gIHRyYW5zcGFyZW50OiBbXzI1NSwgXzI1NSwgXzI1NSwgMF1cbn0sXG4gICAgX2h1ZSA9IGZ1bmN0aW9uIF9odWUoaCwgbTEsIG0yKSB7XG4gIGggPSBoIDwgMCA/IGggKyAxIDogaCA+IDEgPyBoIC0gMSA6IGg7XG4gIHJldHVybiAoaCAqIDYgPCAxID8gbTEgKyAobTIgLSBtMSkgKiBoICogNiA6IGggPCAuNSA/IG0yIDogaCAqIDMgPCAyID8gbTEgKyAobTIgLSBtMSkgKiAoMiAvIDMgLSBoKSAqIDYgOiBtMSkgKiBfMjU1ICsgLjUgfCAwO1xufSxcbiAgICBzcGxpdENvbG9yID0gZnVuY3Rpb24gc3BsaXRDb2xvcih2LCB0b0hTTCwgZm9yY2VBbHBoYSkge1xuICB2YXIgYSA9ICF2ID8gX2NvbG9yTG9va3VwLmJsYWNrIDogX2lzTnVtYmVyKHYpID8gW3YgPj4gMTYsIHYgPj4gOCAmIF8yNTUsIHYgJiBfMjU1XSA6IDAsXG4gICAgICByLFxuICAgICAgZyxcbiAgICAgIGIsXG4gICAgICBoLFxuICAgICAgcyxcbiAgICAgIGwsXG4gICAgICBtYXgsXG4gICAgICBtaW4sXG4gICAgICBkLFxuICAgICAgd2FzSFNMO1xuXG4gIGlmICghYSkge1xuICAgIGlmICh2LnN1YnN0cigtMSkgPT09IFwiLFwiKSB7XG4gICAgICAvL3NvbWV0aW1lcyBhIHRyYWlsaW5nIGNvbW1hIGlzIGluY2x1ZGVkIGFuZCB3ZSBzaG91bGQgY2hvcCBpdCBvZmYgKHR5cGljYWxseSBmcm9tIGEgY29tbWEtZGVsaW1pdGVkIGxpc3Qgb2YgdmFsdWVzIGxpa2UgYSB0ZXh0U2hhZG93OlwiMnB4IDJweCAycHggYmx1ZSwgNXB4IDVweCA1cHggcmdiKDI1NSwwLDApXCIgLSBpbiB0aGlzIGV4YW1wbGUgXCJibHVlLFwiIGhhcyBhIHRyYWlsaW5nIGNvbW1hLiBXZSBjb3VsZCBzdHJpcCBpdCBvdXQgaW5zaWRlIHBhcnNlQ29tcGxleCgpIGJ1dCB3ZSdkIG5lZWQgdG8gZG8gaXQgdG8gdGhlIGJlZ2lubmluZyBhbmQgZW5kaW5nIHZhbHVlcyBwbHVzIGl0IHdvdWxkbid0IHByb3ZpZGUgcHJvdGVjdGlvbiBmcm9tIG90aGVyIHBvdGVudGlhbCBzY2VuYXJpb3MgbGlrZSBpZiB0aGUgdXNlciBwYXNzZXMgaW4gYSBzaW1pbGFyIHZhbHVlLlxuICAgICAgdiA9IHYuc3Vic3RyKDAsIHYubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgaWYgKF9jb2xvckxvb2t1cFt2XSkge1xuICAgICAgYSA9IF9jb2xvckxvb2t1cFt2XTtcbiAgICB9IGVsc2UgaWYgKHYuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgaWYgKHYubGVuZ3RoID09PSA0KSB7XG4gICAgICAgIC8vZm9yIHNob3J0aGFuZCBsaWtlICM5RjBcbiAgICAgICAgciA9IHYuY2hhckF0KDEpO1xuICAgICAgICBnID0gdi5jaGFyQXQoMik7XG4gICAgICAgIGIgPSB2LmNoYXJBdCgzKTtcbiAgICAgICAgdiA9IFwiI1wiICsgciArIHIgKyBnICsgZyArIGIgKyBiO1xuICAgICAgfVxuXG4gICAgICB2ID0gcGFyc2VJbnQodi5zdWJzdHIoMSksIDE2KTtcbiAgICAgIGEgPSBbdiA+PiAxNiwgdiA+PiA4ICYgXzI1NSwgdiAmIF8yNTVdO1xuICAgIH0gZWxzZSBpZiAodi5zdWJzdHIoMCwgMykgPT09IFwiaHNsXCIpIHtcbiAgICAgIGEgPSB3YXNIU0wgPSB2Lm1hdGNoKF9zdHJpY3ROdW1FeHApO1xuXG4gICAgICBpZiAoIXRvSFNMKSB7XG4gICAgICAgIGggPSArYVswXSAlIDM2MCAvIDM2MDtcbiAgICAgICAgcyA9ICthWzFdIC8gMTAwO1xuICAgICAgICBsID0gK2FbMl0gLyAxMDA7XG4gICAgICAgIGcgPSBsIDw9IC41ID8gbCAqIChzICsgMSkgOiBsICsgcyAtIGwgKiBzO1xuICAgICAgICByID0gbCAqIDIgLSBnO1xuICAgICAgICBhLmxlbmd0aCA+IDMgJiYgKGFbM10gKj0gMSk7IC8vY2FzdCBhcyBudW1iZXJcblxuICAgICAgICBhWzBdID0gX2h1ZShoICsgMSAvIDMsIHIsIGcpO1xuICAgICAgICBhWzFdID0gX2h1ZShoLCByLCBnKTtcbiAgICAgICAgYVsyXSA9IF9odWUoaCAtIDEgLyAzLCByLCBnKTtcbiAgICAgIH0gZWxzZSBpZiAofnYuaW5kZXhPZihcIj1cIikpIHtcbiAgICAgICAgLy9pZiByZWxhdGl2ZSB2YWx1ZXMgYXJlIGZvdW5kLCBqdXN0IHJldHVybiB0aGUgcmF3IHN0cmluZ3Mgd2l0aCB0aGUgcmVsYXRpdmUgcHJlZml4ZXMgaW4gcGxhY2UuXG4gICAgICAgIGEgPSB2Lm1hdGNoKF9udW1FeHApO1xuICAgICAgICBmb3JjZUFscGhhICYmIGEubGVuZ3RoIDwgNCAmJiAoYVszXSA9IDEpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYSA9IHYubWF0Y2goX3N0cmljdE51bUV4cCkgfHwgX2NvbG9yTG9va3VwLnRyYW5zcGFyZW50O1xuICAgIH1cblxuICAgIGEgPSBhLm1hcChOdW1iZXIpO1xuICB9XG5cbiAgaWYgKHRvSFNMICYmICF3YXNIU0wpIHtcbiAgICByID0gYVswXSAvIF8yNTU7XG4gICAgZyA9IGFbMV0gLyBfMjU1O1xuICAgIGIgPSBhWzJdIC8gXzI1NTtcbiAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICBsID0gKG1heCArIG1pbikgLyAyO1xuXG4gICAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgICBoID0gcyA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGQgPSBtYXggLSBtaW47XG4gICAgICBzID0gbCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbik7XG4gICAgICBoID0gbWF4ID09PSByID8gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCkgOiBtYXggPT09IGcgPyAoYiAtIHIpIC8gZCArIDIgOiAociAtIGcpIC8gZCArIDQ7XG4gICAgICBoICo9IDYwO1xuICAgIH1cblxuICAgIGFbMF0gPSB+fihoICsgLjUpO1xuICAgIGFbMV0gPSB+fihzICogMTAwICsgLjUpO1xuICAgIGFbMl0gPSB+fihsICogMTAwICsgLjUpO1xuICB9XG5cbiAgZm9yY2VBbHBoYSAmJiBhLmxlbmd0aCA8IDQgJiYgKGFbM10gPSAxKTtcbiAgcmV0dXJuIGE7XG59LFxuICAgIF9jb2xvck9yZGVyRGF0YSA9IGZ1bmN0aW9uIF9jb2xvck9yZGVyRGF0YSh2KSB7XG4gIC8vIHN0cmlwcyBvdXQgdGhlIGNvbG9ycyBmcm9tIHRoZSBzdHJpbmcsIGZpbmRzIGFsbCB0aGUgbnVtZXJpYyBzbG90cyAod2l0aCB1bml0cykgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhvc2UuIFRoZSBBcnJheSBhbHNvIGhhcyBhIFwiY1wiIHByb3BlcnR5IHdoaWNoIGlzIGFuIEFycmF5IG9mIHRoZSBpbmRleCB2YWx1ZXMgd2hlcmUgdGhlIGNvbG9ycyBiZWxvbmcuIFRoaXMgaXMgdG8gaGVscCB3b3JrIGFyb3VuZCBpc3N1ZXMgd2hlcmUgdGhlcmUncyBhIG1pcy1tYXRjaGVkIG9yZGVyIG9mIGNvbG9yL251bWVyaWMgZGF0YSBsaWtlIGRyb3Atc2hhZG93KCNmMDAgMHB4IDFweCAycHgpIGFuZCBkcm9wLXNoYWRvdygweCAxcHggMnB4ICNmMDApLiBUaGlzIGlzIGJhc2ljYWxseSBhIGhlbHBlciBmdW5jdGlvbiB1c2VkIGluIF9mb3JtYXRDb2xvcnMoKVxuICB2YXIgdmFsdWVzID0gW10sXG4gICAgICBjID0gW10sXG4gICAgICBpID0gLTE7XG4gIHYuc3BsaXQoX2NvbG9yRXhwKS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgdmFyIGEgPSB2Lm1hdGNoKF9udW1XaXRoVW5pdEV4cCkgfHwgW107XG4gICAgdmFsdWVzLnB1c2guYXBwbHkodmFsdWVzLCBhKTtcbiAgICBjLnB1c2goaSArPSBhLmxlbmd0aCArIDEpO1xuICB9KTtcbiAgdmFsdWVzLmMgPSBjO1xuICByZXR1cm4gdmFsdWVzO1xufSxcbiAgICBfZm9ybWF0Q29sb3JzID0gZnVuY3Rpb24gX2Zvcm1hdENvbG9ycyhzLCB0b0hTTCwgb3JkZXJNYXRjaERhdGEpIHtcbiAgdmFyIHJlc3VsdCA9IFwiXCIsXG4gICAgICBjb2xvcnMgPSAocyArIHJlc3VsdCkubWF0Y2goX2NvbG9yRXhwKSxcbiAgICAgIHR5cGUgPSB0b0hTTCA/IFwiaHNsYShcIiA6IFwicmdiYShcIixcbiAgICAgIGkgPSAwLFxuICAgICAgYyxcbiAgICAgIHNoZWxsLFxuICAgICAgZCxcbiAgICAgIGw7XG5cbiAgaWYgKCFjb2xvcnMpIHtcbiAgICByZXR1cm4gcztcbiAgfVxuXG4gIGNvbG9ycyA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgcmV0dXJuIChjb2xvciA9IHNwbGl0Q29sb3IoY29sb3IsIHRvSFNMLCAxKSkgJiYgdHlwZSArICh0b0hTTCA/IGNvbG9yWzBdICsgXCIsXCIgKyBjb2xvclsxXSArIFwiJSxcIiArIGNvbG9yWzJdICsgXCIlLFwiICsgY29sb3JbM10gOiBjb2xvci5qb2luKFwiLFwiKSkgKyBcIilcIjtcbiAgfSk7XG5cbiAgaWYgKG9yZGVyTWF0Y2hEYXRhKSB7XG4gICAgZCA9IF9jb2xvck9yZGVyRGF0YShzKTtcbiAgICBjID0gb3JkZXJNYXRjaERhdGEuYztcblxuICAgIGlmIChjLmpvaW4ocmVzdWx0KSAhPT0gZC5jLmpvaW4ocmVzdWx0KSkge1xuICAgICAgc2hlbGwgPSBzLnJlcGxhY2UoX2NvbG9yRXhwLCBcIjFcIikuc3BsaXQoX251bVdpdGhVbml0RXhwKTtcbiAgICAgIGwgPSBzaGVsbC5sZW5ndGggLSAxO1xuXG4gICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICByZXN1bHQgKz0gc2hlbGxbaV0gKyAofmMuaW5kZXhPZihpKSA/IGNvbG9ycy5zaGlmdCgpIHx8IHR5cGUgKyBcIjAsMCwwLDApXCIgOiAoZC5sZW5ndGggPyBkIDogY29sb3JzLmxlbmd0aCA/IGNvbG9ycyA6IG9yZGVyTWF0Y2hEYXRhKS5zaGlmdCgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoIXNoZWxsKSB7XG4gICAgc2hlbGwgPSBzLnNwbGl0KF9jb2xvckV4cCk7XG4gICAgbCA9IHNoZWxsLmxlbmd0aCAtIDE7XG5cbiAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgcmVzdWx0ICs9IHNoZWxsW2ldICsgY29sb3JzW2ldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQgKyBzaGVsbFtsXTtcbn0sXG4gICAgX2NvbG9yRXhwID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcyA9IFwiKD86XFxcXGIoPzooPzpyZ2J8cmdiYXxoc2x8aHNsYSlcXFxcKC4rP1xcXFwpKXxcXFxcQiMoPzpbMC05YS1mXXszfSl7MSwyfVxcXFxiXCIsXG4gICAgICAvL3dlJ2xsIGR5bmFtaWNhbGx5IGJ1aWxkIHRoaXMgUmVndWxhciBFeHByZXNzaW9uIHRvIGNvbnNlcnZlIGZpbGUgc2l6ZS4gQWZ0ZXIgYnVpbGRpbmcgaXQsIGl0IHdpbGwgYmUgYWJsZSB0byBmaW5kIHJnYigpLCByZ2JhKCksICMgKGhleGFkZWNpbWFsKSwgYW5kIG5hbWVkIGNvbG9yIHZhbHVlcyBsaWtlIHJlZCwgYmx1ZSwgcHVycGxlLCBldGMuLFxuICBwO1xuXG4gIGZvciAocCBpbiBfY29sb3JMb29rdXApIHtcbiAgICBzICs9IFwifFwiICsgcCArIFwiXFxcXGJcIjtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVnRXhwKHMgKyBcIilcIiwgXCJnaVwiKTtcbn0oKSxcbiAgICBfaHNsRXhwID0gL2hzbFthXT9cXCgvLFxuICAgIF9jb2xvclN0cmluZ0ZpbHRlciA9IGZ1bmN0aW9uIF9jb2xvclN0cmluZ0ZpbHRlcihhKSB7XG4gIHZhciBjb21iaW5lZCA9IGEuam9pbihcIiBcIiksXG4gICAgICB0b0hTTDtcbiAgX2NvbG9yRXhwLmxhc3RJbmRleCA9IDA7XG5cbiAgaWYgKF9jb2xvckV4cC50ZXN0KGNvbWJpbmVkKSkge1xuICAgIHRvSFNMID0gX2hzbEV4cC50ZXN0KGNvbWJpbmVkKTtcbiAgICBhWzFdID0gX2Zvcm1hdENvbG9ycyhhWzFdLCB0b0hTTCk7XG4gICAgYVswXSA9IF9mb3JtYXRDb2xvcnMoYVswXSwgdG9IU0wsIF9jb2xvck9yZGVyRGF0YShhWzFdKSk7IC8vIG1ha2Ugc3VyZSB0aGUgb3JkZXIgb2YgbnVtYmVycy9jb2xvcnMgbWF0Y2ggd2l0aCB0aGUgRU5EIHZhbHVlLlxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0sXG5cbi8qXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVElDS0VSXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5fdGlja2VyQWN0aXZlLFxuICAgIF90aWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfZ2V0VGltZSA9IERhdGUubm93LFxuICAgICAgX2xhZ1RocmVzaG9sZCA9IDUwMCxcbiAgICAgIF9hZGp1c3RlZExhZyA9IDMzLFxuICAgICAgX3N0YXJ0VGltZSA9IF9nZXRUaW1lKCksXG4gICAgICBfbGFzdFVwZGF0ZSA9IF9zdGFydFRpbWUsXG4gICAgICBfZ2FwID0gMTAwMCAvIDI0MCxcbiAgICAgIF9uZXh0VGltZSA9IF9nYXAsXG4gICAgICBfbGlzdGVuZXJzID0gW10sXG4gICAgICBfaWQsXG4gICAgICBfcmVxLFxuICAgICAgX3JhZixcbiAgICAgIF9zZWxmLFxuICAgICAgX2RlbHRhLFxuICAgICAgX2ksXG4gICAgICBfdGljayA9IGZ1bmN0aW9uIF90aWNrKHYpIHtcbiAgICB2YXIgZWxhcHNlZCA9IF9nZXRUaW1lKCkgLSBfbGFzdFVwZGF0ZSxcbiAgICAgICAgbWFudWFsID0gdiA9PT0gdHJ1ZSxcbiAgICAgICAgb3ZlcmxhcCxcbiAgICAgICAgZGlzcGF0Y2gsXG4gICAgICAgIHRpbWUsXG4gICAgICAgIGZyYW1lO1xuXG4gICAgZWxhcHNlZCA+IF9sYWdUaHJlc2hvbGQgJiYgKF9zdGFydFRpbWUgKz0gZWxhcHNlZCAtIF9hZGp1c3RlZExhZyk7XG4gICAgX2xhc3RVcGRhdGUgKz0gZWxhcHNlZDtcbiAgICB0aW1lID0gX2xhc3RVcGRhdGUgLSBfc3RhcnRUaW1lO1xuICAgIG92ZXJsYXAgPSB0aW1lIC0gX25leHRUaW1lO1xuXG4gICAgaWYgKG92ZXJsYXAgPiAwIHx8IG1hbnVhbCkge1xuICAgICAgZnJhbWUgPSArK19zZWxmLmZyYW1lO1xuICAgICAgX2RlbHRhID0gdGltZSAtIF9zZWxmLnRpbWUgKiAxMDAwO1xuICAgICAgX3NlbGYudGltZSA9IHRpbWUgPSB0aW1lIC8gMTAwMDtcbiAgICAgIF9uZXh0VGltZSArPSBvdmVybGFwICsgKG92ZXJsYXAgPj0gX2dhcCA/IDQgOiBfZ2FwIC0gb3ZlcmxhcCk7XG4gICAgICBkaXNwYXRjaCA9IDE7XG4gICAgfVxuXG4gICAgbWFudWFsIHx8IChfaWQgPSBfcmVxKF90aWNrKSk7IC8vbWFrZSBzdXJlIHRoZSByZXF1ZXN0IGlzIG1hZGUgYmVmb3JlIHdlIGRpc3BhdGNoIHRoZSBcInRpY2tcIiBldmVudCBzbyB0aGF0IHRpbWluZyBpcyBtYWludGFpbmVkLiBPdGhlcndpc2UsIGlmIHByb2Nlc3NpbmcgdGhlIFwidGlja1wiIHJlcXVpcmVzIGEgYnVuY2ggb2YgdGltZSAobGlrZSAxNW1zKSBhbmQgd2UncmUgdXNpbmcgYSBzZXRUaW1lb3V0KCkgdGhhdCdzIGJhc2VkIG9uIDE2LjdtcywgaXQnZCB0ZWNobmljYWxseSB0YWtlIDMxLjdtcyBiZXR3ZWVuIGZyYW1lcyBvdGhlcndpc2UuXG5cbiAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgIGZvciAoX2kgPSAwOyBfaSA8IF9saXN0ZW5lcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIC8vIHVzZSBfaSBhbmQgY2hlY2sgX2xpc3RlbmVycy5sZW5ndGggaW5zdGVhZCBvZiBhIHZhcmlhYmxlIGJlY2F1c2UgYSBsaXN0ZW5lciBjb3VsZCBnZXQgcmVtb3ZlZCBkdXJpbmcgdGhlIGxvb3AsIGFuZCBpZiB0aGF0IGhhcHBlbnMgdG8gYW4gZWxlbWVudCBsZXNzIHRoYW4gdGhlIGN1cnJlbnQgaW5kZXgsIGl0J2QgdGhyb3cgdGhpbmdzIG9mZiBpbiB0aGUgbG9vcC5cbiAgICAgICAgX2xpc3RlbmVyc1tfaV0odGltZSwgX2RlbHRhLCBmcmFtZSwgdik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9zZWxmID0ge1xuICAgIHRpbWU6IDAsXG4gICAgZnJhbWU6IDAsXG4gICAgdGljazogZnVuY3Rpb24gdGljaygpIHtcbiAgICAgIF90aWNrKHRydWUpO1xuICAgIH0sXG4gICAgZGVsdGFSYXRpbzogZnVuY3Rpb24gZGVsdGFSYXRpbyhmcHMpIHtcbiAgICAgIHJldHVybiBfZGVsdGEgLyAoMTAwMCAvIChmcHMgfHwgNjApKTtcbiAgICB9LFxuICAgIHdha2U6IGZ1bmN0aW9uIHdha2UoKSB7XG4gICAgICBpZiAoX2NvcmVSZWFkeSkge1xuICAgICAgICBpZiAoIV9jb3JlSW5pdHRlZCAmJiBfd2luZG93RXhpc3RzKCkpIHtcbiAgICAgICAgICBfd2luID0gX2NvcmVJbml0dGVkID0gd2luZG93O1xuICAgICAgICAgIF9kb2MgPSBfd2luLmRvY3VtZW50IHx8IHt9O1xuICAgICAgICAgIF9nbG9iYWxzLmdzYXAgPSBnc2FwO1xuICAgICAgICAgIChfd2luLmdzYXBWZXJzaW9ucyB8fCAoX3dpbi5nc2FwVmVyc2lvbnMgPSBbXSkpLnB1c2goZ3NhcC52ZXJzaW9uKTtcblxuICAgICAgICAgIF9pbnN0YWxsKF9pbnN0YWxsU2NvcGUgfHwgX3dpbi5HcmVlblNvY2tHbG9iYWxzIHx8ICFfd2luLmdzYXAgJiYgX3dpbiB8fCB7fSk7XG5cbiAgICAgICAgICBfcmFmID0gX3dpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBfaWQgJiYgX3NlbGYuc2xlZXAoKTtcblxuICAgICAgICBfcmVxID0gX3JhZiB8fCBmdW5jdGlvbiAoZikge1xuICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGYsIF9uZXh0VGltZSAtIF9zZWxmLnRpbWUgKiAxMDAwICsgMSB8IDApO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aWNrZXJBY3RpdmUgPSAxO1xuXG4gICAgICAgIF90aWNrKDIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2xlZXA6IGZ1bmN0aW9uIHNsZWVwKCkge1xuICAgICAgKF9yYWYgPyBfd2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lIDogY2xlYXJUaW1lb3V0KShfaWQpO1xuICAgICAgX3RpY2tlckFjdGl2ZSA9IDA7XG4gICAgICBfcmVxID0gX2VtcHR5RnVuYztcbiAgICB9LFxuICAgIGxhZ1Ntb290aGluZzogZnVuY3Rpb24gbGFnU21vb3RoaW5nKHRocmVzaG9sZCwgYWRqdXN0ZWRMYWcpIHtcbiAgICAgIF9sYWdUaHJlc2hvbGQgPSB0aHJlc2hvbGQgfHwgMSAvIF90aW55TnVtOyAvL3plcm8gc2hvdWxkIGJlIGludGVycHJldGVkIGFzIGJhc2ljYWxseSB1bmxpbWl0ZWRcblxuICAgICAgX2FkanVzdGVkTGFnID0gTWF0aC5taW4oYWRqdXN0ZWRMYWcsIF9sYWdUaHJlc2hvbGQsIDApO1xuICAgIH0sXG4gICAgZnBzOiBmdW5jdGlvbiBmcHMoX2Zwcykge1xuICAgICAgX2dhcCA9IDEwMDAgLyAoX2ZwcyB8fCAyNDApO1xuICAgICAgX25leHRUaW1lID0gX3NlbGYudGltZSAqIDEwMDAgKyBfZ2FwO1xuICAgIH0sXG4gICAgYWRkOiBmdW5jdGlvbiBhZGQoY2FsbGJhY2spIHtcbiAgICAgIF9saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaykgPCAwICYmIF9saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG5cbiAgICAgIF93YWtlKCk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShjYWxsYmFjaykge1xuICAgICAgdmFyIGk7XG4gICAgICB+KGkgPSBfbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spKSAmJiBfbGlzdGVuZXJzLnNwbGljZShpLCAxKSAmJiBfaSA+PSBpICYmIF9pLS07XG4gICAgfSxcbiAgICBfbGlzdGVuZXJzOiBfbGlzdGVuZXJzXG4gIH07XG4gIHJldHVybiBfc2VsZjtcbn0oKSxcbiAgICBfd2FrZSA9IGZ1bmN0aW9uIF93YWtlKCkge1xuICByZXR1cm4gIV90aWNrZXJBY3RpdmUgJiYgX3RpY2tlci53YWtlKCk7XG59LFxuICAgIC8vYWxzbyBlbnN1cmVzIHRoZSBjb3JlIGNsYXNzZXMgYXJlIGluaXRpYWxpemVkLlxuXG4vKlxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIEVBU0lOR1xuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuX2Vhc2VNYXAgPSB7fSxcbiAgICBfY3VzdG9tRWFzZUV4cCA9IC9eW1xcZC5cXC1NXVtcXGQuXFwtLFxcc10vLFxuICAgIF9xdW90ZXNFeHAgPSAvW1wiJ10vZyxcbiAgICBfcGFyc2VPYmplY3RJblN0cmluZyA9IGZ1bmN0aW9uIF9wYXJzZU9iamVjdEluU3RyaW5nKHZhbHVlKSB7XG4gIC8vdGFrZXMgYSBzdHJpbmcgbGlrZSBcInt3aWdnbGVzOjEwLCB0eXBlOmFudGljaXBhdGV9KVwiIGFuZCB0dXJucyBpdCBpbnRvIGEgcmVhbCBvYmplY3QuIE5vdGljZSBpdCBlbmRzIGluIFwiKVwiIGFuZCBpbmNsdWRlcyB0aGUge30gd3JhcHBlcnMuIFRoaXMgaXMgYmVjYXVzZSB3ZSBvbmx5IHVzZSB0aGlzIGZ1bmN0aW9uIGZvciBwYXJzaW5nIGVhc2UgY29uZmlncyBhbmQgcHJpb3JpdGl6ZWQgb3B0aW1pemF0aW9uIHJhdGhlciB0aGFuIHJldXNhYmlsaXR5LlxuICB2YXIgb2JqID0ge30sXG4gICAgICBzcGxpdCA9IHZhbHVlLnN1YnN0cigxLCB2YWx1ZS5sZW5ndGggLSAzKS5zcGxpdChcIjpcIiksXG4gICAgICBrZXkgPSBzcGxpdFswXSxcbiAgICAgIGkgPSAxLFxuICAgICAgbCA9IHNwbGl0Lmxlbmd0aCxcbiAgICAgIGluZGV4LFxuICAgICAgdmFsLFxuICAgICAgcGFyc2VkVmFsO1xuXG4gIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFsID0gc3BsaXRbaV07XG4gICAgaW5kZXggPSBpICE9PSBsIC0gMSA/IHZhbC5sYXN0SW5kZXhPZihcIixcIikgOiB2YWwubGVuZ3RoO1xuICAgIHBhcnNlZFZhbCA9IHZhbC5zdWJzdHIoMCwgaW5kZXgpO1xuICAgIG9ialtrZXldID0gaXNOYU4ocGFyc2VkVmFsKSA/IHBhcnNlZFZhbC5yZXBsYWNlKF9xdW90ZXNFeHAsIFwiXCIpLnRyaW0oKSA6ICtwYXJzZWRWYWw7XG4gICAga2V5ID0gdmFsLnN1YnN0cihpbmRleCArIDEpLnRyaW0oKTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59LFxuICAgIF92YWx1ZUluUGFyZW50aGVzZXMgPSBmdW5jdGlvbiBfdmFsdWVJblBhcmVudGhlc2VzKHZhbHVlKSB7XG4gIHZhciBvcGVuID0gdmFsdWUuaW5kZXhPZihcIihcIikgKyAxLFxuICAgICAgY2xvc2UgPSB2YWx1ZS5pbmRleE9mKFwiKVwiKSxcbiAgICAgIG5lc3RlZCA9IHZhbHVlLmluZGV4T2YoXCIoXCIsIG9wZW4pO1xuICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKG9wZW4sIH5uZXN0ZWQgJiYgbmVzdGVkIDwgY2xvc2UgPyB2YWx1ZS5pbmRleE9mKFwiKVwiLCBjbG9zZSArIDEpIDogY2xvc2UpO1xufSxcbiAgICBfY29uZmlnRWFzZUZyb21TdHJpbmcgPSBmdW5jdGlvbiBfY29uZmlnRWFzZUZyb21TdHJpbmcobmFtZSkge1xuICAvL25hbWUgY2FuIGJlIGEgc3RyaW5nIGxpa2UgXCJlbGFzdGljLm91dCgxLDAuNSlcIiwgYW5kIHBhc3MgaW4gX2Vhc2VNYXAgYXMgb2JqIGFuZCBpdCdsbCBwYXJzZSBpdCBvdXQgYW5kIGNhbGwgdGhlIGFjdHVhbCBmdW5jdGlvbiBsaWtlIF9lYXNlTWFwLkVsYXN0aWMuZWFzZU91dC5jb25maWcoMSwwLjUpLiBJdCB3aWxsIGFsc28gcGFyc2UgY3VzdG9tIGVhc2Ugc3RyaW5ncyBhcyBsb25nIGFzIEN1c3RvbUVhc2UgaXMgbG9hZGVkIGFuZCByZWdpc3RlcmVkIChpbnRlcm5hbGx5IGFzIF9lYXNlTWFwLl9DRSkuXG4gIHZhciBzcGxpdCA9IChuYW1lICsgXCJcIikuc3BsaXQoXCIoXCIpLFxuICAgICAgZWFzZSA9IF9lYXNlTWFwW3NwbGl0WzBdXTtcbiAgcmV0dXJuIGVhc2UgJiYgc3BsaXQubGVuZ3RoID4gMSAmJiBlYXNlLmNvbmZpZyA/IGVhc2UuY29uZmlnLmFwcGx5KG51bGwsIH5uYW1lLmluZGV4T2YoXCJ7XCIpID8gW19wYXJzZU9iamVjdEluU3RyaW5nKHNwbGl0WzFdKV0gOiBfdmFsdWVJblBhcmVudGhlc2VzKG5hbWUpLnNwbGl0KFwiLFwiKS5tYXAoX251bWVyaWNJZlBvc3NpYmxlKSkgOiBfZWFzZU1hcC5fQ0UgJiYgX2N1c3RvbUVhc2VFeHAudGVzdChuYW1lKSA/IF9lYXNlTWFwLl9DRShcIlwiLCBuYW1lKSA6IGVhc2U7XG59LFxuICAgIF9pbnZlcnRFYXNlID0gZnVuY3Rpb24gX2ludmVydEVhc2UoZWFzZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gMSAtIGVhc2UoMSAtIHApO1xuICB9O1xufSxcbiAgICAvLyBhbGxvdyB5b3lvRWFzZSB0byBiZSBzZXQgaW4gY2hpbGRyZW4gYW5kIGhhdmUgdGhvc2UgYWZmZWN0ZWQgd2hlbiB0aGUgcGFyZW50L2FuY2VzdG9yIHRpbWVsaW5lIHlveW9zLlxuX3Byb3BhZ2F0ZVlveW9FYXNlID0gZnVuY3Rpb24gX3Byb3BhZ2F0ZVlveW9FYXNlKHRpbWVsaW5lLCBpc1lveW8pIHtcbiAgdmFyIGNoaWxkID0gdGltZWxpbmUuX2ZpcnN0LFxuICAgICAgZWFzZTtcblxuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUaW1lbGluZSkge1xuICAgICAgX3Byb3BhZ2F0ZVlveW9FYXNlKGNoaWxkLCBpc1lveW8pO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudmFycy55b3lvRWFzZSAmJiAoIWNoaWxkLl95b3lvIHx8ICFjaGlsZC5fcmVwZWF0KSAmJiBjaGlsZC5feW95byAhPT0gaXNZb3lvKSB7XG4gICAgICBpZiAoY2hpbGQudGltZWxpbmUpIHtcbiAgICAgICAgX3Byb3BhZ2F0ZVlveW9FYXNlKGNoaWxkLnRpbWVsaW5lLCBpc1lveW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWFzZSA9IGNoaWxkLl9lYXNlO1xuICAgICAgICBjaGlsZC5fZWFzZSA9IGNoaWxkLl95RWFzZTtcbiAgICAgICAgY2hpbGQuX3lFYXNlID0gZWFzZTtcbiAgICAgICAgY2hpbGQuX3lveW8gPSBpc1lveW87XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2hpbGQgPSBjaGlsZC5fbmV4dDtcbiAgfVxufSxcbiAgICBfcGFyc2VFYXNlID0gZnVuY3Rpb24gX3BhcnNlRWFzZShlYXNlLCBkZWZhdWx0RWFzZSkge1xuICByZXR1cm4gIWVhc2UgPyBkZWZhdWx0RWFzZSA6IChfaXNGdW5jdGlvbihlYXNlKSA/IGVhc2UgOiBfZWFzZU1hcFtlYXNlXSB8fCBfY29uZmlnRWFzZUZyb21TdHJpbmcoZWFzZSkpIHx8IGRlZmF1bHRFYXNlO1xufSxcbiAgICBfaW5zZXJ0RWFzZSA9IGZ1bmN0aW9uIF9pbnNlcnRFYXNlKG5hbWVzLCBlYXNlSW4sIGVhc2VPdXQsIGVhc2VJbk91dCkge1xuICBpZiAoZWFzZU91dCA9PT0gdm9pZCAwKSB7XG4gICAgZWFzZU91dCA9IGZ1bmN0aW9uIGVhc2VPdXQocCkge1xuICAgICAgcmV0dXJuIDEgLSBlYXNlSW4oMSAtIHApO1xuICAgIH07XG4gIH1cblxuICBpZiAoZWFzZUluT3V0ID09PSB2b2lkIDApIHtcbiAgICBlYXNlSW5PdXQgPSBmdW5jdGlvbiBlYXNlSW5PdXQocCkge1xuICAgICAgcmV0dXJuIHAgPCAuNSA/IGVhc2VJbihwICogMikgLyAyIDogMSAtIGVhc2VJbigoMSAtIHApICogMikgLyAyO1xuICAgIH07XG4gIH1cblxuICB2YXIgZWFzZSA9IHtcbiAgICBlYXNlSW46IGVhc2VJbixcbiAgICBlYXNlT3V0OiBlYXNlT3V0LFxuICAgIGVhc2VJbk91dDogZWFzZUluT3V0XG4gIH0sXG4gICAgICBsb3dlcmNhc2VOYW1lO1xuXG4gIF9mb3JFYWNoTmFtZShuYW1lcywgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBfZWFzZU1hcFtuYW1lXSA9IF9nbG9iYWxzW25hbWVdID0gZWFzZTtcbiAgICBfZWFzZU1hcFtsb3dlcmNhc2VOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpXSA9IGVhc2VPdXQ7XG5cbiAgICBmb3IgKHZhciBwIGluIGVhc2UpIHtcbiAgICAgIF9lYXNlTWFwW2xvd2VyY2FzZU5hbWUgKyAocCA9PT0gXCJlYXNlSW5cIiA/IFwiLmluXCIgOiBwID09PSBcImVhc2VPdXRcIiA/IFwiLm91dFwiIDogXCIuaW5PdXRcIildID0gX2Vhc2VNYXBbbmFtZSArIFwiLlwiICsgcF0gPSBlYXNlW3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGVhc2U7XG59LFxuICAgIF9lYXNlSW5PdXRGcm9tT3V0ID0gZnVuY3Rpb24gX2Vhc2VJbk91dEZyb21PdXQoZWFzZU91dCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcCA8IC41ID8gKDEgLSBlYXNlT3V0KDEgLSBwICogMikpIC8gMiA6IC41ICsgZWFzZU91dCgocCAtIC41KSAqIDIpIC8gMjtcbiAgfTtcbn0sXG4gICAgX2NvbmZpZ0VsYXN0aWMgPSBmdW5jdGlvbiBfY29uZmlnRWxhc3RpYyh0eXBlLCBhbXBsaXR1ZGUsIHBlcmlvZCkge1xuICB2YXIgcDEgPSBhbXBsaXR1ZGUgPj0gMSA/IGFtcGxpdHVkZSA6IDEsXG4gICAgICAvL25vdGU6IGlmIGFtcGxpdHVkZSBpcyA8IDEsIHdlIHNpbXBseSBhZGp1c3QgdGhlIHBlcmlvZCBmb3IgYSBtb3JlIG5hdHVyYWwgZmVlbC4gT3RoZXJ3aXNlIHRoZSBtYXRoIGRvZXNuJ3Qgd29yayByaWdodCBhbmQgdGhlIGN1cnZlIHN0YXJ0cyBhdCAxLlxuICBwMiA9IChwZXJpb2QgfHwgKHR5cGUgPyAuMyA6IC40NSkpIC8gKGFtcGxpdHVkZSA8IDEgPyBhbXBsaXR1ZGUgOiAxKSxcbiAgICAgIHAzID0gcDIgLyBfMlBJICogKE1hdGguYXNpbigxIC8gcDEpIHx8IDApLFxuICAgICAgZWFzZU91dCA9IGZ1bmN0aW9uIGVhc2VPdXQocCkge1xuICAgIHJldHVybiBwID09PSAxID8gMSA6IHAxICogTWF0aC5wb3coMiwgLTEwICogcCkgKiBfc2luKChwIC0gcDMpICogcDIpICsgMTtcbiAgfSxcbiAgICAgIGVhc2UgPSB0eXBlID09PSBcIm91dFwiID8gZWFzZU91dCA6IHR5cGUgPT09IFwiaW5cIiA/IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIDEgLSBlYXNlT3V0KDEgLSBwKTtcbiAgfSA6IF9lYXNlSW5PdXRGcm9tT3V0KGVhc2VPdXQpO1xuXG4gIHAyID0gXzJQSSAvIHAyOyAvL3ByZWNhbGN1bGF0ZSB0byBvcHRpbWl6ZVxuXG4gIGVhc2UuY29uZmlnID0gZnVuY3Rpb24gKGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gICAgcmV0dXJuIF9jb25maWdFbGFzdGljKHR5cGUsIGFtcGxpdHVkZSwgcGVyaW9kKTtcbiAgfTtcblxuICByZXR1cm4gZWFzZTtcbn0sXG4gICAgX2NvbmZpZ0JhY2sgPSBmdW5jdGlvbiBfY29uZmlnQmFjayh0eXBlLCBvdmVyc2hvb3QpIHtcbiAgaWYgKG92ZXJzaG9vdCA9PT0gdm9pZCAwKSB7XG4gICAgb3ZlcnNob290ID0gMS43MDE1ODtcbiAgfVxuXG4gIHZhciBlYXNlT3V0ID0gZnVuY3Rpb24gZWFzZU91dChwKSB7XG4gICAgcmV0dXJuIHAgPyAtLXAgKiBwICogKChvdmVyc2hvb3QgKyAxKSAqIHAgKyBvdmVyc2hvb3QpICsgMSA6IDA7XG4gIH0sXG4gICAgICBlYXNlID0gdHlwZSA9PT0gXCJvdXRcIiA/IGVhc2VPdXQgOiB0eXBlID09PSBcImluXCIgPyBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAxIC0gZWFzZU91dCgxIC0gcCk7XG4gIH0gOiBfZWFzZUluT3V0RnJvbU91dChlYXNlT3V0KTtcblxuICBlYXNlLmNvbmZpZyA9IGZ1bmN0aW9uIChvdmVyc2hvb3QpIHtcbiAgICByZXR1cm4gX2NvbmZpZ0JhY2sodHlwZSwgb3ZlcnNob290KTtcbiAgfTtcblxuICByZXR1cm4gZWFzZTtcbn07IC8vIGEgY2hlYXBlciAoa2IgYW5kIGNwdSkgYnV0IG1vcmUgbWlsZCB3YXkgdG8gZ2V0IGEgcGFyYW1ldGVyaXplZCB3ZWlnaHRlZCBlYXNlIGJ5IGZlZWRpbmcgaW4gYSB2YWx1ZSBiZXR3ZWVuIC0xIChlYXNlSW4pIGFuZCAxIChlYXNlT3V0KSB3aGVyZSAwIGlzIGxpbmVhci5cbi8vIF93ZWlnaHRlZEVhc2UgPSByYXRpbyA9PiB7XG4vLyBcdGxldCB5ID0gMC41ICsgcmF0aW8gLyAyO1xuLy8gXHRyZXR1cm4gcCA9PiAoMiAqICgxIC0gcCkgKiBwICogeSArIHAgKiBwKTtcbi8vIH0sXG4vLyBhIHN0cm9uZ2VyIChidXQgbW9yZSBleHBlbnNpdmUga2IvY3B1KSBwYXJhbWV0ZXJpemVkIHdlaWdodGVkIGVhc2UgdGhhdCBsZXRzIHlvdSBmZWVkIGluIGEgdmFsdWUgYmV0d2VlbiAtMSAoZWFzZUluKSBhbmQgMSAoZWFzZU91dCkgd2hlcmUgMCBpcyBsaW5lYXIuXG4vLyBfd2VpZ2h0ZWRFYXNlU3Ryb25nID0gcmF0aW8gPT4ge1xuLy8gXHRyYXRpbyA9IC41ICsgcmF0aW8gLyAyO1xuLy8gXHRsZXQgbyA9IDEgLyAzICogKHJhdGlvIDwgLjUgPyByYXRpbyA6IDEgLSByYXRpbyksXG4vLyBcdFx0YiA9IHJhdGlvIC0gbyxcbi8vIFx0XHRjID0gcmF0aW8gKyBvO1xuLy8gXHRyZXR1cm4gcCA9PiBwID09PSAxID8gcCA6IDMgKiBiICogKDEgLSBwKSAqICgxIC0gcCkgKiBwICsgMyAqIGMgKiAoMSAtIHApICogcCAqIHAgKyBwICogcCAqIHA7XG4vLyB9O1xuXG5cbl9mb3JFYWNoTmFtZShcIkxpbmVhcixRdWFkLEN1YmljLFF1YXJ0LFF1aW50LFN0cm9uZ1wiLCBmdW5jdGlvbiAobmFtZSwgaSkge1xuICB2YXIgcG93ZXIgPSBpIDwgNSA/IGkgKyAxIDogaTtcblxuICBfaW5zZXJ0RWFzZShuYW1lICsgXCIsUG93ZXJcIiArIChwb3dlciAtIDEpLCBpID8gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocCwgcG93ZXIpO1xuICB9IDogZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcDtcbiAgfSwgZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gMSAtIE1hdGgucG93KDEgLSBwLCBwb3dlcik7XG4gIH0sIGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIHAgPCAuNSA/IE1hdGgucG93KHAgKiAyLCBwb3dlcikgLyAyIDogMSAtIE1hdGgucG93KCgxIC0gcCkgKiAyLCBwb3dlcikgLyAyO1xuICB9KTtcbn0pO1xuXG5fZWFzZU1hcC5MaW5lYXIuZWFzZU5vbmUgPSBfZWFzZU1hcC5ub25lID0gX2Vhc2VNYXAuTGluZWFyLmVhc2VJbjtcblxuX2luc2VydEVhc2UoXCJFbGFzdGljXCIsIF9jb25maWdFbGFzdGljKFwiaW5cIiksIF9jb25maWdFbGFzdGljKFwib3V0XCIpLCBfY29uZmlnRWxhc3RpYygpKTtcblxuKGZ1bmN0aW9uIChuLCBjKSB7XG4gIHZhciBuMSA9IDEgLyBjLFxuICAgICAgbjIgPSAyICogbjEsXG4gICAgICBuMyA9IDIuNSAqIG4xLFxuICAgICAgZWFzZU91dCA9IGZ1bmN0aW9uIGVhc2VPdXQocCkge1xuICAgIHJldHVybiBwIDwgbjEgPyBuICogcCAqIHAgOiBwIDwgbjIgPyBuICogTWF0aC5wb3cocCAtIDEuNSAvIGMsIDIpICsgLjc1IDogcCA8IG4zID8gbiAqIChwIC09IDIuMjUgLyBjKSAqIHAgKyAuOTM3NSA6IG4gKiBNYXRoLnBvdyhwIC0gMi42MjUgLyBjLCAyKSArIC45ODQzNzU7XG4gIH07XG5cbiAgX2luc2VydEVhc2UoXCJCb3VuY2VcIiwgZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gMSAtIGVhc2VPdXQoMSAtIHApO1xuICB9LCBlYXNlT3V0KTtcbn0pKDcuNTYyNSwgMi43NSk7XG5cbl9pbnNlcnRFYXNlKFwiRXhwb1wiLCBmdW5jdGlvbiAocCkge1xuICByZXR1cm4gcCA/IE1hdGgucG93KDIsIDEwICogKHAgLSAxKSkgOiAwO1xufSk7XG5cbl9pbnNlcnRFYXNlKFwiQ2lyY1wiLCBmdW5jdGlvbiAocCkge1xuICByZXR1cm4gLShfc3FydCgxIC0gcCAqIHApIC0gMSk7XG59KTtcblxuX2luc2VydEVhc2UoXCJTaW5lXCIsIGZ1bmN0aW9uIChwKSB7XG4gIHJldHVybiBwID09PSAxID8gMSA6IC1fY29zKHAgKiBfSEFMRl9QSSkgKyAxO1xufSk7XG5cbl9pbnNlcnRFYXNlKFwiQmFja1wiLCBfY29uZmlnQmFjayhcImluXCIpLCBfY29uZmlnQmFjayhcIm91dFwiKSwgX2NvbmZpZ0JhY2soKSk7XG5cbl9lYXNlTWFwLlN0ZXBwZWRFYXNlID0gX2Vhc2VNYXAuc3RlcHMgPSBfZ2xvYmFscy5TdGVwcGVkRWFzZSA9IHtcbiAgY29uZmlnOiBmdW5jdGlvbiBjb25maWcoc3RlcHMsIGltbWVkaWF0ZVN0YXJ0KSB7XG4gICAgaWYgKHN0ZXBzID09PSB2b2lkIDApIHtcbiAgICAgIHN0ZXBzID0gMTtcbiAgICB9XG5cbiAgICB2YXIgcDEgPSAxIC8gc3RlcHMsXG4gICAgICAgIHAyID0gc3RlcHMgKyAoaW1tZWRpYXRlU3RhcnQgPyAwIDogMSksXG4gICAgICAgIHAzID0gaW1tZWRpYXRlU3RhcnQgPyAxIDogMCxcbiAgICAgICAgbWF4ID0gMSAtIF90aW55TnVtO1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgcmV0dXJuICgocDIgKiBfY2xhbXAoMCwgbWF4LCBwKSB8IDApICsgcDMpICogcDE7XG4gICAgfTtcbiAgfVxufTtcbl9kZWZhdWx0cy5lYXNlID0gX2Vhc2VNYXBbXCJxdWFkLm91dFwiXTtcblxuX2ZvckVhY2hOYW1lKFwib25Db21wbGV0ZSxvblVwZGF0ZSxvblN0YXJ0LG9uUmVwZWF0LG9uUmV2ZXJzZUNvbXBsZXRlLG9uSW50ZXJydXB0XCIsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBfY2FsbGJhY2tOYW1lcyArPSBuYW1lICsgXCIsXCIgKyBuYW1lICsgXCJQYXJhbXMsXCI7XG59KTtcbi8qXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ0FDSEVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuXG5leHBvcnQgdmFyIEdTQ2FjaGUgPSBmdW5jdGlvbiBHU0NhY2hlKHRhcmdldCwgaGFybmVzcykge1xuICB0aGlzLmlkID0gX2dzSUQrKztcbiAgdGFyZ2V0Ll9nc2FwID0gdGhpcztcbiAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMuaGFybmVzcyA9IGhhcm5lc3M7XG4gIHRoaXMuZ2V0ID0gaGFybmVzcyA/IGhhcm5lc3MuZ2V0IDogX2dldFByb3BlcnR5O1xuICB0aGlzLnNldCA9IGhhcm5lc3MgPyBoYXJuZXNzLmdldFNldHRlciA6IF9nZXRTZXR0ZXI7XG59O1xuLypcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBTklNQVRJT05cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuZXhwb3J0IHZhciBBbmltYXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBbmltYXRpb24odmFycywgdGltZSkge1xuICAgIHZhciBwYXJlbnQgPSB2YXJzLnBhcmVudCB8fCBfZ2xvYmFsVGltZWxpbmU7XG4gICAgdGhpcy52YXJzID0gdmFycztcbiAgICB0aGlzLl9kZWxheSA9ICt2YXJzLmRlbGF5IHx8IDA7XG5cbiAgICBpZiAodGhpcy5fcmVwZWF0ID0gdmFycy5yZXBlYXQgfHwgMCkge1xuICAgICAgdGhpcy5fckRlbGF5ID0gdmFycy5yZXBlYXREZWxheSB8fCAwO1xuICAgICAgdGhpcy5feW95byA9ICEhdmFycy55b3lvIHx8ICEhdmFycy55b3lvRWFzZTtcbiAgICB9XG5cbiAgICB0aGlzLl90cyA9IDE7XG5cbiAgICBfc2V0RHVyYXRpb24odGhpcywgK3ZhcnMuZHVyYXRpb24sIDEsIDEpO1xuXG4gICAgdGhpcy5kYXRhID0gdmFycy5kYXRhO1xuICAgIF90aWNrZXJBY3RpdmUgfHwgX3RpY2tlci53YWtlKCk7XG4gICAgcGFyZW50ICYmIF9hZGRUb1RpbWVsaW5lKHBhcmVudCwgdGhpcywgdGltZSB8fCB0aW1lID09PSAwID8gdGltZSA6IHBhcmVudC5fdGltZSwgMSk7XG4gICAgdmFycy5yZXZlcnNlZCAmJiB0aGlzLnJldmVyc2UoKTtcbiAgICB2YXJzLnBhdXNlZCAmJiB0aGlzLnBhdXNlZCh0cnVlKTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBBbmltYXRpb24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5kZWxheSA9IGZ1bmN0aW9uIGRlbGF5KHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAwKSB7XG4gICAgICB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5zbW9vdGhDaGlsZFRpbWluZyAmJiB0aGlzLnN0YXJ0VGltZSh0aGlzLl9zdGFydCArIHZhbHVlIC0gdGhpcy5fZGVsYXkpO1xuICAgICAgdGhpcy5fZGVsYXkgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9kZWxheTtcbiAgfTtcblxuICBfcHJvdG8uZHVyYXRpb24gPSBmdW5jdGlvbiBkdXJhdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gdGhpcy50b3RhbER1cmF0aW9uKHRoaXMuX3JlcGVhdCA+IDAgPyB2YWx1ZSArICh2YWx1ZSArIHRoaXMuX3JEZWxheSkgKiB0aGlzLl9yZXBlYXQgOiB2YWx1ZSkgOiB0aGlzLnRvdGFsRHVyYXRpb24oKSAmJiB0aGlzLl9kdXI7XG4gIH07XG5cbiAgX3Byb3RvLnRvdGFsRHVyYXRpb24gPSBmdW5jdGlvbiB0b3RhbER1cmF0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdER1cjtcbiAgICB9XG5cbiAgICB0aGlzLl9kaXJ0eSA9IDA7XG4gICAgcmV0dXJuIF9zZXREdXJhdGlvbih0aGlzLCB0aGlzLl9yZXBlYXQgPCAwID8gdmFsdWUgOiAodmFsdWUgLSB0aGlzLl9yZXBlYXQgKiB0aGlzLl9yRGVsYXkpIC8gKHRoaXMuX3JlcGVhdCArIDEpKTtcbiAgfTtcblxuICBfcHJvdG8udG90YWxUaW1lID0gZnVuY3Rpb24gdG90YWxUaW1lKF90b3RhbFRpbWUsIHN1cHByZXNzRXZlbnRzKSB7XG4gICAgX3dha2UoKTtcblxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RUaW1lO1xuICAgIH1cblxuICAgIHZhciBwYXJlbnQgPSB0aGlzLl9kcDtcblxuICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LnNtb290aENoaWxkVGltaW5nICYmIHRoaXMuX3RzKSB7XG4gICAgICBfYWxpZ25QbGF5aGVhZCh0aGlzLCBfdG90YWxUaW1lKTsgLy9pbiBjYXNlIGFueSBvZiB0aGUgYW5jZXN0b3IgdGltZWxpbmVzIGhhZCBjb21wbGV0ZWQgYnV0IHNob3VsZCBub3cgYmUgZW5hYmxlZCwgd2Ugc2hvdWxkIHJlc2V0IHRoZWlyIHRvdGFsVGltZSgpIHdoaWNoIHdpbGwgYWxzbyBlbnN1cmUgdGhhdCB0aGV5J3JlIGxpbmVkIHVwIHByb3Blcmx5IGFuZCBlbmFibGVkLiBTa2lwIGZvciBhbmltYXRpb25zIHRoYXQgYXJlIG9uIHRoZSByb290ICh3YXN0ZWZ1bCkuIEV4YW1wbGU6IGEgVGltZWxpbmVMaXRlLmV4cG9ydFJvb3QoKSBpcyBwZXJmb3JtZWQgd2hlbiB0aGVyZSdzIGEgcGF1c2VkIHR3ZWVuIG9uIHRoZSByb290LCB0aGUgZXhwb3J0IHdpbGwgbm90IGNvbXBsZXRlIHVudGlsIHRoYXQgdHdlZW4gaXMgdW5wYXVzZWQsIGJ1dCBpbWFnaW5lIGEgY2hpbGQgZ2V0cyByZXN0YXJ0ZWQgbGF0ZXIsIGFmdGVyIGFsbCBbdW5wYXVzZWRdIHR3ZWVucyBoYXZlIGNvbXBsZXRlZC4gVGhlIHN0YXJ0IG9mIHRoYXQgY2hpbGQgd291bGQgZ2V0IHB1c2hlZCBvdXQsIGJ1dCBvbmUgb2YgdGhlIGFuY2VzdG9ycyBtYXkgaGF2ZSBjb21wbGV0ZWQuXG5cblxuICAgICAgd2hpbGUgKHBhcmVudC5wYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5wYXJlbnQuX3RpbWUgIT09IHBhcmVudC5fc3RhcnQgKyAocGFyZW50Ll90cyA+PSAwID8gcGFyZW50Ll90VGltZSAvIHBhcmVudC5fdHMgOiAocGFyZW50LnRvdGFsRHVyYXRpb24oKSAtIHBhcmVudC5fdFRpbWUpIC8gLXBhcmVudC5fdHMpKSB7XG4gICAgICAgICAgcGFyZW50LnRvdGFsVGltZShwYXJlbnQuX3RUaW1lLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5wYXJlbnQgJiYgdGhpcy5fZHAuYXV0b1JlbW92ZUNoaWxkcmVuICYmICh0aGlzLl90cyA+IDAgJiYgX3RvdGFsVGltZSA8IHRoaXMuX3REdXIgfHwgdGhpcy5fdHMgPCAwICYmIF90b3RhbFRpbWUgPiAwIHx8ICF0aGlzLl90RHVyICYmICFfdG90YWxUaW1lKSkge1xuICAgICAgICAvL2lmIHRoZSBhbmltYXRpb24gZG9lc24ndCBoYXZlIGEgcGFyZW50LCBwdXQgaXQgYmFjayBpbnRvIGl0cyBsYXN0IHBhcmVudCAocmVjb3JkZWQgYXMgX2RwIGZvciBleGFjdGx5IGNhc2VzIGxpa2UgdGhpcykuIExpbWl0IHRvIHBhcmVudHMgd2l0aCBhdXRvUmVtb3ZlQ2hpbGRyZW4gKGxpa2UgZ2xvYmFsVGltZWxpbmUpIHNvIHRoYXQgaWYgdGhlIHVzZXIgbWFudWFsbHkgcmVtb3ZlcyBhbiBhbmltYXRpb24gZnJvbSBhIHRpbWVsaW5lIGFuZCB0aGVuIGFsdGVycyBpdHMgcGxheWhlYWQsIGl0IGRvZXNuJ3QgZ2V0IGFkZGVkIGJhY2sgaW4uXG4gICAgICAgIF9hZGRUb1RpbWVsaW5lKHRoaXMuX2RwLCB0aGlzLCB0aGlzLl9zdGFydCAtIHRoaXMuX2RlbGF5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fdFRpbWUgIT09IF90b3RhbFRpbWUgfHwgIXRoaXMuX2R1ciAmJiAhc3VwcHJlc3NFdmVudHMgfHwgdGhpcy5faW5pdHRlZCAmJiBNYXRoLmFicyh0aGlzLl96VGltZSkgPT09IF90aW55TnVtIHx8ICFfdG90YWxUaW1lICYmICF0aGlzLl9pbml0dGVkICYmICh0aGlzLmFkZCB8fCB0aGlzLl9wdExvb2t1cCkpIHtcbiAgICAgIC8vIGNoZWNrIGZvciBfcHRMb29rdXAgb24gYSBUd2VlbiBpbnN0YW5jZSB0byBlbnN1cmUgaXQgaGFzIGFjdHVhbGx5IGZpbmlzaGVkIGJlaW5nIGluc3RhbnRpYXRlZCwgb3RoZXJ3aXNlIGlmIHRoaXMucmV2ZXJzZSgpIGdldHMgY2FsbGVkIGluIHRoZSBBbmltYXRpb24gY29uc3RydWN0b3IsIGl0IGNvdWxkIHRyaWdnZXIgYSByZW5kZXIoKSBoZXJlIGV2ZW4gdGhvdWdoIHRoZSBfdGFyZ2V0cyB3ZXJlbid0IHBvcHVsYXRlZCwgdGh1cyB3aGVuIF9pbml0KCkgaXMgY2FsbGVkIHRoZXJlIHdvbid0IGJlIGFueSBQcm9wVHdlZW5zIChpdCdsbCBhY3QgbGlrZSB0aGUgdHdlZW4gaXMgbm9uLWZ1bmN0aW9uYWwpXG4gICAgICB0aGlzLl90cyB8fCAodGhpcy5fcFRpbWUgPSBfdG90YWxUaW1lKTsgLy8gb3RoZXJ3aXNlLCBpZiBhbiBhbmltYXRpb24gaXMgcGF1c2VkLCB0aGVuIHRoZSBwbGF5aGVhZCBpcyBtb3ZlZCBiYWNrIHRvIHplcm8sIHRoZW4gcmVzdW1lZCwgaXQnZCByZXZlcnQgYmFjayB0byB0aGUgb3JpZ2luYWwgdGltZSBhdCB0aGUgcGF1c2VcblxuICAgICAgX2xhenlTYWZlUmVuZGVyKHRoaXMsIF90b3RhbFRpbWUsIHN1cHByZXNzRXZlbnRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8udGltZSA9IGZ1bmN0aW9uIHRpbWUodmFsdWUsIHN1cHByZXNzRXZlbnRzKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLnRvdGFsVGltZShNYXRoLm1pbih0aGlzLnRvdGFsRHVyYXRpb24oKSwgdmFsdWUgKyBfZWxhcHNlZEN5Y2xlRHVyYXRpb24odGhpcykpICUgdGhpcy5fZHVyIHx8ICh2YWx1ZSA/IHRoaXMuX2R1ciA6IDApLCBzdXBwcmVzc0V2ZW50cykgOiB0aGlzLl90aW1lOyAvLyBub3RlOiBpZiB0aGUgbW9kdWx1cyByZXN1bHRzIGluIDAsIHRoZSBwbGF5aGVhZCBjb3VsZCBiZSBleGFjdGx5IGF0IHRoZSBlbmQgb3IgdGhlIGJlZ2lubmluZywgYW5kIHdlIGFsd2F5cyBkZWZlciB0byB0aGUgRU5EIHdpdGggYSBub24temVybyB2YWx1ZSwgb3RoZXJ3aXNlIGlmIHlvdSBzZXQgdGhlIHRpbWUoKSB0byB0aGUgdmVyeSBlbmQgKGR1cmF0aW9uKCkpLCBpdCB3b3VsZCByZW5kZXIgYXQgdGhlIFNUQVJUIVxuICB9O1xuXG4gIF9wcm90by50b3RhbFByb2dyZXNzID0gZnVuY3Rpb24gdG90YWxQcm9ncmVzcyh2YWx1ZSwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMudG90YWxUaW1lKHRoaXMudG90YWxEdXJhdGlvbigpICogdmFsdWUsIHN1cHByZXNzRXZlbnRzKSA6IHRoaXMudG90YWxEdXJhdGlvbigpID8gTWF0aC5taW4oMSwgdGhpcy5fdFRpbWUgLyB0aGlzLl90RHVyKSA6IHRoaXMucmF0aW87XG4gIH07XG5cbiAgX3Byb3RvLnByb2dyZXNzID0gZnVuY3Rpb24gcHJvZ3Jlc3ModmFsdWUsIHN1cHByZXNzRXZlbnRzKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLnRvdGFsVGltZSh0aGlzLmR1cmF0aW9uKCkgKiAodGhpcy5feW95byAmJiAhKHRoaXMuaXRlcmF0aW9uKCkgJiAxKSA/IDEgLSB2YWx1ZSA6IHZhbHVlKSArIF9lbGFwc2VkQ3ljbGVEdXJhdGlvbih0aGlzKSwgc3VwcHJlc3NFdmVudHMpIDogdGhpcy5kdXJhdGlvbigpID8gTWF0aC5taW4oMSwgdGhpcy5fdGltZSAvIHRoaXMuX2R1cikgOiB0aGlzLnJhdGlvO1xuICB9O1xuXG4gIF9wcm90by5pdGVyYXRpb24gPSBmdW5jdGlvbiBpdGVyYXRpb24odmFsdWUsIHN1cHByZXNzRXZlbnRzKSB7XG4gICAgdmFyIGN5Y2xlRHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uKCkgKyB0aGlzLl9yRGVsYXk7XG5cbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMudG90YWxUaW1lKHRoaXMuX3RpbWUgKyAodmFsdWUgLSAxKSAqIGN5Y2xlRHVyYXRpb24sIHN1cHByZXNzRXZlbnRzKSA6IHRoaXMuX3JlcGVhdCA/IF9hbmltYXRpb25DeWNsZSh0aGlzLl90VGltZSwgY3ljbGVEdXJhdGlvbikgKyAxIDogMTtcbiAgfSAvLyBwb3RlbnRpYWwgZnV0dXJlIGFkZGl0aW9uOlxuICAvLyBpc1BsYXlpbmdCYWNrd2FyZHMoKSB7XG4gIC8vIFx0bGV0IGFuaW1hdGlvbiA9IHRoaXMsXG4gIC8vIFx0XHRvcmllbnRhdGlvbiA9IDE7IC8vIDEgPSBmb3J3YXJkLCAtMSA9IGJhY2t3YXJkXG4gIC8vIFx0d2hpbGUgKGFuaW1hdGlvbikge1xuICAvLyBcdFx0b3JpZW50YXRpb24gKj0gYW5pbWF0aW9uLnJldmVyc2VkKCkgfHwgKGFuaW1hdGlvbi5yZXBlYXQoKSAmJiAhKGFuaW1hdGlvbi5pdGVyYXRpb24oKSAmIDEpKSA/IC0xIDogMTtcbiAgLy8gXHRcdGFuaW1hdGlvbiA9IGFuaW1hdGlvbi5wYXJlbnQ7XG4gIC8vIFx0fVxuICAvLyBcdHJldHVybiBvcmllbnRhdGlvbiA8IDA7XG4gIC8vIH1cbiAgO1xuXG4gIF9wcm90by50aW1lU2NhbGUgPSBmdW5jdGlvbiB0aW1lU2NhbGUodmFsdWUpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9ydHMgPT09IC1fdGlueU51bSA/IDAgOiB0aGlzLl9ydHM7IC8vIHJlY29yZGVkIHRpbWVTY2FsZS4gU3BlY2lhbCBjYXNlOiBpZiBzb21lb25lIGNhbGxzIHJldmVyc2UoKSBvbiBhbiBhbmltYXRpb24gd2l0aCB0aW1lU2NhbGUgb2YgMCwgd2UgYXNzaWduIGl0IC1fdGlueU51bSB0byByZW1lbWJlciBpdCdzIHJldmVyc2VkLlxuICAgIH1cblxuICAgIGlmICh0aGlzLl9ydHMgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgdFRpbWUgPSB0aGlzLnBhcmVudCAmJiB0aGlzLl90cyA/IF9wYXJlbnRUb0NoaWxkVG90YWxUaW1lKHRoaXMucGFyZW50Ll90aW1lLCB0aGlzKSA6IHRoaXMuX3RUaW1lOyAvLyBtYWtlIHN1cmUgdG8gZG8gdGhlIHBhcmVudFRvQ2hpbGRUb3RhbFRpbWUoKSBCRUZPUkUgc2V0dGluZyB0aGUgbmV3IF90cyBiZWNhdXNlIHRoZSBvbGQgb25lIG11c3QgYmUgdXNlZCBpbiB0aGF0IGNhbGN1bGF0aW9uLlxuICAgIC8vIHByaW9yaXRpemUgcmVuZGVyaW5nIHdoZXJlIHRoZSBwYXJlbnQncyBwbGF5aGVhZCBsaW5lcyB1cCBpbnN0ZWFkIG9mIHRoaXMuX3RUaW1lIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgYSB0d2VlbiB0aGF0J3MgYW5pbWF0aW5nIGFub3RoZXIgdHdlZW4ncyB0aW1lU2NhbGUgaW4gdGhlIHNhbWUgcmVuZGVyaW5nIGxvb3AgKHNhbWUgcGFyZW50KSwgdGh1cyBpZiB0aGUgdGltZVNjYWxlIHR3ZWVuIHJlbmRlcnMgZmlyc3QsIGl0IHdvdWxkIGFsdGVyIF9zdGFydCBCRUZPUkUgX3RUaW1lIHdhcyBzZXQgb24gdGhhdCB0aWNrIChpbiB0aGUgcmVuZGVyaW5nIGxvb3ApLCBlZmZlY3RpdmVseSBmcmVlemluZyBpdCB1bnRpbCB0aGUgdGltZVNjYWxlIHR3ZWVuIGZpbmlzaGVzLlxuXG4gICAgdGhpcy5fcnRzID0gK3ZhbHVlIHx8IDA7XG4gICAgdGhpcy5fdHMgPSB0aGlzLl9wcyB8fCB2YWx1ZSA9PT0gLV90aW55TnVtID8gMCA6IHRoaXMuX3J0czsgLy8gX3RzIGlzIHRoZSBmdW5jdGlvbmFsIHRpbWVTY2FsZSB3aGljaCB3b3VsZCBiZSAwIGlmIHRoZSBhbmltYXRpb24gaXMgcGF1c2VkLlxuXG4gICAgcmV0dXJuIF9yZWNhY2hlQW5jZXN0b3JzKHRoaXMudG90YWxUaW1lKF9jbGFtcCgtdGhpcy5fZGVsYXksIHRoaXMuX3REdXIsIHRUaW1lKSwgdHJ1ZSkpO1xuICB9O1xuXG4gIF9wcm90by5wYXVzZWQgPSBmdW5jdGlvbiBwYXVzZWQodmFsdWUpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcHMgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9wcyA9IHZhbHVlO1xuXG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcFRpbWUgPSB0aGlzLl90VGltZSB8fCBNYXRoLm1heCgtdGhpcy5fZGVsYXksIHRoaXMucmF3VGltZSgpKTsgLy8gaWYgdGhlIHBhdXNlIG9jY3VycyBkdXJpbmcgdGhlIGRlbGF5IHBoYXNlLCBtYWtlIHN1cmUgdGhhdCdzIGZhY3RvcmVkIGluIHdoZW4gcmVzdW1pbmcuXG5cbiAgICAgICAgdGhpcy5fdHMgPSB0aGlzLl9hY3QgPSAwOyAvLyBfdHMgaXMgdGhlIGZ1bmN0aW9uYWwgdGltZVNjYWxlLCBzbyBhIHBhdXNlZCB0d2VlbiB3b3VsZCBlZmZlY3RpdmVseSBoYXZlIGEgdGltZVNjYWxlIG9mIDAuIFdlIHJlY29yZCB0aGUgXCJyZWFsXCIgdGltZVNjYWxlIGFzIF9ydHMgKHJlY29yZGVkIHRpbWUgc2NhbGUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfd2FrZSgpO1xuXG4gICAgICAgIHRoaXMuX3RzID0gdGhpcy5fcnRzOyAvL29ubHkgZGVmZXIgdG8gX3BUaW1lIChwYXVzZVRpbWUpIGlmIHRUaW1lIGlzIHplcm8uIFJlbWVtYmVyLCBzb21lb25lIGNvdWxkIHBhdXNlKCkgYW4gYW5pbWF0aW9uLCB0aGVuIHNjcnViIHRoZSBwbGF5aGVhZCBhbmQgcmVzdW1lKCkuIElmIHRoZSBwYXJlbnQgZG9lc24ndCBoYXZlIHNtb290aENoaWxkVGltaW5nLCB3ZSByZW5kZXIgYXQgdGhlIHJhd1RpbWUoKSBiZWNhdXNlIHRoZSBzdGFydFRpbWUgd29uJ3QgZ2V0IHVwZGF0ZWQuXG5cbiAgICAgICAgdGhpcy50b3RhbFRpbWUodGhpcy5wYXJlbnQgJiYgIXRoaXMucGFyZW50LnNtb290aENoaWxkVGltaW5nID8gdGhpcy5yYXdUaW1lKCkgOiB0aGlzLl90VGltZSB8fCB0aGlzLl9wVGltZSwgdGhpcy5wcm9ncmVzcygpID09PSAxICYmICh0aGlzLl90VGltZSAtPSBfdGlueU51bSkgJiYgTWF0aC5hYnModGhpcy5felRpbWUpICE9PSBfdGlueU51bSk7IC8vIGVkZ2UgY2FzZTogYW5pbWF0aW9uLnByb2dyZXNzKDEpLnBhdXNlKCkucGxheSgpIHdvdWxkbid0IHJlbmRlciBhZ2FpbiBiZWNhdXNlIHRoZSBwbGF5aGVhZCBpcyBhbHJlYWR5IGF0IHRoZSBlbmQsIGJ1dCB0aGUgY2FsbCB0byB0b3RhbFRpbWUoKSBiZWxvdyB3aWxsIGFkZCBpdCBiYWNrIHRvIGl0cyBwYXJlbnQuLi5hbmQgbm90IHJlbW92ZSBpdCBhZ2FpbiAoc2luY2UgcmVtb3Zpbmcgb25seSBoYXBwZW5zIHVwb24gcmVuZGVyaW5nIGF0IGEgbmV3IHRpbWUpLiBPZmZzZXR0aW5nIHRoZSBfdFRpbWUgc2xpZ2h0bHkgaXMgZG9uZSBzaW1wbHkgdG8gY2F1c2UgdGhlIGZpbmFsIHJlbmRlciBpbiB0b3RhbFRpbWUoKSB0aGF0J2xsIHBvcCBpdCBvZmYgaXRzIHRpbWVsaW5lIChpZiBhdXRvUmVtb3ZlQ2hpbGRyZW4gaXMgdHJ1ZSwgb2YgY291cnNlKS4gQ2hlY2sgdG8gbWFrZSBzdXJlIF96VGltZSBpc24ndCAtX3RpbnlOdW0gdG8gYXZvaWQgYW4gZWRnZSBjYXNlIHdoZXJlIHRoZSBwbGF5aGVhZCBpcyBwdXNoZWQgdG8gdGhlIGVuZCBidXQgSU5TSURFIGEgdHdlZW4vY2FsbGJhY2ssIHRoZSB0aW1lbGluZSBpdHNlbGYgaXMgcGF1c2VkIHRodXMgaGFsdGluZyByZW5kZXJpbmcgYW5kIGxlYXZpbmcgYSBmZXcgdW5yZW5kZXJlZC4gV2hlbiByZXN1bWluZywgaXQgd291bGRuJ3QgcmVuZGVyIHRob3NlIG90aGVyd2lzZS5cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8uc3RhcnRUaW1lID0gZnVuY3Rpb24gc3RhcnRUaW1lKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX3N0YXJ0ID0gdmFsdWU7XG4gICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQgfHwgdGhpcy5fZHA7XG4gICAgICBwYXJlbnQgJiYgKHBhcmVudC5fc29ydCB8fCAhdGhpcy5wYXJlbnQpICYmIF9hZGRUb1RpbWVsaW5lKHBhcmVudCwgdGhpcywgdmFsdWUgLSB0aGlzLl9kZWxheSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fc3RhcnQ7XG4gIH07XG5cbiAgX3Byb3RvLmVuZFRpbWUgPSBmdW5jdGlvbiBlbmRUaW1lKGluY2x1ZGVSZXBlYXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0ICsgKF9pc05vdEZhbHNlKGluY2x1ZGVSZXBlYXRzKSA/IHRoaXMudG90YWxEdXJhdGlvbigpIDogdGhpcy5kdXJhdGlvbigpKSAvIE1hdGguYWJzKHRoaXMuX3RzKTtcbiAgfTtcblxuICBfcHJvdG8ucmF3VGltZSA9IGZ1bmN0aW9uIHJhd1RpbWUod3JhcFJlcGVhdHMpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQgfHwgdGhpcy5fZHA7IC8vIF9kcCA9IGRldGF0Y2hlZCBwYXJlbnRcblxuICAgIHJldHVybiAhcGFyZW50ID8gdGhpcy5fdFRpbWUgOiB3cmFwUmVwZWF0cyAmJiAoIXRoaXMuX3RzIHx8IHRoaXMuX3JlcGVhdCAmJiB0aGlzLl90aW1lICYmIHRoaXMudG90YWxQcm9ncmVzcygpIDwgMSkgPyB0aGlzLl90VGltZSAlICh0aGlzLl9kdXIgKyB0aGlzLl9yRGVsYXkpIDogIXRoaXMuX3RzID8gdGhpcy5fdFRpbWUgOiBfcGFyZW50VG9DaGlsZFRvdGFsVGltZShwYXJlbnQucmF3VGltZSh3cmFwUmVwZWF0cyksIHRoaXMpO1xuICB9O1xuXG4gIF9wcm90by5nbG9iYWxUaW1lID0gZnVuY3Rpb24gZ2xvYmFsVGltZShyYXdUaW1lKSB7XG4gICAgdmFyIGFuaW1hdGlvbiA9IHRoaXMsXG4gICAgICAgIHRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID8gcmF3VGltZSA6IGFuaW1hdGlvbi5yYXdUaW1lKCk7XG5cbiAgICB3aGlsZSAoYW5pbWF0aW9uKSB7XG4gICAgICB0aW1lID0gYW5pbWF0aW9uLl9zdGFydCArIHRpbWUgLyAoYW5pbWF0aW9uLl90cyB8fCAxKTtcbiAgICAgIGFuaW1hdGlvbiA9IGFuaW1hdGlvbi5fZHA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpbWU7XG4gIH07XG5cbiAgX3Byb3RvLnJlcGVhdCA9IGZ1bmN0aW9uIHJlcGVhdCh2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9yZXBlYXQgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBfb25VcGRhdGVUb3RhbER1cmF0aW9uKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9yZXBlYXQ7XG4gIH07XG5cbiAgX3Byb3RvLnJlcGVhdERlbGF5ID0gZnVuY3Rpb24gcmVwZWF0RGVsYXkodmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy5fckRlbGF5ID0gdmFsdWU7XG4gICAgICByZXR1cm4gX29uVXBkYXRlVG90YWxEdXJhdGlvbih0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fckRlbGF5O1xuICB9O1xuXG4gIF9wcm90by55b3lvID0gZnVuY3Rpb24geW95byh2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl95b3lvID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5feW95bztcbiAgfTtcblxuICBfcHJvdG8uc2VlayA9IGZ1bmN0aW9uIHNlZWsocG9zaXRpb24sIHN1cHByZXNzRXZlbnRzKSB7XG4gICAgcmV0dXJuIHRoaXMudG90YWxUaW1lKF9wYXJzZVBvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKSwgX2lzTm90RmFsc2Uoc3VwcHJlc3NFdmVudHMpKTtcbiAgfTtcblxuICBfcHJvdG8ucmVzdGFydCA9IGZ1bmN0aW9uIHJlc3RhcnQoaW5jbHVkZURlbGF5LCBzdXBwcmVzc0V2ZW50cykge1xuICAgIHJldHVybiB0aGlzLnBsYXkoKS50b3RhbFRpbWUoaW5jbHVkZURlbGF5ID8gLXRoaXMuX2RlbGF5IDogMCwgX2lzTm90RmFsc2Uoc3VwcHJlc3NFdmVudHMpKTtcbiAgfTtcblxuICBfcHJvdG8ucGxheSA9IGZ1bmN0aW9uIHBsYXkoZnJvbSwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICBmcm9tICE9IG51bGwgJiYgdGhpcy5zZWVrKGZyb20sIHN1cHByZXNzRXZlbnRzKTtcbiAgICByZXR1cm4gdGhpcy5yZXZlcnNlZChmYWxzZSkucGF1c2VkKGZhbHNlKTtcbiAgfTtcblxuICBfcHJvdG8ucmV2ZXJzZSA9IGZ1bmN0aW9uIHJldmVyc2UoZnJvbSwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICBmcm9tICE9IG51bGwgJiYgdGhpcy5zZWVrKGZyb20gfHwgdGhpcy50b3RhbER1cmF0aW9uKCksIHN1cHByZXNzRXZlbnRzKTtcbiAgICByZXR1cm4gdGhpcy5yZXZlcnNlZCh0cnVlKS5wYXVzZWQoZmFsc2UpO1xuICB9O1xuXG4gIF9wcm90by5wYXVzZSA9IGZ1bmN0aW9uIHBhdXNlKGF0VGltZSwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICBhdFRpbWUgIT0gbnVsbCAmJiB0aGlzLnNlZWsoYXRUaW1lLCBzdXBwcmVzc0V2ZW50cyk7XG4gICAgcmV0dXJuIHRoaXMucGF1c2VkKHRydWUpO1xuICB9O1xuXG4gIF9wcm90by5yZXN1bWUgPSBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGF1c2VkKGZhbHNlKTtcbiAgfTtcblxuICBfcHJvdG8ucmV2ZXJzZWQgPSBmdW5jdGlvbiByZXZlcnNlZCh2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAhIXZhbHVlICE9PSB0aGlzLnJldmVyc2VkKCkgJiYgdGhpcy50aW1lU2NhbGUoLXRoaXMuX3J0cyB8fCAodmFsdWUgPyAtX3RpbnlOdW0gOiAwKSk7IC8vIGluIGNhc2UgdGltZVNjYWxlIGlzIHplcm8sIHJldmVyc2luZyB3b3VsZCBoYXZlIG5vIGVmZmVjdCBzbyB3ZSB1c2UgX3RpbnlOdW0uXG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9ydHMgPCAwO1xuICB9O1xuXG4gIF9wcm90by5pbnZhbGlkYXRlID0gZnVuY3Rpb24gaW52YWxpZGF0ZSgpIHtcbiAgICB0aGlzLl9pbml0dGVkID0gMDtcbiAgICB0aGlzLl96VGltZSA9IC1fdGlueU51bTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8uaXNBY3RpdmUgPSBmdW5jdGlvbiBpc0FjdGl2ZSgpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQgfHwgdGhpcy5fZHAsXG4gICAgICAgIHN0YXJ0ID0gdGhpcy5fc3RhcnQsXG4gICAgICAgIHJhd1RpbWU7XG4gICAgcmV0dXJuICEhKCFwYXJlbnQgfHwgdGhpcy5fdHMgJiYgdGhpcy5faW5pdHRlZCAmJiBwYXJlbnQuaXNBY3RpdmUoKSAmJiAocmF3VGltZSA9IHBhcmVudC5yYXdUaW1lKHRydWUpKSA+PSBzdGFydCAmJiByYXdUaW1lIDwgdGhpcy5lbmRUaW1lKHRydWUpIC0gX3RpbnlOdW0pO1xuICB9O1xuXG4gIF9wcm90by5ldmVudENhbGxiYWNrID0gZnVuY3Rpb24gZXZlbnRDYWxsYmFjayh0eXBlLCBjYWxsYmFjaywgcGFyYW1zKSB7XG4gICAgdmFyIHZhcnMgPSB0aGlzLnZhcnM7XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgZGVsZXRlIHZhcnNbdHlwZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXJzW3R5cGVdID0gY2FsbGJhY2s7XG4gICAgICAgIHBhcmFtcyAmJiAodmFyc1t0eXBlICsgXCJQYXJhbXNcIl0gPSBwYXJhbXMpO1xuICAgICAgICB0eXBlID09PSBcIm9uVXBkYXRlXCIgJiYgKHRoaXMuX29uVXBkYXRlID0gY2FsbGJhY2spO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdmFyc1t0eXBlXTtcbiAgfTtcblxuICBfcHJvdG8udGhlbiA9IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICB2YXIgZiA9IF9pc0Z1bmN0aW9uKG9uRnVsZmlsbGVkKSA/IG9uRnVsZmlsbGVkIDogX3Bhc3NUaHJvdWdoLFxuICAgICAgICAgIF9yZXNvbHZlID0gZnVuY3Rpb24gX3Jlc29sdmUoKSB7XG4gICAgICAgIHZhciBfdGhlbiA9IHNlbGYudGhlbjtcbiAgICAgICAgc2VsZi50aGVuID0gbnVsbDsgLy8gdGVtcG9yYXJpbHkgbnVsbCB0aGUgdGhlbigpIG1ldGhvZCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2dyZWVuc29jay9HU0FQL2lzc3Vlcy8zMjIpXG5cbiAgICAgICAgX2lzRnVuY3Rpb24oZikgJiYgKGYgPSBmKHNlbGYpKSAmJiAoZi50aGVuIHx8IGYgPT09IHNlbGYpICYmIChzZWxmLnRoZW4gPSBfdGhlbik7XG4gICAgICAgIHJlc29sdmUoZik7XG4gICAgICAgIHNlbGYudGhlbiA9IF90aGVuO1xuICAgICAgfTtcblxuICAgICAgaWYgKHNlbGYuX2luaXR0ZWQgJiYgc2VsZi50b3RhbFByb2dyZXNzKCkgPT09IDEgJiYgc2VsZi5fdHMgPj0gMCB8fCAhc2VsZi5fdFRpbWUgJiYgc2VsZi5fdHMgPCAwKSB7XG4gICAgICAgIF9yZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLl9wcm9tID0gX3Jlc29sdmU7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLmtpbGwgPSBmdW5jdGlvbiBraWxsKCkge1xuICAgIF9pbnRlcnJ1cHQodGhpcyk7XG4gIH07XG5cbiAgcmV0dXJuIEFuaW1hdGlvbjtcbn0oKTtcblxuX3NldERlZmF1bHRzKEFuaW1hdGlvbi5wcm90b3R5cGUsIHtcbiAgX3RpbWU6IDAsXG4gIF9zdGFydDogMCxcbiAgX2VuZDogMCxcbiAgX3RUaW1lOiAwLFxuICBfdER1cjogMCxcbiAgX2RpcnR5OiAwLFxuICBfcmVwZWF0OiAwLFxuICBfeW95bzogZmFsc2UsXG4gIHBhcmVudDogbnVsbCxcbiAgX2luaXR0ZWQ6IGZhbHNlLFxuICBfckRlbGF5OiAwLFxuICBfdHM6IDEsXG4gIF9kcDogMCxcbiAgcmF0aW86IDAsXG4gIF96VGltZTogLV90aW55TnVtLFxuICBfcHJvbTogMCxcbiAgX3BzOiBmYWxzZSxcbiAgX3J0czogMVxufSk7XG4vKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVElNRUxJTkVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG5cbmV4cG9ydCB2YXIgVGltZWxpbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9BbmltYXRpb24pIHtcbiAgX2luaGVyaXRzTG9vc2UoVGltZWxpbmUsIF9BbmltYXRpb24pO1xuXG4gIGZ1bmN0aW9uIFRpbWVsaW5lKHZhcnMsIHRpbWUpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAodmFycyA9PT0gdm9pZCAwKSB7XG4gICAgICB2YXJzID0ge307XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQW5pbWF0aW9uLmNhbGwodGhpcywgdmFycywgdGltZSkgfHwgdGhpcztcbiAgICBfdGhpcy5sYWJlbHMgPSB7fTtcbiAgICBfdGhpcy5zbW9vdGhDaGlsZFRpbWluZyA9ICEhdmFycy5zbW9vdGhDaGlsZFRpbWluZztcbiAgICBfdGhpcy5hdXRvUmVtb3ZlQ2hpbGRyZW4gPSAhIXZhcnMuYXV0b1JlbW92ZUNoaWxkcmVuO1xuICAgIF90aGlzLl9zb3J0ID0gX2lzTm90RmFsc2UodmFycy5zb3J0Q2hpbGRyZW4pO1xuICAgIF90aGlzLnBhcmVudCAmJiBfcG9zdEFkZENoZWNrcyhfdGhpcy5wYXJlbnQsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICB2YXJzLnNjcm9sbFRyaWdnZXIgJiYgX3Njcm9sbFRyaWdnZXIoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIHZhcnMuc2Nyb2xsVHJpZ2dlcik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90bzIgPSBUaW1lbGluZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvMi50byA9IGZ1bmN0aW9uIHRvKHRhcmdldHMsIHZhcnMsIHBvc2l0aW9uKSB7XG4gICAgbmV3IFR3ZWVuKHRhcmdldHMsIF9wYXJzZVZhcnMoYXJndW1lbnRzLCAwLCB0aGlzKSwgX3BhcnNlUG9zaXRpb24odGhpcywgX2lzTnVtYmVyKHZhcnMpID8gYXJndW1lbnRzWzNdIDogcG9zaXRpb24pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8yLmZyb20gPSBmdW5jdGlvbiBmcm9tKHRhcmdldHMsIHZhcnMsIHBvc2l0aW9uKSB7XG4gICAgbmV3IFR3ZWVuKHRhcmdldHMsIF9wYXJzZVZhcnMoYXJndW1lbnRzLCAxLCB0aGlzKSwgX3BhcnNlUG9zaXRpb24odGhpcywgX2lzTnVtYmVyKHZhcnMpID8gYXJndW1lbnRzWzNdIDogcG9zaXRpb24pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8yLmZyb21UbyA9IGZ1bmN0aW9uIGZyb21Ubyh0YXJnZXRzLCBmcm9tVmFycywgdG9WYXJzLCBwb3NpdGlvbikge1xuICAgIG5ldyBUd2Vlbih0YXJnZXRzLCBfcGFyc2VWYXJzKGFyZ3VtZW50cywgMiwgdGhpcyksIF9wYXJzZVBvc2l0aW9uKHRoaXMsIF9pc051bWJlcihmcm9tVmFycykgPyBhcmd1bWVudHNbNF0gOiBwb3NpdGlvbikpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzIuc2V0ID0gZnVuY3Rpb24gc2V0KHRhcmdldHMsIHZhcnMsIHBvc2l0aW9uKSB7XG4gICAgdmFycy5kdXJhdGlvbiA9IDA7XG4gICAgdmFycy5wYXJlbnQgPSB0aGlzO1xuICAgIF9pbmhlcml0RGVmYXVsdHModmFycykucmVwZWF0RGVsYXkgfHwgKHZhcnMucmVwZWF0ID0gMCk7XG4gICAgdmFycy5pbW1lZGlhdGVSZW5kZXIgPSAhIXZhcnMuaW1tZWRpYXRlUmVuZGVyO1xuICAgIG5ldyBUd2Vlbih0YXJnZXRzLCB2YXJzLCBfcGFyc2VQb3NpdGlvbih0aGlzLCBwb3NpdGlvbiksIDEpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzIuY2FsbCA9IGZ1bmN0aW9uIGNhbGwoY2FsbGJhY2ssIHBhcmFtcywgcG9zaXRpb24pIHtcbiAgICByZXR1cm4gX2FkZFRvVGltZWxpbmUodGhpcywgVHdlZW4uZGVsYXllZENhbGwoMCwgY2FsbGJhY2ssIHBhcmFtcyksIF9wYXJzZVBvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKSk7XG4gIH0gLy9PTkxZIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5ISBNYXliZSBkZWxldGU/XG4gIDtcblxuICBfcHJvdG8yLnN0YWdnZXJUbyA9IGZ1bmN0aW9uIHN0YWdnZXJUbyh0YXJnZXRzLCBkdXJhdGlvbiwgdmFycywgc3RhZ2dlciwgcG9zaXRpb24sIG9uQ29tcGxldGVBbGwsIG9uQ29tcGxldGVBbGxQYXJhbXMpIHtcbiAgICB2YXJzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgdmFycy5zdGFnZ2VyID0gdmFycy5zdGFnZ2VyIHx8IHN0YWdnZXI7XG4gICAgdmFycy5vbkNvbXBsZXRlID0gb25Db21wbGV0ZUFsbDtcbiAgICB2YXJzLm9uQ29tcGxldGVQYXJhbXMgPSBvbkNvbXBsZXRlQWxsUGFyYW1zO1xuICAgIHZhcnMucGFyZW50ID0gdGhpcztcbiAgICBuZXcgVHdlZW4odGFyZ2V0cywgdmFycywgX3BhcnNlUG9zaXRpb24odGhpcywgcG9zaXRpb24pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8yLnN0YWdnZXJGcm9tID0gZnVuY3Rpb24gc3RhZ2dlckZyb20odGFyZ2V0cywgZHVyYXRpb24sIHZhcnMsIHN0YWdnZXIsIHBvc2l0aW9uLCBvbkNvbXBsZXRlQWxsLCBvbkNvbXBsZXRlQWxsUGFyYW1zKSB7XG4gICAgdmFycy5ydW5CYWNrd2FyZHMgPSAxO1xuICAgIF9pbmhlcml0RGVmYXVsdHModmFycykuaW1tZWRpYXRlUmVuZGVyID0gX2lzTm90RmFsc2UodmFycy5pbW1lZGlhdGVSZW5kZXIpO1xuICAgIHJldHVybiB0aGlzLnN0YWdnZXJUbyh0YXJnZXRzLCBkdXJhdGlvbiwgdmFycywgc3RhZ2dlciwgcG9zaXRpb24sIG9uQ29tcGxldGVBbGwsIG9uQ29tcGxldGVBbGxQYXJhbXMpO1xuICB9O1xuXG4gIF9wcm90bzIuc3RhZ2dlckZyb21UbyA9IGZ1bmN0aW9uIHN0YWdnZXJGcm9tVG8odGFyZ2V0cywgZHVyYXRpb24sIGZyb21WYXJzLCB0b1ZhcnMsIHN0YWdnZXIsIHBvc2l0aW9uLCBvbkNvbXBsZXRlQWxsLCBvbkNvbXBsZXRlQWxsUGFyYW1zKSB7XG4gICAgdG9WYXJzLnN0YXJ0QXQgPSBmcm9tVmFycztcbiAgICBfaW5oZXJpdERlZmF1bHRzKHRvVmFycykuaW1tZWRpYXRlUmVuZGVyID0gX2lzTm90RmFsc2UodG9WYXJzLmltbWVkaWF0ZVJlbmRlcik7XG4gICAgcmV0dXJuIHRoaXMuc3RhZ2dlclRvKHRhcmdldHMsIGR1cmF0aW9uLCB0b1ZhcnMsIHN0YWdnZXIsIHBvc2l0aW9uLCBvbkNvbXBsZXRlQWxsLCBvbkNvbXBsZXRlQWxsUGFyYW1zKTtcbiAgfTtcblxuICBfcHJvdG8yLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcih0b3RhbFRpbWUsIHN1cHByZXNzRXZlbnRzLCBmb3JjZSkge1xuICAgIHZhciBwcmV2VGltZSA9IHRoaXMuX3RpbWUsXG4gICAgICAgIHREdXIgPSB0aGlzLl9kaXJ0eSA/IHRoaXMudG90YWxEdXJhdGlvbigpIDogdGhpcy5fdER1cixcbiAgICAgICAgZHVyID0gdGhpcy5fZHVyLFxuICAgICAgICB0VGltZSA9IHRoaXMgIT09IF9nbG9iYWxUaW1lbGluZSAmJiB0b3RhbFRpbWUgPiB0RHVyIC0gX3RpbnlOdW0gJiYgdG90YWxUaW1lID49IDAgPyB0RHVyIDogdG90YWxUaW1lIDwgX3RpbnlOdW0gPyAwIDogdG90YWxUaW1lLFxuICAgICAgICBjcm9zc2luZ1N0YXJ0ID0gdGhpcy5felRpbWUgPCAwICE9PSB0b3RhbFRpbWUgPCAwICYmICh0aGlzLl9pbml0dGVkIHx8ICFkdXIpLFxuICAgICAgICB0aW1lLFxuICAgICAgICBjaGlsZCxcbiAgICAgICAgbmV4dCxcbiAgICAgICAgaXRlcmF0aW9uLFxuICAgICAgICBjeWNsZUR1cmF0aW9uLFxuICAgICAgICBwcmV2UGF1c2VkLFxuICAgICAgICBwYXVzZVR3ZWVuLFxuICAgICAgICB0aW1lU2NhbGUsXG4gICAgICAgIHByZXZTdGFydCxcbiAgICAgICAgcHJldkl0ZXJhdGlvbixcbiAgICAgICAgeW95byxcbiAgICAgICAgaXNZb3lvO1xuXG4gICAgaWYgKHRUaW1lICE9PSB0aGlzLl90VGltZSB8fCBmb3JjZSB8fCBjcm9zc2luZ1N0YXJ0KSB7XG4gICAgICBpZiAocHJldlRpbWUgIT09IHRoaXMuX3RpbWUgJiYgZHVyKSB7XG4gICAgICAgIC8vaWYgdG90YWxEdXJhdGlvbigpIGZpbmRzIGEgY2hpbGQgd2l0aCBhIG5lZ2F0aXZlIHN0YXJ0VGltZSBhbmQgc21vb3RoQ2hpbGRUaW1pbmcgaXMgdHJ1ZSwgdGhpbmdzIGdldCBzaGlmdGVkIGFyb3VuZCBpbnRlcm5hbGx5IHNvIHdlIG5lZWQgdG8gYWRqdXN0IHRoZSB0aW1lIGFjY29yZGluZ2x5LiBGb3IgZXhhbXBsZSwgaWYgYSB0d2VlbiBzdGFydHMgYXQgLTMwIHdlIG11c3Qgc2hpZnQgRVZFUllUSElORyBmb3J3YXJkIDMwIHNlY29uZHMgYW5kIG1vdmUgdGhpcyB0aW1lbGluZSdzIHN0YXJ0VGltZSBiYWNrd2FyZCBieSAzMCBzZWNvbmRzIHNvIHRoYXQgdGhpbmdzIGFsaWduIHdpdGggdGhlIHBsYXloZWFkIChubyBqdW1wKS5cbiAgICAgICAgdFRpbWUgKz0gdGhpcy5fdGltZSAtIHByZXZUaW1lO1xuICAgICAgICB0b3RhbFRpbWUgKz0gdGhpcy5fdGltZSAtIHByZXZUaW1lO1xuICAgICAgfVxuXG4gICAgICB0aW1lID0gdFRpbWU7XG4gICAgICBwcmV2U3RhcnQgPSB0aGlzLl9zdGFydDtcbiAgICAgIHRpbWVTY2FsZSA9IHRoaXMuX3RzO1xuICAgICAgcHJldlBhdXNlZCA9ICF0aW1lU2NhbGU7XG5cbiAgICAgIGlmIChjcm9zc2luZ1N0YXJ0KSB7XG4gICAgICAgIGR1ciB8fCAocHJldlRpbWUgPSB0aGlzLl96VGltZSk7IC8vd2hlbiB0aGUgcGxheWhlYWQgYXJyaXZlcyBhdCBFWEFDVExZIHRpbWUgMCAocmlnaHQgb24gdG9wKSBvZiBhIHplcm8tZHVyYXRpb24gdGltZWxpbmUsIHdlIG5lZWQgdG8gZGlzY2VybiBpZiBldmVudHMgYXJlIHN1cHByZXNzZWQgc28gdGhhdCB3aGVuIHRoZSBwbGF5aGVhZCBtb3ZlcyBhZ2FpbiAobmV4dCB0aW1lKSwgaXQnbGwgdHJpZ2dlciB0aGUgY2FsbGJhY2suIElmIGV2ZW50cyBhcmUgTk9UIHN1cHByZXNzZWQsIG9idmlvdXNseSB0aGUgY2FsbGJhY2sgd291bGQgYmUgdHJpZ2dlcmVkIGluIHRoaXMgcmVuZGVyLiBCYXNpY2FsbHksIHRoZSBjYWxsYmFjayBzaG91bGQgZmlyZSBlaXRoZXIgd2hlbiB0aGUgcGxheWhlYWQgQVJSSVZFUyBvciBMRUFWRVMgdGhpcyBleGFjdCBzcG90LCBub3QgYm90aC4gSW1hZ2luZSBkb2luZyBhIHRpbWVsaW5lLnNlZWsoMCkgYW5kIHRoZXJlJ3MgYSBjYWxsYmFjayB0aGF0IHNpdHMgYXQgMC4gU2luY2UgZXZlbnRzIGFyZSBzdXBwcmVzc2VkIG9uIHRoYXQgc2VlaygpIGJ5IGRlZmF1bHQsIG5vdGhpbmcgd2lsbCBmaXJlLCBidXQgd2hlbiB0aGUgcGxheWhlYWQgbW92ZXMgb2ZmIG9mIHRoYXQgcG9zaXRpb24sIHRoZSBjYWxsYmFjayBzaG91bGQgZmlyZS4gVGhpcyBiZWhhdmlvciBpcyB3aGF0IHBlb3BsZSBpbnR1aXRpdmVseSBleHBlY3QuXG5cbiAgICAgICAgKHRvdGFsVGltZSB8fCAhc3VwcHJlc3NFdmVudHMpICYmICh0aGlzLl96VGltZSA9IHRvdGFsVGltZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9yZXBlYXQpIHtcbiAgICAgICAgLy9hZGp1c3QgdGhlIHRpbWUgZm9yIHJlcGVhdHMgYW5kIHlveW9zXG4gICAgICAgIHlveW8gPSB0aGlzLl95b3lvO1xuICAgICAgICBjeWNsZUR1cmF0aW9uID0gZHVyICsgdGhpcy5fckRlbGF5O1xuICAgICAgICB0aW1lID0gX3JvdW5kKHRUaW1lICUgY3ljbGVEdXJhdGlvbik7IC8vcm91bmQgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgZXJyb3JzLiAoNCAlIDAuOCBzaG91bGQgYmUgMCBidXQgc29tZSBicm93c2VycyByZXBvcnQgaXQgYXMgMC43OTk5OTk5OSEpXG5cbiAgICAgICAgaWYgKHRUaW1lID09PSB0RHVyKSB7XG4gICAgICAgICAgLy8gdGhlIHREdXIgPT09IHRUaW1lIGlzIGZvciBlZGdlIGNhc2VzIHdoZXJlIHRoZXJlJ3MgYSBsZW5ndGh5IGRlY2ltYWwgb24gdGhlIGR1cmF0aW9uIGFuZCBpdCBtYXkgcmVhY2ggdGhlIHZlcnkgZW5kIGJ1dCB0aGUgdGltZSBpcyByZW5kZXJlZCBhcyBub3QtcXVpdGUtdGhlcmUgKHJlbWVtYmVyLCB0RHVyIGlzIHJvdW5kZWQgdG8gNCBkZWNpbWFscyB3aGVyZWFzIGR1ciBpc24ndClcbiAgICAgICAgICBpdGVyYXRpb24gPSB0aGlzLl9yZXBlYXQ7XG4gICAgICAgICAgdGltZSA9IGR1cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVyYXRpb24gPSB+fih0VGltZSAvIGN5Y2xlRHVyYXRpb24pO1xuXG4gICAgICAgICAgaWYgKGl0ZXJhdGlvbiAmJiBpdGVyYXRpb24gPT09IHRUaW1lIC8gY3ljbGVEdXJhdGlvbikge1xuICAgICAgICAgICAgdGltZSA9IGR1cjtcbiAgICAgICAgICAgIGl0ZXJhdGlvbi0tO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRpbWUgPiBkdXIgJiYgKHRpbWUgPSBkdXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldkl0ZXJhdGlvbiA9IF9hbmltYXRpb25DeWNsZSh0aGlzLl90VGltZSwgY3ljbGVEdXJhdGlvbik7XG4gICAgICAgICFwcmV2VGltZSAmJiB0aGlzLl90VGltZSAmJiBwcmV2SXRlcmF0aW9uICE9PSBpdGVyYXRpb24gJiYgKHByZXZJdGVyYXRpb24gPSBpdGVyYXRpb24pOyAvLyBlZGdlIGNhc2UgLSBpZiBzb21lb25lIGRvZXMgYWRkUGF1c2UoKSBhdCB0aGUgdmVyeSBiZWdpbm5pbmcgb2YgYSByZXBlYXRpbmcgdGltZWxpbmUsIHRoYXQgcGF1c2UgaXMgdGVjaG5pY2FsbHkgYXQgdGhlIHNhbWUgc3BvdCBhcyB0aGUgZW5kIHdoaWNoIGNhdXNlcyB0aGlzLl90aW1lIHRvIGdldCBzZXQgdG8gMCB3aGVuIHRoZSB0b3RhbFRpbWUgd291bGQgbm9ybWFsbHkgcGxhY2UgdGhlIHBsYXloZWFkIGF0IHRoZSBlbmQuIFNlZSBodHRwczovL2dyZWVuc29jay5jb20vZm9ydW1zL3RvcGljLzIzODIzLWNsb3NpbmctbmF2LWFuaW1hdGlvbi1ub3Qtd29ya2luZy1vbi1pZS1hbmQtaXBob25lLTYtbWF5YmUtb3RoZXItb2xkZXItYnJvd3Nlci8/dGFiPWNvbW1lbnRzI2NvbW1lbnQtMTEzMDA1XG5cbiAgICAgICAgaWYgKHlveW8gJiYgaXRlcmF0aW9uICYgMSkge1xuICAgICAgICAgIHRpbWUgPSBkdXIgLSB0aW1lO1xuICAgICAgICAgIGlzWW95byA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgbWFrZSBzdXJlIGNoaWxkcmVuIGF0IHRoZSBlbmQvYmVnaW5uaW5nIG9mIHRoZSB0aW1lbGluZSBhcmUgcmVuZGVyZWQgcHJvcGVybHkuIElmLCBmb3IgZXhhbXBsZSxcbiAgICAgICAgYSAzLXNlY29uZCBsb25nIHRpbWVsaW5lIHJlbmRlcmVkIGF0IDIuOSBzZWNvbmRzIHByZXZpb3VzbHksIGFuZCBub3cgcmVuZGVycyBhdCAzLjIgc2Vjb25kcyAod2hpY2hcbiAgICAgICAgd291bGQgZ2V0IHRyYW5zbGF0ZWQgdG8gMi44IHNlY29uZHMgaWYgdGhlIHRpbWVsaW5lIHlveW9zIG9yIDAuMiBzZWNvbmRzIGlmIGl0IGp1c3QgcmVwZWF0cyksIHRoZXJlXG4gICAgICAgIGNvdWxkIGJlIGEgY2FsbGJhY2sgb3IgYSBzaG9ydCB0d2VlbiB0aGF0J3MgYXQgMi45NSBvciAzIHNlY29uZHMgaW4gd2hpY2ggd291bGRuJ3QgcmVuZGVyLiBTb1xuICAgICAgICB3ZSBuZWVkIHRvIHB1c2ggdGhlIHRpbWVsaW5lIHRvIHRoZSBlbmQgKGFuZC9vciBiZWdpbm5pbmcgZGVwZW5kaW5nIG9uIGl0cyB5b3lvIHZhbHVlKS4gQWxzbyB3ZSBtdXN0XG4gICAgICAgIGVuc3VyZSB0aGF0IHplcm8tZHVyYXRpb24gdHdlZW5zIGF0IHRoZSB2ZXJ5IGJlZ2lubmluZyBvciBlbmQgb2YgdGhlIFRpbWVsaW5lIHdvcmsuXG4gICAgICAgICovXG5cblxuICAgICAgICBpZiAoaXRlcmF0aW9uICE9PSBwcmV2SXRlcmF0aW9uICYmICF0aGlzLl9sb2NrKSB7XG4gICAgICAgICAgdmFyIHJld2luZGluZyA9IHlveW8gJiYgcHJldkl0ZXJhdGlvbiAmIDEsXG4gICAgICAgICAgICAgIGRvZXNXcmFwID0gcmV3aW5kaW5nID09PSAoeW95byAmJiBpdGVyYXRpb24gJiAxKTtcbiAgICAgICAgICBpdGVyYXRpb24gPCBwcmV2SXRlcmF0aW9uICYmIChyZXdpbmRpbmcgPSAhcmV3aW5kaW5nKTtcbiAgICAgICAgICBwcmV2VGltZSA9IHJld2luZGluZyA/IDAgOiBkdXI7XG4gICAgICAgICAgdGhpcy5fbG9jayA9IDE7XG4gICAgICAgICAgdGhpcy5yZW5kZXIocHJldlRpbWUgfHwgKGlzWW95byA/IDAgOiBfcm91bmQoaXRlcmF0aW9uICogY3ljbGVEdXJhdGlvbikpLCBzdXBwcmVzc0V2ZW50cywgIWR1cikuX2xvY2sgPSAwO1xuICAgICAgICAgICFzdXBwcmVzc0V2ZW50cyAmJiB0aGlzLnBhcmVudCAmJiBfY2FsbGJhY2sodGhpcywgXCJvblJlcGVhdFwiKTtcbiAgICAgICAgICB0aGlzLnZhcnMucmVwZWF0UmVmcmVzaCAmJiAhaXNZb3lvICYmICh0aGlzLmludmFsaWRhdGUoKS5fbG9jayA9IDEpO1xuXG4gICAgICAgICAgaWYgKHByZXZUaW1lICE9PSB0aGlzLl90aW1lIHx8IHByZXZQYXVzZWQgIT09ICF0aGlzLl90cykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZHVyID0gdGhpcy5fZHVyOyAvLyBpbiBjYXNlIHRoZSBkdXJhdGlvbiBjaGFuZ2VkIGluIHRoZSBvblJlcGVhdFxuXG4gICAgICAgICAgdER1ciA9IHRoaXMuX3REdXI7XG5cbiAgICAgICAgICBpZiAoZG9lc1dyYXApIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2sgPSAyO1xuICAgICAgICAgICAgcHJldlRpbWUgPSByZXdpbmRpbmcgPyBkdXIgOiAtMC4wMDAxO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIocHJldlRpbWUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy52YXJzLnJlcGVhdFJlZnJlc2ggJiYgIWlzWW95byAmJiB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLl9sb2NrID0gMDtcblxuICAgICAgICAgIGlmICghdGhpcy5fdHMgJiYgIXByZXZQYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH0gLy9pbiBvcmRlciBmb3IgeW95b0Vhc2UgdG8gd29yayBwcm9wZXJseSB3aGVuIHRoZXJlJ3MgYSBzdGFnZ2VyLCB3ZSBtdXN0IHN3YXAgb3V0IHRoZSBlYXNlIGluIGVhY2ggc3ViLXR3ZWVuLlxuXG5cbiAgICAgICAgICBfcHJvcGFnYXRlWW95b0Vhc2UodGhpcywgaXNZb3lvKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faGFzUGF1c2UgJiYgIXRoaXMuX2ZvcmNpbmcgJiYgdGhpcy5fbG9jayA8IDIpIHtcbiAgICAgICAgcGF1c2VUd2VlbiA9IF9maW5kTmV4dFBhdXNlVHdlZW4odGhpcywgX3JvdW5kKHByZXZUaW1lKSwgX3JvdW5kKHRpbWUpKTtcblxuICAgICAgICBpZiAocGF1c2VUd2Vlbikge1xuICAgICAgICAgIHRUaW1lIC09IHRpbWUgLSAodGltZSA9IHBhdXNlVHdlZW4uX3N0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl90VGltZSA9IHRUaW1lO1xuICAgICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgICB0aGlzLl9hY3QgPSAhdGltZVNjYWxlOyAvL2FzIGxvbmcgYXMgaXQncyBub3QgcGF1c2VkLCBmb3JjZSBpdCB0byBiZSBhY3RpdmUgc28gdGhhdCBpZiB0aGUgdXNlciByZW5kZXJzIGluZGVwZW5kZW50IG9mIHRoZSBwYXJlbnQgdGltZWxpbmUsIGl0J2xsIGJlIGZvcmNlZCB0byByZS1yZW5kZXIgb24gdGhlIG5leHQgdGljay5cblxuICAgICAgaWYgKCF0aGlzLl9pbml0dGVkKSB7XG4gICAgICAgIHRoaXMuX29uVXBkYXRlID0gdGhpcy52YXJzLm9uVXBkYXRlO1xuICAgICAgICB0aGlzLl9pbml0dGVkID0gMTtcbiAgICAgICAgdGhpcy5felRpbWUgPSB0b3RhbFRpbWU7XG4gICAgICB9XG5cbiAgICAgICFwcmV2VGltZSAmJiB0aW1lICYmICFzdXBwcmVzc0V2ZW50cyAmJiBfY2FsbGJhY2sodGhpcywgXCJvblN0YXJ0XCIpO1xuXG4gICAgICBpZiAodGltZSA+PSBwcmV2VGltZSAmJiB0b3RhbFRpbWUgPj0gMCkge1xuICAgICAgICBjaGlsZCA9IHRoaXMuX2ZpcnN0O1xuXG4gICAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICAgIG5leHQgPSBjaGlsZC5fbmV4dDtcblxuICAgICAgICAgIGlmICgoY2hpbGQuX2FjdCB8fCB0aW1lID49IGNoaWxkLl9zdGFydCkgJiYgY2hpbGQuX3RzICYmIHBhdXNlVHdlZW4gIT09IGNoaWxkKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgIC8vIGFuIGV4dHJlbWUgZWRnZSBjYXNlIC0gdGhlIGNoaWxkJ3MgcmVuZGVyIGNvdWxkIGRvIHNvbWV0aGluZyBsaWtlIGtpbGwoKSB0aGUgXCJuZXh0XCIgb25lIGluIHRoZSBsaW5rZWQgbGlzdCwgb3IgcmVwYXJlbnQgaXQuIEluIHRoYXQgY2FzZSB3ZSBtdXN0IHJlLWluaXRpYXRlIHRoZSB3aG9sZSByZW5kZXIgdG8gYmUgc2FmZS5cbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHRvdGFsVGltZSwgc3VwcHJlc3NFdmVudHMsIGZvcmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucmVuZGVyKGNoaWxkLl90cyA+IDAgPyAodGltZSAtIGNoaWxkLl9zdGFydCkgKiBjaGlsZC5fdHMgOiAoY2hpbGQuX2RpcnR5ID8gY2hpbGQudG90YWxEdXJhdGlvbigpIDogY2hpbGQuX3REdXIpICsgKHRpbWUgLSBjaGlsZC5fc3RhcnQpICogY2hpbGQuX3RzLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpO1xuXG4gICAgICAgICAgICBpZiAodGltZSAhPT0gdGhpcy5fdGltZSB8fCAhdGhpcy5fdHMgJiYgIXByZXZQYXVzZWQpIHtcbiAgICAgICAgICAgICAgLy9pbiBjYXNlIGEgdHdlZW4gcGF1c2VzIG9yIHNlZWtzIHRoZSB0aW1lbGluZSB3aGVuIHJlbmRlcmluZywgbGlrZSBpbnNpZGUgb2YgYW4gb25VcGRhdGUvb25Db21wbGV0ZVxuICAgICAgICAgICAgICBwYXVzZVR3ZWVuID0gMDtcbiAgICAgICAgICAgICAgbmV4dCAmJiAodFRpbWUgKz0gdGhpcy5felRpbWUgPSAtX3RpbnlOdW0pOyAvLyBpdCBkaWRuJ3QgZmluaXNoIHJlbmRlcmluZywgc28gZmxhZyB6VGltZSBhcyBuZWdhdGl2ZSBzbyB0aGF0IHNvIHRoYXQgdGhlIG5leHQgdGltZSByZW5kZXIoKSBpcyBjYWxsZWQgaXQnbGwgYmUgZm9yY2VkICh0byByZW5kZXIgYW55IHJlbWFpbmluZyBjaGlsZHJlbilcblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGlsZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkID0gdGhpcy5fbGFzdDtcbiAgICAgICAgdmFyIGFkanVzdGVkVGltZSA9IHRvdGFsVGltZSA8IDAgPyB0b3RhbFRpbWUgOiB0aW1lOyAvL3doZW4gdGhlIHBsYXloZWFkIGdvZXMgYmFja3dhcmQgYmV5b25kIHRoZSBzdGFydCBvZiB0aGlzIHRpbWVsaW5lLCB3ZSBtdXN0IHBhc3MgdGhhdCBpbmZvcm1hdGlvbiBkb3duIHRvIHRoZSBjaGlsZCBhbmltYXRpb25zIHNvIHRoYXQgemVyby1kdXJhdGlvbiB0d2VlbnMga25vdyB3aGV0aGVyIHRvIHJlbmRlciB0aGVpciBzdGFydGluZyBvciBlbmRpbmcgdmFsdWVzLlxuXG4gICAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICAgIG5leHQgPSBjaGlsZC5fcHJldjtcblxuICAgICAgICAgIGlmICgoY2hpbGQuX2FjdCB8fCBhZGp1c3RlZFRpbWUgPD0gY2hpbGQuX2VuZCkgJiYgY2hpbGQuX3RzICYmIHBhdXNlVHdlZW4gIT09IGNoaWxkKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgIC8vIGFuIGV4dHJlbWUgZWRnZSBjYXNlIC0gdGhlIGNoaWxkJ3MgcmVuZGVyIGNvdWxkIGRvIHNvbWV0aGluZyBsaWtlIGtpbGwoKSB0aGUgXCJuZXh0XCIgb25lIGluIHRoZSBsaW5rZWQgbGlzdCwgb3IgcmVwYXJlbnQgaXQuIEluIHRoYXQgY2FzZSB3ZSBtdXN0IHJlLWluaXRpYXRlIHRoZSB3aG9sZSByZW5kZXIgdG8gYmUgc2FmZS5cbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHRvdGFsVGltZSwgc3VwcHJlc3NFdmVudHMsIGZvcmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucmVuZGVyKGNoaWxkLl90cyA+IDAgPyAoYWRqdXN0ZWRUaW1lIC0gY2hpbGQuX3N0YXJ0KSAqIGNoaWxkLl90cyA6IChjaGlsZC5fZGlydHkgPyBjaGlsZC50b3RhbER1cmF0aW9uKCkgOiBjaGlsZC5fdER1cikgKyAoYWRqdXN0ZWRUaW1lIC0gY2hpbGQuX3N0YXJ0KSAqIGNoaWxkLl90cywgc3VwcHJlc3NFdmVudHMsIGZvcmNlKTtcblxuICAgICAgICAgICAgaWYgKHRpbWUgIT09IHRoaXMuX3RpbWUgfHwgIXRoaXMuX3RzICYmICFwcmV2UGF1c2VkKSB7XG4gICAgICAgICAgICAgIC8vaW4gY2FzZSBhIHR3ZWVuIHBhdXNlcyBvciBzZWVrcyB0aGUgdGltZWxpbmUgd2hlbiByZW5kZXJpbmcsIGxpa2UgaW5zaWRlIG9mIGFuIG9uVXBkYXRlL29uQ29tcGxldGVcbiAgICAgICAgICAgICAgcGF1c2VUd2VlbiA9IDA7XG4gICAgICAgICAgICAgIG5leHQgJiYgKHRUaW1lICs9IHRoaXMuX3pUaW1lID0gYWRqdXN0ZWRUaW1lID8gLV90aW55TnVtIDogX3RpbnlOdW0pOyAvLyBpdCBkaWRuJ3QgZmluaXNoIHJlbmRlcmluZywgc28gYWRqdXN0IHpUaW1lIHNvIHRoYXQgc28gdGhhdCB0aGUgbmV4dCB0aW1lIHJlbmRlcigpIGlzIGNhbGxlZCBpdCdsbCBiZSBmb3JjZWQgKHRvIHJlbmRlciBhbnkgcmVtYWluaW5nIGNoaWxkcmVuKVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNoaWxkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGF1c2VUd2VlbiAmJiAhc3VwcHJlc3NFdmVudHMpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICBwYXVzZVR3ZWVuLnJlbmRlcih0aW1lID49IHByZXZUaW1lID8gMCA6IC1fdGlueU51bSkuX3pUaW1lID0gdGltZSA+PSBwcmV2VGltZSA/IDEgOiAtMTtcblxuICAgICAgICBpZiAodGhpcy5fdHMpIHtcbiAgICAgICAgICAvL3RoZSBjYWxsYmFjayByZXN1bWVkIHBsYXliYWNrISBTbyBzaW5jZSB3ZSBtYXkgaGF2ZSBoZWxkIGJhY2sgdGhlIHBsYXloZWFkIGR1ZSB0byB3aGVyZSB0aGUgcGF1c2UgaXMgcG9zaXRpb25lZCwgZ28gYWhlYWQgYW5kIGp1bXAgdG8gd2hlcmUgaXQncyBTVVBQT1NFRCB0byBiZSAoaWYgbm8gcGF1c2UgaGFwcGVuZWQpLlxuICAgICAgICAgIHRoaXMuX3N0YXJ0ID0gcHJldlN0YXJ0OyAvL2lmIHRoZSBwYXVzZSB3YXMgYXQgYW4gZWFybGllciB0aW1lIGFuZCB0aGUgdXNlciByZXN1bWVkIGluIHRoZSBjYWxsYmFjaywgaXQgY291bGQgcmVwb3NpdGlvbiB0aGUgdGltZWxpbmUgKGNoYW5naW5nIGl0cyBzdGFydFRpbWUpLCB0aHJvd2luZyB0aGluZ3Mgb2ZmIHNsaWdodGx5LCBzbyB3ZSBtYWtlIHN1cmUgdGhlIF9zdGFydCBkb2Vzbid0IHNoaWZ0LlxuXG4gICAgICAgICAgX3NldEVuZCh0aGlzKTtcblxuICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcih0b3RhbFRpbWUsIHN1cHByZXNzRXZlbnRzLCBmb3JjZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fb25VcGRhdGUgJiYgIXN1cHByZXNzRXZlbnRzICYmIF9jYWxsYmFjayh0aGlzLCBcIm9uVXBkYXRlXCIsIHRydWUpO1xuICAgICAgaWYgKHRUaW1lID09PSB0RHVyICYmIHREdXIgPj0gdGhpcy50b3RhbER1cmF0aW9uKCkgfHwgIXRUaW1lICYmIHByZXZUaW1lKSBpZiAocHJldlN0YXJ0ID09PSB0aGlzLl9zdGFydCB8fCBNYXRoLmFicyh0aW1lU2NhbGUpICE9PSBNYXRoLmFicyh0aGlzLl90cykpIGlmICghdGhpcy5fbG9jaykge1xuICAgICAgICAodG90YWxUaW1lIHx8ICFkdXIpICYmICh0VGltZSA9PT0gdER1ciAmJiB0aGlzLl90cyA+IDAgfHwgIXRUaW1lICYmIHRoaXMuX3RzIDwgMCkgJiYgX3JlbW92ZUZyb21QYXJlbnQodGhpcywgMSk7IC8vIGRvbid0IHJlbW92ZSBpZiB0aGUgdGltZWxpbmUgaXMgcmV2ZXJzZWQgYW5kIHRoZSBwbGF5aGVhZCBpc24ndCBhdCAwLCBvdGhlcndpc2UgdGwucHJvZ3Jlc3MoMSkucmV2ZXJzZSgpIHdvbid0IHdvcmsuIE9ubHkgcmVtb3ZlIGlmIHRoZSBwbGF5aGVhZCBpcyBhdCB0aGUgZW5kIGFuZCB0aW1lU2NhbGUgaXMgcG9zaXRpdmUsIG9yIGlmIHRoZSBwbGF5aGVhZCBpcyBhdCAwIGFuZCB0aGUgdGltZVNjYWxlIGlzIG5lZ2F0aXZlLlxuXG4gICAgICAgIGlmICghc3VwcHJlc3NFdmVudHMgJiYgISh0b3RhbFRpbWUgPCAwICYmICFwcmV2VGltZSkgJiYgKHRUaW1lIHx8IHByZXZUaW1lKSkge1xuICAgICAgICAgIF9jYWxsYmFjayh0aGlzLCB0VGltZSA9PT0gdER1ciA/IFwib25Db21wbGV0ZVwiIDogXCJvblJldmVyc2VDb21wbGV0ZVwiLCB0cnVlKTtcblxuICAgICAgICAgIHRoaXMuX3Byb20gJiYgISh0VGltZSA8IHREdXIgJiYgdGhpcy50aW1lU2NhbGUoKSA+IDApICYmIHRoaXMuX3Byb20oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzIuYWRkID0gZnVuY3Rpb24gYWRkKGNoaWxkLCBwb3NpdGlvbikge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKCFfaXNOdW1iZXIocG9zaXRpb24pKSB7XG4gICAgICBwb3NpdGlvbiA9IF9wYXJzZVBvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoIShjaGlsZCBpbnN0YW5jZW9mIEFuaW1hdGlvbikpIHtcbiAgICAgIGlmIChfaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgY2hpbGQuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGQob2JqLCBwb3NpdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKF9pc1N0cmluZyhjaGlsZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGFiZWwoY2hpbGQsIHBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9pc0Z1bmN0aW9uKGNoaWxkKSkge1xuICAgICAgICBjaGlsZCA9IFR3ZWVuLmRlbGF5ZWRDYWxsKDAsIGNoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzICE9PSBjaGlsZCA/IF9hZGRUb1RpbWVsaW5lKHRoaXMsIGNoaWxkLCBwb3NpdGlvbikgOiB0aGlzOyAvL2Rvbid0IGFsbG93IGEgdGltZWxpbmUgdG8gYmUgYWRkZWQgdG8gaXRzZWxmIGFzIGEgY2hpbGQhXG4gIH07XG5cbiAgX3Byb3RvMi5nZXRDaGlsZHJlbiA9IGZ1bmN0aW9uIGdldENoaWxkcmVuKG5lc3RlZCwgdHdlZW5zLCB0aW1lbGluZXMsIGlnbm9yZUJlZm9yZVRpbWUpIHtcbiAgICBpZiAobmVzdGVkID09PSB2b2lkIDApIHtcbiAgICAgIG5lc3RlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR3ZWVucyA9PT0gdm9pZCAwKSB7XG4gICAgICB0d2VlbnMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0aW1lbGluZXMgPT09IHZvaWQgMCkge1xuICAgICAgdGltZWxpbmVzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaWdub3JlQmVmb3JlVGltZSA9PT0gdm9pZCAwKSB7XG4gICAgICBpZ25vcmVCZWZvcmVUaW1lID0gLV9iaWdOdW07XG4gICAgfVxuXG4gICAgdmFyIGEgPSBbXSxcbiAgICAgICAgY2hpbGQgPSB0aGlzLl9maXJzdDtcblxuICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLl9zdGFydCA+PSBpZ25vcmVCZWZvcmVUaW1lKSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFR3ZWVuKSB7XG4gICAgICAgICAgdHdlZW5zICYmIGEucHVzaChjaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGltZWxpbmVzICYmIGEucHVzaChjaGlsZCk7XG4gICAgICAgICAgbmVzdGVkICYmIGEucHVzaC5hcHBseShhLCBjaGlsZC5nZXRDaGlsZHJlbih0cnVlLCB0d2VlbnMsIHRpbWVsaW5lcykpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNoaWxkID0gY2hpbGQuX25leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG5cbiAgX3Byb3RvMi5nZXRCeUlkID0gZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xuICAgIHZhciBhbmltYXRpb25zID0gdGhpcy5nZXRDaGlsZHJlbigxLCAxLCAxKSxcbiAgICAgICAgaSA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgaWYgKGFuaW1hdGlvbnNbaV0udmFycy5pZCA9PT0gaWQpIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnNbaV07XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90bzIucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKGNoaWxkKSB7XG4gICAgaWYgKF9pc1N0cmluZyhjaGlsZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbW92ZUxhYmVsKGNoaWxkKTtcbiAgICB9XG5cbiAgICBpZiAoX2lzRnVuY3Rpb24oY2hpbGQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5raWxsVHdlZW5zT2YoY2hpbGQpO1xuICAgIH1cblxuICAgIF9yZW1vdmVMaW5rZWRMaXN0SXRlbSh0aGlzLCBjaGlsZCk7XG5cbiAgICBpZiAoY2hpbGQgPT09IHRoaXMuX3JlY2VudCkge1xuICAgICAgdGhpcy5fcmVjZW50ID0gdGhpcy5fbGFzdDtcbiAgICB9XG5cbiAgICByZXR1cm4gX3VuY2FjaGUodGhpcyk7XG4gIH07XG5cbiAgX3Byb3RvMi50b3RhbFRpbWUgPSBmdW5jdGlvbiB0b3RhbFRpbWUoX3RvdGFsVGltZTIsIHN1cHByZXNzRXZlbnRzKSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdFRpbWU7XG4gICAgfVxuXG4gICAgdGhpcy5fZm9yY2luZyA9IDE7XG5cbiAgICBpZiAoIXRoaXMuX2RwICYmIHRoaXMuX3RzKSB7XG4gICAgICAvL3NwZWNpYWwgY2FzZSBmb3IgdGhlIGdsb2JhbCB0aW1lbGluZSAob3IgYW55IG90aGVyIHRoYXQgaGFzIG5vIHBhcmVudCBvciBkZXRhY2hlZCBwYXJlbnQpLlxuICAgICAgdGhpcy5fc3RhcnQgPSBfcm91bmQoX3RpY2tlci50aW1lIC0gKHRoaXMuX3RzID4gMCA/IF90b3RhbFRpbWUyIC8gdGhpcy5fdHMgOiAodGhpcy50b3RhbER1cmF0aW9uKCkgLSBfdG90YWxUaW1lMikgLyAtdGhpcy5fdHMpKTtcbiAgICB9XG5cbiAgICBfQW5pbWF0aW9uLnByb3RvdHlwZS50b3RhbFRpbWUuY2FsbCh0aGlzLCBfdG90YWxUaW1lMiwgc3VwcHJlc3NFdmVudHMpO1xuXG4gICAgdGhpcy5fZm9yY2luZyA9IDA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgX3Byb3RvMi5hZGRMYWJlbCA9IGZ1bmN0aW9uIGFkZExhYmVsKGxhYmVsLCBwb3NpdGlvbikge1xuICAgIHRoaXMubGFiZWxzW2xhYmVsXSA9IF9wYXJzZVBvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8yLnJlbW92ZUxhYmVsID0gZnVuY3Rpb24gcmVtb3ZlTGFiZWwobGFiZWwpIHtcbiAgICBkZWxldGUgdGhpcy5sYWJlbHNbbGFiZWxdO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzIuYWRkUGF1c2UgPSBmdW5jdGlvbiBhZGRQYXVzZShwb3NpdGlvbiwgY2FsbGJhY2ssIHBhcmFtcykge1xuICAgIHZhciB0ID0gVHdlZW4uZGVsYXllZENhbGwoMCwgY2FsbGJhY2sgfHwgX2VtcHR5RnVuYywgcGFyYW1zKTtcbiAgICB0LmRhdGEgPSBcImlzUGF1c2VcIjtcbiAgICB0aGlzLl9oYXNQYXVzZSA9IDE7XG4gICAgcmV0dXJuIF9hZGRUb1RpbWVsaW5lKHRoaXMsIHQsIF9wYXJzZVBvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKSk7XG4gIH07XG5cbiAgX3Byb3RvMi5yZW1vdmVQYXVzZSA9IGZ1bmN0aW9uIHJlbW92ZVBhdXNlKHBvc2l0aW9uKSB7XG4gICAgdmFyIGNoaWxkID0gdGhpcy5fZmlyc3Q7XG4gICAgcG9zaXRpb24gPSBfcGFyc2VQb3NpdGlvbih0aGlzLCBwb3NpdGlvbik7XG5cbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC5fc3RhcnQgPT09IHBvc2l0aW9uICYmIGNoaWxkLmRhdGEgPT09IFwiaXNQYXVzZVwiKSB7XG4gICAgICAgIF9yZW1vdmVGcm9tUGFyZW50KGNoaWxkKTtcbiAgICAgIH1cblxuICAgICAgY2hpbGQgPSBjaGlsZC5fbmV4dDtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvMi5raWxsVHdlZW5zT2YgPSBmdW5jdGlvbiBraWxsVHdlZW5zT2YodGFyZ2V0cywgcHJvcHMsIG9ubHlBY3RpdmUpIHtcbiAgICB2YXIgdHdlZW5zID0gdGhpcy5nZXRUd2VlbnNPZih0YXJnZXRzLCBvbmx5QWN0aXZlKSxcbiAgICAgICAgaSA9IHR3ZWVucy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBfb3ZlcndyaXRpbmdUd2VlbiAhPT0gdHdlZW5zW2ldICYmIHR3ZWVuc1tpXS5raWxsKHRhcmdldHMsIHByb3BzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8yLmdldFR3ZWVuc09mID0gZnVuY3Rpb24gZ2V0VHdlZW5zT2YodGFyZ2V0cywgb25seUFjdGl2ZSkge1xuICAgIHZhciBhID0gW10sXG4gICAgICAgIHBhcnNlZFRhcmdldHMgPSB0b0FycmF5KHRhcmdldHMpLFxuICAgICAgICBjaGlsZCA9IHRoaXMuX2ZpcnN0LFxuICAgICAgICBpc0dsb2JhbFRpbWUgPSBfaXNOdW1iZXIob25seUFjdGl2ZSksXG4gICAgICAgIC8vIGEgbnVtYmVyIGlzIGludGVycHJldGVkIGFzIGEgZ2xvYmFsIHRpbWUuIElmIHRoZSBhbmltYXRpb24gc3BhbnNcbiAgICBjaGlsZHJlbjtcblxuICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVHdlZW4pIHtcbiAgICAgICAgaWYgKF9hcnJheUNvbnRhaW5zQW55KGNoaWxkLl90YXJnZXRzLCBwYXJzZWRUYXJnZXRzKSAmJiAoaXNHbG9iYWxUaW1lID8gKCFfb3ZlcndyaXRpbmdUd2VlbiB8fCBjaGlsZC5faW5pdHRlZCAmJiBjaGlsZC5fdHMpICYmIGNoaWxkLmdsb2JhbFRpbWUoMCkgPD0gb25seUFjdGl2ZSAmJiBjaGlsZC5nbG9iYWxUaW1lKGNoaWxkLnRvdGFsRHVyYXRpb24oKSkgPiBvbmx5QWN0aXZlIDogIW9ubHlBY3RpdmUgfHwgY2hpbGQuaXNBY3RpdmUoKSkpIHtcbiAgICAgICAgICAvLyBub3RlOiBpZiB0aGlzIGlzIGZvciBvdmVyd3JpdGluZywgaXQgc2hvdWxkIG9ubHkgYmUgZm9yIHR3ZWVucyB0aGF0IGFyZW4ndCBwYXVzZWQgYW5kIGFyZSBpbml0dGVkLlxuICAgICAgICAgIGEucHVzaChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoKGNoaWxkcmVuID0gY2hpbGQuZ2V0VHdlZW5zT2YocGFyc2VkVGFyZ2V0cywgb25seUFjdGl2ZSkpLmxlbmd0aCkge1xuICAgICAgICBhLnB1c2guYXBwbHkoYSwgY2hpbGRyZW4pO1xuICAgICAgfVxuXG4gICAgICBjaGlsZCA9IGNoaWxkLl9uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xuXG4gIF9wcm90bzIudHdlZW5UbyA9IGZ1bmN0aW9uIHR3ZWVuVG8ocG9zaXRpb24sIHZhcnMpIHtcbiAgICB2YXJzID0gdmFycyB8fCB7fTtcblxuICAgIHZhciB0bCA9IHRoaXMsXG4gICAgICAgIGVuZFRpbWUgPSBfcGFyc2VQb3NpdGlvbih0bCwgcG9zaXRpb24pLFxuICAgICAgICBfdmFycyA9IHZhcnMsXG4gICAgICAgIHN0YXJ0QXQgPSBfdmFycy5zdGFydEF0LFxuICAgICAgICBfb25TdGFydCA9IF92YXJzLm9uU3RhcnQsXG4gICAgICAgIG9uU3RhcnRQYXJhbXMgPSBfdmFycy5vblN0YXJ0UGFyYW1zLFxuICAgICAgICB0d2VlbiA9IFR3ZWVuLnRvKHRsLCBfc2V0RGVmYXVsdHModmFycywge1xuICAgICAgZWFzZTogXCJub25lXCIsXG4gICAgICBsYXp5OiBmYWxzZSxcbiAgICAgIHRpbWU6IGVuZFRpbWUsXG4gICAgICBvdmVyd3JpdGU6IFwiYXV0b1wiLFxuICAgICAgZHVyYXRpb246IHZhcnMuZHVyYXRpb24gfHwgTWF0aC5hYnMoKGVuZFRpbWUgLSAoc3RhcnRBdCAmJiBcInRpbWVcIiBpbiBzdGFydEF0ID8gc3RhcnRBdC50aW1lIDogdGwuX3RpbWUpKSAvIHRsLnRpbWVTY2FsZSgpKSB8fCBfdGlueU51bSxcbiAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uIG9uU3RhcnQoKSB7XG4gICAgICAgIHRsLnBhdXNlKCk7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IHZhcnMuZHVyYXRpb24gfHwgTWF0aC5hYnMoKGVuZFRpbWUgLSB0bC5fdGltZSkgLyB0bC50aW1lU2NhbGUoKSk7XG4gICAgICAgIHR3ZWVuLl9kdXIgIT09IGR1cmF0aW9uICYmIF9zZXREdXJhdGlvbih0d2VlbiwgZHVyYXRpb24sIDAsIDEpLnJlbmRlcih0d2Vlbi5fdGltZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIF9vblN0YXJ0ICYmIF9vblN0YXJ0LmFwcGx5KHR3ZWVuLCBvblN0YXJ0UGFyYW1zIHx8IFtdKTsgLy9pbiBjYXNlIHRoZSB1c2VyIGhhZCBhbiBvblN0YXJ0IGluIHRoZSB2YXJzIC0gd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGUgaXQuXG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIHR3ZWVuO1xuICB9O1xuXG4gIF9wcm90bzIudHdlZW5Gcm9tVG8gPSBmdW5jdGlvbiB0d2VlbkZyb21Ubyhmcm9tUG9zaXRpb24sIHRvUG9zaXRpb24sIHZhcnMpIHtcbiAgICByZXR1cm4gdGhpcy50d2VlblRvKHRvUG9zaXRpb24sIF9zZXREZWZhdWx0cyh7XG4gICAgICBzdGFydEF0OiB7XG4gICAgICAgIHRpbWU6IF9wYXJzZVBvc2l0aW9uKHRoaXMsIGZyb21Qb3NpdGlvbilcbiAgICAgIH1cbiAgICB9LCB2YXJzKSk7XG4gIH07XG5cbiAgX3Byb3RvMi5yZWNlbnQgPSBmdW5jdGlvbiByZWNlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlY2VudDtcbiAgfTtcblxuICBfcHJvdG8yLm5leHRMYWJlbCA9IGZ1bmN0aW9uIG5leHRMYWJlbChhZnRlclRpbWUpIHtcbiAgICBpZiAoYWZ0ZXJUaW1lID09PSB2b2lkIDApIHtcbiAgICAgIGFmdGVyVGltZSA9IHRoaXMuX3RpbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9nZXRMYWJlbEluRGlyZWN0aW9uKHRoaXMsIF9wYXJzZVBvc2l0aW9uKHRoaXMsIGFmdGVyVGltZSkpO1xuICB9O1xuXG4gIF9wcm90bzIucHJldmlvdXNMYWJlbCA9IGZ1bmN0aW9uIHByZXZpb3VzTGFiZWwoYmVmb3JlVGltZSkge1xuICAgIGlmIChiZWZvcmVUaW1lID09PSB2b2lkIDApIHtcbiAgICAgIGJlZm9yZVRpbWUgPSB0aGlzLl90aW1lO1xuICAgIH1cblxuICAgIHJldHVybiBfZ2V0TGFiZWxJbkRpcmVjdGlvbih0aGlzLCBfcGFyc2VQb3NpdGlvbih0aGlzLCBiZWZvcmVUaW1lKSwgMSk7XG4gIH07XG5cbiAgX3Byb3RvMi5jdXJyZW50TGFiZWwgPSBmdW5jdGlvbiBjdXJyZW50TGFiZWwodmFsdWUpIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuc2Vlayh2YWx1ZSwgdHJ1ZSkgOiB0aGlzLnByZXZpb3VzTGFiZWwodGhpcy5fdGltZSArIF90aW55TnVtKTtcbiAgfTtcblxuICBfcHJvdG8yLnNoaWZ0Q2hpbGRyZW4gPSBmdW5jdGlvbiBzaGlmdENoaWxkcmVuKGFtb3VudCwgYWRqdXN0TGFiZWxzLCBpZ25vcmVCZWZvcmVUaW1lKSB7XG4gICAgaWYgKGlnbm9yZUJlZm9yZVRpbWUgPT09IHZvaWQgMCkge1xuICAgICAgaWdub3JlQmVmb3JlVGltZSA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkID0gdGhpcy5fZmlyc3QsXG4gICAgICAgIGxhYmVscyA9IHRoaXMubGFiZWxzLFxuICAgICAgICBwO1xuXG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQuX3N0YXJ0ID49IGlnbm9yZUJlZm9yZVRpbWUpIHtcbiAgICAgICAgY2hpbGQuX3N0YXJ0ICs9IGFtb3VudDtcbiAgICAgICAgY2hpbGQuX2VuZCArPSBhbW91bnQ7XG4gICAgICB9XG5cbiAgICAgIGNoaWxkID0gY2hpbGQuX25leHQ7XG4gICAgfVxuXG4gICAgaWYgKGFkanVzdExhYmVscykge1xuICAgICAgZm9yIChwIGluIGxhYmVscykge1xuICAgICAgICBpZiAobGFiZWxzW3BdID49IGlnbm9yZUJlZm9yZVRpbWUpIHtcbiAgICAgICAgICBsYWJlbHNbcF0gKz0gYW1vdW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF91bmNhY2hlKHRoaXMpO1xuICB9O1xuXG4gIF9wcm90bzIuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uIGludmFsaWRhdGUoKSB7XG4gICAgdmFyIGNoaWxkID0gdGhpcy5fZmlyc3Q7XG4gICAgdGhpcy5fbG9jayA9IDA7XG5cbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgIGNoaWxkLmludmFsaWRhdGUoKTtcbiAgICAgIGNoaWxkID0gY2hpbGQuX25leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9BbmltYXRpb24ucHJvdG90eXBlLmludmFsaWRhdGUuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8yLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoaW5jbHVkZUxhYmVscykge1xuICAgIGlmIChpbmNsdWRlTGFiZWxzID09PSB2b2lkIDApIHtcbiAgICAgIGluY2x1ZGVMYWJlbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBjaGlsZCA9IHRoaXMuX2ZpcnN0LFxuICAgICAgICBuZXh0O1xuXG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICBuZXh0ID0gY2hpbGQuX25leHQ7XG4gICAgICB0aGlzLnJlbW92ZShjaGlsZCk7XG4gICAgICBjaGlsZCA9IG5leHQ7XG4gICAgfVxuXG4gICAgdGhpcy5fdGltZSA9IHRoaXMuX3RUaW1lID0gdGhpcy5fcFRpbWUgPSAwO1xuICAgIGluY2x1ZGVMYWJlbHMgJiYgKHRoaXMubGFiZWxzID0ge30pO1xuICAgIHJldHVybiBfdW5jYWNoZSh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8yLnRvdGFsRHVyYXRpb24gPSBmdW5jdGlvbiB0b3RhbER1cmF0aW9uKHZhbHVlKSB7XG4gICAgdmFyIG1heCA9IDAsXG4gICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICBjaGlsZCA9IHNlbGYuX2xhc3QsXG4gICAgICAgIHByZXZTdGFydCA9IF9iaWdOdW0sXG4gICAgICAgIHByZXYsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBwYXJlbnQ7XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHNlbGYudGltZVNjYWxlKChzZWxmLl9yZXBlYXQgPCAwID8gc2VsZi5kdXJhdGlvbigpIDogc2VsZi50b3RhbER1cmF0aW9uKCkpIC8gKHNlbGYucmV2ZXJzZWQoKSA/IC12YWx1ZSA6IHZhbHVlKSk7XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuX2RpcnR5KSB7XG4gICAgICBwYXJlbnQgPSBzZWxmLnBhcmVudDtcblxuICAgICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgIHByZXYgPSBjaGlsZC5fcHJldjsgLy9yZWNvcmQgaXQgaGVyZSBpbiBjYXNlIHRoZSB0d2VlbiBjaGFuZ2VzIHBvc2l0aW9uIGluIHRoZSBzZXF1ZW5jZS4uLlxuXG4gICAgICAgIGNoaWxkLl9kaXJ0eSAmJiBjaGlsZC50b3RhbER1cmF0aW9uKCk7IC8vY291bGQgY2hhbmdlIHRoZSB0d2Vlbi5fc3RhcnRUaW1lLCBzbyBtYWtlIHN1cmUgdGhlIGFuaW1hdGlvbidzIGNhY2hlIGlzIGNsZWFuIGJlZm9yZSBhbmFseXppbmcgaXQuXG5cbiAgICAgICAgc3RhcnQgPSBjaGlsZC5fc3RhcnQ7XG5cbiAgICAgICAgaWYgKHN0YXJ0ID4gcHJldlN0YXJ0ICYmIHNlbGYuX3NvcnQgJiYgY2hpbGQuX3RzICYmICFzZWxmLl9sb2NrKSB7XG4gICAgICAgICAgLy9pbiBjYXNlIG9uZSBvZiB0aGUgdHdlZW5zIHNoaWZ0ZWQgb3V0IG9mIG9yZGVyLCBpdCBuZWVkcyB0byBiZSByZS1pbnNlcnRlZCBpbnRvIHRoZSBjb3JyZWN0IHBvc2l0aW9uIGluIHRoZSBzZXF1ZW5jZVxuICAgICAgICAgIHNlbGYuX2xvY2sgPSAxOyAvL3ByZXZlbnQgZW5kbGVzcyByZWN1cnNpdmUgY2FsbHMgLSB0aGVyZSBhcmUgbWV0aG9kcyB0aGF0IGdldCB0cmlnZ2VyZWQgdGhhdCBjaGVjayBkdXJhdGlvbi90b3RhbER1cmF0aW9uIHdoZW4gd2UgYWRkKCkuXG5cbiAgICAgICAgICBfYWRkVG9UaW1lbGluZShzZWxmLCBjaGlsZCwgc3RhcnQgLSBjaGlsZC5fZGVsYXksIDEpLl9sb2NrID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2U3RhcnQgPSBzdGFydDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydCA8IDAgJiYgY2hpbGQuX3RzKSB7XG4gICAgICAgICAgLy9jaGlsZHJlbiBhcmVuJ3QgYWxsb3dlZCB0byBoYXZlIG5lZ2F0aXZlIHN0YXJ0VGltZXMgdW5sZXNzIHNtb290aENoaWxkVGltaW5nIGlzIHRydWUsIHNvIGFkanVzdCBoZXJlIGlmIG9uZSBpcyBmb3VuZC5cbiAgICAgICAgICBtYXggLT0gc3RhcnQ7XG5cbiAgICAgICAgICBpZiAoIXBhcmVudCAmJiAhc2VsZi5fZHAgfHwgcGFyZW50ICYmIHBhcmVudC5zbW9vdGhDaGlsZFRpbWluZykge1xuICAgICAgICAgICAgc2VsZi5fc3RhcnQgKz0gc3RhcnQgLyBzZWxmLl90cztcbiAgICAgICAgICAgIHNlbGYuX3RpbWUgLT0gc3RhcnQ7XG4gICAgICAgICAgICBzZWxmLl90VGltZSAtPSBzdGFydDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLnNoaWZ0Q2hpbGRyZW4oLXN0YXJ0LCBmYWxzZSwgLTFlOTk5KTtcbiAgICAgICAgICBwcmV2U3RhcnQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQuX2VuZCA+IG1heCAmJiBjaGlsZC5fdHMgJiYgKG1heCA9IGNoaWxkLl9lbmQpO1xuICAgICAgICBjaGlsZCA9IHByZXY7XG4gICAgICB9XG5cbiAgICAgIF9zZXREdXJhdGlvbihzZWxmLCBzZWxmID09PSBfZ2xvYmFsVGltZWxpbmUgJiYgc2VsZi5fdGltZSA+IG1heCA/IHNlbGYuX3RpbWUgOiBtYXgsIDEsIDEpO1xuXG4gICAgICBzZWxmLl9kaXJ0eSA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuX3REdXI7XG4gIH07XG5cbiAgVGltZWxpbmUudXBkYXRlUm9vdCA9IGZ1bmN0aW9uIHVwZGF0ZVJvb3QodGltZSkge1xuICAgIGlmIChfZ2xvYmFsVGltZWxpbmUuX3RzKSB7XG4gICAgICBfbGF6eVNhZmVSZW5kZXIoX2dsb2JhbFRpbWVsaW5lLCBfcGFyZW50VG9DaGlsZFRvdGFsVGltZSh0aW1lLCBfZ2xvYmFsVGltZWxpbmUpKTtcblxuICAgICAgX2xhc3RSZW5kZXJlZEZyYW1lID0gX3RpY2tlci5mcmFtZTtcbiAgICB9XG5cbiAgICBpZiAoX3RpY2tlci5mcmFtZSA+PSBfbmV4dEdDRnJhbWUpIHtcbiAgICAgIF9uZXh0R0NGcmFtZSArPSBfY29uZmlnLmF1dG9TbGVlcCB8fCAxMjA7XG4gICAgICB2YXIgY2hpbGQgPSBfZ2xvYmFsVGltZWxpbmUuX2ZpcnN0O1xuICAgICAgaWYgKCFjaGlsZCB8fCAhY2hpbGQuX3RzKSBpZiAoX2NvbmZpZy5hdXRvU2xlZXAgJiYgX3RpY2tlci5fbGlzdGVuZXJzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgd2hpbGUgKGNoaWxkICYmICFjaGlsZC5fdHMpIHtcbiAgICAgICAgICBjaGlsZCA9IGNoaWxkLl9uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQgfHwgX3RpY2tlci5zbGVlcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVGltZWxpbmU7XG59KEFuaW1hdGlvbik7XG5cbl9zZXREZWZhdWx0cyhUaW1lbGluZS5wcm90b3R5cGUsIHtcbiAgX2xvY2s6IDAsXG4gIF9oYXNQYXVzZTogMCxcbiAgX2ZvcmNpbmc6IDBcbn0pO1xuXG52YXIgX2FkZENvbXBsZXhTdHJpbmdQcm9wVHdlZW4gPSBmdW5jdGlvbiBfYWRkQ29tcGxleFN0cmluZ1Byb3BUd2Vlbih0YXJnZXQsIHByb3AsIHN0YXJ0LCBlbmQsIHNldHRlciwgc3RyaW5nRmlsdGVyLCBmdW5jUGFyYW0pIHtcbiAgLy9ub3RlOiB3ZSBjYWxsIF9hZGRDb21wbGV4U3RyaW5nUHJvcFR3ZWVuLmNhbGwodHdlZW5JbnN0YW5jZS4uLikgdG8gZW5zdXJlIHRoYXQgaXQncyBzY29wZWQgcHJvcGVybHkuIFdlIG1heSBjYWxsIGl0IGZyb20gd2l0aGluIGEgcGx1Z2luIHRvbywgdGh1cyBcInRoaXNcIiB3b3VsZCByZWZlciB0byB0aGUgcGx1Z2luLlxuICB2YXIgcHQgPSBuZXcgUHJvcFR3ZWVuKHRoaXMuX3B0LCB0YXJnZXQsIHByb3AsIDAsIDEsIF9yZW5kZXJDb21wbGV4U3RyaW5nLCBudWxsLCBzZXR0ZXIpLFxuICAgICAgaW5kZXggPSAwLFxuICAgICAgbWF0Y2hJbmRleCA9IDAsXG4gICAgICByZXN1bHQsXG4gICAgICBzdGFydE51bXMsXG4gICAgICBjb2xvcixcbiAgICAgIGVuZE51bSxcbiAgICAgIGNodW5rLFxuICAgICAgc3RhcnROdW0sXG4gICAgICBoYXNSYW5kb20sXG4gICAgICBhO1xuICBwdC5iID0gc3RhcnQ7XG4gIHB0LmUgPSBlbmQ7XG4gIHN0YXJ0ICs9IFwiXCI7IC8vZW5zdXJlIHZhbHVlcyBhcmUgc3RyaW5nc1xuXG4gIGVuZCArPSBcIlwiO1xuXG4gIGlmIChoYXNSYW5kb20gPSB+ZW5kLmluZGV4T2YoXCJyYW5kb20oXCIpKSB7XG4gICAgZW5kID0gX3JlcGxhY2VSYW5kb20oZW5kKTtcbiAgfVxuXG4gIGlmIChzdHJpbmdGaWx0ZXIpIHtcbiAgICBhID0gW3N0YXJ0LCBlbmRdO1xuICAgIHN0cmluZ0ZpbHRlcihhLCB0YXJnZXQsIHByb3ApOyAvL3Bhc3MgYW4gYXJyYXkgd2l0aCB0aGUgc3RhcnRpbmcgYW5kIGVuZGluZyB2YWx1ZXMgYW5kIGxldCB0aGUgZmlsdGVyIGRvIHdoYXRldmVyIGl0IG5lZWRzIHRvIHRoZSB2YWx1ZXMuXG5cbiAgICBzdGFydCA9IGFbMF07XG4gICAgZW5kID0gYVsxXTtcbiAgfVxuXG4gIHN0YXJ0TnVtcyA9IHN0YXJ0Lm1hdGNoKF9jb21wbGV4U3RyaW5nTnVtRXhwKSB8fCBbXTtcblxuICB3aGlsZSAocmVzdWx0ID0gX2NvbXBsZXhTdHJpbmdOdW1FeHAuZXhlYyhlbmQpKSB7XG4gICAgZW5kTnVtID0gcmVzdWx0WzBdO1xuICAgIGNodW5rID0gZW5kLnN1YnN0cmluZyhpbmRleCwgcmVzdWx0LmluZGV4KTtcblxuICAgIGlmIChjb2xvcikge1xuICAgICAgY29sb3IgPSAoY29sb3IgKyAxKSAlIDU7XG4gICAgfSBlbHNlIGlmIChjaHVuay5zdWJzdHIoLTUpID09PSBcInJnYmEoXCIpIHtcbiAgICAgIGNvbG9yID0gMTtcbiAgICB9XG5cbiAgICBpZiAoZW5kTnVtICE9PSBzdGFydE51bXNbbWF0Y2hJbmRleCsrXSkge1xuICAgICAgc3RhcnROdW0gPSBwYXJzZUZsb2F0KHN0YXJ0TnVtc1ttYXRjaEluZGV4IC0gMV0pIHx8IDA7IC8vdGhlc2UgbmVzdGVkIFByb3BUd2VlbnMgYXJlIGhhbmRsZWQgaW4gYSBzcGVjaWFsIHdheSAtIHdlJ2xsIG5ldmVyIGFjdHVhbGx5IGNhbGwgYSByZW5kZXIgb3Igc2V0dGVyIG1ldGhvZCBvbiB0aGVtLiBXZSdsbCBqdXN0IGxvb3AgdGhyb3VnaCB0aGVtIGluIHRoZSBwYXJlbnQgY29tcGxleCBzdHJpbmcgUHJvcFR3ZWVuJ3MgcmVuZGVyIG1ldGhvZC5cblxuICAgICAgcHQuX3B0ID0ge1xuICAgICAgICBfbmV4dDogcHQuX3B0LFxuICAgICAgICBwOiBjaHVuayB8fCBtYXRjaEluZGV4ID09PSAxID8gY2h1bmsgOiBcIixcIixcbiAgICAgICAgLy9ub3RlOiBTVkcgc3BlYyBhbGxvd3Mgb21pc3Npb24gb2YgY29tbWEvc3BhY2Ugd2hlbiBhIG5lZ2F0aXZlIHNpZ24gaXMgd2VkZ2VkIGJldHdlZW4gdHdvIG51bWJlcnMsIGxpa2UgMi41LTUuMyBpbnN0ZWFkIG9mIDIuNSwtNS4zIGJ1dCB3aGVuIHR3ZWVuaW5nLCB0aGUgbmVnYXRpdmUgdmFsdWUgbWF5IHN3aXRjaCB0byBwb3NpdGl2ZSwgc28gd2UgaW5zZXJ0IHRoZSBjb21tYSBqdXN0IGluIGNhc2UuXG4gICAgICAgIHM6IHN0YXJ0TnVtLFxuICAgICAgICBjOiBlbmROdW0uY2hhckF0KDEpID09PSBcIj1cIiA/IHBhcnNlRmxvYXQoZW5kTnVtLnN1YnN0cigyKSkgKiAoZW5kTnVtLmNoYXJBdCgwKSA9PT0gXCItXCIgPyAtMSA6IDEpIDogcGFyc2VGbG9hdChlbmROdW0pIC0gc3RhcnROdW0sXG4gICAgICAgIG06IGNvbG9yICYmIGNvbG9yIDwgNCA/IE1hdGgucm91bmQgOiAwXG4gICAgICB9O1xuICAgICAgaW5kZXggPSBfY29tcGxleFN0cmluZ051bUV4cC5sYXN0SW5kZXg7XG4gICAgfVxuICB9XG5cbiAgcHQuYyA9IGluZGV4IDwgZW5kLmxlbmd0aCA/IGVuZC5zdWJzdHJpbmcoaW5kZXgsIGVuZC5sZW5ndGgpIDogXCJcIjsgLy93ZSB1c2UgdGhlIFwiY1wiIG9mIHRoZSBQcm9wVHdlZW4gdG8gc3RvcmUgdGhlIGZpbmFsIHBhcnQgb2YgdGhlIHN0cmluZyAoYWZ0ZXIgdGhlIGxhc3QgbnVtYmVyKVxuXG4gIHB0LmZwID0gZnVuY1BhcmFtO1xuXG4gIGlmIChfcmVsRXhwLnRlc3QoZW5kKSB8fCBoYXNSYW5kb20pIHtcbiAgICBwdC5lID0gMDsgLy9pZiB0aGUgZW5kIHN0cmluZyBjb250YWlucyByZWxhdGl2ZSB2YWx1ZXMgb3IgZHluYW1pYyByYW5kb20oLi4uKSB2YWx1ZXMsIGRlbGV0ZSB0aGUgZW5kIGl0IHNvIHRoYXQgb24gdGhlIGZpbmFsIHJlbmRlciB3ZSBkb24ndCBhY3R1YWxseSBzZXQgaXQgdG8gdGhlIHN0cmluZyB3aXRoICs9IG9yIC09IGNoYXJhY3RlcnMgKGZvcmNlcyBpdCB0byB1c2UgdGhlIGNhbGN1bGF0ZWQgdmFsdWUpLlxuICB9XG5cbiAgdGhpcy5fcHQgPSBwdDsgLy9zdGFydCB0aGUgbGlua2VkIGxpc3Qgd2l0aCB0aGlzIG5ldyBQcm9wVHdlZW4uIFJlbWVtYmVyLCB3ZSBjYWxsIF9hZGRDb21wbGV4U3RyaW5nUHJvcFR3ZWVuLmNhbGwodHdlZW5JbnN0YW5jZS4uLikgdG8gZW5zdXJlIHRoYXQgaXQncyBzY29wZWQgcHJvcGVybHkuIFdlIG1heSBjYWxsIGl0IGZyb20gd2l0aGluIGEgcGx1Z2luIHRvbywgdGh1cyBcInRoaXNcIiB3b3VsZCByZWZlciB0byB0aGUgcGx1Z2luLlxuXG4gIHJldHVybiBwdDtcbn0sXG4gICAgX2FkZFByb3BUd2VlbiA9IGZ1bmN0aW9uIF9hZGRQcm9wVHdlZW4odGFyZ2V0LCBwcm9wLCBzdGFydCwgZW5kLCBpbmRleCwgdGFyZ2V0cywgbW9kaWZpZXIsIHN0cmluZ0ZpbHRlciwgZnVuY1BhcmFtKSB7XG4gIF9pc0Z1bmN0aW9uKGVuZCkgJiYgKGVuZCA9IGVuZChpbmRleCB8fCAwLCB0YXJnZXQsIHRhcmdldHMpKTtcbiAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRhcmdldFtwcm9wXSxcbiAgICAgIHBhcnNlZFN0YXJ0ID0gc3RhcnQgIT09IFwiZ2V0XCIgPyBzdGFydCA6ICFfaXNGdW5jdGlvbihjdXJyZW50VmFsdWUpID8gY3VycmVudFZhbHVlIDogZnVuY1BhcmFtID8gdGFyZ2V0W3Byb3AuaW5kZXhPZihcInNldFwiKSB8fCAhX2lzRnVuY3Rpb24odGFyZ2V0W1wiZ2V0XCIgKyBwcm9wLnN1YnN0cigzKV0pID8gcHJvcCA6IFwiZ2V0XCIgKyBwcm9wLnN1YnN0cigzKV0oZnVuY1BhcmFtKSA6IHRhcmdldFtwcm9wXSgpLFxuICAgICAgc2V0dGVyID0gIV9pc0Z1bmN0aW9uKGN1cnJlbnRWYWx1ZSkgPyBfc2V0dGVyUGxhaW4gOiBmdW5jUGFyYW0gPyBfc2V0dGVyRnVuY1dpdGhQYXJhbSA6IF9zZXR0ZXJGdW5jLFxuICAgICAgcHQ7XG5cbiAgaWYgKF9pc1N0cmluZyhlbmQpKSB7XG4gICAgaWYgKH5lbmQuaW5kZXhPZihcInJhbmRvbShcIikpIHtcbiAgICAgIGVuZCA9IF9yZXBsYWNlUmFuZG9tKGVuZCk7XG4gICAgfVxuXG4gICAgaWYgKGVuZC5jaGFyQXQoMSkgPT09IFwiPVwiKSB7XG4gICAgICBlbmQgPSBwYXJzZUZsb2F0KHBhcnNlZFN0YXJ0KSArIHBhcnNlRmxvYXQoZW5kLnN1YnN0cigyKSkgKiAoZW5kLmNoYXJBdCgwKSA9PT0gXCItXCIgPyAtMSA6IDEpICsgKGdldFVuaXQocGFyc2VkU3RhcnQpIHx8IDApO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwYXJzZWRTdGFydCAhPT0gZW5kKSB7XG4gICAgaWYgKCFpc05hTihwYXJzZWRTdGFydCAqIGVuZCkpIHtcbiAgICAgIHB0ID0gbmV3IFByb3BUd2Vlbih0aGlzLl9wdCwgdGFyZ2V0LCBwcm9wLCArcGFyc2VkU3RhcnQgfHwgMCwgZW5kIC0gKHBhcnNlZFN0YXJ0IHx8IDApLCB0eXBlb2YgY3VycmVudFZhbHVlID09PSBcImJvb2xlYW5cIiA/IF9yZW5kZXJCb29sZWFuIDogX3JlbmRlclBsYWluLCAwLCBzZXR0ZXIpO1xuICAgICAgZnVuY1BhcmFtICYmIChwdC5mcCA9IGZ1bmNQYXJhbSk7XG4gICAgICBtb2RpZmllciAmJiBwdC5tb2RpZmllcihtb2RpZmllciwgdGhpcywgdGFyZ2V0KTtcbiAgICAgIHJldHVybiB0aGlzLl9wdCA9IHB0O1xuICAgIH1cblxuICAgICFjdXJyZW50VmFsdWUgJiYgIShwcm9wIGluIHRhcmdldCkgJiYgX21pc3NpbmdQbHVnaW4ocHJvcCwgZW5kKTtcbiAgICByZXR1cm4gX2FkZENvbXBsZXhTdHJpbmdQcm9wVHdlZW4uY2FsbCh0aGlzLCB0YXJnZXQsIHByb3AsIHBhcnNlZFN0YXJ0LCBlbmQsIHNldHRlciwgc3RyaW5nRmlsdGVyIHx8IF9jb25maWcuc3RyaW5nRmlsdGVyLCBmdW5jUGFyYW0pO1xuICB9XG59LFxuICAgIC8vY3JlYXRlcyBhIGNvcHkgb2YgdGhlIHZhcnMgb2JqZWN0IGFuZCBwcm9jZXNzZXMgYW55IGZ1bmN0aW9uLWJhc2VkIHZhbHVlcyAocHV0dGluZyB0aGUgcmVzdWx0aW5nIHZhbHVlcyBkaXJlY3RseSBpbnRvIHRoZSBjb3B5KSBhcyB3ZWxsIGFzIHN0cmluZ3Mgd2l0aCBcInJhbmRvbSgpXCIgaW4gdGhlbS4gSXQgZG9lcyBOT1QgcHJvY2VzcyByZWxhdGl2ZSB2YWx1ZXMuXG5fcHJvY2Vzc1ZhcnMgPSBmdW5jdGlvbiBfcHJvY2Vzc1ZhcnModmFycywgaW5kZXgsIHRhcmdldCwgdGFyZ2V0cywgdHdlZW4pIHtcbiAgX2lzRnVuY3Rpb24odmFycykgJiYgKHZhcnMgPSBfcGFyc2VGdW5jT3JTdHJpbmcodmFycywgdHdlZW4sIGluZGV4LCB0YXJnZXQsIHRhcmdldHMpKTtcblxuICBpZiAoIV9pc09iamVjdCh2YXJzKSB8fCB2YXJzLnN0eWxlICYmIHZhcnMubm9kZVR5cGUgfHwgX2lzQXJyYXkodmFycykgfHwgX2lzVHlwZWRBcnJheSh2YXJzKSkge1xuICAgIHJldHVybiBfaXNTdHJpbmcodmFycykgPyBfcGFyc2VGdW5jT3JTdHJpbmcodmFycywgdHdlZW4sIGluZGV4LCB0YXJnZXQsIHRhcmdldHMpIDogdmFycztcbiAgfVxuXG4gIHZhciBjb3B5ID0ge30sXG4gICAgICBwO1xuXG4gIGZvciAocCBpbiB2YXJzKSB7XG4gICAgY29weVtwXSA9IF9wYXJzZUZ1bmNPclN0cmluZyh2YXJzW3BdLCB0d2VlbiwgaW5kZXgsIHRhcmdldCwgdGFyZ2V0cyk7XG4gIH1cblxuICByZXR1cm4gY29weTtcbn0sXG4gICAgX2NoZWNrUGx1Z2luID0gZnVuY3Rpb24gX2NoZWNrUGx1Z2luKHByb3BlcnR5LCB2YXJzLCB0d2VlbiwgaW5kZXgsIHRhcmdldCwgdGFyZ2V0cykge1xuICB2YXIgcGx1Z2luLCBwdCwgcHRMb29rdXAsIGk7XG5cbiAgaWYgKF9wbHVnaW5zW3Byb3BlcnR5XSAmJiAocGx1Z2luID0gbmV3IF9wbHVnaW5zW3Byb3BlcnR5XSgpKS5pbml0KHRhcmdldCwgcGx1Z2luLnJhd1ZhcnMgPyB2YXJzW3Byb3BlcnR5XSA6IF9wcm9jZXNzVmFycyh2YXJzW3Byb3BlcnR5XSwgaW5kZXgsIHRhcmdldCwgdGFyZ2V0cywgdHdlZW4pLCB0d2VlbiwgaW5kZXgsIHRhcmdldHMpICE9PSBmYWxzZSkge1xuICAgIHR3ZWVuLl9wdCA9IHB0ID0gbmV3IFByb3BUd2Vlbih0d2Vlbi5fcHQsIHRhcmdldCwgcHJvcGVydHksIDAsIDEsIHBsdWdpbi5yZW5kZXIsIHBsdWdpbiwgMCwgcGx1Z2luLnByaW9yaXR5KTtcblxuICAgIGlmICh0d2VlbiAhPT0gX3F1aWNrVHdlZW4pIHtcbiAgICAgIHB0TG9va3VwID0gdHdlZW4uX3B0TG9va3VwW3R3ZWVuLl90YXJnZXRzLmluZGV4T2YodGFyZ2V0KV07IC8vbm90ZTogd2UgY2FuJ3QgdXNlIHR3ZWVuLl9wdExvb2t1cFtpbmRleF0gYmVjYXVzZSBmb3Igc3RhZ2dlcmVkIHR3ZWVucywgdGhlIGluZGV4IGZyb20gdGhlIGZ1bGxUYXJnZXRzIGFycmF5IHdvbid0IG1hdGNoIHdoYXQgaXQgaXMgaW4gZWFjaCBpbmRpdmlkdWFsIHR3ZWVuIHRoYXQgc3Bhd25zIGZyb20gdGhlIHN0YWdnZXIuXG5cbiAgICAgIGkgPSBwbHVnaW4uX3Byb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBwdExvb2t1cFtwbHVnaW4uX3Byb3BzW2ldXSA9IHB0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwbHVnaW47XG59LFxuICAgIF9vdmVyd3JpdGluZ1R3ZWVuLFxuICAgIC8vc3RvcmUgYSByZWZlcmVuY2UgdGVtcG9yYXJpbHkgc28gd2UgY2FuIGF2b2lkIG92ZXJ3cml0aW5nIGl0c2VsZi5cbl9pbml0VHdlZW4gPSBmdW5jdGlvbiBfaW5pdFR3ZWVuKHR3ZWVuLCB0aW1lKSB7XG4gIHZhciB2YXJzID0gdHdlZW4udmFycyxcbiAgICAgIGVhc2UgPSB2YXJzLmVhc2UsXG4gICAgICBzdGFydEF0ID0gdmFycy5zdGFydEF0LFxuICAgICAgaW1tZWRpYXRlUmVuZGVyID0gdmFycy5pbW1lZGlhdGVSZW5kZXIsXG4gICAgICBsYXp5ID0gdmFycy5sYXp5LFxuICAgICAgb25VcGRhdGUgPSB2YXJzLm9uVXBkYXRlLFxuICAgICAgb25VcGRhdGVQYXJhbXMgPSB2YXJzLm9uVXBkYXRlUGFyYW1zLFxuICAgICAgY2FsbGJhY2tTY29wZSA9IHZhcnMuY2FsbGJhY2tTY29wZSxcbiAgICAgIHJ1bkJhY2t3YXJkcyA9IHZhcnMucnVuQmFja3dhcmRzLFxuICAgICAgeW95b0Vhc2UgPSB2YXJzLnlveW9FYXNlLFxuICAgICAga2V5ZnJhbWVzID0gdmFycy5rZXlmcmFtZXMsXG4gICAgICBhdXRvUmV2ZXJ0ID0gdmFycy5hdXRvUmV2ZXJ0LFxuICAgICAgZHVyID0gdHdlZW4uX2R1cixcbiAgICAgIHByZXZTdGFydEF0ID0gdHdlZW4uX3N0YXJ0QXQsXG4gICAgICB0YXJnZXRzID0gdHdlZW4uX3RhcmdldHMsXG4gICAgICBwYXJlbnQgPSB0d2Vlbi5wYXJlbnQsXG4gICAgICBmdWxsVGFyZ2V0cyA9IHBhcmVudCAmJiBwYXJlbnQuZGF0YSA9PT0gXCJuZXN0ZWRcIiA/IHBhcmVudC5wYXJlbnQuX3RhcmdldHMgOiB0YXJnZXRzLFxuICAgICAgYXV0b092ZXJ3cml0ZSA9IHR3ZWVuLl9vdmVyd3JpdGUgPT09IFwiYXV0b1wiLFxuICAgICAgdGwgPSB0d2Vlbi50aW1lbGluZSxcbiAgICAgIGNsZWFuVmFycyxcbiAgICAgIGksXG4gICAgICBwLFxuICAgICAgcHQsXG4gICAgICB0YXJnZXQsXG4gICAgICBoYXNQcmlvcml0eSxcbiAgICAgIGdzRGF0YSxcbiAgICAgIGhhcm5lc3MsXG4gICAgICBwbHVnaW4sXG4gICAgICBwdExvb2t1cCxcbiAgICAgIGluZGV4LFxuICAgICAgaGFybmVzc1ZhcnMsXG4gICAgICBvdmVyd3JpdHRlbjtcbiAgdGwgJiYgKCFrZXlmcmFtZXMgfHwgIWVhc2UpICYmIChlYXNlID0gXCJub25lXCIpO1xuICB0d2Vlbi5fZWFzZSA9IF9wYXJzZUVhc2UoZWFzZSwgX2RlZmF1bHRzLmVhc2UpO1xuICB0d2Vlbi5feUVhc2UgPSB5b3lvRWFzZSA/IF9pbnZlcnRFYXNlKF9wYXJzZUVhc2UoeW95b0Vhc2UgPT09IHRydWUgPyBlYXNlIDogeW95b0Vhc2UsIF9kZWZhdWx0cy5lYXNlKSkgOiAwO1xuXG4gIGlmICh5b3lvRWFzZSAmJiB0d2Vlbi5feW95byAmJiAhdHdlZW4uX3JlcGVhdCkge1xuICAgIC8vdGhlcmUgbXVzdCBoYXZlIGJlZW4gYSBwYXJlbnQgdGltZWxpbmUgd2l0aCB5b3lvOnRydWUgdGhhdCBpcyBjdXJyZW50bHkgaW4gaXRzIHlveW8gcGhhc2UsIHNvIGZsaXAgdGhlIGVhc2VzLlxuICAgIHlveW9FYXNlID0gdHdlZW4uX3lFYXNlO1xuICAgIHR3ZWVuLl95RWFzZSA9IHR3ZWVuLl9lYXNlO1xuICAgIHR3ZWVuLl9lYXNlID0geW95b0Vhc2U7XG4gIH1cblxuICBpZiAoIXRsKSB7XG4gICAgLy9pZiB0aGVyZSdzIGFuIGludGVybmFsIHRpbWVsaW5lLCBza2lwIGFsbCB0aGUgcGFyc2luZyBiZWNhdXNlIHdlIHBhc3NlZCB0aGF0IHRhc2sgZG93biB0aGUgY2hhaW4uXG4gICAgaGFybmVzcyA9IHRhcmdldHNbMF0gPyBfZ2V0Q2FjaGUodGFyZ2V0c1swXSkuaGFybmVzcyA6IDA7XG4gICAgaGFybmVzc1ZhcnMgPSBoYXJuZXNzICYmIHZhcnNbaGFybmVzcy5wcm9wXTsgLy9zb21lb25lIG1heSBuZWVkIHRvIHNwZWNpZnkgQ1NTLXNwZWNpZmljIHZhbHVlcyBBTkQgbm9uLUNTUyB2YWx1ZXMsIGxpa2UgaWYgdGhlIGVsZW1lbnQgaGFzIGFuIFwieFwiIHByb3BlcnR5IHBsdXMgaXQncyBhIHN0YW5kYXJkIERPTSBlbGVtZW50LiBXZSBhbGxvdyBwZW9wbGUgdG8gZGlzdGluZ3Vpc2ggYnkgd3JhcHBpbmcgcGx1Z2luLXNwZWNpZmljIHN0dWZmIGluIGEgY3NzOnt9IG9iamVjdCBmb3IgZXhhbXBsZS5cblxuICAgIGNsZWFuVmFycyA9IF9jb3B5RXhjbHVkaW5nKHZhcnMsIF9yZXNlcnZlZFByb3BzKTtcbiAgICBwcmV2U3RhcnRBdCAmJiBwcmV2U3RhcnRBdC5yZW5kZXIoLTEsIHRydWUpLmtpbGwoKTtcblxuICAgIGlmIChzdGFydEF0KSB7XG4gICAgICBfcmVtb3ZlRnJvbVBhcmVudCh0d2Vlbi5fc3RhcnRBdCA9IFR3ZWVuLnNldCh0YXJnZXRzLCBfc2V0RGVmYXVsdHMoe1xuICAgICAgICBkYXRhOiBcImlzU3RhcnRcIixcbiAgICAgICAgb3ZlcndyaXRlOiBmYWxzZSxcbiAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgIGltbWVkaWF0ZVJlbmRlcjogdHJ1ZSxcbiAgICAgICAgbGF6eTogX2lzTm90RmFsc2UobGF6eSksXG4gICAgICAgIHN0YXJ0QXQ6IG51bGwsXG4gICAgICAgIGRlbGF5OiAwLFxuICAgICAgICBvblVwZGF0ZTogb25VcGRhdGUsXG4gICAgICAgIG9uVXBkYXRlUGFyYW1zOiBvblVwZGF0ZVBhcmFtcyxcbiAgICAgICAgY2FsbGJhY2tTY29wZTogY2FsbGJhY2tTY29wZSxcbiAgICAgICAgc3RhZ2dlcjogMFxuICAgICAgfSwgc3RhcnRBdCkpKTsgLy9jb3B5IHRoZSBwcm9wZXJ0aWVzL3ZhbHVlcyBpbnRvIGEgbmV3IG9iamVjdCB0byBhdm9pZCBjb2xsaXNpb25zLCBsaWtlIHZhciB0byA9IHt4OjB9LCBmcm9tID0ge3g6NTAwfTsgdGltZWxpbmUuZnJvbVRvKGUsIGZyb20sIHRvKS5mcm9tVG8oZSwgdG8sIGZyb20pO1xuXG5cbiAgICAgIGlmIChpbW1lZGlhdGVSZW5kZXIpIHtcbiAgICAgICAgaWYgKHRpbWUgPiAwKSB7XG4gICAgICAgICAgYXV0b1JldmVydCB8fCAodHdlZW4uX3N0YXJ0QXQgPSAwKTsgLy90d2VlbnMgdGhhdCByZW5kZXIgaW1tZWRpYXRlbHkgKGxpa2UgbW9zdCBmcm9tKCkgYW5kIGZyb21UbygpIHR3ZWVucykgc2hvdWxkbid0IHJldmVydCB3aGVuIHRoZWlyIHBhcmVudCB0aW1lbGluZSdzIHBsYXloZWFkIGdvZXMgYmFja3dhcmQgcGFzdCB0aGUgc3RhcnRUaW1lIGJlY2F1c2UgdGhlIGluaXRpYWwgcmVuZGVyIGNvdWxkIGhhdmUgaGFwcGVuZWQgYW55dGltZSBhbmQgaXQgc2hvdWxkbid0IGJlIGRpcmVjdGx5IGNvcnJlbGF0ZWQgdG8gdGhpcyB0d2VlbidzIHN0YXJ0VGltZS4gSW1hZ2luZSBzZXR0aW5nIHVwIGEgY29tcGxleCBhbmltYXRpb24gd2hlcmUgdGhlIGJlZ2lubmluZyBzdGF0ZXMgb2YgdmFyaW91cyBvYmplY3RzIGFyZSByZW5kZXJlZCBpbW1lZGlhdGVseSBidXQgdGhlIHR3ZWVuIGRvZXNuJ3QgaGFwcGVuIGZvciBxdWl0ZSBzb21lIHRpbWUgLSBpZiB3ZSByZXZlcnQgdG8gdGhlIHN0YXJ0aW5nIHZhbHVlcyBhcyBzb29uIGFzIHRoZSBwbGF5aGVhZCBnb2VzIGJhY2t3YXJkIHBhc3QgdGhlIHR3ZWVuJ3Mgc3RhcnRUaW1lLCBpdCB3aWxsIHRocm93IHRoaW5ncyBvZmYgdmlzdWFsbHkuIFJldmVyc2lvbiBzaG91bGQgb25seSBoYXBwZW4gaW4gVGltZWxpbmUgaW5zdGFuY2VzIHdoZXJlIGltbWVkaWF0ZVJlbmRlciB3YXMgZmFsc2Ugb3Igd2hlbiBhdXRvUmV2ZXJ0IGlzIGV4cGxpY2l0bHkgc2V0IHRvIHRydWUuXG4gICAgICAgIH0gZWxzZSBpZiAoZHVyICYmICEodGltZSA8IDAgJiYgcHJldlN0YXJ0QXQpKSB7XG4gICAgICAgICAgdGltZSAmJiAodHdlZW4uX3pUaW1lID0gdGltZSk7XG4gICAgICAgICAgcmV0dXJuOyAvL3dlIHNraXAgaW5pdGlhbGl6YXRpb24gaGVyZSBzbyB0aGF0IG92ZXJ3cml0aW5nIGRvZXNuJ3Qgb2NjdXIgdW50aWwgdGhlIHR3ZWVuIGFjdHVhbGx5IGJlZ2lucy4gT3RoZXJ3aXNlLCBpZiB5b3UgY3JlYXRlIHNldmVyYWwgaW1tZWRpYXRlUmVuZGVyOnRydWUgdHdlZW5zIG9mIHRoZSBzYW1lIHRhcmdldC9wcm9wZXJ0aWVzIHRvIGRyb3AgaW50byBhIFRpbWVsaW5lLCB0aGUgbGFzdCBvbmUgY3JlYXRlZCB3b3VsZCBvdmVyd3JpdGUgdGhlIGZpcnN0IG9uZXMgYmVjYXVzZSB0aGV5IGRpZG4ndCBnZXQgcGxhY2VkIGludG8gdGhlIHRpbWVsaW5lIHlldCBiZWZvcmUgdGhlIGZpcnN0IHJlbmRlciBvY2N1cnMgYW5kIGtpY2tzIGluIG92ZXJ3cml0aW5nLlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChydW5CYWNrd2FyZHMgJiYgZHVyKSB7XG4gICAgICAvL2Zyb20oKSB0d2VlbnMgbXVzdCBiZSBoYW5kbGVkIHVuaXF1ZWx5OiB0aGVpciBiZWdpbm5pbmcgdmFsdWVzIG11c3QgYmUgcmVuZGVyZWQgYnV0IHdlIGRvbid0IHdhbnQgb3ZlcndyaXRpbmcgdG8gb2NjdXIgeWV0ICh3aGVuIHRpbWUgaXMgc3RpbGwgMCkuIFdhaXQgdW50aWwgdGhlIHR3ZWVuIGFjdHVhbGx5IGJlZ2lucyBiZWZvcmUgZG9pbmcgYWxsIHRoZSByb3V0aW5lcyBsaWtlIG92ZXJ3cml0aW5nLiBBdCB0aGF0IHRpbWUsIHdlIHNob3VsZCByZW5kZXIgYXQgdGhlIEVORCBvZiB0aGUgdHdlZW4gdG8gZW5zdXJlIHRoYXQgdGhpbmdzIGluaXRpYWxpemUgY29ycmVjdGx5IChyZW1lbWJlciwgZnJvbSgpIHR3ZWVucyBnbyBiYWNrd2FyZHMpXG4gICAgICBpZiAocHJldlN0YXJ0QXQpIHtcbiAgICAgICAgIWF1dG9SZXZlcnQgJiYgKHR3ZWVuLl9zdGFydEF0ID0gMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lICYmIChpbW1lZGlhdGVSZW5kZXIgPSBmYWxzZSk7IC8vaW4gcmFyZSBjYXNlcyAobGlrZSBpZiBhIGZyb20oKSB0d2VlbiBydW5zIGFuZCB0aGVuIGlzIGludmFsaWRhdGUoKS1lZCksIGltbWVkaWF0ZVJlbmRlciBjb3VsZCBiZSB0cnVlIGJ1dCB0aGUgaW5pdGlhbCBmb3JjZWQtcmVuZGVyIGdldHMgc2tpcHBlZCwgc28gdGhlcmUncyBubyBuZWVkIHRvIGZvcmNlIHRoZSByZW5kZXIgaW4gdGhpcyBjb250ZXh0IHdoZW4gdGhlIF90aW1lIGlzIGdyZWF0ZXIgdGhhbiAwXG5cbiAgICAgICAgcCA9IF9zZXREZWZhdWx0cyh7XG4gICAgICAgICAgb3ZlcndyaXRlOiBmYWxzZSxcbiAgICAgICAgICBkYXRhOiBcImlzRnJvbVN0YXJ0XCIsXG4gICAgICAgICAgLy93ZSB0YWcgdGhlIHR3ZWVuIHdpdGggYXMgXCJpc0Zyb21TdGFydFwiIHNvIHRoYXQgaWYgW2luc2lkZSBhIHBsdWdpbl0gd2UgbmVlZCB0byBvbmx5IGRvIHNvbWV0aGluZyBhdCB0aGUgdmVyeSBFTkQgb2YgYSB0d2Vlbiwgd2UgaGF2ZSBhIHdheSBvZiBpZGVudGlmeWluZyB0aGlzIHR3ZWVuIGFzIG1lcmVseSB0aGUgb25lIHRoYXQncyBzZXR0aW5nIHRoZSBiZWdpbm5pbmcgdmFsdWVzIGZvciBhIFwiZnJvbSgpXCIgdHdlZW4uIEZvciBleGFtcGxlLCBjbGVhclByb3BzIGluIENTU1BsdWdpbiBzaG91bGQgb25seSBnZXQgYXBwbGllZCBhdCB0aGUgdmVyeSBFTkQgb2YgYSB0d2VlbiBhbmQgd2l0aG91dCB0aGlzIHRhZywgZnJvbSguLi57aGVpZ2h0OjEwMCwgY2xlYXJQcm9wczpcImhlaWdodFwiLCBkZWxheToxfSkgd291bGQgd2lwZSB0aGUgaGVpZ2h0IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHR3ZWVuIGFuZCBhZnRlciAxIHNlY29uZCwgaXQnZCBraWNrIGJhY2sgaW4uXG4gICAgICAgICAgbGF6eTogaW1tZWRpYXRlUmVuZGVyICYmIF9pc05vdEZhbHNlKGxhenkpLFxuICAgICAgICAgIGltbWVkaWF0ZVJlbmRlcjogaW1tZWRpYXRlUmVuZGVyLFxuICAgICAgICAgIC8vemVyby1kdXJhdGlvbiB0d2VlbnMgcmVuZGVyIGltbWVkaWF0ZWx5IGJ5IGRlZmF1bHQsIGJ1dCBpZiB3ZSdyZSBub3Qgc3BlY2lmaWNhbGx5IGluc3RydWN0ZWQgdG8gcmVuZGVyIHRoaXMgdHdlZW4gaW1tZWRpYXRlbHksIHdlIHNob3VsZCBza2lwIHRoaXMgYW5kIG1lcmVseSBfaW5pdCgpIHRvIHJlY29yZCB0aGUgc3RhcnRpbmcgdmFsdWVzIChyZW5kZXJpbmcgdGhlbSBpbW1lZGlhdGVseSB3b3VsZCBwdXNoIHRoZW0gdG8gY29tcGxldGlvbiB3aGljaCBpcyB3YXN0ZWZ1bCBpbiB0aGF0IGNhc2UgLSB3ZSdkIGhhdmUgdG8gcmVuZGVyKC0xKSBpbW1lZGlhdGVseSBhZnRlcilcbiAgICAgICAgICBzdGFnZ2VyOiAwLFxuICAgICAgICAgIHBhcmVudDogcGFyZW50IC8vZW5zdXJlcyB0aGF0IG5lc3RlZCB0d2VlbnMgdGhhdCBoYWQgYSBzdGFnZ2VyIGFyZSBoYW5kbGVkIHByb3Blcmx5LCBsaWtlIGdzYXAuZnJvbShcIi5jbGFzc1wiLCB7eTpnc2FwLnV0aWxzLndyYXAoWy0xMDAsMTAwXSl9KVxuXG4gICAgICAgIH0sIGNsZWFuVmFycyk7XG4gICAgICAgIGhhcm5lc3NWYXJzICYmIChwW2hhcm5lc3MucHJvcF0gPSBoYXJuZXNzVmFycyk7IC8vIGluIGNhc2Ugc29tZW9uZSBkb2VzIHNvbWV0aGluZyBsaWtlIC5mcm9tKC4uLiwge2Nzczp7fX0pXG5cbiAgICAgICAgX3JlbW92ZUZyb21QYXJlbnQodHdlZW4uX3N0YXJ0QXQgPSBUd2Vlbi5zZXQodGFyZ2V0cywgcCkpO1xuXG4gICAgICAgIGlmICghaW1tZWRpYXRlUmVuZGVyKSB7XG4gICAgICAgICAgX2luaXRUd2Vlbih0d2Vlbi5fc3RhcnRBdCwgX3RpbnlOdW0pOyAvL2Vuc3VyZXMgdGhhdCB0aGUgaW5pdGlhbCB2YWx1ZXMgYXJlIHJlY29yZGVkXG5cbiAgICAgICAgfSBlbHNlIGlmICghdGltZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHR3ZWVuLl9wdCA9IDA7XG4gICAgbGF6eSA9IGR1ciAmJiBfaXNOb3RGYWxzZShsYXp5KSB8fCBsYXp5ICYmICFkdXI7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcbiAgICAgIGdzRGF0YSA9IHRhcmdldC5fZ3NhcCB8fCBfaGFybmVzcyh0YXJnZXRzKVtpXS5fZ3NhcDtcbiAgICAgIHR3ZWVuLl9wdExvb2t1cFtpXSA9IHB0TG9va3VwID0ge307XG4gICAgICBfbGF6eUxvb2t1cFtnc0RhdGEuaWRdICYmIF9sYXp5VHdlZW5zLmxlbmd0aCAmJiBfbGF6eVJlbmRlcigpOyAvL2lmIG90aGVyIHR3ZWVucyBvZiB0aGUgc2FtZSB0YXJnZXQgaGF2ZSByZWNlbnRseSBpbml0dGVkIGJ1dCBoYXZlbid0IHJlbmRlcmVkIHlldCwgd2UndmUgZ290IHRvIGZvcmNlIHRoZSByZW5kZXIgc28gdGhhdCB0aGUgc3RhcnRpbmcgdmFsdWVzIGFyZSBjb3JyZWN0IChpbWFnaW5lIHBvcHVsYXRpbmcgYSB0aW1lbGluZSB3aXRoIGEgYnVuY2ggb2Ygc2VxdWVudGlhbCB0d2VlbnMgYW5kIHRoZW4ganVtcGluZyB0byB0aGUgZW5kKVxuXG4gICAgICBpbmRleCA9IGZ1bGxUYXJnZXRzID09PSB0YXJnZXRzID8gaSA6IGZ1bGxUYXJnZXRzLmluZGV4T2YodGFyZ2V0KTtcblxuICAgICAgaWYgKGhhcm5lc3MgJiYgKHBsdWdpbiA9IG5ldyBoYXJuZXNzKCkpLmluaXQodGFyZ2V0LCBoYXJuZXNzVmFycyB8fCBjbGVhblZhcnMsIHR3ZWVuLCBpbmRleCwgZnVsbFRhcmdldHMpICE9PSBmYWxzZSkge1xuICAgICAgICB0d2Vlbi5fcHQgPSBwdCA9IG5ldyBQcm9wVHdlZW4odHdlZW4uX3B0LCB0YXJnZXQsIHBsdWdpbi5uYW1lLCAwLCAxLCBwbHVnaW4ucmVuZGVyLCBwbHVnaW4sIDAsIHBsdWdpbi5wcmlvcml0eSk7XG5cbiAgICAgICAgcGx1Z2luLl9wcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgcHRMb29rdXBbbmFtZV0gPSBwdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGx1Z2luLnByaW9yaXR5ICYmIChoYXNQcmlvcml0eSA9IDEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWhhcm5lc3MgfHwgaGFybmVzc1ZhcnMpIHtcbiAgICAgICAgZm9yIChwIGluIGNsZWFuVmFycykge1xuICAgICAgICAgIGlmIChfcGx1Z2luc1twXSAmJiAocGx1Z2luID0gX2NoZWNrUGx1Z2luKHAsIGNsZWFuVmFycywgdHdlZW4sIGluZGV4LCB0YXJnZXQsIGZ1bGxUYXJnZXRzKSkpIHtcbiAgICAgICAgICAgIHBsdWdpbi5wcmlvcml0eSAmJiAoaGFzUHJpb3JpdHkgPSAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHRMb29rdXBbcF0gPSBwdCA9IF9hZGRQcm9wVHdlZW4uY2FsbCh0d2VlbiwgdGFyZ2V0LCBwLCBcImdldFwiLCBjbGVhblZhcnNbcF0sIGluZGV4LCBmdWxsVGFyZ2V0cywgMCwgdmFycy5zdHJpbmdGaWx0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0d2Vlbi5fb3AgJiYgdHdlZW4uX29wW2ldICYmIHR3ZWVuLmtpbGwodGFyZ2V0LCB0d2Vlbi5fb3BbaV0pO1xuXG4gICAgICBpZiAoYXV0b092ZXJ3cml0ZSAmJiB0d2Vlbi5fcHQpIHtcbiAgICAgICAgX292ZXJ3cml0aW5nVHdlZW4gPSB0d2VlbjtcblxuICAgICAgICBfZ2xvYmFsVGltZWxpbmUua2lsbFR3ZWVuc09mKHRhcmdldCwgcHRMb29rdXAsIHR3ZWVuLmdsb2JhbFRpbWUoMCkpOyAvL0Fsc28gbWFrZSBzdXJlIHRoZSBvdmVyd3JpdGluZyBkb2Vzbid0IG92ZXJ3cml0ZSBUSElTIHR3ZWVuISEhXG5cblxuICAgICAgICBvdmVyd3JpdHRlbiA9ICF0d2Vlbi5wYXJlbnQ7XG4gICAgICAgIF9vdmVyd3JpdGluZ1R3ZWVuID0gMDtcbiAgICAgIH1cblxuICAgICAgdHdlZW4uX3B0ICYmIGxhenkgJiYgKF9sYXp5TG9va3VwW2dzRGF0YS5pZF0gPSAxKTtcbiAgICB9XG5cbiAgICBoYXNQcmlvcml0eSAmJiBfc29ydFByb3BUd2VlbnNCeVByaW9yaXR5KHR3ZWVuKTtcbiAgICB0d2Vlbi5fb25Jbml0ICYmIHR3ZWVuLl9vbkluaXQodHdlZW4pOyAvL3BsdWdpbnMgbGlrZSBSb3VuZFByb3BzIG11c3Qgd2FpdCB1bnRpbCBBTEwgb2YgdGhlIFByb3BUd2VlbnMgYXJlIGluc3RhbnRpYXRlZC4gSW4gdGhlIHBsdWdpbidzIGluaXQoKSBmdW5jdGlvbiwgaXQgc2V0cyB0aGUgX29uSW5pdCBvbiB0aGUgdHdlZW4gaW5zdGFuY2UuIE1heSBub3QgYmUgcHJldHR5L2ludHVpdGl2ZSwgYnV0IGl0J3MgZmFzdCBhbmQga2VlcHMgZmlsZSBzaXplIGRvd24uXG4gIH1cblxuICB0d2Vlbi5fZnJvbSA9ICF0bCAmJiAhIXZhcnMucnVuQmFja3dhcmRzOyAvL25lc3RlZCB0aW1lbGluZXMgc2hvdWxkIG5ldmVyIHJ1biBiYWNrd2FyZHMgLSB0aGUgYmFja3dhcmRzLW5lc3MgaXMgaW4gdGhlIGNoaWxkIHR3ZWVucy5cblxuICB0d2Vlbi5fb25VcGRhdGUgPSBvblVwZGF0ZTtcbiAgdHdlZW4uX2luaXR0ZWQgPSAoIXR3ZWVuLl9vcCB8fCB0d2Vlbi5fcHQpICYmICFvdmVyd3JpdHRlbjsgLy8gaWYgb3ZlcndyaXR0ZW5Qcm9wcyByZXN1bHRlZCBpbiB0aGUgZW50aXJlIHR3ZWVuIGJlaW5nIGtpbGxlZCwgZG8gTk9UIGZsYWcgaXQgYXMgaW5pdHRlZCBvciBlbHNlIGl0IG1heSByZW5kZXIgZm9yIG9uZSB0aWNrLlxufSxcbiAgICBfYWRkQWxpYXNlc1RvVmFycyA9IGZ1bmN0aW9uIF9hZGRBbGlhc2VzVG9WYXJzKHRhcmdldHMsIHZhcnMpIHtcbiAgdmFyIGhhcm5lc3MgPSB0YXJnZXRzWzBdID8gX2dldENhY2hlKHRhcmdldHNbMF0pLmhhcm5lc3MgOiAwLFxuICAgICAgcHJvcGVydHlBbGlhc2VzID0gaGFybmVzcyAmJiBoYXJuZXNzLmFsaWFzZXMsXG4gICAgICBjb3B5LFxuICAgICAgcCxcbiAgICAgIGksXG4gICAgICBhbGlhc2VzO1xuXG4gIGlmICghcHJvcGVydHlBbGlhc2VzKSB7XG4gICAgcmV0dXJuIHZhcnM7XG4gIH1cblxuICBjb3B5ID0gX21lcmdlKHt9LCB2YXJzKTtcblxuICBmb3IgKHAgaW4gcHJvcGVydHlBbGlhc2VzKSB7XG4gICAgaWYgKHAgaW4gY29weSkge1xuICAgICAgYWxpYXNlcyA9IHByb3BlcnR5QWxpYXNlc1twXS5zcGxpdChcIixcIik7XG4gICAgICBpID0gYWxpYXNlcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgY29weVthbGlhc2VzW2ldXSA9IGNvcHlbcF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59LFxuICAgIF9wYXJzZUZ1bmNPclN0cmluZyA9IGZ1bmN0aW9uIF9wYXJzZUZ1bmNPclN0cmluZyh2YWx1ZSwgdHdlZW4sIGksIHRhcmdldCwgdGFyZ2V0cykge1xuICByZXR1cm4gX2lzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbCh0d2VlbiwgaSwgdGFyZ2V0LCB0YXJnZXRzKSA6IF9pc1N0cmluZyh2YWx1ZSkgJiYgfnZhbHVlLmluZGV4T2YoXCJyYW5kb20oXCIpID8gX3JlcGxhY2VSYW5kb20odmFsdWUpIDogdmFsdWU7XG59LFxuICAgIF9zdGFnZ2VyVHdlZW5Qcm9wcyA9IF9jYWxsYmFja05hbWVzICsgXCJyZXBlYXQscmVwZWF0RGVsYXkseW95byxyZXBlYXRSZWZyZXNoLHlveW9FYXNlXCIsXG4gICAgX3N0YWdnZXJQcm9wc1RvU2tpcCA9IChfc3RhZ2dlclR3ZWVuUHJvcHMgKyBcIixpZCxzdGFnZ2VyLGRlbGF5LGR1cmF0aW9uLHBhdXNlZCxzY3JvbGxUcmlnZ2VyXCIpLnNwbGl0KFwiLFwiKTtcbi8qXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVFdFRU5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuXG5leHBvcnQgdmFyIFR3ZWVuID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQW5pbWF0aW9uMikge1xuICBfaW5oZXJpdHNMb29zZShUd2VlbiwgX0FuaW1hdGlvbjIpO1xuXG4gIGZ1bmN0aW9uIFR3ZWVuKHRhcmdldHMsIHZhcnMsIHRpbWUsIHNraXBJbmhlcml0KSB7XG4gICAgdmFyIF90aGlzMztcblxuICAgIGlmICh0eXBlb2YgdmFycyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdGltZS5kdXJhdGlvbiA9IHZhcnM7XG4gICAgICB2YXJzID0gdGltZTtcbiAgICAgIHRpbWUgPSBudWxsO1xuICAgIH1cblxuICAgIF90aGlzMyA9IF9BbmltYXRpb24yLmNhbGwodGhpcywgc2tpcEluaGVyaXQgPyB2YXJzIDogX2luaGVyaXREZWZhdWx0cyh2YXJzKSwgdGltZSkgfHwgdGhpcztcbiAgICB2YXIgX3RoaXMzJHZhcnMgPSBfdGhpczMudmFycyxcbiAgICAgICAgZHVyYXRpb24gPSBfdGhpczMkdmFycy5kdXJhdGlvbixcbiAgICAgICAgZGVsYXkgPSBfdGhpczMkdmFycy5kZWxheSxcbiAgICAgICAgaW1tZWRpYXRlUmVuZGVyID0gX3RoaXMzJHZhcnMuaW1tZWRpYXRlUmVuZGVyLFxuICAgICAgICBzdGFnZ2VyID0gX3RoaXMzJHZhcnMuc3RhZ2dlcixcbiAgICAgICAgb3ZlcndyaXRlID0gX3RoaXMzJHZhcnMub3ZlcndyaXRlLFxuICAgICAgICBrZXlmcmFtZXMgPSBfdGhpczMkdmFycy5rZXlmcmFtZXMsXG4gICAgICAgIGRlZmF1bHRzID0gX3RoaXMzJHZhcnMuZGVmYXVsdHMsXG4gICAgICAgIHNjcm9sbFRyaWdnZXIgPSBfdGhpczMkdmFycy5zY3JvbGxUcmlnZ2VyLFxuICAgICAgICB5b3lvRWFzZSA9IF90aGlzMyR2YXJzLnlveW9FYXNlLFxuICAgICAgICBwYXJlbnQgPSBfdGhpczMucGFyZW50LFxuICAgICAgICBwYXJzZWRUYXJnZXRzID0gKF9pc0FycmF5KHRhcmdldHMpIHx8IF9pc1R5cGVkQXJyYXkodGFyZ2V0cykgPyBfaXNOdW1iZXIodGFyZ2V0c1swXSkgOiBcImxlbmd0aFwiIGluIHZhcnMpID8gW3RhcmdldHNdIDogdG9BcnJheSh0YXJnZXRzKSxcbiAgICAgICAgdGwsXG4gICAgICAgIGksXG4gICAgICAgIGNvcHksXG4gICAgICAgIGwsXG4gICAgICAgIHAsXG4gICAgICAgIGN1clRhcmdldCxcbiAgICAgICAgc3RhZ2dlckZ1bmMsXG4gICAgICAgIHN0YWdnZXJWYXJzVG9NZXJnZTtcbiAgICBfdGhpczMuX3RhcmdldHMgPSBwYXJzZWRUYXJnZXRzLmxlbmd0aCA/IF9oYXJuZXNzKHBhcnNlZFRhcmdldHMpIDogX3dhcm4oXCJHU0FQIHRhcmdldCBcIiArIHRhcmdldHMgKyBcIiBub3QgZm91bmQuIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbVwiLCAhX2NvbmZpZy5udWxsVGFyZ2V0V2FybikgfHwgW107XG4gICAgX3RoaXMzLl9wdExvb2t1cCA9IFtdOyAvL1Byb3BUd2VlbiBsb29rdXAuIEFuIGFycmF5IGNvbnRhaW5pbmcgYW4gb2JqZWN0IGZvciBlYWNoIHRhcmdldCwgaGF2aW5nIGtleXMgZm9yIGVhY2ggdHdlZW5pbmcgcHJvcGVydHlcblxuICAgIF90aGlzMy5fb3ZlcndyaXRlID0gb3ZlcndyaXRlO1xuXG4gICAgaWYgKGtleWZyYW1lcyB8fCBzdGFnZ2VyIHx8IF9pc0Z1bmNPclN0cmluZyhkdXJhdGlvbikgfHwgX2lzRnVuY09yU3RyaW5nKGRlbGF5KSkge1xuICAgICAgdmFycyA9IF90aGlzMy52YXJzO1xuICAgICAgdGwgPSBfdGhpczMudGltZWxpbmUgPSBuZXcgVGltZWxpbmUoe1xuICAgICAgICBkYXRhOiBcIm5lc3RlZFwiLFxuICAgICAgICBkZWZhdWx0czogZGVmYXVsdHMgfHwge31cbiAgICAgIH0pO1xuICAgICAgdGwua2lsbCgpO1xuICAgICAgdGwucGFyZW50ID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczMpO1xuXG4gICAgICBpZiAoa2V5ZnJhbWVzKSB7XG4gICAgICAgIF9zZXREZWZhdWx0cyh0bC52YXJzLmRlZmF1bHRzLCB7XG4gICAgICAgICAgZWFzZTogXCJub25lXCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAga2V5ZnJhbWVzLmZvckVhY2goZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIHRsLnRvKHBhcnNlZFRhcmdldHMsIGZyYW1lLCBcIj5cIik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbCA9IHBhcnNlZFRhcmdldHMubGVuZ3RoO1xuICAgICAgICBzdGFnZ2VyRnVuYyA9IHN0YWdnZXIgPyBkaXN0cmlidXRlKHN0YWdnZXIpIDogX2VtcHR5RnVuYztcblxuICAgICAgICBpZiAoX2lzT2JqZWN0KHN0YWdnZXIpKSB7XG4gICAgICAgICAgLy91c2VycyBjYW4gcGFzcyBpbiBjYWxsYmFja3MgbGlrZSBvblN0YXJ0L29uQ29tcGxldGUgaW4gdGhlIHN0YWdnZXIgb2JqZWN0LiBUaGVzZSBzaG91bGQgZmlyZSB3aXRoIGVhY2ggaW5kaXZpZHVhbCB0d2Vlbi5cbiAgICAgICAgICBmb3IgKHAgaW4gc3RhZ2dlcikge1xuICAgICAgICAgICAgaWYgKH5fc3RhZ2dlclR3ZWVuUHJvcHMuaW5kZXhPZihwKSkge1xuICAgICAgICAgICAgICBzdGFnZ2VyVmFyc1RvTWVyZ2UgfHwgKHN0YWdnZXJWYXJzVG9NZXJnZSA9IHt9KTtcbiAgICAgICAgICAgICAgc3RhZ2dlclZhcnNUb01lcmdlW3BdID0gc3RhZ2dlcltwXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgY29weSA9IHt9O1xuXG4gICAgICAgICAgZm9yIChwIGluIHZhcnMpIHtcbiAgICAgICAgICAgIGlmIChfc3RhZ2dlclByb3BzVG9Ta2lwLmluZGV4T2YocCkgPCAwKSB7XG4gICAgICAgICAgICAgIGNvcHlbcF0gPSB2YXJzW3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvcHkuc3RhZ2dlciA9IDA7XG4gICAgICAgICAgeW95b0Vhc2UgJiYgKGNvcHkueW95b0Vhc2UgPSB5b3lvRWFzZSk7XG4gICAgICAgICAgc3RhZ2dlclZhcnNUb01lcmdlICYmIF9tZXJnZShjb3B5LCBzdGFnZ2VyVmFyc1RvTWVyZ2UpO1xuICAgICAgICAgIGN1clRhcmdldCA9IHBhcnNlZFRhcmdldHNbaV07IC8vZG9uJ3QganVzdCBjb3B5IGR1cmF0aW9uIG9yIGRlbGF5IGJlY2F1c2UgaWYgdGhleSdyZSBhIHN0cmluZyBvciBmdW5jdGlvbiwgd2UnZCBlbmQgdXAgaW4gYW4gaW5maW5pdGUgbG9vcCBiZWNhdXNlIF9pc0Z1bmNPclN0cmluZygpIHdvdWxkIGV2YWx1YXRlIGFzIHRydWUgaW4gdGhlIGNoaWxkIHR3ZWVucywgZW50ZXJpbmcgdGhpcyBsb29wLCBldGMuIFNvIHdlIHBhcnNlIHRoZSB2YWx1ZSBzdHJhaWdodCBmcm9tIHZhcnMgYW5kIGRlZmF1bHQgdG8gMC5cblxuICAgICAgICAgIGNvcHkuZHVyYXRpb24gPSArX3BhcnNlRnVuY09yU3RyaW5nKGR1cmF0aW9uLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMyksIGksIGN1clRhcmdldCwgcGFyc2VkVGFyZ2V0cyk7XG4gICAgICAgICAgY29weS5kZWxheSA9ICgrX3BhcnNlRnVuY09yU3RyaW5nKGRlbGF5LCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMyksIGksIGN1clRhcmdldCwgcGFyc2VkVGFyZ2V0cykgfHwgMCkgLSBfdGhpczMuX2RlbGF5O1xuXG4gICAgICAgICAgaWYgKCFzdGFnZ2VyICYmIGwgPT09IDEgJiYgY29weS5kZWxheSkge1xuICAgICAgICAgICAgLy8gaWYgc29tZW9uZSBkb2VzIGRlbGF5OlwicmFuZG9tKDEsIDUpXCIsIHJlcGVhdDotMSwgZm9yIGV4YW1wbGUsIHRoZSBkZWxheSBzaG91bGRuJ3QgYmUgaW5zaWRlIHRoZSByZXBlYXQuXG4gICAgICAgICAgICBfdGhpczMuX2RlbGF5ID0gZGVsYXkgPSBjb3B5LmRlbGF5O1xuICAgICAgICAgICAgX3RoaXMzLl9zdGFydCArPSBkZWxheTtcbiAgICAgICAgICAgIGNvcHkuZGVsYXkgPSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRsLnRvKGN1clRhcmdldCwgY29weSwgc3RhZ2dlckZ1bmMoaSwgY3VyVGFyZ2V0LCBwYXJzZWRUYXJnZXRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0bC5kdXJhdGlvbigpID8gZHVyYXRpb24gPSBkZWxheSA9IDAgOiBfdGhpczMudGltZWxpbmUgPSAwOyAvLyBpZiB0aGUgdGltZWxpbmUncyBkdXJhdGlvbiBpcyAwLCB3ZSBkb24ndCBuZWVkIGEgdGltZWxpbmUgaW50ZXJuYWxseSFcbiAgICAgIH1cblxuICAgICAgZHVyYXRpb24gfHwgX3RoaXMzLmR1cmF0aW9uKGR1cmF0aW9uID0gdGwuZHVyYXRpb24oKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzMy50aW1lbGluZSA9IDA7IC8vc3BlZWQgb3B0aW1pemF0aW9uLCBmYXN0ZXIgbG9va3VwcyAobm8gZ29pbmcgdXAgdGhlIHByb3RvdHlwZSBjaGFpbilcbiAgICB9XG5cbiAgICBpZiAob3ZlcndyaXRlID09PSB0cnVlKSB7XG4gICAgICBfb3ZlcndyaXRpbmdUd2VlbiA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMzKTtcblxuICAgICAgX2dsb2JhbFRpbWVsaW5lLmtpbGxUd2VlbnNPZihwYXJzZWRUYXJnZXRzKTtcblxuICAgICAgX292ZXJ3cml0aW5nVHdlZW4gPSAwO1xuICAgIH1cblxuICAgIHBhcmVudCAmJiBfcG9zdEFkZENoZWNrcyhwYXJlbnQsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMzKSk7XG5cbiAgICBpZiAoaW1tZWRpYXRlUmVuZGVyIHx8ICFkdXJhdGlvbiAmJiAha2V5ZnJhbWVzICYmIF90aGlzMy5fc3RhcnQgPT09IF9yb3VuZChwYXJlbnQuX3RpbWUpICYmIF9pc05vdEZhbHNlKGltbWVkaWF0ZVJlbmRlcikgJiYgX2hhc05vUGF1c2VkQW5jZXN0b3JzKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMzKSkgJiYgcGFyZW50LmRhdGEgIT09IFwibmVzdGVkXCIpIHtcbiAgICAgIF90aGlzMy5fdFRpbWUgPSAtX3RpbnlOdW07IC8vZm9yY2VzIGEgcmVuZGVyIHdpdGhvdXQgaGF2aW5nIHRvIHNldCB0aGUgcmVuZGVyKCkgXCJmb3JjZVwiIHBhcmFtZXRlciB0byB0cnVlIGJlY2F1c2Ugd2Ugd2FudCB0byBhbGxvdyBsYXp5aW5nIGJ5IGRlZmF1bHQgKHVzaW5nIHRoZSBcImZvcmNlXCIgcGFyYW1ldGVyIGFsd2F5cyBmb3JjZXMgYW4gaW1tZWRpYXRlIGZ1bGwgcmVuZGVyKVxuXG4gICAgICBfdGhpczMucmVuZGVyKE1hdGgubWF4KDAsIC1kZWxheSkpOyAvL2luIGNhc2UgZGVsYXkgaXMgbmVnYXRpdmVcblxuICAgIH1cblxuICAgIHNjcm9sbFRyaWdnZXIgJiYgX3Njcm9sbFRyaWdnZXIoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczMpLCBzY3JvbGxUcmlnZ2VyKTtcbiAgICByZXR1cm4gX3RoaXMzO1xuICB9XG5cbiAgdmFyIF9wcm90bzMgPSBUd2Vlbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvMy5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIodG90YWxUaW1lLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpIHtcbiAgICB2YXIgcHJldlRpbWUgPSB0aGlzLl90aW1lLFxuICAgICAgICB0RHVyID0gdGhpcy5fdER1cixcbiAgICAgICAgZHVyID0gdGhpcy5fZHVyLFxuICAgICAgICB0VGltZSA9IHRvdGFsVGltZSA+IHREdXIgLSBfdGlueU51bSAmJiB0b3RhbFRpbWUgPj0gMCA/IHREdXIgOiB0b3RhbFRpbWUgPCBfdGlueU51bSA/IDAgOiB0b3RhbFRpbWUsXG4gICAgICAgIHRpbWUsXG4gICAgICAgIHB0LFxuICAgICAgICBpdGVyYXRpb24sXG4gICAgICAgIGN5Y2xlRHVyYXRpb24sXG4gICAgICAgIHByZXZJdGVyYXRpb24sXG4gICAgICAgIGlzWW95byxcbiAgICAgICAgcmF0aW8sXG4gICAgICAgIHRpbWVsaW5lLFxuICAgICAgICB5b3lvRWFzZTtcblxuICAgIGlmICghZHVyKSB7XG4gICAgICBfcmVuZGVyWmVyb0R1cmF0aW9uVHdlZW4odGhpcywgdG90YWxUaW1lLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpO1xuICAgIH0gZWxzZSBpZiAodFRpbWUgIT09IHRoaXMuX3RUaW1lIHx8ICF0b3RhbFRpbWUgfHwgZm9yY2UgfHwgdGhpcy5fc3RhcnRBdCAmJiB0aGlzLl96VGltZSA8IDAgIT09IHRvdGFsVGltZSA8IDApIHtcbiAgICAgIC8vdGhpcyBzZW5zZXMgaWYgd2UncmUgY3Jvc3Npbmcgb3ZlciB0aGUgc3RhcnQgdGltZSwgaW4gd2hpY2ggY2FzZSB3ZSBtdXN0IHJlY29yZCBfelRpbWUgYW5kIGZvcmNlIHRoZSByZW5kZXIsIGJ1dCB3ZSBkbyBpdCBpbiB0aGlzIGxlbmd0aHkgY29uZGl0aW9uYWwgd2F5IGZvciBwZXJmb3JtYW5jZSByZWFzb25zICh1c3VhbGx5IHdlIGNhbiBza2lwIHRoZSBjYWxjdWxhdGlvbnMpOiB0aGlzLl9pbml0dGVkICYmICh0aGlzLl96VGltZSA8IDApICE9PSAodG90YWxUaW1lIDwgMClcbiAgICAgIHRpbWUgPSB0VGltZTtcbiAgICAgIHRpbWVsaW5lID0gdGhpcy50aW1lbGluZTtcblxuICAgICAgaWYgKHRoaXMuX3JlcGVhdCkge1xuICAgICAgICAvL2FkanVzdCB0aGUgdGltZSBmb3IgcmVwZWF0cyBhbmQgeW95b3NcbiAgICAgICAgY3ljbGVEdXJhdGlvbiA9IGR1ciArIHRoaXMuX3JEZWxheTtcbiAgICAgICAgdGltZSA9IF9yb3VuZCh0VGltZSAlIGN5Y2xlRHVyYXRpb24pOyAvL3JvdW5kIHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IGVycm9ycy4gKDQgJSAwLjggc2hvdWxkIGJlIDAgYnV0IHNvbWUgYnJvd3NlcnMgcmVwb3J0IGl0IGFzIDAuNzk5OTk5OTkhKVxuXG4gICAgICAgIGlmICh0VGltZSA9PT0gdER1cikge1xuICAgICAgICAgIC8vIHRoZSB0RHVyID09PSB0VGltZSBpcyBmb3IgZWRnZSBjYXNlcyB3aGVyZSB0aGVyZSdzIGEgbGVuZ3RoeSBkZWNpbWFsIG9uIHRoZSBkdXJhdGlvbiBhbmQgaXQgbWF5IHJlYWNoIHRoZSB2ZXJ5IGVuZCBidXQgdGhlIHRpbWUgaXMgcmVuZGVyZWQgYXMgbm90LXF1aXRlLXRoZXJlIChyZW1lbWJlciwgdER1ciBpcyByb3VuZGVkIHRvIDQgZGVjaW1hbHMgd2hlcmVhcyBkdXIgaXNuJ3QpXG4gICAgICAgICAgaXRlcmF0aW9uID0gdGhpcy5fcmVwZWF0O1xuICAgICAgICAgIHRpbWUgPSBkdXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlcmF0aW9uID0gfn4odFRpbWUgLyBjeWNsZUR1cmF0aW9uKTtcblxuICAgICAgICAgIGlmIChpdGVyYXRpb24gJiYgaXRlcmF0aW9uID09PSB0VGltZSAvIGN5Y2xlRHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRpbWUgPSBkdXI7XG4gICAgICAgICAgICBpdGVyYXRpb24tLTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aW1lID4gZHVyICYmICh0aW1lID0gZHVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzWW95byA9IHRoaXMuX3lveW8gJiYgaXRlcmF0aW9uICYgMTtcblxuICAgICAgICBpZiAoaXNZb3lvKSB7XG4gICAgICAgICAgeW95b0Vhc2UgPSB0aGlzLl95RWFzZTtcbiAgICAgICAgICB0aW1lID0gZHVyIC0gdGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXZJdGVyYXRpb24gPSBfYW5pbWF0aW9uQ3ljbGUodGhpcy5fdFRpbWUsIGN5Y2xlRHVyYXRpb24pO1xuXG4gICAgICAgIGlmICh0aW1lID09PSBwcmV2VGltZSAmJiAhZm9yY2UgJiYgdGhpcy5faW5pdHRlZCkge1xuICAgICAgICAgIC8vY291bGQgYmUgZHVyaW5nIHRoZSByZXBlYXREZWxheSBwYXJ0LiBObyBuZWVkIHRvIHJlbmRlciBhbmQgZmlyZSBjYWxsYmFja3MuXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlcmF0aW9uICE9PSBwcmV2SXRlcmF0aW9uKSB7XG4gICAgICAgICAgdGltZWxpbmUgJiYgdGhpcy5feUVhc2UgJiYgX3Byb3BhZ2F0ZVlveW9FYXNlKHRpbWVsaW5lLCBpc1lveW8pOyAvL3JlcGVhdFJlZnJlc2ggZnVuY3Rpb25hbGl0eVxuXG4gICAgICAgICAgaWYgKHRoaXMudmFycy5yZXBlYXRSZWZyZXNoICYmICFpc1lveW8gJiYgIXRoaXMuX2xvY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2sgPSBmb3JjZSA9IDE7IC8vZm9yY2UsIG90aGVyd2lzZSBpZiBsYXp5IGlzIHRydWUsIHRoZSBfYXR0ZW1wdEluaXRUd2VlbigpIHdpbGwgcmV0dXJuIGFuZCB3ZSdsbCBqdW1wIG91dCBhbmQgZ2V0IGNhdWdodCBib3VuY2luZyBvbiBlYWNoIHRpY2suXG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyKF9yb3VuZChjeWNsZUR1cmF0aW9uICogaXRlcmF0aW9uKSwgdHJ1ZSkuaW52YWxpZGF0ZSgpLl9sb2NrID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pbml0dGVkKSB7XG4gICAgICAgIGlmIChfYXR0ZW1wdEluaXRUd2Vlbih0aGlzLCB0b3RhbFRpbWUgPCAwID8gdG90YWxUaW1lIDogdGltZSwgZm9yY2UsIHN1cHByZXNzRXZlbnRzKSkge1xuICAgICAgICAgIHRoaXMuX3RUaW1lID0gMDsgLy8gaW4gY29uc3RydWN0b3IgaWYgaW1tZWRpYXRlUmVuZGVyIGlzIHRydWUsIHdlIHNldCBfdFRpbWUgdG8gLV90aW55TnVtIHRvIGhhdmUgdGhlIHBsYXloZWFkIGNyb3NzIHRoZSBzdGFydGluZyBwb2ludCBidXQgd2UgY2FuJ3QgbGVhdmUgX3RUaW1lIGFzIGEgbmVnYXRpdmUgbnVtYmVyLlxuXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHVyICE9PSB0aGlzLl9kdXIpIHtcbiAgICAgICAgICAvLyB3aGlsZSBpbml0dGluZywgYSBwbHVnaW4gbGlrZSBJbmVydGlhUGx1Z2luIG1pZ2h0IGFsdGVyIHRoZSBkdXJhdGlvbiwgc28gcmVydW4gZnJvbSB0aGUgc3RhcnQgdG8gZW5zdXJlIGV2ZXJ5dGhpbmcgcmVuZGVycyBhcyBpdCBzaG91bGQuXG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHRvdGFsVGltZSwgc3VwcHJlc3NFdmVudHMsIGZvcmNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl90VGltZSA9IHRUaW1lO1xuICAgICAgdGhpcy5fdGltZSA9IHRpbWU7XG5cbiAgICAgIGlmICghdGhpcy5fYWN0ICYmIHRoaXMuX3RzKSB7XG4gICAgICAgIHRoaXMuX2FjdCA9IDE7IC8vYXMgbG9uZyBhcyBpdCdzIG5vdCBwYXVzZWQsIGZvcmNlIGl0IHRvIGJlIGFjdGl2ZSBzbyB0aGF0IGlmIHRoZSB1c2VyIHJlbmRlcnMgaW5kZXBlbmRlbnQgb2YgdGhlIHBhcmVudCB0aW1lbGluZSwgaXQnbGwgYmUgZm9yY2VkIHRvIHJlLXJlbmRlciBvbiB0aGUgbmV4dCB0aWNrLlxuXG4gICAgICAgIHRoaXMuX2xhenkgPSAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJhdGlvID0gcmF0aW8gPSAoeW95b0Vhc2UgfHwgdGhpcy5fZWFzZSkodGltZSAvIGR1cik7XG5cbiAgICAgIGlmICh0aGlzLl9mcm9tKSB7XG4gICAgICAgIHRoaXMucmF0aW8gPSByYXRpbyA9IDEgLSByYXRpbztcbiAgICAgIH1cblxuICAgICAgdGltZSAmJiAhcHJldlRpbWUgJiYgIXN1cHByZXNzRXZlbnRzICYmIF9jYWxsYmFjayh0aGlzLCBcIm9uU3RhcnRcIik7XG4gICAgICBwdCA9IHRoaXMuX3B0O1xuXG4gICAgICB3aGlsZSAocHQpIHtcbiAgICAgICAgcHQucihyYXRpbywgcHQuZCk7XG4gICAgICAgIHB0ID0gcHQuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHRpbWVsaW5lICYmIHRpbWVsaW5lLnJlbmRlcih0b3RhbFRpbWUgPCAwID8gdG90YWxUaW1lIDogIXRpbWUgJiYgaXNZb3lvID8gLV90aW55TnVtIDogdGltZWxpbmUuX2R1ciAqIHJhdGlvLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpIHx8IHRoaXMuX3N0YXJ0QXQgJiYgKHRoaXMuX3pUaW1lID0gdG90YWxUaW1lKTtcblxuICAgICAgaWYgKHRoaXMuX29uVXBkYXRlICYmICFzdXBwcmVzc0V2ZW50cykge1xuICAgICAgICB0b3RhbFRpbWUgPCAwICYmIHRoaXMuX3N0YXJ0QXQgJiYgdGhpcy5fc3RhcnRBdC5yZW5kZXIodG90YWxUaW1lLCB0cnVlLCBmb3JjZSk7IC8vbm90ZTogZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHdlIHR1Y2sgdGhpcyBjb25kaXRpb25hbCBsb2dpYyBpbnNpZGUgbGVzcyB0cmF2ZWxlZCBhcmVhcyAobW9zdCB0d2VlbnMgZG9uJ3QgaGF2ZSBhbiBvblVwZGF0ZSkuIFdlJ2QganVzdCBoYXZlIGl0IGF0IHRoZSBlbmQgYmVmb3JlIHRoZSBvbkNvbXBsZXRlLCBidXQgdGhlIHZhbHVlcyBzaG91bGQgYmUgdXBkYXRlZCBiZWZvcmUgYW55IG9uVXBkYXRlIGlzIGNhbGxlZCwgc28gd2UgQUxTTyBwdXQgaXQgaGVyZSBhbmQgdGhlbiBpZiBpdCdzIG5vdCBjYWxsZWQsIHdlIGRvIHNvIGxhdGVyIG5lYXIgdGhlIG9uQ29tcGxldGUuXG5cbiAgICAgICAgX2NhbGxiYWNrKHRoaXMsIFwib25VcGRhdGVcIik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlcGVhdCAmJiBpdGVyYXRpb24gIT09IHByZXZJdGVyYXRpb24gJiYgdGhpcy52YXJzLm9uUmVwZWF0ICYmICFzdXBwcmVzc0V2ZW50cyAmJiB0aGlzLnBhcmVudCAmJiBfY2FsbGJhY2sodGhpcywgXCJvblJlcGVhdFwiKTtcblxuICAgICAgaWYgKCh0VGltZSA9PT0gdGhpcy5fdER1ciB8fCAhdFRpbWUpICYmIHRoaXMuX3RUaW1lID09PSB0VGltZSkge1xuICAgICAgICB0b3RhbFRpbWUgPCAwICYmIHRoaXMuX3N0YXJ0QXQgJiYgIXRoaXMuX29uVXBkYXRlICYmIHRoaXMuX3N0YXJ0QXQucmVuZGVyKHRvdGFsVGltZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICh0b3RhbFRpbWUgfHwgIWR1cikgJiYgKHRUaW1lID09PSB0aGlzLl90RHVyICYmIHRoaXMuX3RzID4gMCB8fCAhdFRpbWUgJiYgdGhpcy5fdHMgPCAwKSAmJiBfcmVtb3ZlRnJvbVBhcmVudCh0aGlzLCAxKTsgLy8gZG9uJ3QgcmVtb3ZlIGlmIHdlJ3JlIHJlbmRlcmluZyBhdCBleGFjdGx5IGEgdGltZSBvZiAwLCBhcyB0aGVyZSBjb3VsZCBiZSBhdXRvUmV2ZXJ0IHZhbHVlcyB0aGF0IHNob3VsZCBnZXQgc2V0IG9uIHRoZSBuZXh0IHRpY2sgKGlmIHRoZSBwbGF5aGVhZCBnb2VzIGJhY2t3YXJkIGJleW9uZCB0aGUgc3RhcnRUaW1lLCBuZWdhdGl2ZSB0b3RhbFRpbWUpLiBEb24ndCByZW1vdmUgaWYgdGhlIHRpbWVsaW5lIGlzIHJldmVyc2VkIGFuZCB0aGUgcGxheWhlYWQgaXNuJ3QgYXQgMCwgb3RoZXJ3aXNlIHRsLnByb2dyZXNzKDEpLnJldmVyc2UoKSB3b24ndCB3b3JrLiBPbmx5IHJlbW92ZSBpZiB0aGUgcGxheWhlYWQgaXMgYXQgdGhlIGVuZCBhbmQgdGltZVNjYWxlIGlzIHBvc2l0aXZlLCBvciBpZiB0aGUgcGxheWhlYWQgaXMgYXQgMCBhbmQgdGhlIHRpbWVTY2FsZSBpcyBuZWdhdGl2ZS5cblxuICAgICAgICBpZiAoIXN1cHByZXNzRXZlbnRzICYmICEodG90YWxUaW1lIDwgMCAmJiAhcHJldlRpbWUpICYmICh0VGltZSB8fCBwcmV2VGltZSkpIHtcbiAgICAgICAgICAvLyBpZiBwcmV2VGltZSBhbmQgdFRpbWUgYXJlIHplcm8sIHdlIHNob3VsZG4ndCBmaXJlIHRoZSBvblJldmVyc2VDb21wbGV0ZS4gVGhpcyBjb3VsZCBoYXBwZW4gaWYgeW91IGdzYXAudG8oLi4uIHtwYXVzZWQ6dHJ1ZX0pLnBsYXkoKTtcbiAgICAgICAgICBfY2FsbGJhY2sodGhpcywgdFRpbWUgPT09IHREdXIgPyBcIm9uQ29tcGxldGVcIiA6IFwib25SZXZlcnNlQ29tcGxldGVcIiwgdHJ1ZSk7XG5cbiAgICAgICAgICB0aGlzLl9wcm9tICYmICEodFRpbWUgPCB0RHVyICYmIHRoaXMudGltZVNjYWxlKCkgPiAwKSAmJiB0aGlzLl9wcm9tKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8zLnRhcmdldHMgPSBmdW5jdGlvbiB0YXJnZXRzKCkge1xuICAgIHJldHVybiB0aGlzLl90YXJnZXRzO1xuICB9O1xuXG4gIF9wcm90bzMuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uIGludmFsaWRhdGUoKSB7XG4gICAgdGhpcy5fcHQgPSB0aGlzLl9vcCA9IHRoaXMuX3N0YXJ0QXQgPSB0aGlzLl9vblVwZGF0ZSA9IHRoaXMuX2FjdCA9IHRoaXMuX2xhenkgPSAwO1xuICAgIHRoaXMuX3B0TG9va3VwID0gW107XG4gICAgdGhpcy50aW1lbGluZSAmJiB0aGlzLnRpbWVsaW5lLmludmFsaWRhdGUoKTtcbiAgICByZXR1cm4gX0FuaW1hdGlvbjIucHJvdG90eXBlLmludmFsaWRhdGUuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8zLmtpbGwgPSBmdW5jdGlvbiBraWxsKHRhcmdldHMsIHZhcnMpIHtcbiAgICBpZiAodmFycyA9PT0gdm9pZCAwKSB7XG4gICAgICB2YXJzID0gXCJhbGxcIjtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldHMgJiYgKCF2YXJzIHx8IHZhcnMgPT09IFwiYWxsXCIpKSB7XG4gICAgICB0aGlzLl9sYXp5ID0gMDtcblxuICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJydXB0KHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnRpbWVsaW5lKSB7XG4gICAgICB2YXIgdER1ciA9IHRoaXMudGltZWxpbmUudG90YWxEdXJhdGlvbigpO1xuICAgICAgdGhpcy50aW1lbGluZS5raWxsVHdlZW5zT2YodGFyZ2V0cywgdmFycywgX292ZXJ3cml0aW5nVHdlZW4gJiYgX292ZXJ3cml0aW5nVHdlZW4udmFycy5vdmVyd3JpdGUgIT09IHRydWUpLl9maXJzdCB8fCBfaW50ZXJydXB0KHRoaXMpOyAvLyBpZiBub3RoaW5nIGlzIGxlZnQgdHdlZW5uZywgaW50ZXJydXB0LlxuXG4gICAgICB0aGlzLnBhcmVudCAmJiB0RHVyICE9PSB0aGlzLnRpbWVsaW5lLnRvdGFsRHVyYXRpb24oKSAmJiBfc2V0RHVyYXRpb24odGhpcywgdGhpcy5fZHVyICogdGhpcy50aW1lbGluZS5fdER1ciAvIHREdXIsIDAsIDEpOyAvLyBpZiBhIG5lc3RlZCB0d2VlbiBpcyBraWxsZWQgdGhhdCBjaGFuZ2VzIHRoZSBkdXJhdGlvbiwgaXQgc2hvdWxkIGFmZmVjdCB0aGlzIHR3ZWVuJ3MgZHVyYXRpb24uIFdlIG11c3QgdXNlIHRoZSByYXRpbywgdGhvdWdoLCBiZWNhdXNlIHNvbWV0aW1lcyB0aGUgaW50ZXJuYWwgdGltZWxpbmUgaXMgc3RyZXRjaGVkIGxpa2UgZm9yIGtleWZyYW1lcyB3aGVyZSB0aGV5IGRvbid0IGFsbCBhZGQgdXAgdG8gd2hhdGV2ZXIgdGhlIHBhcmVudCB0d2VlbidzIGR1cmF0aW9uIHdhcyBzZXQgdG8uXG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHZhciBwYXJzZWRUYXJnZXRzID0gdGhpcy5fdGFyZ2V0cyxcbiAgICAgICAga2lsbGluZ1RhcmdldHMgPSB0YXJnZXRzID8gdG9BcnJheSh0YXJnZXRzKSA6IHBhcnNlZFRhcmdldHMsXG4gICAgICAgIHByb3BUd2Vlbkxvb2t1cCA9IHRoaXMuX3B0TG9va3VwLFxuICAgICAgICBmaXJzdFBUID0gdGhpcy5fcHQsXG4gICAgICAgIG92ZXJ3cml0dGVuUHJvcHMsXG4gICAgICAgIGN1ckxvb2t1cCxcbiAgICAgICAgY3VyT3ZlcndyaXRlUHJvcHMsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBwLFxuICAgICAgICBwdCxcbiAgICAgICAgaTtcblxuICAgIGlmICgoIXZhcnMgfHwgdmFycyA9PT0gXCJhbGxcIikgJiYgX2FycmF5c01hdGNoKHBhcnNlZFRhcmdldHMsIGtpbGxpbmdUYXJnZXRzKSkge1xuICAgICAgdmFycyA9PT0gXCJhbGxcIiAmJiAodGhpcy5fcHQgPSAwKTtcbiAgICAgIHJldHVybiBfaW50ZXJydXB0KHRoaXMpO1xuICAgIH1cblxuICAgIG92ZXJ3cml0dGVuUHJvcHMgPSB0aGlzLl9vcCA9IHRoaXMuX29wIHx8IFtdO1xuXG4gICAgaWYgKHZhcnMgIT09IFwiYWxsXCIpIHtcbiAgICAgIC8vc28gcGVvcGxlIGNhbiBwYXNzIGluIGEgY29tbWEtZGVsaW1pdGVkIGxpc3Qgb2YgcHJvcGVydHkgbmFtZXNcbiAgICAgIGlmIChfaXNTdHJpbmcodmFycykpIHtcbiAgICAgICAgcCA9IHt9O1xuXG4gICAgICAgIF9mb3JFYWNoTmFtZSh2YXJzLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIHJldHVybiBwW25hbWVdID0gMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFycyA9IHA7XG4gICAgICB9XG5cbiAgICAgIHZhcnMgPSBfYWRkQWxpYXNlc1RvVmFycyhwYXJzZWRUYXJnZXRzLCB2YXJzKTtcbiAgICB9XG5cbiAgICBpID0gcGFyc2VkVGFyZ2V0cy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBpZiAofmtpbGxpbmdUYXJnZXRzLmluZGV4T2YocGFyc2VkVGFyZ2V0c1tpXSkpIHtcbiAgICAgICAgY3VyTG9va3VwID0gcHJvcFR3ZWVuTG9va3VwW2ldO1xuXG4gICAgICAgIGlmICh2YXJzID09PSBcImFsbFwiKSB7XG4gICAgICAgICAgb3ZlcndyaXR0ZW5Qcm9wc1tpXSA9IHZhcnM7XG4gICAgICAgICAgcHJvcHMgPSBjdXJMb29rdXA7XG4gICAgICAgICAgY3VyT3ZlcndyaXRlUHJvcHMgPSB7fTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJPdmVyd3JpdGVQcm9wcyA9IG92ZXJ3cml0dGVuUHJvcHNbaV0gPSBvdmVyd3JpdHRlblByb3BzW2ldIHx8IHt9O1xuICAgICAgICAgIHByb3BzID0gdmFycztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAocCBpbiBwcm9wcykge1xuICAgICAgICAgIHB0ID0gY3VyTG9va3VwICYmIGN1ckxvb2t1cFtwXTtcblxuICAgICAgICAgIGlmIChwdCkge1xuICAgICAgICAgICAgaWYgKCEoXCJraWxsXCIgaW4gcHQuZCkgfHwgcHQuZC5raWxsKHApID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIF9yZW1vdmVMaW5rZWRMaXN0SXRlbSh0aGlzLCBwdCwgXCJfcHRcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGV0ZSBjdXJMb29rdXBbcF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGN1ck92ZXJ3cml0ZVByb3BzICE9PSBcImFsbFwiKSB7XG4gICAgICAgICAgICBjdXJPdmVyd3JpdGVQcm9wc1twXSA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdHRlZCAmJiAhdGhpcy5fcHQgJiYgZmlyc3RQVCAmJiBfaW50ZXJydXB0KHRoaXMpOyAvL2lmIGFsbCB0d2VlbmluZyBwcm9wZXJ0aWVzIGFyZSBraWxsZWQsIGtpbGwgdGhlIHR3ZWVuLiBXaXRob3V0IHRoaXMgbGluZSwgaWYgdGhlcmUncyBhIHR3ZWVuIHdpdGggbXVsdGlwbGUgdGFyZ2V0cyBhbmQgdGhlbiB5b3Uga2lsbFR3ZWVuc09mKCkgZWFjaCB0YXJnZXQgaW5kaXZpZHVhbGx5LCB0aGUgdHdlZW4gd291bGQgdGVjaG5pY2FsbHkgc3RpbGwgcmVtYWluIGFjdGl2ZSBhbmQgZmlyZSBpdHMgb25Db21wbGV0ZSBldmVuIHRob3VnaCB0aGVyZSBhcmVuJ3QgYW55IG1vcmUgcHJvcGVydGllcyB0d2VlbmluZy5cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIFR3ZWVuLnRvID0gZnVuY3Rpb24gdG8odGFyZ2V0cywgdmFycykge1xuICAgIHJldHVybiBuZXcgVHdlZW4odGFyZ2V0cywgdmFycywgYXJndW1lbnRzWzJdKTtcbiAgfTtcblxuICBUd2Vlbi5mcm9tID0gZnVuY3Rpb24gZnJvbSh0YXJnZXRzLCB2YXJzKSB7XG4gICAgcmV0dXJuIG5ldyBUd2Vlbih0YXJnZXRzLCBfcGFyc2VWYXJzKGFyZ3VtZW50cywgMSkpO1xuICB9O1xuXG4gIFR3ZWVuLmRlbGF5ZWRDYWxsID0gZnVuY3Rpb24gZGVsYXllZENhbGwoZGVsYXksIGNhbGxiYWNrLCBwYXJhbXMsIHNjb3BlKSB7XG4gICAgcmV0dXJuIG5ldyBUd2VlbihjYWxsYmFjaywgMCwge1xuICAgICAgaW1tZWRpYXRlUmVuZGVyOiBmYWxzZSxcbiAgICAgIGxhenk6IGZhbHNlLFxuICAgICAgb3ZlcndyaXRlOiBmYWxzZSxcbiAgICAgIGRlbGF5OiBkZWxheSxcbiAgICAgIG9uQ29tcGxldGU6IGNhbGxiYWNrLFxuICAgICAgb25SZXZlcnNlQ29tcGxldGU6IGNhbGxiYWNrLFxuICAgICAgb25Db21wbGV0ZVBhcmFtczogcGFyYW1zLFxuICAgICAgb25SZXZlcnNlQ29tcGxldGVQYXJhbXM6IHBhcmFtcyxcbiAgICAgIGNhbGxiYWNrU2NvcGU6IHNjb3BlXG4gICAgfSk7XG4gIH07XG5cbiAgVHdlZW4uZnJvbVRvID0gZnVuY3Rpb24gZnJvbVRvKHRhcmdldHMsIGZyb21WYXJzLCB0b1ZhcnMpIHtcbiAgICByZXR1cm4gbmV3IFR3ZWVuKHRhcmdldHMsIF9wYXJzZVZhcnMoYXJndW1lbnRzLCAyKSk7XG4gIH07XG5cbiAgVHdlZW4uc2V0ID0gZnVuY3Rpb24gc2V0KHRhcmdldHMsIHZhcnMpIHtcbiAgICB2YXJzLmR1cmF0aW9uID0gMDtcbiAgICB2YXJzLnJlcGVhdERlbGF5IHx8ICh2YXJzLnJlcGVhdCA9IDApO1xuICAgIHJldHVybiBuZXcgVHdlZW4odGFyZ2V0cywgdmFycyk7XG4gIH07XG5cbiAgVHdlZW4ua2lsbFR3ZWVuc09mID0gZnVuY3Rpb24ga2lsbFR3ZWVuc09mKHRhcmdldHMsIHByb3BzLCBvbmx5QWN0aXZlKSB7XG4gICAgcmV0dXJuIF9nbG9iYWxUaW1lbGluZS5raWxsVHdlZW5zT2YodGFyZ2V0cywgcHJvcHMsIG9ubHlBY3RpdmUpO1xuICB9O1xuXG4gIHJldHVybiBUd2Vlbjtcbn0oQW5pbWF0aW9uKTtcblxuX3NldERlZmF1bHRzKFR3ZWVuLnByb3RvdHlwZSwge1xuICBfdGFyZ2V0czogW10sXG4gIF9sYXp5OiAwLFxuICBfc3RhcnRBdDogMCxcbiAgX29wOiAwLFxuICBfb25Jbml0OiAwXG59KTsgLy9hZGQgdGhlIHBlcnRpbmVudCB0aW1lbGluZSBtZXRob2RzIHRvIFR3ZWVuIGluc3RhbmNlcyBzbyB0aGF0IHVzZXJzIGNhbiBjaGFpbiBjb252ZW5pZW50bHkgYW5kIGNyZWF0ZSBhIHRpbWVsaW5lIGF1dG9tYXRpY2FsbHkuIChyZW1vdmVkIGR1ZSB0byBjb25jZXJucyB0aGF0IGl0J2QgdWx0aW1hdGVseSBhZGQgdG8gbW9yZSBjb25mdXNpb24gZXNwZWNpYWxseSBmb3IgYmVnaW5uZXJzKVxuLy8gX2ZvckVhY2hOYW1lKFwidG8sZnJvbSxmcm9tVG8sc2V0LGNhbGwsYWRkLGFkZExhYmVsLGFkZFBhdXNlXCIsIG5hbWUgPT4ge1xuLy8gXHRUd2Vlbi5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbi8vIFx0XHRsZXQgdGwgPSBuZXcgVGltZWxpbmUoKTtcbi8vIFx0XHRyZXR1cm4gX2FkZFRvVGltZWxpbmUodGwsIHRoaXMpW25hbWVdLmFwcGx5KHRsLCB0b0FycmF5KGFyZ3VtZW50cykpO1xuLy8gXHR9XG4vLyB9KTtcbi8vZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuIExldmVyYWdlIHRoZSB0aW1lbGluZSBjYWxscy5cblxuXG5fZm9yRWFjaE5hbWUoXCJzdGFnZ2VyVG8sc3RhZ2dlckZyb20sc3RhZ2dlckZyb21Ub1wiLCBmdW5jdGlvbiAobmFtZSkge1xuICBUd2VlbltuYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGwgPSBuZXcgVGltZWxpbmUoKSxcbiAgICAgICAgcGFyYW1zID0gX3NsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIHBhcmFtcy5zcGxpY2UobmFtZSA9PT0gXCJzdGFnZ2VyRnJvbVRvXCIgPyA1IDogNCwgMCwgMCk7XG4gICAgcmV0dXJuIHRsW25hbWVdLmFwcGx5KHRsLCBwYXJhbXMpO1xuICB9O1xufSk7XG4vKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBST1BUV0VFTlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG5cbnZhciBfc2V0dGVyUGxhaW4gPSBmdW5jdGlvbiBfc2V0dGVyUGxhaW4odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgcmV0dXJuIHRhcmdldFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbn0sXG4gICAgX3NldHRlckZ1bmMgPSBmdW5jdGlvbiBfc2V0dGVyRnVuYyh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICByZXR1cm4gdGFyZ2V0W3Byb3BlcnR5XSh2YWx1ZSk7XG59LFxuICAgIF9zZXR0ZXJGdW5jV2l0aFBhcmFtID0gZnVuY3Rpb24gX3NldHRlckZ1bmNXaXRoUGFyYW0odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIGRhdGEpIHtcbiAgcmV0dXJuIHRhcmdldFtwcm9wZXJ0eV0oZGF0YS5mcCwgdmFsdWUpO1xufSxcbiAgICBfc2V0dGVyQXR0cmlidXRlID0gZnVuY3Rpb24gX3NldHRlckF0dHJpYnV0ZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICByZXR1cm4gdGFyZ2V0LnNldEF0dHJpYnV0ZShwcm9wZXJ0eSwgdmFsdWUpO1xufSxcbiAgICBfZ2V0U2V0dGVyID0gZnVuY3Rpb24gX2dldFNldHRlcih0YXJnZXQsIHByb3BlcnR5KSB7XG4gIHJldHVybiBfaXNGdW5jdGlvbih0YXJnZXRbcHJvcGVydHldKSA/IF9zZXR0ZXJGdW5jIDogX2lzVW5kZWZpbmVkKHRhcmdldFtwcm9wZXJ0eV0pICYmIHRhcmdldC5zZXRBdHRyaWJ1dGUgPyBfc2V0dGVyQXR0cmlidXRlIDogX3NldHRlclBsYWluO1xufSxcbiAgICBfcmVuZGVyUGxhaW4gPSBmdW5jdGlvbiBfcmVuZGVyUGxhaW4ocmF0aW8sIGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEuc2V0KGRhdGEudCwgZGF0YS5wLCBNYXRoLnJvdW5kKChkYXRhLnMgKyBkYXRhLmMgKiByYXRpbykgKiAxMDAwMCkgLyAxMDAwMCwgZGF0YSk7XG59LFxuICAgIF9yZW5kZXJCb29sZWFuID0gZnVuY3Rpb24gX3JlbmRlckJvb2xlYW4ocmF0aW8sIGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEuc2V0KGRhdGEudCwgZGF0YS5wLCAhIShkYXRhLnMgKyBkYXRhLmMgKiByYXRpbyksIGRhdGEpO1xufSxcbiAgICBfcmVuZGVyQ29tcGxleFN0cmluZyA9IGZ1bmN0aW9uIF9yZW5kZXJDb21wbGV4U3RyaW5nKHJhdGlvLCBkYXRhKSB7XG4gIHZhciBwdCA9IGRhdGEuX3B0LFxuICAgICAgcyA9IFwiXCI7XG5cbiAgaWYgKCFyYXRpbyAmJiBkYXRhLmIpIHtcbiAgICAvL2IgPSBiZWdpbm5pbmcgc3RyaW5nXG4gICAgcyA9IGRhdGEuYjtcbiAgfSBlbHNlIGlmIChyYXRpbyA9PT0gMSAmJiBkYXRhLmUpIHtcbiAgICAvL2UgPSBlbmRpbmcgc3RyaW5nXG4gICAgcyA9IGRhdGEuZTtcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAocHQpIHtcbiAgICAgIHMgPSBwdC5wICsgKHB0Lm0gPyBwdC5tKHB0LnMgKyBwdC5jICogcmF0aW8pIDogTWF0aC5yb3VuZCgocHQucyArIHB0LmMgKiByYXRpbykgKiAxMDAwMCkgLyAxMDAwMCkgKyBzOyAvL3dlIHVzZSB0aGUgXCJwXCIgcHJvcGVydHkgZm9yIHRoZSB0ZXh0IGluYmV0d2VlbiAobGlrZSBhIHN1ZmZpeCkuIEFuZCBpbiB0aGUgY29udGV4dCBvZiBhIGNvbXBsZXggc3RyaW5nLCB0aGUgbW9kaWZpZXIgKG0pIGlzIHR5cGljYWxseSBqdXN0IE1hdGgucm91bmQoKSwgbGlrZSBmb3IgUkdCIGNvbG9ycy5cblxuICAgICAgcHQgPSBwdC5fbmV4dDtcbiAgICB9XG5cbiAgICBzICs9IGRhdGEuYzsgLy93ZSB1c2UgdGhlIFwiY1wiIG9mIHRoZSBQcm9wVHdlZW4gdG8gc3RvcmUgdGhlIGZpbmFsIGNodW5rIG9mIG5vbi1udW1lcmljIHRleHQuXG4gIH1cblxuICBkYXRhLnNldChkYXRhLnQsIGRhdGEucCwgcywgZGF0YSk7XG59LFxuICAgIF9yZW5kZXJQcm9wVHdlZW5zID0gZnVuY3Rpb24gX3JlbmRlclByb3BUd2VlbnMocmF0aW8sIGRhdGEpIHtcbiAgdmFyIHB0ID0gZGF0YS5fcHQ7XG5cbiAgd2hpbGUgKHB0KSB7XG4gICAgcHQucihyYXRpbywgcHQuZCk7XG4gICAgcHQgPSBwdC5fbmV4dDtcbiAgfVxufSxcbiAgICBfYWRkUGx1Z2luTW9kaWZpZXIgPSBmdW5jdGlvbiBfYWRkUGx1Z2luTW9kaWZpZXIobW9kaWZpZXIsIHR3ZWVuLCB0YXJnZXQsIHByb3BlcnR5KSB7XG4gIHZhciBwdCA9IHRoaXMuX3B0LFxuICAgICAgbmV4dDtcblxuICB3aGlsZSAocHQpIHtcbiAgICBuZXh0ID0gcHQuX25leHQ7XG4gICAgcHQucCA9PT0gcHJvcGVydHkgJiYgcHQubW9kaWZpZXIobW9kaWZpZXIsIHR3ZWVuLCB0YXJnZXQpO1xuICAgIHB0ID0gbmV4dDtcbiAgfVxufSxcbiAgICBfa2lsbFByb3BUd2VlbnNPZiA9IGZ1bmN0aW9uIF9raWxsUHJvcFR3ZWVuc09mKHByb3BlcnR5KSB7XG4gIHZhciBwdCA9IHRoaXMuX3B0LFxuICAgICAgaGFzTm9uRGVwZW5kZW50UmVtYWluaW5nLFxuICAgICAgbmV4dDtcblxuICB3aGlsZSAocHQpIHtcbiAgICBuZXh0ID0gcHQuX25leHQ7XG5cbiAgICBpZiAocHQucCA9PT0gcHJvcGVydHkgJiYgIXB0Lm9wIHx8IHB0Lm9wID09PSBwcm9wZXJ0eSkge1xuICAgICAgX3JlbW92ZUxpbmtlZExpc3RJdGVtKHRoaXMsIHB0LCBcIl9wdFwiKTtcbiAgICB9IGVsc2UgaWYgKCFwdC5kZXApIHtcbiAgICAgIGhhc05vbkRlcGVuZGVudFJlbWFpbmluZyA9IDE7XG4gICAgfVxuXG4gICAgcHQgPSBuZXh0O1xuICB9XG5cbiAgcmV0dXJuICFoYXNOb25EZXBlbmRlbnRSZW1haW5pbmc7XG59LFxuICAgIF9zZXR0ZXJXaXRoTW9kaWZpZXIgPSBmdW5jdGlvbiBfc2V0dGVyV2l0aE1vZGlmaWVyKHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCBkYXRhKSB7XG4gIGRhdGEubVNldCh0YXJnZXQsIHByb3BlcnR5LCBkYXRhLm0uY2FsbChkYXRhLnR3ZWVuLCB2YWx1ZSwgZGF0YS5tdCksIGRhdGEpO1xufSxcbiAgICBfc29ydFByb3BUd2VlbnNCeVByaW9yaXR5ID0gZnVuY3Rpb24gX3NvcnRQcm9wVHdlZW5zQnlQcmlvcml0eShwYXJlbnQpIHtcbiAgdmFyIHB0ID0gcGFyZW50Ll9wdCxcbiAgICAgIG5leHQsXG4gICAgICBwdDIsXG4gICAgICBmaXJzdCxcbiAgICAgIGxhc3Q7IC8vc29ydHMgdGhlIFByb3BUd2VlbiBsaW5rZWQgbGlzdCBpbiBvcmRlciBvZiBwcmlvcml0eSBiZWNhdXNlIHNvbWUgcGx1Z2lucyBuZWVkIHRvIGRvIHRoZWlyIHdvcmsgYWZ0ZXIgQUxMIG9mIHRoZSBQcm9wVHdlZW5zIHdlcmUgY3JlYXRlZCAobGlrZSBSb3VuZFByb3BzUGx1Z2luIGFuZCBNb2RpZmllcnNQbHVnaW4pXG5cbiAgd2hpbGUgKHB0KSB7XG4gICAgbmV4dCA9IHB0Ll9uZXh0O1xuICAgIHB0MiA9IGZpcnN0O1xuXG4gICAgd2hpbGUgKHB0MiAmJiBwdDIucHIgPiBwdC5wcikge1xuICAgICAgcHQyID0gcHQyLl9uZXh0O1xuICAgIH1cblxuICAgIGlmIChwdC5fcHJldiA9IHB0MiA/IHB0Mi5fcHJldiA6IGxhc3QpIHtcbiAgICAgIHB0Ll9wcmV2Ll9uZXh0ID0gcHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpcnN0ID0gcHQ7XG4gICAgfVxuXG4gICAgaWYgKHB0Ll9uZXh0ID0gcHQyKSB7XG4gICAgICBwdDIuX3ByZXYgPSBwdDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdCA9IHB0O1xuICAgIH1cblxuICAgIHB0ID0gbmV4dDtcbiAgfVxuXG4gIHBhcmVudC5fcHQgPSBmaXJzdDtcbn07IC8vUHJvcFR3ZWVuIGtleTogdCA9IHRhcmdldCwgcCA9IHByb3AsIHIgPSByZW5kZXJlciwgZCA9IGRhdGEsIHMgPSBzdGFydCwgYyA9IGNoYW5nZSwgb3AgPSBvdmVyd3JpdGVQcm9wZXJ0eSAoT05MWSBwb3B1bGF0ZWQgd2hlbiBpdCdzIGRpZmZlcmVudCB0aGFuIHApLCBwciA9IHByaW9yaXR5LCBfbmV4dC9fcHJldiBmb3IgdGhlIGxpbmtlZCBsaXN0IHNpYmxpbmdzLCBzZXQgPSBzZXR0ZXIsIG0gPSBtb2RpZmllciwgbVNldCA9IG1vZGlmaWVyU2V0dGVyICh0aGUgb3JpZ2luYWwgc2V0dGVyLCBiZWZvcmUgYSBtb2RpZmllciB3YXMgYWRkZWQpXG5cblxuZXhwb3J0IHZhciBQcm9wVHdlZW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9wVHdlZW4obmV4dCwgdGFyZ2V0LCBwcm9wLCBzdGFydCwgY2hhbmdlLCByZW5kZXJlciwgZGF0YSwgc2V0dGVyLCBwcmlvcml0eSkge1xuICAgIHRoaXMudCA9IHRhcmdldDtcbiAgICB0aGlzLnMgPSBzdGFydDtcbiAgICB0aGlzLmMgPSBjaGFuZ2U7XG4gICAgdGhpcy5wID0gcHJvcDtcbiAgICB0aGlzLnIgPSByZW5kZXJlciB8fCBfcmVuZGVyUGxhaW47XG4gICAgdGhpcy5kID0gZGF0YSB8fCB0aGlzO1xuICAgIHRoaXMuc2V0ID0gc2V0dGVyIHx8IF9zZXR0ZXJQbGFpbjtcbiAgICB0aGlzLnByID0gcHJpb3JpdHkgfHwgMDtcbiAgICB0aGlzLl9uZXh0ID0gbmV4dDtcblxuICAgIGlmIChuZXh0KSB7XG4gICAgICBuZXh0Ll9wcmV2ID0gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgX3Byb3RvNCA9IFByb3BUd2Vlbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvNC5tb2RpZmllciA9IGZ1bmN0aW9uIG1vZGlmaWVyKGZ1bmMsIHR3ZWVuLCB0YXJnZXQpIHtcbiAgICB0aGlzLm1TZXQgPSB0aGlzLm1TZXQgfHwgdGhpcy5zZXQ7IC8vaW4gY2FzZSBpdCB3YXMgYWxyZWFkeSBzZXQgKGEgUHJvcFR3ZWVuIGNhbiBvbmx5IGhhdmUgb25lIG1vZGlmaWVyKVxuXG4gICAgdGhpcy5zZXQgPSBfc2V0dGVyV2l0aE1vZGlmaWVyO1xuICAgIHRoaXMubSA9IGZ1bmM7XG4gICAgdGhpcy5tdCA9IHRhcmdldDsgLy9tb2RpZmllciB0YXJnZXRcblxuICAgIHRoaXMudHdlZW4gPSB0d2VlbjtcbiAgfTtcblxuICByZXR1cm4gUHJvcFR3ZWVuO1xufSgpOyAvL0luaXRpYWxpemF0aW9uIHRhc2tzXG5cbl9mb3JFYWNoTmFtZShfY2FsbGJhY2tOYW1lcyArIFwicGFyZW50LGR1cmF0aW9uLGVhc2UsZGVsYXksb3ZlcndyaXRlLHJ1bkJhY2t3YXJkcyxzdGFydEF0LHlveW8saW1tZWRpYXRlUmVuZGVyLHJlcGVhdCxyZXBlYXREZWxheSxkYXRhLHBhdXNlZCxyZXZlcnNlZCxsYXp5LGNhbGxiYWNrU2NvcGUsc3RyaW5nRmlsdGVyLGlkLHlveW9FYXNlLHN0YWdnZXIsaW5oZXJpdCxyZXBlYXRSZWZyZXNoLGtleWZyYW1lcyxhdXRvUmV2ZXJ0LHNjcm9sbFRyaWdnZXJcIiwgZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIF9yZXNlcnZlZFByb3BzW25hbWVdID0gMTtcbn0pO1xuXG5fZ2xvYmFscy5Ud2Vlbk1heCA9IF9nbG9iYWxzLlR3ZWVuTGl0ZSA9IFR3ZWVuO1xuX2dsb2JhbHMuVGltZWxpbmVMaXRlID0gX2dsb2JhbHMuVGltZWxpbmVNYXggPSBUaW1lbGluZTtcbl9nbG9iYWxUaW1lbGluZSA9IG5ldyBUaW1lbGluZSh7XG4gIHNvcnRDaGlsZHJlbjogZmFsc2UsXG4gIGRlZmF1bHRzOiBfZGVmYXVsdHMsXG4gIGF1dG9SZW1vdmVDaGlsZHJlbjogdHJ1ZSxcbiAgaWQ6IFwicm9vdFwiLFxuICBzbW9vdGhDaGlsZFRpbWluZzogdHJ1ZVxufSk7XG5fY29uZmlnLnN0cmluZ0ZpbHRlciA9IF9jb2xvclN0cmluZ0ZpbHRlcjtcbi8qXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR1NBUFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG52YXIgX2dzYXAgPSB7XG4gIHJlZ2lzdGVyUGx1Z2luOiBmdW5jdGlvbiByZWdpc3RlclBsdWdpbigpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgcmV0dXJuIF9jcmVhdGVQbHVnaW4oY29uZmlnKTtcbiAgICB9KTtcbiAgfSxcbiAgdGltZWxpbmU6IGZ1bmN0aW9uIHRpbWVsaW5lKHZhcnMpIHtcbiAgICByZXR1cm4gbmV3IFRpbWVsaW5lKHZhcnMpO1xuICB9LFxuICBnZXRUd2VlbnNPZjogZnVuY3Rpb24gZ2V0VHdlZW5zT2YodGFyZ2V0cywgb25seUFjdGl2ZSkge1xuICAgIHJldHVybiBfZ2xvYmFsVGltZWxpbmUuZ2V0VHdlZW5zT2YodGFyZ2V0cywgb25seUFjdGl2ZSk7XG4gIH0sXG4gIGdldFByb3BlcnR5OiBmdW5jdGlvbiBnZXRQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB1bml0LCB1bmNhY2hlKSB7XG4gICAgX2lzU3RyaW5nKHRhcmdldCkgJiYgKHRhcmdldCA9IHRvQXJyYXkodGFyZ2V0KVswXSk7IC8vaW4gY2FzZSBzZWxlY3RvciB0ZXh0IG9yIGFuIGFycmF5IGlzIHBhc3NlZCBpblxuXG4gICAgdmFyIGdldHRlciA9IF9nZXRDYWNoZSh0YXJnZXQgfHwge30pLmdldCxcbiAgICAgICAgZm9ybWF0ID0gdW5pdCA/IF9wYXNzVGhyb3VnaCA6IF9udW1lcmljSWZQb3NzaWJsZTtcblxuICAgIHVuaXQgPT09IFwibmF0aXZlXCIgJiYgKHVuaXQgPSBcIlwiKTtcbiAgICByZXR1cm4gIXRhcmdldCA/IHRhcmdldCA6ICFwcm9wZXJ0eSA/IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdW5pdCwgdW5jYWNoZSkge1xuICAgICAgcmV0dXJuIGZvcm1hdCgoX3BsdWdpbnNbcHJvcGVydHldICYmIF9wbHVnaW5zW3Byb3BlcnR5XS5nZXQgfHwgZ2V0dGVyKSh0YXJnZXQsIHByb3BlcnR5LCB1bml0LCB1bmNhY2hlKSk7XG4gICAgfSA6IGZvcm1hdCgoX3BsdWdpbnNbcHJvcGVydHldICYmIF9wbHVnaW5zW3Byb3BlcnR5XS5nZXQgfHwgZ2V0dGVyKSh0YXJnZXQsIHByb3BlcnR5LCB1bml0LCB1bmNhY2hlKSk7XG4gIH0sXG4gIHF1aWNrU2V0dGVyOiBmdW5jdGlvbiBxdWlja1NldHRlcih0YXJnZXQsIHByb3BlcnR5LCB1bml0KSB7XG4gICAgdGFyZ2V0ID0gdG9BcnJheSh0YXJnZXQpO1xuXG4gICAgaWYgKHRhcmdldC5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgc2V0dGVycyA9IHRhcmdldC5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIGdzYXAucXVpY2tTZXR0ZXIodCwgcHJvcGVydHksIHVuaXQpO1xuICAgICAgfSksXG4gICAgICAgICAgbCA9IHNldHRlcnMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgaSA9IGw7XG5cbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIHNldHRlcnNbaV0odmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHRhcmdldCA9IHRhcmdldFswXSB8fCB7fTtcblxuICAgIHZhciBQbHVnaW4gPSBfcGx1Z2luc1twcm9wZXJ0eV0sXG4gICAgICAgIGNhY2hlID0gX2dldENhY2hlKHRhcmdldCksXG4gICAgICAgIHAgPSBjYWNoZS5oYXJuZXNzICYmIChjYWNoZS5oYXJuZXNzLmFsaWFzZXMgfHwge30pW3Byb3BlcnR5XSB8fCBwcm9wZXJ0eSxcbiAgICAgICAgLy8gaW4gY2FzZSBpdCdzIGFuIGFsaWFzLCBsaWtlIFwicm90YXRlXCIgZm9yIFwicm90YXRpb25cIi5cbiAgICBzZXR0ZXIgPSBQbHVnaW4gPyBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhciBwID0gbmV3IFBsdWdpbigpO1xuICAgICAgX3F1aWNrVHdlZW4uX3B0ID0gMDtcbiAgICAgIHAuaW5pdCh0YXJnZXQsIHVuaXQgPyB2YWx1ZSArIHVuaXQgOiB2YWx1ZSwgX3F1aWNrVHdlZW4sIDAsIFt0YXJnZXRdKTtcbiAgICAgIHAucmVuZGVyKDEsIHApO1xuICAgICAgX3F1aWNrVHdlZW4uX3B0ICYmIF9yZW5kZXJQcm9wVHdlZW5zKDEsIF9xdWlja1R3ZWVuKTtcbiAgICB9IDogY2FjaGUuc2V0KHRhcmdldCwgcCk7XG5cbiAgICByZXR1cm4gUGx1Z2luID8gc2V0dGVyIDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gc2V0dGVyKHRhcmdldCwgcCwgdW5pdCA/IHZhbHVlICsgdW5pdCA6IHZhbHVlLCBjYWNoZSwgMSk7XG4gICAgfTtcbiAgfSxcbiAgaXNUd2VlbmluZzogZnVuY3Rpb24gaXNUd2VlbmluZyh0YXJnZXRzKSB7XG4gICAgcmV0dXJuIF9nbG9iYWxUaW1lbGluZS5nZXRUd2VlbnNPZih0YXJnZXRzLCB0cnVlKS5sZW5ndGggPiAwO1xuICB9LFxuICBkZWZhdWx0czogZnVuY3Rpb24gZGVmYXVsdHModmFsdWUpIHtcbiAgICB2YWx1ZSAmJiB2YWx1ZS5lYXNlICYmICh2YWx1ZS5lYXNlID0gX3BhcnNlRWFzZSh2YWx1ZS5lYXNlLCBfZGVmYXVsdHMuZWFzZSkpO1xuICAgIHJldHVybiBfbWVyZ2VEZWVwKF9kZWZhdWx0cywgdmFsdWUgfHwge30pO1xuICB9LFxuICBjb25maWc6IGZ1bmN0aW9uIGNvbmZpZyh2YWx1ZSkge1xuICAgIHJldHVybiBfbWVyZ2VEZWVwKF9jb25maWcsIHZhbHVlIHx8IHt9KTtcbiAgfSxcbiAgcmVnaXN0ZXJFZmZlY3Q6IGZ1bmN0aW9uIHJlZ2lzdGVyRWZmZWN0KF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgZWZmZWN0ID0gX3JlZi5lZmZlY3QsXG4gICAgICAgIHBsdWdpbnMgPSBfcmVmLnBsdWdpbnMsXG4gICAgICAgIGRlZmF1bHRzID0gX3JlZi5kZWZhdWx0cyxcbiAgICAgICAgZXh0ZW5kVGltZWxpbmUgPSBfcmVmLmV4dGVuZFRpbWVsaW5lO1xuICAgIChwbHVnaW5zIHx8IFwiXCIpLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW5OYW1lKSB7XG4gICAgICByZXR1cm4gcGx1Z2luTmFtZSAmJiAhX3BsdWdpbnNbcGx1Z2luTmFtZV0gJiYgIV9nbG9iYWxzW3BsdWdpbk5hbWVdICYmIF93YXJuKG5hbWUgKyBcIiBlZmZlY3QgcmVxdWlyZXMgXCIgKyBwbHVnaW5OYW1lICsgXCIgcGx1Z2luLlwiKTtcbiAgICB9KTtcblxuICAgIF9lZmZlY3RzW25hbWVdID0gZnVuY3Rpb24gKHRhcmdldHMsIHZhcnMsIHRsKSB7XG4gICAgICByZXR1cm4gZWZmZWN0KHRvQXJyYXkodGFyZ2V0cyksIF9zZXREZWZhdWx0cyh2YXJzIHx8IHt9LCBkZWZhdWx0cyksIHRsKTtcbiAgICB9O1xuXG4gICAgaWYgKGV4dGVuZFRpbWVsaW5lKSB7XG4gICAgICBUaW1lbGluZS5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbiAodGFyZ2V0cywgdmFycywgcG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKF9lZmZlY3RzW25hbWVdKHRhcmdldHMsIF9pc09iamVjdCh2YXJzKSA/IHZhcnMgOiAocG9zaXRpb24gPSB2YXJzKSAmJiB7fSwgdGhpcyksIHBvc2l0aW9uKTtcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICByZWdpc3RlckVhc2U6IGZ1bmN0aW9uIHJlZ2lzdGVyRWFzZShuYW1lLCBlYXNlKSB7XG4gICAgX2Vhc2VNYXBbbmFtZV0gPSBfcGFyc2VFYXNlKGVhc2UpO1xuICB9LFxuICBwYXJzZUVhc2U6IGZ1bmN0aW9uIHBhcnNlRWFzZShlYXNlLCBkZWZhdWx0RWFzZSkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gX3BhcnNlRWFzZShlYXNlLCBkZWZhdWx0RWFzZSkgOiBfZWFzZU1hcDtcbiAgfSxcbiAgZ2V0QnlJZDogZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xuICAgIHJldHVybiBfZ2xvYmFsVGltZWxpbmUuZ2V0QnlJZChpZCk7XG4gIH0sXG4gIGV4cG9ydFJvb3Q6IGZ1bmN0aW9uIGV4cG9ydFJvb3QodmFycywgaW5jbHVkZURlbGF5ZWRDYWxscykge1xuICAgIGlmICh2YXJzID09PSB2b2lkIDApIHtcbiAgICAgIHZhcnMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgdGwgPSBuZXcgVGltZWxpbmUodmFycyksXG4gICAgICAgIGNoaWxkLFxuICAgICAgICBuZXh0O1xuICAgIHRsLnNtb290aENoaWxkVGltaW5nID0gX2lzTm90RmFsc2UodmFycy5zbW9vdGhDaGlsZFRpbWluZyk7XG5cbiAgICBfZ2xvYmFsVGltZWxpbmUucmVtb3ZlKHRsKTtcblxuICAgIHRsLl9kcCA9IDA7IC8vb3RoZXJ3aXNlIGl0J2xsIGdldCByZS1hY3RpdmF0ZWQgd2hlbiBhZGRpbmcgY2hpbGRyZW4gYW5kIGJlIHJlLWludHJvZHVjZWQgaW50byBfZ2xvYmFsVGltZWxpbmUncyBsaW5rZWQgbGlzdCAodGhlbiBhZGRlZCB0byBpdHNlbGYpLlxuXG4gICAgdGwuX3RpbWUgPSB0bC5fdFRpbWUgPSBfZ2xvYmFsVGltZWxpbmUuX3RpbWU7XG4gICAgY2hpbGQgPSBfZ2xvYmFsVGltZWxpbmUuX2ZpcnN0O1xuXG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICBuZXh0ID0gY2hpbGQuX25leHQ7XG5cbiAgICAgIGlmIChpbmNsdWRlRGVsYXllZENhbGxzIHx8ICEoIWNoaWxkLl9kdXIgJiYgY2hpbGQgaW5zdGFuY2VvZiBUd2VlbiAmJiBjaGlsZC52YXJzLm9uQ29tcGxldGUgPT09IGNoaWxkLl90YXJnZXRzWzBdKSkge1xuICAgICAgICBfYWRkVG9UaW1lbGluZSh0bCwgY2hpbGQsIGNoaWxkLl9zdGFydCAtIGNoaWxkLl9kZWxheSk7XG4gICAgICB9XG5cbiAgICAgIGNoaWxkID0gbmV4dDtcbiAgICB9XG5cbiAgICBfYWRkVG9UaW1lbGluZShfZ2xvYmFsVGltZWxpbmUsIHRsLCAwKTtcblxuICAgIHJldHVybiB0bDtcbiAgfSxcbiAgdXRpbHM6IHtcbiAgICB3cmFwOiB3cmFwLFxuICAgIHdyYXBZb3lvOiB3cmFwWW95byxcbiAgICBkaXN0cmlidXRlOiBkaXN0cmlidXRlLFxuICAgIHJhbmRvbTogcmFuZG9tLFxuICAgIHNuYXA6IHNuYXAsXG4gICAgbm9ybWFsaXplOiBub3JtYWxpemUsXG4gICAgZ2V0VW5pdDogZ2V0VW5pdCxcbiAgICBjbGFtcDogY2xhbXAsXG4gICAgc3BsaXRDb2xvcjogc3BsaXRDb2xvcixcbiAgICB0b0FycmF5OiB0b0FycmF5LFxuICAgIG1hcFJhbmdlOiBtYXBSYW5nZSxcbiAgICBwaXBlOiBwaXBlLFxuICAgIHVuaXRpemU6IHVuaXRpemUsXG4gICAgaW50ZXJwb2xhdGU6IGludGVycG9sYXRlLFxuICAgIHNodWZmbGU6IHNodWZmbGVcbiAgfSxcbiAgaW5zdGFsbDogX2luc3RhbGwsXG4gIGVmZmVjdHM6IF9lZmZlY3RzLFxuICB0aWNrZXI6IF90aWNrZXIsXG4gIHVwZGF0ZVJvb3Q6IFRpbWVsaW5lLnVwZGF0ZVJvb3QsXG4gIHBsdWdpbnM6IF9wbHVnaW5zLFxuICBnbG9iYWxUaW1lbGluZTogX2dsb2JhbFRpbWVsaW5lLFxuICBjb3JlOiB7XG4gICAgUHJvcFR3ZWVuOiBQcm9wVHdlZW4sXG4gICAgZ2xvYmFsczogX2FkZEdsb2JhbCxcbiAgICBUd2VlbjogVHdlZW4sXG4gICAgVGltZWxpbmU6IFRpbWVsaW5lLFxuICAgIEFuaW1hdGlvbjogQW5pbWF0aW9uLFxuICAgIGdldENhY2hlOiBfZ2V0Q2FjaGUsXG4gICAgX3JlbW92ZUxpbmtlZExpc3RJdGVtOiBfcmVtb3ZlTGlua2VkTGlzdEl0ZW1cbiAgfVxufTtcblxuX2ZvckVhY2hOYW1lKFwidG8sZnJvbSxmcm9tVG8sZGVsYXllZENhbGwsc2V0LGtpbGxUd2VlbnNPZlwiLCBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gX2dzYXBbbmFtZV0gPSBUd2VlbltuYW1lXTtcbn0pO1xuXG5fdGlja2VyLmFkZChUaW1lbGluZS51cGRhdGVSb290KTtcblxuX3F1aWNrVHdlZW4gPSBfZ3NhcC50byh7fSwge1xuICBkdXJhdGlvbjogMFxufSk7IC8vIC0tLS0gRVhUUkEgUExVR0lOUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgX2dldFBsdWdpblByb3BUd2VlbiA9IGZ1bmN0aW9uIF9nZXRQbHVnaW5Qcm9wVHdlZW4ocGx1Z2luLCBwcm9wKSB7XG4gIHZhciBwdCA9IHBsdWdpbi5fcHQ7XG5cbiAgd2hpbGUgKHB0ICYmIHB0LnAgIT09IHByb3AgJiYgcHQub3AgIT09IHByb3AgJiYgcHQuZnAgIT09IHByb3ApIHtcbiAgICBwdCA9IHB0Ll9uZXh0O1xuICB9XG5cbiAgcmV0dXJuIHB0O1xufSxcbiAgICBfYWRkTW9kaWZpZXJzID0gZnVuY3Rpb24gX2FkZE1vZGlmaWVycyh0d2VlbiwgbW9kaWZpZXJzKSB7XG4gIHZhciB0YXJnZXRzID0gdHdlZW4uX3RhcmdldHMsXG4gICAgICBwLFxuICAgICAgaSxcbiAgICAgIHB0O1xuXG4gIGZvciAocCBpbiBtb2RpZmllcnMpIHtcbiAgICBpID0gdGFyZ2V0cy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBwdCA9IHR3ZWVuLl9wdExvb2t1cFtpXVtwXTtcblxuICAgICAgaWYgKHB0ICYmIChwdCA9IHB0LmQpKSB7XG4gICAgICAgIGlmIChwdC5fcHQpIHtcbiAgICAgICAgICAvLyBpcyBhIHBsdWdpblxuICAgICAgICAgIHB0ID0gX2dldFBsdWdpblByb3BUd2VlbihwdCwgcCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdCAmJiBwdC5tb2RpZmllciAmJiBwdC5tb2RpZmllcihtb2RpZmllcnNbcF0sIHR3ZWVuLCB0YXJnZXRzW2ldLCBwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sXG4gICAgX2J1aWxkTW9kaWZpZXJQbHVnaW4gPSBmdW5jdGlvbiBfYnVpbGRNb2RpZmllclBsdWdpbihuYW1lLCBtb2RpZmllcikge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgcmF3VmFyczogMSxcbiAgICAvL2Rvbid0IHByZS1wcm9jZXNzIGZ1bmN0aW9uLWJhc2VkIHZhbHVlcyBvciBcInJhbmRvbSgpXCIgc3RyaW5ncy5cbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHRhcmdldCwgdmFycywgdHdlZW4pIHtcbiAgICAgIHR3ZWVuLl9vbkluaXQgPSBmdW5jdGlvbiAodHdlZW4pIHtcbiAgICAgICAgdmFyIHRlbXAsIHA7XG5cbiAgICAgICAgaWYgKF9pc1N0cmluZyh2YXJzKSkge1xuICAgICAgICAgIHRlbXAgPSB7fTtcblxuICAgICAgICAgIF9mb3JFYWNoTmFtZSh2YXJzLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRlbXBbbmFtZV0gPSAxO1xuICAgICAgICAgIH0pOyAvL2lmIHRoZSB1c2VyIHBhc3NlcyBpbiBhIGNvbW1hLWRlbGltaXRlZCBsaXN0IG9mIHByb3BlcnR5IG5hbWVzIHRvIHJvdW5kUHJvcHMsIGxpa2UgXCJ4LHlcIiwgd2Ugcm91bmQgdG8gd2hvbGUgbnVtYmVycy5cblxuXG4gICAgICAgICAgdmFycyA9IHRlbXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9kaWZpZXIpIHtcbiAgICAgICAgICB0ZW1wID0ge307XG5cbiAgICAgICAgICBmb3IgKHAgaW4gdmFycykge1xuICAgICAgICAgICAgdGVtcFtwXSA9IG1vZGlmaWVyKHZhcnNbcF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhcnMgPSB0ZW1wO1xuICAgICAgICB9XG5cbiAgICAgICAgX2FkZE1vZGlmaWVycyh0d2VlbiwgdmFycyk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07IC8vcmVnaXN0ZXIgY29yZSBwbHVnaW5zXG5cblxuZXhwb3J0IHZhciBnc2FwID0gX2dzYXAucmVnaXN0ZXJQbHVnaW4oe1xuICBuYW1lOiBcImF0dHJcIixcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCh0YXJnZXQsIHZhcnMsIHR3ZWVuLCBpbmRleCwgdGFyZ2V0cykge1xuICAgIHZhciBwLCBwdDtcblxuICAgIGZvciAocCBpbiB2YXJzKSB7XG4gICAgICBwdCA9IHRoaXMuYWRkKHRhcmdldCwgXCJzZXRBdHRyaWJ1dGVcIiwgKHRhcmdldC5nZXRBdHRyaWJ1dGUocCkgfHwgMCkgKyBcIlwiLCB2YXJzW3BdLCBpbmRleCwgdGFyZ2V0cywgMCwgMCwgcCk7XG4gICAgICBwdCAmJiAocHQub3AgPSBwKTtcblxuICAgICAgdGhpcy5fcHJvcHMucHVzaChwKTtcbiAgICB9XG4gIH1cbn0sIHtcbiAgbmFtZTogXCJlbmRBcnJheVwiLFxuICBpbml0OiBmdW5jdGlvbiBpbml0KHRhcmdldCwgdmFsdWUpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHRoaXMuYWRkKHRhcmdldCwgaSwgdGFyZ2V0W2ldIHx8IDAsIHZhbHVlW2ldKTtcbiAgICB9XG4gIH1cbn0sIF9idWlsZE1vZGlmaWVyUGx1Z2luKFwicm91bmRQcm9wc1wiLCBfcm91bmRNb2RpZmllciksIF9idWlsZE1vZGlmaWVyUGx1Z2luKFwibW9kaWZpZXJzXCIpLCBfYnVpbGRNb2RpZmllclBsdWdpbihcInNuYXBcIiwgc25hcCkpIHx8IF9nc2FwOyAvL3RvIHByZXZlbnQgdGhlIGNvcmUgcGx1Z2lucyBmcm9tIGJlaW5nIGRyb3BwZWQgdmlhIGFnZ3Jlc3NpdmUgdHJlZSBzaGFraW5nLCB3ZSBtdXN0IGluY2x1ZGUgdGhlbSBpbiB0aGUgdmFyaWFibGUgZGVjbGFyYXRpb24gaW4gdGhpcyB3YXkuXG5cblR3ZWVuLnZlcnNpb24gPSBUaW1lbGluZS52ZXJzaW9uID0gZ3NhcC52ZXJzaW9uID0gXCIzLjUuMVwiO1xuX2NvcmVSZWFkeSA9IDE7XG5cbmlmIChfd2luZG93RXhpc3RzKCkpIHtcbiAgX3dha2UoKTtcbn1cblxudmFyIFBvd2VyMCA9IF9lYXNlTWFwLlBvd2VyMCxcbiAgICBQb3dlcjEgPSBfZWFzZU1hcC5Qb3dlcjEsXG4gICAgUG93ZXIyID0gX2Vhc2VNYXAuUG93ZXIyLFxuICAgIFBvd2VyMyA9IF9lYXNlTWFwLlBvd2VyMyxcbiAgICBQb3dlcjQgPSBfZWFzZU1hcC5Qb3dlcjQsXG4gICAgTGluZWFyID0gX2Vhc2VNYXAuTGluZWFyLFxuICAgIFF1YWQgPSBfZWFzZU1hcC5RdWFkLFxuICAgIEN1YmljID0gX2Vhc2VNYXAuQ3ViaWMsXG4gICAgUXVhcnQgPSBfZWFzZU1hcC5RdWFydCxcbiAgICBRdWludCA9IF9lYXNlTWFwLlF1aW50LFxuICAgIFN0cm9uZyA9IF9lYXNlTWFwLlN0cm9uZyxcbiAgICBFbGFzdGljID0gX2Vhc2VNYXAuRWxhc3RpYyxcbiAgICBCYWNrID0gX2Vhc2VNYXAuQmFjayxcbiAgICBTdGVwcGVkRWFzZSA9IF9lYXNlTWFwLlN0ZXBwZWRFYXNlLFxuICAgIEJvdW5jZSA9IF9lYXNlTWFwLkJvdW5jZSxcbiAgICBTaW5lID0gX2Vhc2VNYXAuU2luZSxcbiAgICBFeHBvID0gX2Vhc2VNYXAuRXhwbyxcbiAgICBDaXJjID0gX2Vhc2VNYXAuQ2lyYztcbmV4cG9ydCB7IFBvd2VyMCwgUG93ZXIxLCBQb3dlcjIsIFBvd2VyMywgUG93ZXI0LCBMaW5lYXIsIFF1YWQsIEN1YmljLCBRdWFydCwgUXVpbnQsIFN0cm9uZywgRWxhc3RpYywgQmFjaywgU3RlcHBlZEVhc2UsIEJvdW5jZSwgU2luZSwgRXhwbywgQ2lyYyB9O1xuZXhwb3J0IHsgVHdlZW4gYXMgVHdlZW5NYXgsIFR3ZWVuIGFzIFR3ZWVuTGl0ZSwgVGltZWxpbmUgYXMgVGltZWxpbmVNYXgsIFRpbWVsaW5lIGFzIFRpbWVsaW5lTGl0ZSwgZ3NhcCBhcyBkZWZhdWx0LCB3cmFwLCB3cmFwWW95bywgZGlzdHJpYnV0ZSwgcmFuZG9tLCBzbmFwLCBub3JtYWxpemUsIGdldFVuaXQsIGNsYW1wLCBzcGxpdENvbG9yLCB0b0FycmF5LCBtYXBSYW5nZSwgcGlwZSwgdW5pdGl6ZSwgaW50ZXJwb2xhdGUsIHNodWZmbGUgfTsgLy9leHBvcnQgc29tZSBpbnRlcm5hbCBtZXRob2RzL29yb2plY3RzIGZvciB1c2UgaW4gQ1NTUGx1Z2luIHNvIHRoYXQgd2UgY2FuIGV4dGVybmFsaXplIHRoYXQgZmlsZSBhbmQgYWxsb3cgY3VzdG9tIGJ1aWxkcyB0aGF0IGV4Y2x1ZGUgaXQuXG5cbmV4cG9ydCB7IF9nZXRQcm9wZXJ0eSwgX251bUV4cCwgX251bVdpdGhVbml0RXhwLCBfaXNTdHJpbmcsIF9pc1VuZGVmaW5lZCwgX3JlbmRlckNvbXBsZXhTdHJpbmcsIF9yZWxFeHAsIF9zZXREZWZhdWx0cywgX3JlbW92ZUxpbmtlZExpc3RJdGVtLCBfZm9yRWFjaE5hbWUsIF9zb3J0UHJvcFR3ZWVuc0J5UHJpb3JpdHksIF9jb2xvclN0cmluZ0ZpbHRlciwgX3JlcGxhY2VSYW5kb20sIF9jaGVja1BsdWdpbiwgX3BsdWdpbnMsIF90aWNrZXIsIF9jb25maWcsIF9yb3VuZE1vZGlmaWVyLCBfcm91bmQsIF9taXNzaW5nUGx1Z2luLCBfZ2V0U2V0dGVyLCBfZ2V0Q2FjaGUgfTsiLCAiLyohXG4gKiBDU1NQbHVnaW4gMy41LjFcbiAqIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbVxuICpcbiAqIENvcHlyaWdodCAyMDA4LTIwMjAsIEdyZWVuU29jay4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGF0IGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9zdGFuZGFyZC1saWNlbnNlIG9yIGZvclxuICogQ2x1YiBHcmVlblNvY2sgbWVtYmVycywgdGhlIGFncmVlbWVudCBpc3N1ZWQgd2l0aCB0aGF0IG1lbWJlcnNoaXAuXG4gKiBAYXV0aG9yOiBKYWNrIERveWxlLCBqYWNrQGdyZWVuc29jay5jb21cbiovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgeyBnc2FwLCBfZ2V0UHJvcGVydHksIF9udW1FeHAsIF9udW1XaXRoVW5pdEV4cCwgZ2V0VW5pdCwgX2lzU3RyaW5nLCBfaXNVbmRlZmluZWQsIF9yZW5kZXJDb21wbGV4U3RyaW5nLCBfcmVsRXhwLCBfZm9yRWFjaE5hbWUsIF9zb3J0UHJvcFR3ZWVuc0J5UHJpb3JpdHksIF9jb2xvclN0cmluZ0ZpbHRlciwgX2NoZWNrUGx1Z2luLCBfcmVwbGFjZVJhbmRvbSwgX3BsdWdpbnMsIEdTQ2FjaGUsIFByb3BUd2VlbiwgX2NvbmZpZywgX3RpY2tlciwgX3JvdW5kLCBfbWlzc2luZ1BsdWdpbiwgX2dldFNldHRlciwgX2dldENhY2hlLCBfc2V0RGVmYXVsdHMsIF9yZW1vdmVMaW5rZWRMaXN0SXRlbSAvL2ZvciB0aGUgY29tbWVudGVkLW91dCBjbGFzc05hbWUgZmVhdHVyZS5cbn0gZnJvbSBcIi4vZ3NhcC1jb3JlLmpzXCI7XG5cbnZhciBfd2luLFxuICAgIF9kb2MsXG4gICAgX2RvY0VsZW1lbnQsXG4gICAgX3BsdWdpbkluaXR0ZWQsXG4gICAgX3RlbXBEaXYsXG4gICAgX3RlbXBEaXZTdHlsZXIsXG4gICAgX3JlY2VudFNldHRlclBsdWdpbixcbiAgICBfd2luZG93RXhpc3RzID0gZnVuY3Rpb24gX3dpbmRvd0V4aXN0cygpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG59LFxuICAgIF90cmFuc2Zvcm1Qcm9wcyA9IHt9LFxuICAgIF9SQUQyREVHID0gMTgwIC8gTWF0aC5QSSxcbiAgICBfREVHMlJBRCA9IE1hdGguUEkgLyAxODAsXG4gICAgX2F0YW4yID0gTWF0aC5hdGFuMixcbiAgICBfYmlnTnVtID0gMWU4LFxuICAgIF9jYXBzRXhwID0gLyhbQS1aXSkvZyxcbiAgICBfaG9yaXpvbnRhbEV4cCA9IC8oPzpsZWZ0fHJpZ2h0fHdpZHRofG1hcmdpbnxwYWRkaW5nfHgpL2ksXG4gICAgX2NvbXBsZXhFeHAgPSAvW1xccyxcXChdXFxTLyxcbiAgICBfcHJvcGVydHlBbGlhc2VzID0ge1xuICBhdXRvQWxwaGE6IFwib3BhY2l0eSx2aXNpYmlsaXR5XCIsXG4gIHNjYWxlOiBcInNjYWxlWCxzY2FsZVlcIixcbiAgYWxwaGE6IFwib3BhY2l0eVwiXG59LFxuICAgIF9yZW5kZXJDU1NQcm9wID0gZnVuY3Rpb24gX3JlbmRlckNTU1Byb3AocmF0aW8sIGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEuc2V0KGRhdGEudCwgZGF0YS5wLCBNYXRoLnJvdW5kKChkYXRhLnMgKyBkYXRhLmMgKiByYXRpbykgKiAxMDAwMCkgLyAxMDAwMCArIGRhdGEudSwgZGF0YSk7XG59LFxuICAgIF9yZW5kZXJQcm9wV2l0aEVuZCA9IGZ1bmN0aW9uIF9yZW5kZXJQcm9wV2l0aEVuZChyYXRpbywgZGF0YSkge1xuICByZXR1cm4gZGF0YS5zZXQoZGF0YS50LCBkYXRhLnAsIHJhdGlvID09PSAxID8gZGF0YS5lIDogTWF0aC5yb3VuZCgoZGF0YS5zICsgZGF0YS5jICogcmF0aW8pICogMTAwMDApIC8gMTAwMDAgKyBkYXRhLnUsIGRhdGEpO1xufSxcbiAgICBfcmVuZGVyQ1NTUHJvcFdpdGhCZWdpbm5pbmcgPSBmdW5jdGlvbiBfcmVuZGVyQ1NTUHJvcFdpdGhCZWdpbm5pbmcocmF0aW8sIGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEuc2V0KGRhdGEudCwgZGF0YS5wLCByYXRpbyA/IE1hdGgucm91bmQoKGRhdGEucyArIGRhdGEuYyAqIHJhdGlvKSAqIDEwMDAwKSAvIDEwMDAwICsgZGF0YS51IDogZGF0YS5iLCBkYXRhKTtcbn0sXG4gICAgLy9pZiB1bml0cyBjaGFuZ2UsIHdlIG5lZWQgYSB3YXkgdG8gcmVuZGVyIHRoZSBvcmlnaW5hbCB1bml0L3ZhbHVlIHdoZW4gdGhlIHR3ZWVuIGdvZXMgYWxsIHRoZSB3YXkgYmFjayB0byB0aGUgYmVnaW5uaW5nIChyYXRpbzowKVxuX3JlbmRlclJvdW5kZWRDU1NQcm9wID0gZnVuY3Rpb24gX3JlbmRlclJvdW5kZWRDU1NQcm9wKHJhdGlvLCBkYXRhKSB7XG4gIHZhciB2YWx1ZSA9IGRhdGEucyArIGRhdGEuYyAqIHJhdGlvO1xuICBkYXRhLnNldChkYXRhLnQsIGRhdGEucCwgfn4odmFsdWUgKyAodmFsdWUgPCAwID8gLS41IDogLjUpKSArIGRhdGEudSwgZGF0YSk7XG59LFxuICAgIF9yZW5kZXJOb25Ud2VlbmluZ1ZhbHVlID0gZnVuY3Rpb24gX3JlbmRlck5vblR3ZWVuaW5nVmFsdWUocmF0aW8sIGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEuc2V0KGRhdGEudCwgZGF0YS5wLCByYXRpbyA/IGRhdGEuZSA6IGRhdGEuYiwgZGF0YSk7XG59LFxuICAgIF9yZW5kZXJOb25Ud2VlbmluZ1ZhbHVlT25seUF0RW5kID0gZnVuY3Rpb24gX3JlbmRlck5vblR3ZWVuaW5nVmFsdWVPbmx5QXRFbmQocmF0aW8sIGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEuc2V0KGRhdGEudCwgZGF0YS5wLCByYXRpbyAhPT0gMSA/IGRhdGEuYiA6IGRhdGEuZSwgZGF0YSk7XG59LFxuICAgIF9zZXR0ZXJDU1NTdHlsZSA9IGZ1bmN0aW9uIF9zZXR0ZXJDU1NTdHlsZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICByZXR1cm4gdGFyZ2V0LnN0eWxlW3Byb3BlcnR5XSA9IHZhbHVlO1xufSxcbiAgICBfc2V0dGVyQ1NTUHJvcCA9IGZ1bmN0aW9uIF9zZXR0ZXJDU1NQcm9wKHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gIHJldHVybiB0YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbn0sXG4gICAgX3NldHRlclRyYW5zZm9ybSA9IGZ1bmN0aW9uIF9zZXR0ZXJUcmFuc2Zvcm0odGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgcmV0dXJuIHRhcmdldC5fZ3NhcFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbn0sXG4gICAgX3NldHRlclNjYWxlID0gZnVuY3Rpb24gX3NldHRlclNjYWxlKHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gIHJldHVybiB0YXJnZXQuX2dzYXAuc2NhbGVYID0gdGFyZ2V0Ll9nc2FwLnNjYWxlWSA9IHZhbHVlO1xufSxcbiAgICBfc2V0dGVyU2NhbGVXaXRoUmVuZGVyID0gZnVuY3Rpb24gX3NldHRlclNjYWxlV2l0aFJlbmRlcih0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgZGF0YSwgcmF0aW8pIHtcbiAgdmFyIGNhY2hlID0gdGFyZ2V0Ll9nc2FwO1xuICBjYWNoZS5zY2FsZVggPSBjYWNoZS5zY2FsZVkgPSB2YWx1ZTtcbiAgY2FjaGUucmVuZGVyVHJhbnNmb3JtKHJhdGlvLCBjYWNoZSk7XG59LFxuICAgIF9zZXR0ZXJUcmFuc2Zvcm1XaXRoUmVuZGVyID0gZnVuY3Rpb24gX3NldHRlclRyYW5zZm9ybVdpdGhSZW5kZXIodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIGRhdGEsIHJhdGlvKSB7XG4gIHZhciBjYWNoZSA9IHRhcmdldC5fZ3NhcDtcbiAgY2FjaGVbcHJvcGVydHldID0gdmFsdWU7XG4gIGNhY2hlLnJlbmRlclRyYW5zZm9ybShyYXRpbywgY2FjaGUpO1xufSxcbiAgICBfdHJhbnNmb3JtUHJvcCA9IFwidHJhbnNmb3JtXCIsXG4gICAgX3RyYW5zZm9ybU9yaWdpblByb3AgPSBfdHJhbnNmb3JtUHJvcCArIFwiT3JpZ2luXCIsXG4gICAgX3N1cHBvcnRzM0QsXG4gICAgX2NyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBfY3JlYXRlRWxlbWVudCh0eXBlLCBucykge1xuICB2YXIgZSA9IF9kb2MuY3JlYXRlRWxlbWVudE5TID8gX2RvYy5jcmVhdGVFbGVtZW50TlMoKG5zIHx8IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiKS5yZXBsYWNlKC9eaHR0cHMvLCBcImh0dHBcIiksIHR5cGUpIDogX2RvYy5jcmVhdGVFbGVtZW50KHR5cGUpOyAvL3NvbWUgc2VydmVycyBzd2FwIGluIGh0dHBzIGZvciBodHRwIGluIHRoZSBuYW1lc3BhY2Ugd2hpY2ggY2FuIGJyZWFrIHRoaW5ncywgbWFraW5nIFwic3R5bGVcIiBpbmFjY2Vzc2libGUuXG5cbiAgcmV0dXJuIGUuc3R5bGUgPyBlIDogX2RvYy5jcmVhdGVFbGVtZW50KHR5cGUpOyAvL3NvbWUgZW52aXJvbm1lbnRzIHdvbid0IGFsbG93IGFjY2VzcyB0byB0aGUgZWxlbWVudCdzIHN0eWxlIHdoZW4gY3JlYXRlZCB3aXRoIGEgbmFtZXNwYWNlIGluIHdoaWNoIGNhc2Ugd2UgZGVmYXVsdCB0byB0aGUgc3RhbmRhcmQgY3JlYXRlRWxlbWVudCgpIHRvIHdvcmsgYXJvdW5kIHRoZSBpc3N1ZS4gQWxzbyBub3RlIHRoYXQgd2hlbiBHU0FQIGlzIGVtYmVkZGVkIGRpcmVjdGx5IGluc2lkZSBhbiBTVkcgZmlsZSwgY3JlYXRlRWxlbWVudCgpIHdvbid0IGFsbG93IGFjY2VzcyB0byB0aGUgc3R5bGUgb2JqZWN0IGluIEZpcmVmb3ggKHNlZSBodHRwczovL2dyZWVuc29jay5jb20vZm9ydW1zL3RvcGljLzIwMjE1LXByb2JsZW0tdXNpbmctdHdlZW5tYXgtaW4tc3RhbmRhbG9uZS1zZWxmLWNvbnRhaW5pbmctc3ZnLWZpbGUtZXJyLWNhbm5vdC1zZXQtcHJvcGVydHktY3NzdGV4dC1vZi11bmRlZmluZWQvKS5cbn0sXG4gICAgX2dldENvbXB1dGVkUHJvcGVydHkgPSBmdW5jdGlvbiBfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBza2lwUHJlZml4RmFsbGJhY2spIHtcbiAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICByZXR1cm4gY3NbcHJvcGVydHldIHx8IGNzLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkucmVwbGFjZShfY2Fwc0V4cCwgXCItJDFcIikudG9Mb3dlckNhc2UoKSkgfHwgY3MuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSkgfHwgIXNraXBQcmVmaXhGYWxsYmFjayAmJiBfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSh0YXJnZXQsIF9jaGVja1Byb3BQcmVmaXgocHJvcGVydHkpIHx8IHByb3BlcnR5LCAxKSB8fCBcIlwiOyAvL2NzcyB2YXJpYWJsZXMgbWF5IG5vdCBuZWVkIGNhcHMgc3dhcHBlZCBvdXQgZm9yIGRhc2hlcyBhbmQgbG93ZXJjYXNlLlxufSxcbiAgICBfcHJlZml4ZXMgPSBcIk8sTW96LG1zLE1zLFdlYmtpdFwiLnNwbGl0KFwiLFwiKSxcbiAgICBfY2hlY2tQcm9wUHJlZml4ID0gZnVuY3Rpb24gX2NoZWNrUHJvcFByZWZpeChwcm9wZXJ0eSwgZWxlbWVudCwgcHJlZmVyUHJlZml4KSB7XG4gIHZhciBlID0gZWxlbWVudCB8fCBfdGVtcERpdixcbiAgICAgIHMgPSBlLnN0eWxlLFxuICAgICAgaSA9IDU7XG5cbiAgaWYgKHByb3BlcnR5IGluIHMgJiYgIXByZWZlclByZWZpeCkge1xuICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgfVxuXG4gIHByb3BlcnR5ID0gcHJvcGVydHkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zdWJzdHIoMSk7XG5cbiAgd2hpbGUgKGktLSAmJiAhKF9wcmVmaXhlc1tpXSArIHByb3BlcnR5IGluIHMpKSB7fVxuXG4gIHJldHVybiBpIDwgMCA/IG51bGwgOiAoaSA9PT0gMyA/IFwibXNcIiA6IGkgPj0gMCA/IF9wcmVmaXhlc1tpXSA6IFwiXCIpICsgcHJvcGVydHk7XG59LFxuICAgIF9pbml0Q29yZSA9IGZ1bmN0aW9uIF9pbml0Q29yZSgpIHtcbiAgaWYgKF93aW5kb3dFeGlzdHMoKSAmJiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICBfd2luID0gd2luZG93O1xuICAgIF9kb2MgPSBfd2luLmRvY3VtZW50O1xuICAgIF9kb2NFbGVtZW50ID0gX2RvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgX3RlbXBEaXYgPSBfY3JlYXRlRWxlbWVudChcImRpdlwiKSB8fCB7XG4gICAgICBzdHlsZToge31cbiAgICB9O1xuICAgIF90ZW1wRGl2U3R5bGVyID0gX2NyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgX3RyYW5zZm9ybVByb3AgPSBfY2hlY2tQcm9wUHJlZml4KF90cmFuc2Zvcm1Qcm9wKTtcbiAgICBfdHJhbnNmb3JtT3JpZ2luUHJvcCA9IF90cmFuc2Zvcm1Qcm9wICsgXCJPcmlnaW5cIjtcbiAgICBfdGVtcERpdi5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXItd2lkdGg6MDtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmc6MFwiOyAvL21ha2Ugc3VyZSB0byBvdmVycmlkZSBjZXJ0YWluIHByb3BlcnRpZXMgdGhhdCBtYXkgY29udGFtaW5hdGUgbWVhc3VyZW1lbnRzLCBpbiBjYXNlIHRoZSB1c2VyIGhhcyBvdmVycmVhY2hpbmcgc3R5bGUgc2hlZXRzLlxuXG4gICAgX3N1cHBvcnRzM0QgPSAhIV9jaGVja1Byb3BQcmVmaXgoXCJwZXJzcGVjdGl2ZVwiKTtcbiAgICBfcGx1Z2luSW5pdHRlZCA9IDE7XG4gIH1cbn0sXG4gICAgX2dldEJCb3hIYWNrID0gZnVuY3Rpb24gX2dldEJCb3hIYWNrKHN3YXBJZlBvc3NpYmxlKSB7XG4gIC8vd29ya3MgYXJvdW5kIGlzc3VlcyBpbiBzb21lIGJyb3dzZXJzIChsaWtlIEZpcmVmb3gpIHRoYXQgZG9uJ3QgY29ycmVjdGx5IHJlcG9ydCBnZXRCQm94KCkgb24gU1ZHIGVsZW1lbnRzIGluc2lkZSBhIDxkZWZzPiBlbGVtZW50IGFuZC9vciA8bWFzaz4uIFdlIHRyeSBjcmVhdGluZyBhbiBTVkcsIGFkZGluZyBpdCB0byB0aGUgZG9jdW1lbnRFbGVtZW50IGFuZCB0b3NzIHRoZSBlbGVtZW50IGluIHRoZXJlIHNvIHRoYXQgaXQncyBkZWZpbml0ZWx5IHBhcnQgb2YgdGhlIHJlbmRlcmluZyB0cmVlLCB0aGVuIGdyYWIgdGhlIGJib3ggYW5kIGlmIGl0IHdvcmtzLCB3ZSBhY3R1YWxseSBzd2FwIG91dCB0aGUgb3JpZ2luYWwgZ2V0QkJveCgpIG1ldGhvZCBmb3Igb3VyIG93biB0aGF0IGRvZXMgdGhlc2UgZXh0cmEgc3RlcHMgd2hlbmV2ZXIgZ2V0QkJveCBpcyBuZWVkZWQuIFRoaXMgaGVscHMgZW5zdXJlIHRoYXQgcGVyZm9ybWFuY2UgaXMgb3B0aW1hbCAob25seSBkbyBhbGwgdGhlc2UgZXh0cmEgc3RlcHMgd2hlbiBhYnNvbHV0ZWx5IG5lY2Vzc2FyeS4uLm1vc3QgZWxlbWVudHMgZG9uJ3QgbmVlZCBpdCkuXG4gIHZhciBzdmcgPSBfY3JlYXRlRWxlbWVudChcInN2Z1wiLCB0aGlzLm93bmVyU1ZHRWxlbWVudCAmJiB0aGlzLm93bmVyU1ZHRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ4bWxuc1wiKSB8fCBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpLFxuICAgICAgb2xkUGFyZW50ID0gdGhpcy5wYXJlbnROb2RlLFxuICAgICAgb2xkU2libGluZyA9IHRoaXMubmV4dFNpYmxpbmcsXG4gICAgICBvbGRDU1MgPSB0aGlzLnN0eWxlLmNzc1RleHQsXG4gICAgICBiYm94O1xuXG4gIF9kb2NFbGVtZW50LmFwcGVuZENoaWxkKHN2Zyk7XG5cbiAgc3ZnLmFwcGVuZENoaWxkKHRoaXMpO1xuICB0aGlzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgaWYgKHN3YXBJZlBvc3NpYmxlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGJib3ggPSB0aGlzLmdldEJCb3goKTtcbiAgICAgIHRoaXMuX2dzYXBCQm94ID0gdGhpcy5nZXRCQm94OyAvL3N0b3JlIHRoZSBvcmlnaW5hbFxuXG4gICAgICB0aGlzLmdldEJCb3ggPSBfZ2V0QkJveEhhY2s7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSBlbHNlIGlmICh0aGlzLl9nc2FwQkJveCkge1xuICAgIGJib3ggPSB0aGlzLl9nc2FwQkJveCgpO1xuICB9XG5cbiAgaWYgKG9sZFBhcmVudCkge1xuICAgIGlmIChvbGRTaWJsaW5nKSB7XG4gICAgICBvbGRQYXJlbnQuaW5zZXJ0QmVmb3JlKHRoaXMsIG9sZFNpYmxpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbGRQYXJlbnQuYXBwZW5kQ2hpbGQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgX2RvY0VsZW1lbnQucmVtb3ZlQ2hpbGQoc3ZnKTtcblxuICB0aGlzLnN0eWxlLmNzc1RleHQgPSBvbGRDU1M7XG4gIHJldHVybiBiYm94O1xufSxcbiAgICBfZ2V0QXR0cmlidXRlRmFsbGJhY2tzID0gZnVuY3Rpb24gX2dldEF0dHJpYnV0ZUZhbGxiYWNrcyh0YXJnZXQsIGF0dHJpYnV0ZXNBcnJheSkge1xuICB2YXIgaSA9IGF0dHJpYnV0ZXNBcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXNBcnJheVtpXSkpIHtcbiAgICAgIHJldHVybiB0YXJnZXQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXNBcnJheVtpXSk7XG4gICAgfVxuICB9XG59LFxuICAgIF9nZXRCQm94ID0gZnVuY3Rpb24gX2dldEJCb3godGFyZ2V0KSB7XG4gIHZhciBib3VuZHM7XG5cbiAgdHJ5IHtcbiAgICBib3VuZHMgPSB0YXJnZXQuZ2V0QkJveCgpOyAvL0ZpcmVmb3ggdGhyb3dzIGVycm9ycyBpZiB5b3UgdHJ5IGNhbGxpbmcgZ2V0QkJveCgpIG9uIGFuIFNWRyBlbGVtZW50IHRoYXQncyBub3QgcmVuZGVyZWQgKGxpa2UgaW4gYSA8c3ltYm9sPiBvciA8ZGVmcz4pLiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02MTIxMThcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBib3VuZHMgPSBfZ2V0QkJveEhhY2suY2FsbCh0YXJnZXQsIHRydWUpO1xuICB9XG5cbiAgYm91bmRzICYmIChib3VuZHMud2lkdGggfHwgYm91bmRzLmhlaWdodCkgfHwgdGFyZ2V0LmdldEJCb3ggPT09IF9nZXRCQm94SGFjayB8fCAoYm91bmRzID0gX2dldEJCb3hIYWNrLmNhbGwodGFyZ2V0LCB0cnVlKSk7IC8vc29tZSBicm93c2VycyAobGlrZSBGaXJlZm94KSBtaXNyZXBvcnQgdGhlIGJvdW5kcyBpZiB0aGUgZWxlbWVudCBoYXMgemVybyB3aWR0aCBhbmQgaGVpZ2h0IChpdCBqdXN0IGFzc3VtZXMgaXQncyBhdCB4OjAsIHk6MCksIHRodXMgd2UgbmVlZCB0byBtYW51YWxseSBncmFiIHRoZSBwb3NpdGlvbiBpbiB0aGF0IGNhc2UuXG5cbiAgcmV0dXJuIGJvdW5kcyAmJiAhYm91bmRzLndpZHRoICYmICFib3VuZHMueCAmJiAhYm91bmRzLnkgPyB7XG4gICAgeDogK19nZXRBdHRyaWJ1dGVGYWxsYmFja3ModGFyZ2V0LCBbXCJ4XCIsIFwiY3hcIiwgXCJ4MVwiXSkgfHwgMCxcbiAgICB5OiArX2dldEF0dHJpYnV0ZUZhbGxiYWNrcyh0YXJnZXQsIFtcInlcIiwgXCJjeVwiLCBcInkxXCJdKSB8fCAwLFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMFxuICB9IDogYm91bmRzO1xufSxcbiAgICBfaXNTVkcgPSBmdW5jdGlvbiBfaXNTVkcoZSkge1xuICByZXR1cm4gISEoZS5nZXRDVE0gJiYgKCFlLnBhcmVudE5vZGUgfHwgZS5vd25lclNWR0VsZW1lbnQpICYmIF9nZXRCQm94KGUpKTtcbn0sXG4gICAgLy9yZXBvcnRzIGlmIHRoZSBlbGVtZW50IGlzIGFuIFNWRyBvbiB3aGljaCBnZXRCQm94KCkgYWN0dWFsbHkgd29ya3Ncbl9yZW1vdmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIF9yZW1vdmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5KSB7XG4gIGlmIChwcm9wZXJ0eSkge1xuICAgIHZhciBzdHlsZSA9IHRhcmdldC5zdHlsZTtcblxuICAgIGlmIChwcm9wZXJ0eSBpbiBfdHJhbnNmb3JtUHJvcHMgJiYgcHJvcGVydHkgIT09IF90cmFuc2Zvcm1PcmlnaW5Qcm9wKSB7XG4gICAgICBwcm9wZXJ0eSA9IF90cmFuc2Zvcm1Qcm9wO1xuICAgIH1cblxuICAgIGlmIChzdHlsZS5yZW1vdmVQcm9wZXJ0eSkge1xuICAgICAgaWYgKHByb3BlcnR5LnN1YnN0cigwLCAyKSA9PT0gXCJtc1wiIHx8IHByb3BlcnR5LnN1YnN0cigwLCA2KSA9PT0gXCJ3ZWJraXRcIikge1xuICAgICAgICAvL01pY3Jvc29mdCBhbmQgc29tZSBXZWJraXQgYnJvd3NlcnMgZG9uJ3QgY29uZm9ybSB0byB0aGUgc3RhbmRhcmQgb2YgY2FwaXRhbGl6aW5nIHRoZSBmaXJzdCBwcmVmaXggY2hhcmFjdGVyLCBzbyB3ZSBhZGp1c3Qgc28gdGhhdCB3aGVuIHdlIHByZWZpeCB0aGUgY2FwcyB3aXRoIGEgZGFzaCwgaXQncyBjb3JyZWN0IChvdGhlcndpc2UgaXQnZCBiZSBcIm1zLXRyYW5zZm9ybVwiIGluc3RlYWQgb2YgXCItbXMtdHJhbnNmb3JtXCIgZm9yIElFOSwgZm9yIGV4YW1wbGUpXG4gICAgICAgIHByb3BlcnR5ID0gXCItXCIgKyBwcm9wZXJ0eTtcbiAgICAgIH1cblxuICAgICAgc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcGVydHkucmVwbGFjZShfY2Fwc0V4cCwgXCItJDFcIikudG9Mb3dlckNhc2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vbm90ZTogb2xkIHZlcnNpb25zIG9mIElFIHVzZSBcInJlbW92ZUF0dHJpYnV0ZSgpXCIgaW5zdGVhZCBvZiBcInJlbW92ZVByb3BlcnR5KClcIlxuICAgICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKHByb3BlcnR5KTtcbiAgICB9XG4gIH1cbn0sXG4gICAgX2FkZE5vblR3ZWVuaW5nUFQgPSBmdW5jdGlvbiBfYWRkTm9uVHdlZW5pbmdQVChwbHVnaW4sIHRhcmdldCwgcHJvcGVydHksIGJlZ2lubmluZywgZW5kLCBvbmx5U2V0QXRFbmQpIHtcbiAgdmFyIHB0ID0gbmV3IFByb3BUd2VlbihwbHVnaW4uX3B0LCB0YXJnZXQsIHByb3BlcnR5LCAwLCAxLCBvbmx5U2V0QXRFbmQgPyBfcmVuZGVyTm9uVHdlZW5pbmdWYWx1ZU9ubHlBdEVuZCA6IF9yZW5kZXJOb25Ud2VlbmluZ1ZhbHVlKTtcbiAgcGx1Z2luLl9wdCA9IHB0O1xuICBwdC5iID0gYmVnaW5uaW5nO1xuICBwdC5lID0gZW5kO1xuXG4gIHBsdWdpbi5fcHJvcHMucHVzaChwcm9wZXJ0eSk7XG5cbiAgcmV0dXJuIHB0O1xufSxcbiAgICBfbm9uQ29udmVydGlibGVVbml0cyA9IHtcbiAgZGVnOiAxLFxuICByYWQ6IDEsXG4gIHR1cm46IDFcbn0sXG4gICAgLy90YWtlcyBhIHNpbmdsZSB2YWx1ZSBsaWtlIDIwcHggYW5kIGNvbnZlcnRzIGl0IHRvIHRoZSB1bml0IHNwZWNpZmllZCwgbGlrZSBcIiVcIiwgcmV0dXJuaW5nIG9ubHkgdGhlIG51bWVyaWMgYW1vdW50LlxuX2NvbnZlcnRUb1VuaXQgPSBmdW5jdGlvbiBfY29udmVydFRvVW5pdCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgdW5pdCkge1xuICB2YXIgY3VyVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwLFxuICAgICAgY3VyVW5pdCA9ICh2YWx1ZSArIFwiXCIpLnRyaW0oKS5zdWJzdHIoKGN1clZhbHVlICsgXCJcIikubGVuZ3RoKSB8fCBcInB4XCIsXG4gICAgICAvLyBzb21lIGJyb3dzZXJzIGxlYXZlIGV4dHJhIHdoaXRlc3BhY2UgYXQgdGhlIGJlZ2lubmluZyBvZiBDU1MgdmFyaWFibGVzLCBoZW5jZSB0aGUgbmVlZCB0byB0cmltKClcbiAgc3R5bGUgPSBfdGVtcERpdi5zdHlsZSxcbiAgICAgIGhvcml6b250YWwgPSBfaG9yaXpvbnRhbEV4cC50ZXN0KHByb3BlcnR5KSxcbiAgICAgIGlzUm9vdFNWRyA9IHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic3ZnXCIsXG4gICAgICBtZWFzdXJlUHJvcGVydHkgPSAoaXNSb290U1ZHID8gXCJjbGllbnRcIiA6IFwib2Zmc2V0XCIpICsgKGhvcml6b250YWwgPyBcIldpZHRoXCIgOiBcIkhlaWdodFwiKSxcbiAgICAgIGFtb3VudCA9IDEwMCxcbiAgICAgIHRvUGl4ZWxzID0gdW5pdCA9PT0gXCJweFwiLFxuICAgICAgdG9QZXJjZW50ID0gdW5pdCA9PT0gXCIlXCIsXG4gICAgICBweCxcbiAgICAgIHBhcmVudCxcbiAgICAgIGNhY2hlLFxuICAgICAgaXNTVkc7XG5cbiAgaWYgKHVuaXQgPT09IGN1clVuaXQgfHwgIWN1clZhbHVlIHx8IF9ub25Db252ZXJ0aWJsZVVuaXRzW3VuaXRdIHx8IF9ub25Db252ZXJ0aWJsZVVuaXRzW2N1clVuaXRdKSB7XG4gICAgcmV0dXJuIGN1clZhbHVlO1xuICB9XG5cbiAgY3VyVW5pdCAhPT0gXCJweFwiICYmICF0b1BpeGVscyAmJiAoY3VyVmFsdWUgPSBfY29udmVydFRvVW5pdCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgXCJweFwiKSk7XG4gIGlzU1ZHID0gdGFyZ2V0LmdldENUTSAmJiBfaXNTVkcodGFyZ2V0KTtcblxuICBpZiAodG9QZXJjZW50ICYmIChfdHJhbnNmb3JtUHJvcHNbcHJvcGVydHldIHx8IH5wcm9wZXJ0eS5pbmRleE9mKFwiYWRpdXNcIikpKSB7XG4gICAgLy90cmFuc2Zvcm1zIGFuZCBib3JkZXJSYWRpdXMgYXJlIHJlbGF0aXZlIHRvIHRoZSBzaXplIG9mIHRoZSBlbGVtZW50IGl0c2VsZiFcbiAgICByZXR1cm4gX3JvdW5kKGN1clZhbHVlIC8gKGlzU1ZHID8gdGFyZ2V0LmdldEJCb3goKVtob3Jpem9udGFsID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIl0gOiB0YXJnZXRbbWVhc3VyZVByb3BlcnR5XSkgKiBhbW91bnQpO1xuICB9XG5cbiAgc3R5bGVbaG9yaXpvbnRhbCA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCJdID0gYW1vdW50ICsgKHRvUGl4ZWxzID8gY3VyVW5pdCA6IHVuaXQpO1xuICBwYXJlbnQgPSB+cHJvcGVydHkuaW5kZXhPZihcImFkaXVzXCIpIHx8IHVuaXQgPT09IFwiZW1cIiAmJiB0YXJnZXQuYXBwZW5kQ2hpbGQgJiYgIWlzUm9vdFNWRyA/IHRhcmdldCA6IHRhcmdldC5wYXJlbnROb2RlO1xuXG4gIGlmIChpc1NWRykge1xuICAgIHBhcmVudCA9ICh0YXJnZXQub3duZXJTVkdFbGVtZW50IHx8IHt9KS5wYXJlbnROb2RlO1xuICB9XG5cbiAgaWYgKCFwYXJlbnQgfHwgcGFyZW50ID09PSBfZG9jIHx8ICFwYXJlbnQuYXBwZW5kQ2hpbGQpIHtcbiAgICBwYXJlbnQgPSBfZG9jLmJvZHk7XG4gIH1cblxuICBjYWNoZSA9IHBhcmVudC5fZ3NhcDtcblxuICBpZiAoY2FjaGUgJiYgdG9QZXJjZW50ICYmIGNhY2hlLndpZHRoICYmIGhvcml6b250YWwgJiYgY2FjaGUudGltZSA9PT0gX3RpY2tlci50aW1lKSB7XG4gICAgcmV0dXJuIF9yb3VuZChjdXJWYWx1ZSAvIGNhY2hlLndpZHRoICogYW1vdW50KTtcbiAgfSBlbHNlIHtcbiAgICAodG9QZXJjZW50IHx8IGN1clVuaXQgPT09IFwiJVwiKSAmJiAoc3R5bGUucG9zaXRpb24gPSBfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSh0YXJnZXQsIFwicG9zaXRpb25cIikpO1xuICAgIHBhcmVudCA9PT0gdGFyZ2V0ICYmIChzdHlsZS5wb3NpdGlvbiA9IFwic3RhdGljXCIpOyAvLyBsaWtlIGZvciBib3JkZXJSYWRpdXMsIGlmIGl0J3MgYSAlIHdlIG11c3QgaGF2ZSBpdCByZWxhdGl2ZSB0byB0aGUgdGFyZ2V0IGl0c2VsZiBidXQgdGhhdCBtYXkgbm90IGhhdmUgcG9zaXRpb246IHJlbGF0aXZlIG9yIHBvc2l0aW9uOiBhYnNvbHV0ZSBpbiB3aGljaCBjYXNlIGl0J2QgZ28gdXAgdGhlIGNoYWluIHVudGlsIGl0IGZpbmRzIGl0cyBvZmZzZXRQYXJlbnQgKGJhZCkuIHBvc2l0aW9uOiBzdGF0aWMgcHJvdGVjdHMgYWdhaW5zdCB0aGF0LlxuXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKF90ZW1wRGl2KTtcbiAgICBweCA9IF90ZW1wRGl2W21lYXN1cmVQcm9wZXJ0eV07XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKF90ZW1wRGl2KTtcbiAgICBzdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblxuICAgIGlmIChob3Jpem9udGFsICYmIHRvUGVyY2VudCkge1xuICAgICAgY2FjaGUgPSBfZ2V0Q2FjaGUocGFyZW50KTtcbiAgICAgIGNhY2hlLnRpbWUgPSBfdGlja2VyLnRpbWU7XG4gICAgICBjYWNoZS53aWR0aCA9IHBhcmVudFttZWFzdXJlUHJvcGVydHldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfcm91bmQodG9QaXhlbHMgPyBweCAqIGN1clZhbHVlIC8gYW1vdW50IDogcHggJiYgY3VyVmFsdWUgPyBhbW91bnQgLyBweCAqIGN1clZhbHVlIDogMCk7XG59LFxuICAgIF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHVuaXQsIHVuY2FjaGUpIHtcbiAgdmFyIHZhbHVlO1xuICBfcGx1Z2luSW5pdHRlZCB8fCBfaW5pdENvcmUoKTtcblxuICBpZiAocHJvcGVydHkgaW4gX3Byb3BlcnR5QWxpYXNlcyAmJiBwcm9wZXJ0eSAhPT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgIHByb3BlcnR5ID0gX3Byb3BlcnR5QWxpYXNlc1twcm9wZXJ0eV07XG5cbiAgICBpZiAofnByb3BlcnR5LmluZGV4T2YoXCIsXCIpKSB7XG4gICAgICBwcm9wZXJ0eSA9IHByb3BlcnR5LnNwbGl0KFwiLFwiKVswXTtcbiAgICB9XG4gIH1cblxuICBpZiAoX3RyYW5zZm9ybVByb3BzW3Byb3BlcnR5XSAmJiBwcm9wZXJ0eSAhPT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgIHZhbHVlID0gX3BhcnNlVHJhbnNmb3JtKHRhcmdldCwgdW5jYWNoZSk7XG4gICAgdmFsdWUgPSBwcm9wZXJ0eSAhPT0gXCJ0cmFuc2Zvcm1PcmlnaW5cIiA/IHZhbHVlW3Byb3BlcnR5XSA6IF9maXJzdFR3b09ubHkoX2dldENvbXB1dGVkUHJvcGVydHkodGFyZ2V0LCBfdHJhbnNmb3JtT3JpZ2luUHJvcCkpICsgXCIgXCIgKyB2YWx1ZS56T3JpZ2luICsgXCJweFwiO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gdGFyZ2V0LnN0eWxlW3Byb3BlcnR5XTtcblxuICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09IFwiYXV0b1wiIHx8IHVuY2FjaGUgfHwgfih2YWx1ZSArIFwiXCIpLmluZGV4T2YoXCJjYWxjKFwiKSkge1xuICAgICAgdmFsdWUgPSBfc3BlY2lhbFByb3BzW3Byb3BlcnR5XSAmJiBfc3BlY2lhbFByb3BzW3Byb3BlcnR5XSh0YXJnZXQsIHByb3BlcnR5LCB1bml0KSB8fCBfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5KSB8fCBfZ2V0UHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSkgfHwgKHByb3BlcnR5ID09PSBcIm9wYWNpdHlcIiA/IDEgOiAwKTsgLy8gbm90ZTogc29tZSBicm93c2VycywgbGlrZSBGaXJlZm94LCBkb24ndCByZXBvcnQgYm9yZGVyUmFkaXVzIGNvcnJlY3RseSEgSW5zdGVhZCwgaXQgb25seSByZXBvcnRzIGV2ZXJ5IGNvcm5lciBsaWtlICBib3JkZXJUb3BMZWZ0UmFkaXVzXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuaXQgJiYgIX4odmFsdWUgKyBcIlwiKS5pbmRleE9mKFwiIFwiKSA/IF9jb252ZXJ0VG9Vbml0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCB1bml0KSArIHVuaXQgOiB2YWx1ZTtcbn0sXG4gICAgX3R3ZWVuQ29tcGxleENTU1N0cmluZyA9IGZ1bmN0aW9uIF90d2VlbkNvbXBsZXhDU1NTdHJpbmcodGFyZ2V0LCBwcm9wLCBzdGFydCwgZW5kKSB7XG4gIC8vbm90ZTogd2UgY2FsbCBfdHdlZW5Db21wbGV4Q1NTU3RyaW5nLmNhbGwocGx1Z2luSW5zdGFuY2UuLi4pIHRvIGVuc3VyZSB0aGF0IGl0J3Mgc2NvcGVkIHByb3Blcmx5LiBXZSBtYXkgY2FsbCBpdCBmcm9tIHdpdGhpbiBhIHBsdWdpbiB0b28sIHRodXMgXCJ0aGlzXCIgd291bGQgcmVmZXIgdG8gdGhlIHBsdWdpbi5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA9PT0gXCJub25lXCIpIHtcbiAgICAvLyBzb21lIGJyb3dzZXJzIGxpa2UgU2FmYXJpIGFjdHVhbGx5IFBSRUZFUiB0aGUgcHJlZml4ZWQgcHJvcGVydHkgYW5kIG1pcy1yZXBvcnQgdGhlIHVucHJlZml4ZWQgdmFsdWUgbGlrZSBjbGlwUGF0aCAoQlVHKS4gSW4gb3RoZXIgd29yZHMsIGV2ZW4gdGhvdWdoIGNsaXBQYXRoIGV4aXN0cyBpbiB0aGUgc3R5bGUgKFwiY2xpcFBhdGhcIiBpbiB0YXJnZXQuc3R5bGUpIGFuZCBpdCdzIHNldCBpbiB0aGUgQ1NTIHByb3Blcmx5IChhbG9uZyB3aXRoIC13ZWJraXQtY2xpcC1wYXRoKSwgU2FmYXJpIHJlcG9ydHMgY2xpcFBhdGggYXMgXCJub25lXCIgd2hlcmVhcyBXZWJraXRDbGlwUGF0aCByZXBvcnRzIGFjY3VyYXRlbHkgbGlrZSBcImVsbGlwc2UoMTAwJSAwJSBhdCA1MCUgMCUpXCIsIHNvIGluIHRoaXMgY2FzZSB3ZSBtdXN0IFNXSVRDSCB0byB1c2luZyB0aGUgcHJlZml4ZWQgcHJvcGVydHkgaW5zdGVhZC4gU2VlIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9mb3J1bXMvdG9waWMvMTgzMTAtY2xpcHBhdGgtZG9lc250LXdvcmstb24taW9zL1xuICAgIHZhciBwID0gX2NoZWNrUHJvcFByZWZpeChwcm9wLCB0YXJnZXQsIDEpLFxuICAgICAgICBzID0gcCAmJiBfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSh0YXJnZXQsIHAsIDEpO1xuXG4gICAgaWYgKHMgJiYgcyAhPT0gc3RhcnQpIHtcbiAgICAgIHByb3AgPSBwO1xuICAgICAgc3RhcnQgPSBzO1xuICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gXCJib3JkZXJDb2xvclwiKSB7XG4gICAgICBzdGFydCA9IF9nZXRDb21wdXRlZFByb3BlcnR5KHRhcmdldCwgXCJib3JkZXJUb3BDb2xvclwiKTsgLy8gRmlyZWZveCBidWc6IGFsd2F5cyByZXBvcnRzIFwiYm9yZGVyQ29sb3JcIiBhcyBcIlwiLCBzbyB3ZSBtdXN0IGZhbGwgYmFjayB0byBib3JkZXJUb3BDb2xvci4gU2VlIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9mb3J1bXMvdG9waWMvMjQ1ODMtaG93LXRvLXJldHVybi1jb2xvcnMtdGhhdC1pLWhhZC1hZnRlci1yZXZlcnNlL1xuICAgIH1cbiAgfVxuXG4gIHZhciBwdCA9IG5ldyBQcm9wVHdlZW4odGhpcy5fcHQsIHRhcmdldC5zdHlsZSwgcHJvcCwgMCwgMSwgX3JlbmRlckNvbXBsZXhTdHJpbmcpLFxuICAgICAgaW5kZXggPSAwLFxuICAgICAgbWF0Y2hJbmRleCA9IDAsXG4gICAgICBhLFxuICAgICAgcmVzdWx0LFxuICAgICAgc3RhcnRWYWx1ZXMsXG4gICAgICBzdGFydE51bSxcbiAgICAgIGNvbG9yLFxuICAgICAgc3RhcnRWYWx1ZSxcbiAgICAgIGVuZFZhbHVlLFxuICAgICAgZW5kTnVtLFxuICAgICAgY2h1bmssXG4gICAgICBlbmRVbml0LFxuICAgICAgc3RhcnRVbml0LFxuICAgICAgcmVsYXRpdmUsXG4gICAgICBlbmRWYWx1ZXM7XG4gIHB0LmIgPSBzdGFydDtcbiAgcHQuZSA9IGVuZDtcbiAgc3RhcnQgKz0gXCJcIjsgLy9lbnN1cmUgdmFsdWVzIGFyZSBzdHJpbmdzXG5cbiAgZW5kICs9IFwiXCI7XG5cbiAgaWYgKGVuZCA9PT0gXCJhdXRvXCIpIHtcbiAgICB0YXJnZXQuc3R5bGVbcHJvcF0gPSBlbmQ7XG4gICAgZW5kID0gX2dldENvbXB1dGVkUHJvcGVydHkodGFyZ2V0LCBwcm9wKSB8fCBlbmQ7XG4gICAgdGFyZ2V0LnN0eWxlW3Byb3BdID0gc3RhcnQ7XG4gIH1cblxuICBhID0gW3N0YXJ0LCBlbmRdO1xuXG4gIF9jb2xvclN0cmluZ0ZpbHRlcihhKTsgLy9wYXNzIGFuIGFycmF5IHdpdGggdGhlIHN0YXJ0aW5nIGFuZCBlbmRpbmcgdmFsdWVzIGFuZCBsZXQgdGhlIGZpbHRlciBkbyB3aGF0ZXZlciBpdCBuZWVkcyB0byB0aGUgdmFsdWVzLiBJZiBjb2xvcnMgYXJlIGZvdW5kLCBpdCByZXR1cm5zIHRydWUgYW5kIHRoZW4gd2UgbXVzdCBtYXRjaCB3aGVyZSB0aGUgY29sb3Igc2hvd3MgdXAgb3JkZXItd2lzZSBiZWNhdXNlIGZvciB0aGluZ3MgbGlrZSBib3hTaGFkb3csIHNvbWV0aW1lcyB0aGUgYnJvd3NlciBwcm92aWRlcyB0aGUgY29tcHV0ZWQgdmFsdWVzIHdpdGggdGhlIGNvbG9yIEZJUlNULCBidXQgdGhlIHVzZXIgcHJvdmlkZXMgaXQgd2l0aCB0aGUgY29sb3IgTEFTVCwgc28gZmxpcCB0aGVtIGlmIG5lY2Vzc2FyeS4gU2FtZSBmb3IgZHJvcC1zaGFkb3coKS5cblxuXG4gIHN0YXJ0ID0gYVswXTtcbiAgZW5kID0gYVsxXTtcbiAgc3RhcnRWYWx1ZXMgPSBzdGFydC5tYXRjaChfbnVtV2l0aFVuaXRFeHApIHx8IFtdO1xuICBlbmRWYWx1ZXMgPSBlbmQubWF0Y2goX251bVdpdGhVbml0RXhwKSB8fCBbXTtcblxuICBpZiAoZW5kVmFsdWVzLmxlbmd0aCkge1xuICAgIHdoaWxlIChyZXN1bHQgPSBfbnVtV2l0aFVuaXRFeHAuZXhlYyhlbmQpKSB7XG4gICAgICBlbmRWYWx1ZSA9IHJlc3VsdFswXTtcbiAgICAgIGNodW5rID0gZW5kLnN1YnN0cmluZyhpbmRleCwgcmVzdWx0LmluZGV4KTtcblxuICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgIGNvbG9yID0gKGNvbG9yICsgMSkgJSA1O1xuICAgICAgfSBlbHNlIGlmIChjaHVuay5zdWJzdHIoLTUpID09PSBcInJnYmEoXCIgfHwgY2h1bmsuc3Vic3RyKC01KSA9PT0gXCJoc2xhKFwiKSB7XG4gICAgICAgIGNvbG9yID0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVuZFZhbHVlICE9PSAoc3RhcnRWYWx1ZSA9IHN0YXJ0VmFsdWVzW21hdGNoSW5kZXgrK10gfHwgXCJcIikpIHtcbiAgICAgICAgc3RhcnROdW0gPSBwYXJzZUZsb2F0KHN0YXJ0VmFsdWUpIHx8IDA7XG4gICAgICAgIHN0YXJ0VW5pdCA9IHN0YXJ0VmFsdWUuc3Vic3RyKChzdGFydE51bSArIFwiXCIpLmxlbmd0aCk7XG4gICAgICAgIHJlbGF0aXZlID0gZW5kVmFsdWUuY2hhckF0KDEpID09PSBcIj1cIiA/ICsoZW5kVmFsdWUuY2hhckF0KDApICsgXCIxXCIpIDogMDtcblxuICAgICAgICBpZiAocmVsYXRpdmUpIHtcbiAgICAgICAgICBlbmRWYWx1ZSA9IGVuZFZhbHVlLnN1YnN0cigyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVuZE51bSA9IHBhcnNlRmxvYXQoZW5kVmFsdWUpO1xuICAgICAgICBlbmRVbml0ID0gZW5kVmFsdWUuc3Vic3RyKChlbmROdW0gKyBcIlwiKS5sZW5ndGgpO1xuICAgICAgICBpbmRleCA9IF9udW1XaXRoVW5pdEV4cC5sYXN0SW5kZXggLSBlbmRVbml0Lmxlbmd0aDtcblxuICAgICAgICBpZiAoIWVuZFVuaXQpIHtcbiAgICAgICAgICAvL2lmIHNvbWV0aGluZyBsaWtlIFwicGVyc3BlY3RpdmU6MzAwXCIgaXMgcGFzc2VkIGluIGFuZCB3ZSBtdXN0IGFkZCBhIHVuaXQgdG8gdGhlIGVuZFxuICAgICAgICAgIGVuZFVuaXQgPSBlbmRVbml0IHx8IF9jb25maWcudW5pdHNbcHJvcF0gfHwgc3RhcnRVbml0O1xuXG4gICAgICAgICAgaWYgKGluZGV4ID09PSBlbmQubGVuZ3RoKSB7XG4gICAgICAgICAgICBlbmQgKz0gZW5kVW5pdDtcbiAgICAgICAgICAgIHB0LmUgKz0gZW5kVW5pdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnRVbml0ICE9PSBlbmRVbml0KSB7XG4gICAgICAgICAgc3RhcnROdW0gPSBfY29udmVydFRvVW5pdCh0YXJnZXQsIHByb3AsIHN0YXJ0VmFsdWUsIGVuZFVuaXQpIHx8IDA7XG4gICAgICAgIH0gLy90aGVzZSBuZXN0ZWQgUHJvcFR3ZWVucyBhcmUgaGFuZGxlZCBpbiBhIHNwZWNpYWwgd2F5IC0gd2UnbGwgbmV2ZXIgYWN0dWFsbHkgY2FsbCBhIHJlbmRlciBvciBzZXR0ZXIgbWV0aG9kIG9uIHRoZW0uIFdlJ2xsIGp1c3QgbG9vcCB0aHJvdWdoIHRoZW0gaW4gdGhlIHBhcmVudCBjb21wbGV4IHN0cmluZyBQcm9wVHdlZW4ncyByZW5kZXIgbWV0aG9kLlxuXG5cbiAgICAgICAgcHQuX3B0ID0ge1xuICAgICAgICAgIF9uZXh0OiBwdC5fcHQsXG4gICAgICAgICAgcDogY2h1bmsgfHwgbWF0Y2hJbmRleCA9PT0gMSA/IGNodW5rIDogXCIsXCIsXG4gICAgICAgICAgLy9ub3RlOiBTVkcgc3BlYyBhbGxvd3Mgb21pc3Npb24gb2YgY29tbWEvc3BhY2Ugd2hlbiBhIG5lZ2F0aXZlIHNpZ24gaXMgd2VkZ2VkIGJldHdlZW4gdHdvIG51bWJlcnMsIGxpa2UgMi41LTUuMyBpbnN0ZWFkIG9mIDIuNSwtNS4zIGJ1dCB3aGVuIHR3ZWVuaW5nLCB0aGUgbmVnYXRpdmUgdmFsdWUgbWF5IHN3aXRjaCB0byBwb3NpdGl2ZSwgc28gd2UgaW5zZXJ0IHRoZSBjb21tYSBqdXN0IGluIGNhc2UuXG4gICAgICAgICAgczogc3RhcnROdW0sXG4gICAgICAgICAgYzogcmVsYXRpdmUgPyByZWxhdGl2ZSAqIGVuZE51bSA6IGVuZE51bSAtIHN0YXJ0TnVtLFxuICAgICAgICAgIG06IGNvbG9yICYmIGNvbG9yIDwgNCA/IE1hdGgucm91bmQgOiAwXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHQuYyA9IGluZGV4IDwgZW5kLmxlbmd0aCA/IGVuZC5zdWJzdHJpbmcoaW5kZXgsIGVuZC5sZW5ndGgpIDogXCJcIjsgLy93ZSB1c2UgdGhlIFwiY1wiIG9mIHRoZSBQcm9wVHdlZW4gdG8gc3RvcmUgdGhlIGZpbmFsIHBhcnQgb2YgdGhlIHN0cmluZyAoYWZ0ZXIgdGhlIGxhc3QgbnVtYmVyKVxuICB9IGVsc2Uge1xuICAgIHB0LnIgPSBwcm9wID09PSBcImRpc3BsYXlcIiAmJiBlbmQgPT09IFwibm9uZVwiID8gX3JlbmRlck5vblR3ZWVuaW5nVmFsdWVPbmx5QXRFbmQgOiBfcmVuZGVyTm9uVHdlZW5pbmdWYWx1ZTtcbiAgfVxuXG4gIGlmIChfcmVsRXhwLnRlc3QoZW5kKSkge1xuICAgIHB0LmUgPSAwOyAvL2lmIHRoZSBlbmQgc3RyaW5nIGNvbnRhaW5zIHJlbGF0aXZlIHZhbHVlcyBvciBkeW5hbWljIHJhbmRvbSguLi4pIHZhbHVlcywgZGVsZXRlIHRoZSBlbmQgaXQgc28gdGhhdCBvbiB0aGUgZmluYWwgcmVuZGVyIHdlIGRvbid0IGFjdHVhbGx5IHNldCBpdCB0byB0aGUgc3RyaW5nIHdpdGggKz0gb3IgLT0gY2hhcmFjdGVycyAoZm9yY2VzIGl0IHRvIHVzZSB0aGUgY2FsY3VsYXRlZCB2YWx1ZSkuXG4gIH1cblxuICB0aGlzLl9wdCA9IHB0OyAvL3N0YXJ0IHRoZSBsaW5rZWQgbGlzdCB3aXRoIHRoaXMgbmV3IFByb3BUd2Vlbi4gUmVtZW1iZXIsIHdlIGNhbGwgX3R3ZWVuQ29tcGxleENTU1N0cmluZy5jYWxsKHBsdWdpbkluc3RhbmNlLi4uKSB0byBlbnN1cmUgdGhhdCBpdCdzIHNjb3BlZCBwcm9wZXJseS4gV2UgbWF5IGNhbGwgaXQgZnJvbSB3aXRoaW4gYW5vdGhlciBwbHVnaW4gdG9vLCB0aHVzIFwidGhpc1wiIHdvdWxkIHJlZmVyIHRvIHRoZSBwbHVnaW4uXG5cbiAgcmV0dXJuIHB0O1xufSxcbiAgICBfa2V5d29yZFRvUGVyY2VudCA9IHtcbiAgdG9wOiBcIjAlXCIsXG4gIGJvdHRvbTogXCIxMDAlXCIsXG4gIGxlZnQ6IFwiMCVcIixcbiAgcmlnaHQ6IFwiMTAwJVwiLFxuICBjZW50ZXI6IFwiNTAlXCJcbn0sXG4gICAgX2NvbnZlcnRLZXl3b3Jkc1RvUGVyY2VudGFnZXMgPSBmdW5jdGlvbiBfY29udmVydEtleXdvcmRzVG9QZXJjZW50YWdlcyh2YWx1ZSkge1xuICB2YXIgc3BsaXQgPSB2YWx1ZS5zcGxpdChcIiBcIiksXG4gICAgICB4ID0gc3BsaXRbMF0sXG4gICAgICB5ID0gc3BsaXRbMV0gfHwgXCI1MCVcIjtcblxuICBpZiAoeCA9PT0gXCJ0b3BcIiB8fCB4ID09PSBcImJvdHRvbVwiIHx8IHkgPT09IFwibGVmdFwiIHx8IHkgPT09IFwicmlnaHRcIikge1xuICAgIC8vdGhlIHVzZXIgcHJvdmlkZWQgdGhlbSBpbiB0aGUgd3Jvbmcgb3JkZXIsIHNvIGZsaXAgdGhlbVxuICAgIHZhbHVlID0geDtcbiAgICB4ID0geTtcbiAgICB5ID0gdmFsdWU7XG4gIH1cblxuICBzcGxpdFswXSA9IF9rZXl3b3JkVG9QZXJjZW50W3hdIHx8IHg7XG4gIHNwbGl0WzFdID0gX2tleXdvcmRUb1BlcmNlbnRbeV0gfHwgeTtcbiAgcmV0dXJuIHNwbGl0LmpvaW4oXCIgXCIpO1xufSxcbiAgICBfcmVuZGVyQ2xlYXJQcm9wcyA9IGZ1bmN0aW9uIF9yZW5kZXJDbGVhclByb3BzKHJhdGlvLCBkYXRhKSB7XG4gIGlmIChkYXRhLnR3ZWVuICYmIGRhdGEudHdlZW4uX3RpbWUgPT09IGRhdGEudHdlZW4uX2R1cikge1xuICAgIHZhciB0YXJnZXQgPSBkYXRhLnQsXG4gICAgICAgIHN0eWxlID0gdGFyZ2V0LnN0eWxlLFxuICAgICAgICBwcm9wcyA9IGRhdGEudSxcbiAgICAgICAgY2FjaGUgPSB0YXJnZXQuX2dzYXAsXG4gICAgICAgIHByb3AsXG4gICAgICAgIGNsZWFyVHJhbnNmb3JtcyxcbiAgICAgICAgaTtcblxuICAgIGlmIChwcm9wcyA9PT0gXCJhbGxcIiB8fCBwcm9wcyA9PT0gdHJ1ZSkge1xuICAgICAgc3R5bGUuY3NzVGV4dCA9IFwiXCI7XG4gICAgICBjbGVhclRyYW5zZm9ybXMgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9wcyA9IHByb3BzLnNwbGl0KFwiLFwiKTtcbiAgICAgIGkgPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgtLWkgPiAtMSkge1xuICAgICAgICBwcm9wID0gcHJvcHNbaV07XG5cbiAgICAgICAgaWYgKF90cmFuc2Zvcm1Qcm9wc1twcm9wXSkge1xuICAgICAgICAgIGNsZWFyVHJhbnNmb3JtcyA9IDE7XG4gICAgICAgICAgcHJvcCA9IHByb3AgPT09IFwidHJhbnNmb3JtT3JpZ2luXCIgPyBfdHJhbnNmb3JtT3JpZ2luUHJvcCA6IF90cmFuc2Zvcm1Qcm9wO1xuICAgICAgICB9XG5cbiAgICAgICAgX3JlbW92ZVByb3BlcnR5KHRhcmdldCwgcHJvcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNsZWFyVHJhbnNmb3Jtcykge1xuICAgICAgX3JlbW92ZVByb3BlcnR5KHRhcmdldCwgX3RyYW5zZm9ybVByb3ApO1xuXG4gICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgY2FjaGUuc3ZnICYmIHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIik7XG5cbiAgICAgICAgX3BhcnNlVHJhbnNmb3JtKHRhcmdldCwgMSk7IC8vIGZvcmNlIGFsbCB0aGUgY2FjaGVkIHZhbHVlcyBiYWNrIHRvIFwibm9ybWFsXCIvaWRlbnRpdHksIG90aGVyd2lzZSBpZiB0aGVyZSdzIGFub3RoZXIgdHdlZW4gdGhhdCdzIGFscmVhZHkgc2V0IHRvIHJlbmRlciB0cmFuc2Zvcm1zIG9uIHRoaXMgZWxlbWVudCwgaXQgY291bGQgZGlzcGxheSB0aGUgd3JvbmcgdmFsdWVzLlxuXG5cbiAgICAgICAgY2FjaGUudW5jYWNoZSA9IDE7XG4gICAgICB9XG4gICAgfVxuICB9XG59LFxuICAgIC8vIG5vdGU6IHNwZWNpYWxQcm9wcyBzaG91bGQgcmV0dXJuIDEgaWYgKGFuZCBvbmx5IGlmKSB0aGV5IGhhdmUgYSBub24temVybyBwcmlvcml0eS4gSXQgaW5kaWNhdGVzIHdlIG5lZWQgdG8gc29ydCB0aGUgbGlua2VkIGxpc3QuXG5fc3BlY2lhbFByb3BzID0ge1xuICBjbGVhclByb3BzOiBmdW5jdGlvbiBjbGVhclByb3BzKHBsdWdpbiwgdGFyZ2V0LCBwcm9wZXJ0eSwgZW5kVmFsdWUsIHR3ZWVuKSB7XG4gICAgaWYgKHR3ZWVuLmRhdGEgIT09IFwiaXNGcm9tU3RhcnRcIikge1xuICAgICAgdmFyIHB0ID0gcGx1Z2luLl9wdCA9IG5ldyBQcm9wVHdlZW4ocGx1Z2luLl9wdCwgdGFyZ2V0LCBwcm9wZXJ0eSwgMCwgMCwgX3JlbmRlckNsZWFyUHJvcHMpO1xuICAgICAgcHQudSA9IGVuZFZhbHVlO1xuICAgICAgcHQucHIgPSAtMTA7XG4gICAgICBwdC50d2VlbiA9IHR3ZWVuO1xuXG4gICAgICBwbHVnaW4uX3Byb3BzLnB1c2gocHJvcGVydHkpO1xuXG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cbiAgLyogY2xhc3NOYW1lIGZlYXR1cmUgKGFib3V0IDAuNGtiIGd6aXBwZWQpLlxuICAsIGNsYXNzTmFtZShwbHVnaW4sIHRhcmdldCwgcHJvcGVydHksIGVuZFZhbHVlLCB0d2Vlbikge1xuICBcdGxldCBfcmVuZGVyQ2xhc3NOYW1lID0gKHJhdGlvLCBkYXRhKSA9PiB7XG4gIFx0XHRcdGRhdGEuY3NzLnJlbmRlcihyYXRpbywgZGF0YS5jc3MpO1xuICBcdFx0XHRpZiAoIXJhdGlvIHx8IHJhdGlvID09PSAxKSB7XG4gIFx0XHRcdFx0bGV0IGlubGluZSA9IGRhdGEucm12LFxuICBcdFx0XHRcdFx0dGFyZ2V0ID0gZGF0YS50LFxuICBcdFx0XHRcdFx0cDtcbiAgXHRcdFx0XHR0YXJnZXQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgcmF0aW8gPyBkYXRhLmUgOiBkYXRhLmIpO1xuICBcdFx0XHRcdGZvciAocCBpbiBpbmxpbmUpIHtcbiAgXHRcdFx0XHRcdF9yZW1vdmVQcm9wZXJ0eSh0YXJnZXQsIHApO1xuICBcdFx0XHRcdH1cbiAgXHRcdFx0fVxuICBcdFx0fSxcbiAgXHRcdF9nZXRBbGxTdHlsZXMgPSAodGFyZ2V0KSA9PiB7XG4gIFx0XHRcdGxldCBzdHlsZXMgPSB7fSxcbiAgXHRcdFx0XHRjb21wdXRlZCA9IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0KSxcbiAgXHRcdFx0XHRwO1xuICBcdFx0XHRmb3IgKHAgaW4gY29tcHV0ZWQpIHtcbiAgXHRcdFx0XHRpZiAoaXNOYU4ocCkgJiYgcCAhPT0gXCJjc3NUZXh0XCIgJiYgcCAhPT0gXCJsZW5ndGhcIikge1xuICBcdFx0XHRcdFx0c3R5bGVzW3BdID0gY29tcHV0ZWRbcF07XG4gIFx0XHRcdFx0fVxuICBcdFx0XHR9XG4gIFx0XHRcdF9zZXREZWZhdWx0cyhzdHlsZXMsIF9wYXJzZVRyYW5zZm9ybSh0YXJnZXQsIDEpKTtcbiAgXHRcdFx0cmV0dXJuIHN0eWxlcztcbiAgXHRcdH0sXG4gIFx0XHRzdGFydENsYXNzTGlzdCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSxcbiAgXHRcdHN0eWxlID0gdGFyZ2V0LnN0eWxlLFxuICBcdFx0Y3NzVGV4dCA9IHN0eWxlLmNzc1RleHQsXG4gIFx0XHRjYWNoZSA9IHRhcmdldC5fZ3NhcCxcbiAgXHRcdGNsYXNzUFQgPSBjYWNoZS5jbGFzc1BULFxuICBcdFx0aW5saW5lVG9SZW1vdmVBdEVuZCA9IHt9LFxuICBcdFx0ZGF0YSA9IHt0OnRhcmdldCwgcGx1Z2luOnBsdWdpbiwgcm12OmlubGluZVRvUmVtb3ZlQXRFbmQsIGI6c3RhcnRDbGFzc0xpc3QsIGU6KGVuZFZhbHVlLmNoYXJBdCgxKSAhPT0gXCI9XCIpID8gZW5kVmFsdWUgOiBzdGFydENsYXNzTGlzdC5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoPzpcXFxcc3xeKVwiICsgZW5kVmFsdWUuc3Vic3RyKDIpICsgXCIoPyFbXFxcXHctXSlcIiksIFwiXCIpICsgKChlbmRWYWx1ZS5jaGFyQXQoMCkgPT09IFwiK1wiKSA/IFwiIFwiICsgZW5kVmFsdWUuc3Vic3RyKDIpIDogXCJcIil9LFxuICBcdFx0Y2hhbmdpbmdWYXJzID0ge30sXG4gIFx0XHRzdGFydFZhcnMgPSBfZ2V0QWxsU3R5bGVzKHRhcmdldCksXG4gIFx0XHR0cmFuc2Zvcm1SZWxhdGVkID0gLyh0cmFuc2Zvcm18cGVyc3BlY3RpdmUpL2ksXG4gIFx0XHRlbmRWYXJzLCBwO1xuICBcdGlmIChjbGFzc1BUKSB7XG4gIFx0XHRjbGFzc1BULnIoMSwgY2xhc3NQVC5kKTtcbiAgXHRcdF9yZW1vdmVMaW5rZWRMaXN0SXRlbShjbGFzc1BULmQucGx1Z2luLCBjbGFzc1BULCBcIl9wdFwiKTtcbiAgXHR9XG4gIFx0dGFyZ2V0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGRhdGEuZSk7XG4gIFx0ZW5kVmFycyA9IF9nZXRBbGxTdHlsZXModGFyZ2V0LCB0cnVlKTtcbiAgXHR0YXJnZXQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgc3RhcnRDbGFzc0xpc3QpO1xuICBcdGZvciAocCBpbiBlbmRWYXJzKSB7XG4gIFx0XHRpZiAoZW5kVmFyc1twXSAhPT0gc3RhcnRWYXJzW3BdICYmICF0cmFuc2Zvcm1SZWxhdGVkLnRlc3QocCkpIHtcbiAgXHRcdFx0Y2hhbmdpbmdWYXJzW3BdID0gZW5kVmFyc1twXTtcbiAgXHRcdFx0aWYgKCFzdHlsZVtwXSAmJiBzdHlsZVtwXSAhPT0gXCIwXCIpIHtcbiAgXHRcdFx0XHRpbmxpbmVUb1JlbW92ZUF0RW5kW3BdID0gMTtcbiAgXHRcdFx0fVxuICBcdFx0fVxuICBcdH1cbiAgXHRjYWNoZS5jbGFzc1BUID0gcGx1Z2luLl9wdCA9IG5ldyBQcm9wVHdlZW4ocGx1Z2luLl9wdCwgdGFyZ2V0LCBcImNsYXNzTmFtZVwiLCAwLCAwLCBfcmVuZGVyQ2xhc3NOYW1lLCBkYXRhLCAwLCAtMTEpO1xuICBcdGlmIChzdHlsZS5jc3NUZXh0ICE9PSBjc3NUZXh0KSB7IC8vb25seSBhcHBseSBpZiB0aGluZ3MgY2hhbmdlLiBPdGhlcndpc2UsIGluIGNhc2VzIGxpa2UgYSBiYWNrZ3JvdW5kLWltYWdlIHRoYXQncyBwdWxsZWQgZHluYW1pY2FsbHksIGl0IGNvdWxkIGNhdXNlIGEgcmVmcmVzaC4gU2VlIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9mb3J1bXMvdG9waWMvMjAzNjgtcG9zc2libGUtZ3NhcC1idWctc3dpdGNoaW5nLWNsYXNzbmFtZXMtaW4tY2hyb21lLy5cbiAgXHRcdHN0eWxlLmNzc1RleHQgPSBjc3NUZXh0OyAvL3dlIHJlY29yZGVkIGNzc1RleHQgYmVmb3JlIHdlIHN3YXBwZWQgY2xhc3NlcyBhbmQgcmFuIF9nZXRBbGxTdHlsZXMoKSBiZWNhdXNlIGluIGNhc2VzIHdoZW4gYSBjbGFzc05hbWUgdHdlZW4gaXMgb3ZlcndyaXR0ZW4sIHdlIHJlbW92ZSBhbGwgdGhlIHJlbGF0ZWQgdHdlZW5pbmcgcHJvcGVydGllcyBmcm9tIHRoYXQgY2xhc3MgY2hhbmdlIChvdGhlcndpc2UgY2xhc3Mtc3BlY2lmaWMgc3R1ZmYgY2FuJ3Qgb3ZlcnJpZGUgcHJvcGVydGllcyB3ZSd2ZSBkaXJlY3RseSBzZXQgb24gdGhlIHRhcmdldCdzIHN0eWxlIG9iamVjdCBkdWUgdG8gc3BlY2lmaWNpdHkpLlxuICBcdH1cbiAgXHRfcGFyc2VUcmFuc2Zvcm0odGFyZ2V0LCB0cnVlKTsgLy90byBjbGVhciB0aGUgY2FjaGluZyBvZiB0cmFuc2Zvcm1zXG4gIFx0ZGF0YS5jc3MgPSBuZXcgZ3NhcC5wbHVnaW5zLmNzcygpO1xuICBcdGRhdGEuY3NzLmluaXQodGFyZ2V0LCBjaGFuZ2luZ1ZhcnMsIHR3ZWVuKTtcbiAgXHRwbHVnaW4uX3Byb3BzLnB1c2goLi4uZGF0YS5jc3MuX3Byb3BzKTtcbiAgXHRyZXR1cm4gMTtcbiAgfVxuICAqL1xuXG59LFxuXG4vKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFRSQU5TRk9STVNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbl9pZGVudGl0eTJETWF0cml4ID0gWzEsIDAsIDAsIDEsIDAsIDBdLFxuICAgIF9yb3RhdGlvbmFsUHJvcGVydGllcyA9IHt9LFxuICAgIF9pc051bGxUcmFuc2Zvcm0gPSBmdW5jdGlvbiBfaXNOdWxsVHJhbnNmb3JtKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gXCJtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMClcIiB8fCB2YWx1ZSA9PT0gXCJub25lXCIgfHwgIXZhbHVlO1xufSxcbiAgICBfZ2V0Q29tcHV0ZWRUcmFuc2Zvcm1NYXRyaXhBc0FycmF5ID0gZnVuY3Rpb24gX2dldENvbXB1dGVkVHJhbnNmb3JtTWF0cml4QXNBcnJheSh0YXJnZXQpIHtcbiAgdmFyIG1hdHJpeFN0cmluZyA9IF9nZXRDb21wdXRlZFByb3BlcnR5KHRhcmdldCwgX3RyYW5zZm9ybVByb3ApO1xuXG4gIHJldHVybiBfaXNOdWxsVHJhbnNmb3JtKG1hdHJpeFN0cmluZykgPyBfaWRlbnRpdHkyRE1hdHJpeCA6IG1hdHJpeFN0cmluZy5zdWJzdHIoNykubWF0Y2goX251bUV4cCkubWFwKF9yb3VuZCk7XG59LFxuICAgIF9nZXRNYXRyaXggPSBmdW5jdGlvbiBfZ2V0TWF0cml4KHRhcmdldCwgZm9yY2UyRCkge1xuICB2YXIgY2FjaGUgPSB0YXJnZXQuX2dzYXAgfHwgX2dldENhY2hlKHRhcmdldCksXG4gICAgICBzdHlsZSA9IHRhcmdldC5zdHlsZSxcbiAgICAgIG1hdHJpeCA9IF9nZXRDb21wdXRlZFRyYW5zZm9ybU1hdHJpeEFzQXJyYXkodGFyZ2V0KSxcbiAgICAgIHBhcmVudCxcbiAgICAgIG5leHRTaWJsaW5nLFxuICAgICAgdGVtcCxcbiAgICAgIGFkZGVkVG9ET007XG5cbiAgaWYgKGNhY2hlLnN2ZyAmJiB0YXJnZXQuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpKSB7XG4gICAgdGVtcCA9IHRhcmdldC50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpLm1hdHJpeDsgLy9lbnN1cmVzIHRoYXQgZXZlbiBjb21wbGV4IHZhbHVlcyBsaWtlIFwidHJhbnNsYXRlKDUwLDYwKSByb3RhdGUoMTM1LDAsMClcIiBhcmUgcGFyc2VkIGJlY2F1c2UgaXQgbWFzaGVzIGl0IGludG8gYSBtYXRyaXguXG5cbiAgICBtYXRyaXggPSBbdGVtcC5hLCB0ZW1wLmIsIHRlbXAuYywgdGVtcC5kLCB0ZW1wLmUsIHRlbXAuZl07XG4gICAgcmV0dXJuIG1hdHJpeC5qb2luKFwiLFwiKSA9PT0gXCIxLDAsMCwxLDAsMFwiID8gX2lkZW50aXR5MkRNYXRyaXggOiBtYXRyaXg7XG4gIH0gZWxzZSBpZiAobWF0cml4ID09PSBfaWRlbnRpdHkyRE1hdHJpeCAmJiAhdGFyZ2V0Lm9mZnNldFBhcmVudCAmJiB0YXJnZXQgIT09IF9kb2NFbGVtZW50ICYmICFjYWNoZS5zdmcpIHtcbiAgICAvL25vdGU6IGlmIG9mZnNldFBhcmVudCBpcyBudWxsLCB0aGF0IG1lYW5zIHRoZSBlbGVtZW50IGlzbid0IGluIHRoZSBub3JtYWwgZG9jdW1lbnQgZmxvdywgbGlrZSBpZiBpdCBoYXMgZGlzcGxheTpub25lIG9yIG9uZSBvZiBpdHMgYW5jZXN0b3JzIGhhcyBkaXNwbGF5Om5vbmUpLiBGaXJlZm94IHJldHVybnMgbnVsbCBmb3IgZ2V0Q29tcHV0ZWRTdHlsZSgpIGlmIHRoZSBlbGVtZW50IGlzIGluIGFuIGlmcmFtZSB0aGF0IGhhcyBkaXNwbGF5Om5vbmUuIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTU0ODM5N1xuICAgIC8vYnJvd3NlcnMgZG9uJ3QgcmVwb3J0IHRyYW5zZm9ybXMgYWNjdXJhdGVseSB1bmxlc3MgdGhlIGVsZW1lbnQgaXMgaW4gdGhlIERPTSBhbmQgaGFzIGEgZGlzcGxheSB2YWx1ZSB0aGF0J3Mgbm90IFwibm9uZVwiLiBGaXJlZm94IGFuZCBNaWNyb3NvZnQgYnJvd3NlcnMgaGF2ZSBhIHBhcnRpYWwgYnVnIHdoZXJlIHRoZXknbGwgcmVwb3J0IHRyYW5zZm9ybXMgZXZlbiBpZiBkaXNwbGF5Om5vbmUgQlVUIG5vdCBhbnkgcGVyY2VudGFnZS1iYXNlZCB2YWx1ZXMgbGlrZSB0cmFuc2xhdGUoLTUwJSwgOHB4KSB3aWxsIGJlIHJlcG9ydGVkIGFzIGlmIGl0J3MgdHJhbnNsYXRlKDAsIDhweCkuXG4gICAgdGVtcCA9IHN0eWxlLmRpc3BsYXk7XG4gICAgc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBwYXJlbnQgPSB0YXJnZXQucGFyZW50Tm9kZTtcblxuICAgIGlmICghcGFyZW50IHx8ICF0YXJnZXQub2Zmc2V0UGFyZW50KSB7XG4gICAgICAvLyBub3RlOiBpbiAzLjMuMCB3ZSBzd2l0Y2hlZCB0YXJnZXQub2Zmc2V0UGFyZW50IHRvIF9kb2MuYm9keS5jb250YWlucyh0YXJnZXQpIHRvIGF2b2lkIFtzb21ldGltZXMgdW5uZWNlc3NhcnldIE11dGF0aW9uT2JzZXJ2ZXIgY2FsbHMgYnV0IHRoYXQgd2Fzbid0IGFkZXF1YXRlIGJlY2F1c2UgdGhlcmUgYXJlIGVkZ2UgY2FzZXMgd2hlcmUgbmVzdGVkIHBvc2l0aW9uOiBmaXhlZCBlbGVtZW50cyBuZWVkIHRvIGdldCByZXBhcmVudGVkIHRvIGFjY3VyYXRlbHkgc2Vuc2UgdHJhbnNmb3Jtcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmVlbnNvY2svR1NBUC9pc3N1ZXMvMzg4IGFuZCBodHRwczovL2dpdGh1Yi5jb20vZ3JlZW5zb2NrL0dTQVAvaXNzdWVzLzM3NVxuICAgICAgYWRkZWRUb0RPTSA9IDE7IC8vZmxhZ1xuXG4gICAgICBuZXh0U2libGluZyA9IHRhcmdldC5uZXh0U2libGluZztcblxuICAgICAgX2RvY0VsZW1lbnQuYXBwZW5kQ2hpbGQodGFyZ2V0KTsgLy93ZSBtdXN0IGFkZCBpdCB0byB0aGUgRE9NIGluIG9yZGVyIHRvIGdldCB2YWx1ZXMgcHJvcGVybHlcblxuICAgIH1cblxuICAgIG1hdHJpeCA9IF9nZXRDb21wdXRlZFRyYW5zZm9ybU1hdHJpeEFzQXJyYXkodGFyZ2V0KTtcbiAgICB0ZW1wID8gc3R5bGUuZGlzcGxheSA9IHRlbXAgOiBfcmVtb3ZlUHJvcGVydHkodGFyZ2V0LCBcImRpc3BsYXlcIik7XG5cbiAgICBpZiAoYWRkZWRUb0RPTSkge1xuICAgICAgbmV4dFNpYmxpbmcgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKHRhcmdldCwgbmV4dFNpYmxpbmcpIDogcGFyZW50ID8gcGFyZW50LmFwcGVuZENoaWxkKHRhcmdldCkgOiBfZG9jRWxlbWVudC5yZW1vdmVDaGlsZCh0YXJnZXQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmb3JjZTJEICYmIG1hdHJpeC5sZW5ndGggPiA2ID8gW21hdHJpeFswXSwgbWF0cml4WzFdLCBtYXRyaXhbNF0sIG1hdHJpeFs1XSwgbWF0cml4WzEyXSwgbWF0cml4WzEzXV0gOiBtYXRyaXg7XG59LFxuICAgIF9hcHBseVNWR09yaWdpbiA9IGZ1bmN0aW9uIF9hcHBseVNWR09yaWdpbih0YXJnZXQsIG9yaWdpbiwgb3JpZ2luSXNBYnNvbHV0ZSwgc21vb3RoLCBtYXRyaXhBcnJheSwgcGx1Z2luVG9BZGRQcm9wVHdlZW5zVG8pIHtcbiAgdmFyIGNhY2hlID0gdGFyZ2V0Ll9nc2FwLFxuICAgICAgbWF0cml4ID0gbWF0cml4QXJyYXkgfHwgX2dldE1hdHJpeCh0YXJnZXQsIHRydWUpLFxuICAgICAgeE9yaWdpbk9sZCA9IGNhY2hlLnhPcmlnaW4gfHwgMCxcbiAgICAgIHlPcmlnaW5PbGQgPSBjYWNoZS55T3JpZ2luIHx8IDAsXG4gICAgICB4T2Zmc2V0T2xkID0gY2FjaGUueE9mZnNldCB8fCAwLFxuICAgICAgeU9mZnNldE9sZCA9IGNhY2hlLnlPZmZzZXQgfHwgMCxcbiAgICAgIGEgPSBtYXRyaXhbMF0sXG4gICAgICBiID0gbWF0cml4WzFdLFxuICAgICAgYyA9IG1hdHJpeFsyXSxcbiAgICAgIGQgPSBtYXRyaXhbM10sXG4gICAgICB0eCA9IG1hdHJpeFs0XSxcbiAgICAgIHR5ID0gbWF0cml4WzVdLFxuICAgICAgb3JpZ2luU3BsaXQgPSBvcmlnaW4uc3BsaXQoXCIgXCIpLFxuICAgICAgeE9yaWdpbiA9IHBhcnNlRmxvYXQob3JpZ2luU3BsaXRbMF0pIHx8IDAsXG4gICAgICB5T3JpZ2luID0gcGFyc2VGbG9hdChvcmlnaW5TcGxpdFsxXSkgfHwgMCxcbiAgICAgIGJvdW5kcyxcbiAgICAgIGRldGVybWluYW50LFxuICAgICAgeCxcbiAgICAgIHk7XG5cbiAgaWYgKCFvcmlnaW5Jc0Fic29sdXRlKSB7XG4gICAgYm91bmRzID0gX2dldEJCb3godGFyZ2V0KTtcbiAgICB4T3JpZ2luID0gYm91bmRzLnggKyAofm9yaWdpblNwbGl0WzBdLmluZGV4T2YoXCIlXCIpID8geE9yaWdpbiAvIDEwMCAqIGJvdW5kcy53aWR0aCA6IHhPcmlnaW4pO1xuICAgIHlPcmlnaW4gPSBib3VuZHMueSArICh+KG9yaWdpblNwbGl0WzFdIHx8IG9yaWdpblNwbGl0WzBdKS5pbmRleE9mKFwiJVwiKSA/IHlPcmlnaW4gLyAxMDAgKiBib3VuZHMuaGVpZ2h0IDogeU9yaWdpbik7XG4gIH0gZWxzZSBpZiAobWF0cml4ICE9PSBfaWRlbnRpdHkyRE1hdHJpeCAmJiAoZGV0ZXJtaW5hbnQgPSBhICogZCAtIGIgKiBjKSkge1xuICAgIC8vaWYgaXQncyB6ZXJvIChsaWtlIGlmIHNjYWxlWCBhbmQgc2NhbGVZIGFyZSB6ZXJvKSwgc2tpcCBpdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBkaXZpZGluZyBieSB6ZXJvLlxuICAgIHggPSB4T3JpZ2luICogKGQgLyBkZXRlcm1pbmFudCkgKyB5T3JpZ2luICogKC1jIC8gZGV0ZXJtaW5hbnQpICsgKGMgKiB0eSAtIGQgKiB0eCkgLyBkZXRlcm1pbmFudDtcbiAgICB5ID0geE9yaWdpbiAqICgtYiAvIGRldGVybWluYW50KSArIHlPcmlnaW4gKiAoYSAvIGRldGVybWluYW50KSAtIChhICogdHkgLSBiICogdHgpIC8gZGV0ZXJtaW5hbnQ7XG4gICAgeE9yaWdpbiA9IHg7XG4gICAgeU9yaWdpbiA9IHk7XG4gIH1cblxuICBpZiAoc21vb3RoIHx8IHNtb290aCAhPT0gZmFsc2UgJiYgY2FjaGUuc21vb3RoKSB7XG4gICAgdHggPSB4T3JpZ2luIC0geE9yaWdpbk9sZDtcbiAgICB0eSA9IHlPcmlnaW4gLSB5T3JpZ2luT2xkO1xuICAgIGNhY2hlLnhPZmZzZXQgPSB4T2Zmc2V0T2xkICsgKHR4ICogYSArIHR5ICogYykgLSB0eDtcbiAgICBjYWNoZS55T2Zmc2V0ID0geU9mZnNldE9sZCArICh0eCAqIGIgKyB0eSAqIGQpIC0gdHk7XG4gIH0gZWxzZSB7XG4gICAgY2FjaGUueE9mZnNldCA9IGNhY2hlLnlPZmZzZXQgPSAwO1xuICB9XG5cbiAgY2FjaGUueE9yaWdpbiA9IHhPcmlnaW47XG4gIGNhY2hlLnlPcmlnaW4gPSB5T3JpZ2luO1xuICBjYWNoZS5zbW9vdGggPSAhIXNtb290aDtcbiAgY2FjaGUub3JpZ2luID0gb3JpZ2luO1xuICBjYWNoZS5vcmlnaW5Jc0Fic29sdXRlID0gISFvcmlnaW5Jc0Fic29sdXRlO1xuICB0YXJnZXQuc3R5bGVbX3RyYW5zZm9ybU9yaWdpblByb3BdID0gXCIwcHggMHB4XCI7IC8vb3RoZXJ3aXNlLCBpZiBzb21lb25lIHNldHMgIGFuIG9yaWdpbiB2aWEgQ1NTLCBpdCB3aWxsIGxpa2VseSBpbnRlcmZlcmUgd2l0aCB0aGUgU1ZHIHRyYW5zZm9ybSBhdHRyaWJ1dGUgb25lcyAoYmVjYXVzZSByZW1lbWJlciwgd2UncmUgYmFraW5nIHRoZSBvcmlnaW4gaW50byB0aGUgbWF0cml4KCkgdmFsdWUpLlxuXG4gIGlmIChwbHVnaW5Ub0FkZFByb3BUd2VlbnNUbykge1xuICAgIF9hZGROb25Ud2VlbmluZ1BUKHBsdWdpblRvQWRkUHJvcFR3ZWVuc1RvLCBjYWNoZSwgXCJ4T3JpZ2luXCIsIHhPcmlnaW5PbGQsIHhPcmlnaW4pO1xuXG4gICAgX2FkZE5vblR3ZWVuaW5nUFQocGx1Z2luVG9BZGRQcm9wVHdlZW5zVG8sIGNhY2hlLCBcInlPcmlnaW5cIiwgeU9yaWdpbk9sZCwgeU9yaWdpbik7XG5cbiAgICBfYWRkTm9uVHdlZW5pbmdQVChwbHVnaW5Ub0FkZFByb3BUd2VlbnNUbywgY2FjaGUsIFwieE9mZnNldFwiLCB4T2Zmc2V0T2xkLCBjYWNoZS54T2Zmc2V0KTtcblxuICAgIF9hZGROb25Ud2VlbmluZ1BUKHBsdWdpblRvQWRkUHJvcFR3ZWVuc1RvLCBjYWNoZSwgXCJ5T2Zmc2V0XCIsIHlPZmZzZXRPbGQsIGNhY2hlLnlPZmZzZXQpO1xuICB9XG5cbiAgdGFyZ2V0LnNldEF0dHJpYnV0ZShcImRhdGEtc3ZnLW9yaWdpblwiLCB4T3JpZ2luICsgXCIgXCIgKyB5T3JpZ2luKTtcbn0sXG4gICAgX3BhcnNlVHJhbnNmb3JtID0gZnVuY3Rpb24gX3BhcnNlVHJhbnNmb3JtKHRhcmdldCwgdW5jYWNoZSkge1xuICB2YXIgY2FjaGUgPSB0YXJnZXQuX2dzYXAgfHwgbmV3IEdTQ2FjaGUodGFyZ2V0KTtcblxuICBpZiAoXCJ4XCIgaW4gY2FjaGUgJiYgIXVuY2FjaGUgJiYgIWNhY2hlLnVuY2FjaGUpIHtcbiAgICByZXR1cm4gY2FjaGU7XG4gIH1cblxuICB2YXIgc3R5bGUgPSB0YXJnZXQuc3R5bGUsXG4gICAgICBpbnZlcnRlZFNjYWxlWCA9IGNhY2hlLnNjYWxlWCA8IDAsXG4gICAgICBweCA9IFwicHhcIixcbiAgICAgIGRlZyA9IFwiZGVnXCIsXG4gICAgICBvcmlnaW4gPSBfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSh0YXJnZXQsIF90cmFuc2Zvcm1PcmlnaW5Qcm9wKSB8fCBcIjBcIixcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgeixcbiAgICAgIHNjYWxlWCxcbiAgICAgIHNjYWxlWSxcbiAgICAgIHJvdGF0aW9uLFxuICAgICAgcm90YXRpb25YLFxuICAgICAgcm90YXRpb25ZLFxuICAgICAgc2tld1gsXG4gICAgICBza2V3WSxcbiAgICAgIHBlcnNwZWN0aXZlLFxuICAgICAgeE9yaWdpbixcbiAgICAgIHlPcmlnaW4sXG4gICAgICBtYXRyaXgsXG4gICAgICBhbmdsZSxcbiAgICAgIGNvcyxcbiAgICAgIHNpbixcbiAgICAgIGEsXG4gICAgICBiLFxuICAgICAgYyxcbiAgICAgIGQsXG4gICAgICBhMTIsXG4gICAgICBhMjIsXG4gICAgICB0MSxcbiAgICAgIHQyLFxuICAgICAgdDMsXG4gICAgICBhMTMsXG4gICAgICBhMjMsXG4gICAgICBhMzMsXG4gICAgICBhNDIsXG4gICAgICBhNDMsXG4gICAgICBhMzI7XG4gIHggPSB5ID0geiA9IHJvdGF0aW9uID0gcm90YXRpb25YID0gcm90YXRpb25ZID0gc2tld1ggPSBza2V3WSA9IHBlcnNwZWN0aXZlID0gMDtcbiAgc2NhbGVYID0gc2NhbGVZID0gMTtcbiAgY2FjaGUuc3ZnID0gISEodGFyZ2V0LmdldENUTSAmJiBfaXNTVkcodGFyZ2V0KSk7XG4gIG1hdHJpeCA9IF9nZXRNYXRyaXgodGFyZ2V0LCBjYWNoZS5zdmcpO1xuXG4gIGlmIChjYWNoZS5zdmcpIHtcbiAgICB0MSA9ICFjYWNoZS51bmNhY2hlICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN2Zy1vcmlnaW5cIik7XG5cbiAgICBfYXBwbHlTVkdPcmlnaW4odGFyZ2V0LCB0MSB8fCBvcmlnaW4sICEhdDEgfHwgY2FjaGUub3JpZ2luSXNBYnNvbHV0ZSwgY2FjaGUuc21vb3RoICE9PSBmYWxzZSwgbWF0cml4KTtcbiAgfVxuXG4gIHhPcmlnaW4gPSBjYWNoZS54T3JpZ2luIHx8IDA7XG4gIHlPcmlnaW4gPSBjYWNoZS55T3JpZ2luIHx8IDA7XG5cbiAgaWYgKG1hdHJpeCAhPT0gX2lkZW50aXR5MkRNYXRyaXgpIHtcbiAgICBhID0gbWF0cml4WzBdOyAvL2ExMVxuXG4gICAgYiA9IG1hdHJpeFsxXTsgLy9hMjFcblxuICAgIGMgPSBtYXRyaXhbMl07IC8vYTMxXG5cbiAgICBkID0gbWF0cml4WzNdOyAvL2E0MVxuXG4gICAgeCA9IGExMiA9IG1hdHJpeFs0XTtcbiAgICB5ID0gYTIyID0gbWF0cml4WzVdOyAvLzJEIG1hdHJpeFxuXG4gICAgaWYgKG1hdHJpeC5sZW5ndGggPT09IDYpIHtcbiAgICAgIHNjYWxlWCA9IE1hdGguc3FydChhICogYSArIGIgKiBiKTtcbiAgICAgIHNjYWxlWSA9IE1hdGguc3FydChkICogZCArIGMgKiBjKTtcbiAgICAgIHJvdGF0aW9uID0gYSB8fCBiID8gX2F0YW4yKGIsIGEpICogX1JBRDJERUcgOiAwOyAvL25vdGU6IGlmIHNjYWxlWCBpcyAwLCB3ZSBjYW5ub3QgYWNjdXJhdGVseSBtZWFzdXJlIHJvdGF0aW9uLiBTYW1lIGZvciBza2V3WCB3aXRoIGEgc2NhbGVZIG9mIDAuIFRoZXJlZm9yZSwgd2UgZGVmYXVsdCB0byB0aGUgcHJldmlvdXNseSByZWNvcmRlZCB2YWx1ZSAob3IgemVybyBpZiB0aGF0IGRvZXNuJ3QgZXhpc3QpLlxuXG4gICAgICBza2V3WCA9IGMgfHwgZCA/IF9hdGFuMihjLCBkKSAqIF9SQUQyREVHICsgcm90YXRpb24gOiAwO1xuICAgICAgc2tld1ggJiYgKHNjYWxlWSAqPSBNYXRoLmNvcyhza2V3WCAqIF9ERUcyUkFEKSk7XG5cbiAgICAgIGlmIChjYWNoZS5zdmcpIHtcbiAgICAgICAgeCAtPSB4T3JpZ2luIC0gKHhPcmlnaW4gKiBhICsgeU9yaWdpbiAqIGMpO1xuICAgICAgICB5IC09IHlPcmlnaW4gLSAoeE9yaWdpbiAqIGIgKyB5T3JpZ2luICogZCk7XG4gICAgICB9IC8vM0QgbWF0cml4XG5cbiAgICB9IGVsc2Uge1xuICAgICAgYTMyID0gbWF0cml4WzZdO1xuICAgICAgYTQyID0gbWF0cml4WzddO1xuICAgICAgYTEzID0gbWF0cml4WzhdO1xuICAgICAgYTIzID0gbWF0cml4WzldO1xuICAgICAgYTMzID0gbWF0cml4WzEwXTtcbiAgICAgIGE0MyA9IG1hdHJpeFsxMV07XG4gICAgICB4ID0gbWF0cml4WzEyXTtcbiAgICAgIHkgPSBtYXRyaXhbMTNdO1xuICAgICAgeiA9IG1hdHJpeFsxNF07XG4gICAgICBhbmdsZSA9IF9hdGFuMihhMzIsIGEzMyk7XG4gICAgICByb3RhdGlvblggPSBhbmdsZSAqIF9SQUQyREVHOyAvL3JvdGF0aW9uWFxuXG4gICAgICBpZiAoYW5nbGUpIHtcbiAgICAgICAgY29zID0gTWF0aC5jb3MoLWFuZ2xlKTtcbiAgICAgICAgc2luID0gTWF0aC5zaW4oLWFuZ2xlKTtcbiAgICAgICAgdDEgPSBhMTIgKiBjb3MgKyBhMTMgKiBzaW47XG4gICAgICAgIHQyID0gYTIyICogY29zICsgYTIzICogc2luO1xuICAgICAgICB0MyA9IGEzMiAqIGNvcyArIGEzMyAqIHNpbjtcbiAgICAgICAgYTEzID0gYTEyICogLXNpbiArIGExMyAqIGNvcztcbiAgICAgICAgYTIzID0gYTIyICogLXNpbiArIGEyMyAqIGNvcztcbiAgICAgICAgYTMzID0gYTMyICogLXNpbiArIGEzMyAqIGNvcztcbiAgICAgICAgYTQzID0gYTQyICogLXNpbiArIGE0MyAqIGNvcztcbiAgICAgICAgYTEyID0gdDE7XG4gICAgICAgIGEyMiA9IHQyO1xuICAgICAgICBhMzIgPSB0MztcbiAgICAgIH0gLy9yb3RhdGlvbllcblxuXG4gICAgICBhbmdsZSA9IF9hdGFuMigtYywgYTMzKTtcbiAgICAgIHJvdGF0aW9uWSA9IGFuZ2xlICogX1JBRDJERUc7XG5cbiAgICAgIGlmIChhbmdsZSkge1xuICAgICAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuICAgICAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgICAgICB0MSA9IGEgKiBjb3MgLSBhMTMgKiBzaW47XG4gICAgICAgIHQyID0gYiAqIGNvcyAtIGEyMyAqIHNpbjtcbiAgICAgICAgdDMgPSBjICogY29zIC0gYTMzICogc2luO1xuICAgICAgICBhNDMgPSBkICogc2luICsgYTQzICogY29zO1xuICAgICAgICBhID0gdDE7XG4gICAgICAgIGIgPSB0MjtcbiAgICAgICAgYyA9IHQzO1xuICAgICAgfSAvL3JvdGF0aW9uWlxuXG5cbiAgICAgIGFuZ2xlID0gX2F0YW4yKGIsIGEpO1xuICAgICAgcm90YXRpb24gPSBhbmdsZSAqIF9SQUQyREVHO1xuXG4gICAgICBpZiAoYW5nbGUpIHtcbiAgICAgICAgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIHQxID0gYSAqIGNvcyArIGIgKiBzaW47XG4gICAgICAgIHQyID0gYTEyICogY29zICsgYTIyICogc2luO1xuICAgICAgICBiID0gYiAqIGNvcyAtIGEgKiBzaW47XG4gICAgICAgIGEyMiA9IGEyMiAqIGNvcyAtIGExMiAqIHNpbjtcbiAgICAgICAgYSA9IHQxO1xuICAgICAgICBhMTIgPSB0MjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJvdGF0aW9uWCAmJiBNYXRoLmFicyhyb3RhdGlvblgpICsgTWF0aC5hYnMocm90YXRpb24pID4gMzU5LjkpIHtcbiAgICAgICAgLy93aGVuIHJvdGF0aW9uWSBpcyBzZXQsIGl0IHdpbGwgb2Z0ZW4gYmUgcGFyc2VkIGFzIDE4MCBkZWdyZWVzIGRpZmZlcmVudCB0aGFuIGl0IHNob3VsZCBiZSwgYW5kIHJvdGF0aW9uWCBhbmQgcm90YXRpb24gYm90aCBiZWluZyAxODAgKGl0IGxvb2tzIHRoZSBzYW1lKSwgc28gd2UgYWRqdXN0IGZvciB0aGF0IGhlcmUuXG4gICAgICAgIHJvdGF0aW9uWCA9IHJvdGF0aW9uID0gMDtcbiAgICAgICAgcm90YXRpb25ZID0gMTgwIC0gcm90YXRpb25ZO1xuICAgICAgfVxuXG4gICAgICBzY2FsZVggPSBfcm91bmQoTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIgKyBjICogYykpO1xuICAgICAgc2NhbGVZID0gX3JvdW5kKE1hdGguc3FydChhMjIgKiBhMjIgKyBhMzIgKiBhMzIpKTtcbiAgICAgIGFuZ2xlID0gX2F0YW4yKGExMiwgYTIyKTtcbiAgICAgIHNrZXdYID0gTWF0aC5hYnMoYW5nbGUpID4gMC4wMDAyID8gYW5nbGUgKiBfUkFEMkRFRyA6IDA7XG4gICAgICBwZXJzcGVjdGl2ZSA9IGE0MyA/IDEgLyAoYTQzIDwgMCA/IC1hNDMgOiBhNDMpIDogMDtcbiAgICB9XG5cbiAgICBpZiAoY2FjaGUuc3ZnKSB7XG4gICAgICAvL3NlbnNlIGlmIHRoZXJlIGFyZSBDU1MgdHJhbnNmb3JtcyBhcHBsaWVkIG9uIGFuIFNWRyBlbGVtZW50IGluIHdoaWNoIGNhc2Ugd2UgbXVzdCBvdmVyd3JpdGUgdGhlbSB3aGVuIHJlbmRlcmluZy4gVGhlIHRyYW5zZm9ybSBhdHRyaWJ1dGUgaXMgbW9yZSByZWxpYWJsZSBjcm9zcy1icm93c2VyLCBidXQgd2UgY2FuJ3QganVzdCByZW1vdmUgdGhlIENTUyBvbmVzIGJlY2F1c2UgdGhleSBtYXkgYmUgYXBwbGllZCBpbiBhIENTUyBydWxlIHNvbWV3aGVyZSAobm90IGp1c3QgaW5saW5lKS5cbiAgICAgIHQxID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKTtcbiAgICAgIGNhY2hlLmZvcmNlQ1NTID0gdGFyZ2V0LnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCBcIlwiKSB8fCAhX2lzTnVsbFRyYW5zZm9ybShfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSh0YXJnZXQsIF90cmFuc2Zvcm1Qcm9wKSk7XG4gICAgICB0MSAmJiB0YXJnZXQuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIHQxKTtcbiAgICB9XG4gIH1cblxuICBpZiAoTWF0aC5hYnMoc2tld1gpID4gOTAgJiYgTWF0aC5hYnMoc2tld1gpIDwgMjcwKSB7XG4gICAgaWYgKGludmVydGVkU2NhbGVYKSB7XG4gICAgICBzY2FsZVggKj0gLTE7XG4gICAgICBza2V3WCArPSByb3RhdGlvbiA8PSAwID8gMTgwIDogLTE4MDtcbiAgICAgIHJvdGF0aW9uICs9IHJvdGF0aW9uIDw9IDAgPyAxODAgOiAtMTgwO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2FsZVkgKj0gLTE7XG4gICAgICBza2V3WCArPSBza2V3WCA8PSAwID8gMTgwIDogLTE4MDtcbiAgICB9XG4gIH1cblxuICBjYWNoZS54ID0gKChjYWNoZS54UGVyY2VudCA9IHggJiYgTWF0aC5yb3VuZCh0YXJnZXQub2Zmc2V0V2lkdGggLyAyKSA9PT0gTWF0aC5yb3VuZCgteCkgPyAtNTAgOiAwKSA/IDAgOiB4KSArIHB4O1xuICBjYWNoZS55ID0gKChjYWNoZS55UGVyY2VudCA9IHkgJiYgTWF0aC5yb3VuZCh0YXJnZXQub2Zmc2V0SGVpZ2h0IC8gMikgPT09IE1hdGgucm91bmQoLXkpID8gLTUwIDogMCkgPyAwIDogeSkgKyBweDtcbiAgY2FjaGUueiA9IHogKyBweDtcbiAgY2FjaGUuc2NhbGVYID0gX3JvdW5kKHNjYWxlWCk7XG4gIGNhY2hlLnNjYWxlWSA9IF9yb3VuZChzY2FsZVkpO1xuICBjYWNoZS5yb3RhdGlvbiA9IF9yb3VuZChyb3RhdGlvbikgKyBkZWc7XG4gIGNhY2hlLnJvdGF0aW9uWCA9IF9yb3VuZChyb3RhdGlvblgpICsgZGVnO1xuICBjYWNoZS5yb3RhdGlvblkgPSBfcm91bmQocm90YXRpb25ZKSArIGRlZztcbiAgY2FjaGUuc2tld1ggPSBza2V3WCArIGRlZztcbiAgY2FjaGUuc2tld1kgPSBza2V3WSArIGRlZztcbiAgY2FjaGUudHJhbnNmb3JtUGVyc3BlY3RpdmUgPSBwZXJzcGVjdGl2ZSArIHB4O1xuXG4gIGlmIChjYWNoZS56T3JpZ2luID0gcGFyc2VGbG9hdChvcmlnaW4uc3BsaXQoXCIgXCIpWzJdKSB8fCAwKSB7XG4gICAgc3R5bGVbX3RyYW5zZm9ybU9yaWdpblByb3BdID0gX2ZpcnN0VHdvT25seShvcmlnaW4pO1xuICB9XG5cbiAgY2FjaGUueE9mZnNldCA9IGNhY2hlLnlPZmZzZXQgPSAwO1xuICBjYWNoZS5mb3JjZTNEID0gX2NvbmZpZy5mb3JjZTNEO1xuICBjYWNoZS5yZW5kZXJUcmFuc2Zvcm0gPSBjYWNoZS5zdmcgPyBfcmVuZGVyU1ZHVHJhbnNmb3JtcyA6IF9zdXBwb3J0czNEID8gX3JlbmRlckNTU1RyYW5zZm9ybXMgOiBfcmVuZGVyTm9uM0RUcmFuc2Zvcm1zO1xuICBjYWNoZS51bmNhY2hlID0gMDtcbiAgcmV0dXJuIGNhY2hlO1xufSxcbiAgICBfZmlyc3RUd29Pbmx5ID0gZnVuY3Rpb24gX2ZpcnN0VHdvT25seSh2YWx1ZSkge1xuICByZXR1cm4gKHZhbHVlID0gdmFsdWUuc3BsaXQoXCIgXCIpKVswXSArIFwiIFwiICsgdmFsdWVbMV07XG59LFxuICAgIC8vZm9yIGhhbmRsaW5nIHRyYW5zZm9ybU9yaWdpbiB2YWx1ZXMsIHN0cmlwcGluZyBvdXQgdGhlIDNyZCBkaW1lbnNpb25cbl9hZGRQeFRyYW5zbGF0ZSA9IGZ1bmN0aW9uIF9hZGRQeFRyYW5zbGF0ZSh0YXJnZXQsIHN0YXJ0LCB2YWx1ZSkge1xuICB2YXIgdW5pdCA9IGdldFVuaXQoc3RhcnQpO1xuICByZXR1cm4gX3JvdW5kKHBhcnNlRmxvYXQoc3RhcnQpICsgcGFyc2VGbG9hdChfY29udmVydFRvVW5pdCh0YXJnZXQsIFwieFwiLCB2YWx1ZSArIFwicHhcIiwgdW5pdCkpKSArIHVuaXQ7XG59LFxuICAgIF9yZW5kZXJOb24zRFRyYW5zZm9ybXMgPSBmdW5jdGlvbiBfcmVuZGVyTm9uM0RUcmFuc2Zvcm1zKHJhdGlvLCBjYWNoZSkge1xuICBjYWNoZS56ID0gXCIwcHhcIjtcbiAgY2FjaGUucm90YXRpb25ZID0gY2FjaGUucm90YXRpb25YID0gXCIwZGVnXCI7XG4gIGNhY2hlLmZvcmNlM0QgPSAwO1xuXG4gIF9yZW5kZXJDU1NUcmFuc2Zvcm1zKHJhdGlvLCBjYWNoZSk7XG59LFxuICAgIF96ZXJvRGVnID0gXCIwZGVnXCIsXG4gICAgX3plcm9QeCA9IFwiMHB4XCIsXG4gICAgX2VuZFBhcmVudGhlc2lzID0gXCIpIFwiLFxuICAgIF9yZW5kZXJDU1NUcmFuc2Zvcm1zID0gZnVuY3Rpb24gX3JlbmRlckNTU1RyYW5zZm9ybXMocmF0aW8sIGNhY2hlKSB7XG4gIHZhciBfcmVmID0gY2FjaGUgfHwgdGhpcyxcbiAgICAgIHhQZXJjZW50ID0gX3JlZi54UGVyY2VudCxcbiAgICAgIHlQZXJjZW50ID0gX3JlZi55UGVyY2VudCxcbiAgICAgIHggPSBfcmVmLngsXG4gICAgICB5ID0gX3JlZi55LFxuICAgICAgeiA9IF9yZWYueixcbiAgICAgIHJvdGF0aW9uID0gX3JlZi5yb3RhdGlvbixcbiAgICAgIHJvdGF0aW9uWSA9IF9yZWYucm90YXRpb25ZLFxuICAgICAgcm90YXRpb25YID0gX3JlZi5yb3RhdGlvblgsXG4gICAgICBza2V3WCA9IF9yZWYuc2tld1gsXG4gICAgICBza2V3WSA9IF9yZWYuc2tld1ksXG4gICAgICBzY2FsZVggPSBfcmVmLnNjYWxlWCxcbiAgICAgIHNjYWxlWSA9IF9yZWYuc2NhbGVZLFxuICAgICAgdHJhbnNmb3JtUGVyc3BlY3RpdmUgPSBfcmVmLnRyYW5zZm9ybVBlcnNwZWN0aXZlLFxuICAgICAgZm9yY2UzRCA9IF9yZWYuZm9yY2UzRCxcbiAgICAgIHRhcmdldCA9IF9yZWYudGFyZ2V0LFxuICAgICAgek9yaWdpbiA9IF9yZWYuek9yaWdpbixcbiAgICAgIHRyYW5zZm9ybXMgPSBcIlwiLFxuICAgICAgdXNlM0QgPSBmb3JjZTNEID09PSBcImF1dG9cIiAmJiByYXRpbyAmJiByYXRpbyAhPT0gMSB8fCBmb3JjZTNEID09PSB0cnVlOyAvLyBTYWZhcmkgaGFzIGEgYnVnIHRoYXQgY2F1c2VzIGl0IG5vdCB0byByZW5kZXIgM0QgdHJhbnNmb3JtLW9yaWdpbiB2YWx1ZXMgcHJvcGVybHksIHNvIHdlIGZvcmNlIHRoZSB6IG9yaWdpbiB0byAwLCByZWNvcmQgaXQgaW4gdGhlIGNhY2hlLCBhbmQgdGhlbiBkbyB0aGUgbWF0aCBoZXJlIHRvIG9mZnNldCB0aGUgdHJhbnNsYXRlIHZhbHVlcyBhY2NvcmRpbmdseSAoYmFzaWNhbGx5IGRvIHRoZSAzRCB0cmFuc2Zvcm0tb3JpZ2luIHBhcnQgbWFudWFsbHkpXG5cblxuICBpZiAoek9yaWdpbiAmJiAocm90YXRpb25YICE9PSBfemVyb0RlZyB8fCByb3RhdGlvblkgIT09IF96ZXJvRGVnKSkge1xuICAgIHZhciBhbmdsZSA9IHBhcnNlRmxvYXQocm90YXRpb25ZKSAqIF9ERUcyUkFELFxuICAgICAgICBhMTMgPSBNYXRoLnNpbihhbmdsZSksXG4gICAgICAgIGEzMyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgY29zO1xuXG4gICAgYW5nbGUgPSBwYXJzZUZsb2F0KHJvdGF0aW9uWCkgKiBfREVHMlJBRDtcbiAgICBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgeCA9IF9hZGRQeFRyYW5zbGF0ZSh0YXJnZXQsIHgsIGExMyAqIGNvcyAqIC16T3JpZ2luKTtcbiAgICB5ID0gX2FkZFB4VHJhbnNsYXRlKHRhcmdldCwgeSwgLU1hdGguc2luKGFuZ2xlKSAqIC16T3JpZ2luKTtcbiAgICB6ID0gX2FkZFB4VHJhbnNsYXRlKHRhcmdldCwgeiwgYTMzICogY29zICogLXpPcmlnaW4gKyB6T3JpZ2luKTtcbiAgfVxuXG4gIGlmICh0cmFuc2Zvcm1QZXJzcGVjdGl2ZSAhPT0gX3plcm9QeCkge1xuICAgIHRyYW5zZm9ybXMgKz0gXCJwZXJzcGVjdGl2ZShcIiArIHRyYW5zZm9ybVBlcnNwZWN0aXZlICsgX2VuZFBhcmVudGhlc2lzO1xuICB9XG5cbiAgaWYgKHhQZXJjZW50IHx8IHlQZXJjZW50KSB7XG4gICAgdHJhbnNmb3JtcyArPSBcInRyYW5zbGF0ZShcIiArIHhQZXJjZW50ICsgXCIlLCBcIiArIHlQZXJjZW50ICsgXCIlKSBcIjtcbiAgfVxuXG4gIGlmICh1c2UzRCB8fCB4ICE9PSBfemVyb1B4IHx8IHkgIT09IF96ZXJvUHggfHwgeiAhPT0gX3plcm9QeCkge1xuICAgIHRyYW5zZm9ybXMgKz0geiAhPT0gX3plcm9QeCB8fCB1c2UzRCA/IFwidHJhbnNsYXRlM2QoXCIgKyB4ICsgXCIsIFwiICsgeSArIFwiLCBcIiArIHogKyBcIikgXCIgOiBcInRyYW5zbGF0ZShcIiArIHggKyBcIiwgXCIgKyB5ICsgX2VuZFBhcmVudGhlc2lzO1xuICB9XG5cbiAgaWYgKHJvdGF0aW9uICE9PSBfemVyb0RlZykge1xuICAgIHRyYW5zZm9ybXMgKz0gXCJyb3RhdGUoXCIgKyByb3RhdGlvbiArIF9lbmRQYXJlbnRoZXNpcztcbiAgfVxuXG4gIGlmIChyb3RhdGlvblkgIT09IF96ZXJvRGVnKSB7XG4gICAgdHJhbnNmb3JtcyArPSBcInJvdGF0ZVkoXCIgKyByb3RhdGlvblkgKyBfZW5kUGFyZW50aGVzaXM7XG4gIH1cblxuICBpZiAocm90YXRpb25YICE9PSBfemVyb0RlZykge1xuICAgIHRyYW5zZm9ybXMgKz0gXCJyb3RhdGVYKFwiICsgcm90YXRpb25YICsgX2VuZFBhcmVudGhlc2lzO1xuICB9XG5cbiAgaWYgKHNrZXdYICE9PSBfemVyb0RlZyB8fCBza2V3WSAhPT0gX3plcm9EZWcpIHtcbiAgICB0cmFuc2Zvcm1zICs9IFwic2tldyhcIiArIHNrZXdYICsgXCIsIFwiICsgc2tld1kgKyBfZW5kUGFyZW50aGVzaXM7XG4gIH1cblxuICBpZiAoc2NhbGVYICE9PSAxIHx8IHNjYWxlWSAhPT0gMSkge1xuICAgIHRyYW5zZm9ybXMgKz0gXCJzY2FsZShcIiArIHNjYWxlWCArIFwiLCBcIiArIHNjYWxlWSArIF9lbmRQYXJlbnRoZXNpcztcbiAgfVxuXG4gIHRhcmdldC5zdHlsZVtfdHJhbnNmb3JtUHJvcF0gPSB0cmFuc2Zvcm1zIHx8IFwidHJhbnNsYXRlKDAsIDApXCI7XG59LFxuICAgIF9yZW5kZXJTVkdUcmFuc2Zvcm1zID0gZnVuY3Rpb24gX3JlbmRlclNWR1RyYW5zZm9ybXMocmF0aW8sIGNhY2hlKSB7XG4gIHZhciBfcmVmMiA9IGNhY2hlIHx8IHRoaXMsXG4gICAgICB4UGVyY2VudCA9IF9yZWYyLnhQZXJjZW50LFxuICAgICAgeVBlcmNlbnQgPSBfcmVmMi55UGVyY2VudCxcbiAgICAgIHggPSBfcmVmMi54LFxuICAgICAgeSA9IF9yZWYyLnksXG4gICAgICByb3RhdGlvbiA9IF9yZWYyLnJvdGF0aW9uLFxuICAgICAgc2tld1ggPSBfcmVmMi5za2V3WCxcbiAgICAgIHNrZXdZID0gX3JlZjIuc2tld1ksXG4gICAgICBzY2FsZVggPSBfcmVmMi5zY2FsZVgsXG4gICAgICBzY2FsZVkgPSBfcmVmMi5zY2FsZVksXG4gICAgICB0YXJnZXQgPSBfcmVmMi50YXJnZXQsXG4gICAgICB4T3JpZ2luID0gX3JlZjIueE9yaWdpbixcbiAgICAgIHlPcmlnaW4gPSBfcmVmMi55T3JpZ2luLFxuICAgICAgeE9mZnNldCA9IF9yZWYyLnhPZmZzZXQsXG4gICAgICB5T2Zmc2V0ID0gX3JlZjIueU9mZnNldCxcbiAgICAgIGZvcmNlQ1NTID0gX3JlZjIuZm9yY2VDU1MsXG4gICAgICB0eCA9IHBhcnNlRmxvYXQoeCksXG4gICAgICB0eSA9IHBhcnNlRmxvYXQoeSksXG4gICAgICBhMTEsXG4gICAgICBhMjEsXG4gICAgICBhMTIsXG4gICAgICBhMjIsXG4gICAgICB0ZW1wO1xuXG4gIHJvdGF0aW9uID0gcGFyc2VGbG9hdChyb3RhdGlvbik7XG4gIHNrZXdYID0gcGFyc2VGbG9hdChza2V3WCk7XG4gIHNrZXdZID0gcGFyc2VGbG9hdChza2V3WSk7XG5cbiAgaWYgKHNrZXdZKSB7XG4gICAgLy9mb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgd2UgY29tYmluZSBhbGwgc2tld2luZyBpbnRvIHRoZSBza2V3WCBhbmQgcm90YXRpb24gdmFsdWVzLiBSZW1lbWJlciwgYSBza2V3WSBvZiAxMCBkZWdyZWVzIGxvb2tzIHRoZSBzYW1lIGFzIGEgcm90YXRpb24gb2YgMTAgZGVncmVlcyBwbHVzIGEgc2tld1ggb2YgMTAgZGVncmVlcy5cbiAgICBza2V3WSA9IHBhcnNlRmxvYXQoc2tld1kpO1xuICAgIHNrZXdYICs9IHNrZXdZO1xuICAgIHJvdGF0aW9uICs9IHNrZXdZO1xuICB9XG5cbiAgaWYgKHJvdGF0aW9uIHx8IHNrZXdYKSB7XG4gICAgcm90YXRpb24gKj0gX0RFRzJSQUQ7XG4gICAgc2tld1ggKj0gX0RFRzJSQUQ7XG4gICAgYTExID0gTWF0aC5jb3Mocm90YXRpb24pICogc2NhbGVYO1xuICAgIGEyMSA9IE1hdGguc2luKHJvdGF0aW9uKSAqIHNjYWxlWDtcbiAgICBhMTIgPSBNYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIC1zY2FsZVk7XG4gICAgYTIyID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG5cbiAgICBpZiAoc2tld1gpIHtcbiAgICAgIHNrZXdZICo9IF9ERUcyUkFEO1xuICAgICAgdGVtcCA9IE1hdGgudGFuKHNrZXdYIC0gc2tld1kpO1xuICAgICAgdGVtcCA9IE1hdGguc3FydCgxICsgdGVtcCAqIHRlbXApO1xuICAgICAgYTEyICo9IHRlbXA7XG4gICAgICBhMjIgKj0gdGVtcDtcblxuICAgICAgaWYgKHNrZXdZKSB7XG4gICAgICAgIHRlbXAgPSBNYXRoLnRhbihza2V3WSk7XG4gICAgICAgIHRlbXAgPSBNYXRoLnNxcnQoMSArIHRlbXAgKiB0ZW1wKTtcbiAgICAgICAgYTExICo9IHRlbXA7XG4gICAgICAgIGEyMSAqPSB0ZW1wO1xuICAgICAgfVxuICAgIH1cblxuICAgIGExMSA9IF9yb3VuZChhMTEpO1xuICAgIGEyMSA9IF9yb3VuZChhMjEpO1xuICAgIGExMiA9IF9yb3VuZChhMTIpO1xuICAgIGEyMiA9IF9yb3VuZChhMjIpO1xuICB9IGVsc2Uge1xuICAgIGExMSA9IHNjYWxlWDtcbiAgICBhMjIgPSBzY2FsZVk7XG4gICAgYTIxID0gYTEyID0gMDtcbiAgfVxuXG4gIGlmICh0eCAmJiAhfih4ICsgXCJcIikuaW5kZXhPZihcInB4XCIpIHx8IHR5ICYmICF+KHkgKyBcIlwiKS5pbmRleE9mKFwicHhcIikpIHtcbiAgICB0eCA9IF9jb252ZXJ0VG9Vbml0KHRhcmdldCwgXCJ4XCIsIHgsIFwicHhcIik7XG4gICAgdHkgPSBfY29udmVydFRvVW5pdCh0YXJnZXQsIFwieVwiLCB5LCBcInB4XCIpO1xuICB9XG5cbiAgaWYgKHhPcmlnaW4gfHwgeU9yaWdpbiB8fCB4T2Zmc2V0IHx8IHlPZmZzZXQpIHtcbiAgICB0eCA9IF9yb3VuZCh0eCArIHhPcmlnaW4gLSAoeE9yaWdpbiAqIGExMSArIHlPcmlnaW4gKiBhMTIpICsgeE9mZnNldCk7XG4gICAgdHkgPSBfcm91bmQodHkgKyB5T3JpZ2luIC0gKHhPcmlnaW4gKiBhMjEgKyB5T3JpZ2luICogYTIyKSArIHlPZmZzZXQpO1xuICB9XG5cbiAgaWYgKHhQZXJjZW50IHx8IHlQZXJjZW50KSB7XG4gICAgLy9UaGUgU1ZHIHNwZWMgZG9lc24ndCBzdXBwb3J0IHBlcmNlbnRhZ2UtYmFzZWQgdHJhbnNsYXRpb24gaW4gdGhlIFwidHJhbnNmb3JtXCIgYXR0cmlidXRlLCBzbyB3ZSBtZXJnZSBpdCBpbnRvIHRoZSB0cmFuc2xhdGlvbiB0byBzaW11bGF0ZSBpdC5cbiAgICB0ZW1wID0gdGFyZ2V0LmdldEJCb3goKTtcbiAgICB0eCA9IF9yb3VuZCh0eCArIHhQZXJjZW50IC8gMTAwICogdGVtcC53aWR0aCk7XG4gICAgdHkgPSBfcm91bmQodHkgKyB5UGVyY2VudCAvIDEwMCAqIHRlbXAuaGVpZ2h0KTtcbiAgfVxuXG4gIHRlbXAgPSBcIm1hdHJpeChcIiArIGExMSArIFwiLFwiICsgYTIxICsgXCIsXCIgKyBhMTIgKyBcIixcIiArIGEyMiArIFwiLFwiICsgdHggKyBcIixcIiArIHR5ICsgXCIpXCI7XG4gIHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgdGVtcCk7XG5cbiAgaWYgKGZvcmNlQ1NTKSB7XG4gICAgLy9zb21lIGJyb3dzZXJzIHByaW9yaXRpemUgQ1NTIHRyYW5zZm9ybXMgb3ZlciB0aGUgdHJhbnNmb3JtIGF0dHJpYnV0ZS4gV2hlbiB3ZSBzZW5zZSB0aGF0IHRoZSB1c2VyIGhhcyBDU1MgdHJhbnNmb3JtcyBhcHBsaWVkLCB3ZSBtdXN0IG92ZXJ3cml0ZSB0aGVtIHRoaXMgd2F5IChvdGhlcndpc2Ugc29tZSBicm93c2VyIHNpbXBseSB3b24ndCByZW5kZXIgdGhlICB0cmFuc2Zvcm0gYXR0cmlidXRlIGNoYW5nZXMhKVxuICAgIHRhcmdldC5zdHlsZVtfdHJhbnNmb3JtUHJvcF0gPSB0ZW1wO1xuICB9XG59LFxuICAgIF9hZGRSb3RhdGlvbmFsUHJvcFR3ZWVuID0gZnVuY3Rpb24gX2FkZFJvdGF0aW9uYWxQcm9wVHdlZW4ocGx1Z2luLCB0YXJnZXQsIHByb3BlcnR5LCBzdGFydE51bSwgZW5kVmFsdWUsIHJlbGF0aXZlKSB7XG4gIHZhciBjYXAgPSAzNjAsXG4gICAgICBpc1N0cmluZyA9IF9pc1N0cmluZyhlbmRWYWx1ZSksXG4gICAgICBlbmROdW0gPSBwYXJzZUZsb2F0KGVuZFZhbHVlKSAqIChpc1N0cmluZyAmJiB+ZW5kVmFsdWUuaW5kZXhPZihcInJhZFwiKSA/IF9SQUQyREVHIDogMSksXG4gICAgICBjaGFuZ2UgPSByZWxhdGl2ZSA/IGVuZE51bSAqIHJlbGF0aXZlIDogZW5kTnVtIC0gc3RhcnROdW0sXG4gICAgICBmaW5hbFZhbHVlID0gc3RhcnROdW0gKyBjaGFuZ2UgKyBcImRlZ1wiLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICAgcHQ7XG5cbiAgaWYgKGlzU3RyaW5nKSB7XG4gICAgZGlyZWN0aW9uID0gZW5kVmFsdWUuc3BsaXQoXCJfXCIpWzFdO1xuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJzaG9ydFwiKSB7XG4gICAgICBjaGFuZ2UgJT0gY2FwO1xuXG4gICAgICBpZiAoY2hhbmdlICE9PSBjaGFuZ2UgJSAoY2FwIC8gMikpIHtcbiAgICAgICAgY2hhbmdlICs9IGNoYW5nZSA8IDAgPyBjYXAgOiAtY2FwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkaXJlY3Rpb24gPT09IFwiY3dcIiAmJiBjaGFuZ2UgPCAwKSB7XG4gICAgICBjaGFuZ2UgPSAoY2hhbmdlICsgY2FwICogX2JpZ051bSkgJSBjYXAgLSB+fihjaGFuZ2UgLyBjYXApICogY2FwO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBcImNjd1wiICYmIGNoYW5nZSA+IDApIHtcbiAgICAgIGNoYW5nZSA9IChjaGFuZ2UgLSBjYXAgKiBfYmlnTnVtKSAlIGNhcCAtIH5+KGNoYW5nZSAvIGNhcCkgKiBjYXA7XG4gICAgfVxuICB9XG5cbiAgcGx1Z2luLl9wdCA9IHB0ID0gbmV3IFByb3BUd2VlbihwbHVnaW4uX3B0LCB0YXJnZXQsIHByb3BlcnR5LCBzdGFydE51bSwgY2hhbmdlLCBfcmVuZGVyUHJvcFdpdGhFbmQpO1xuICBwdC5lID0gZmluYWxWYWx1ZTtcbiAgcHQudSA9IFwiZGVnXCI7XG5cbiAgcGx1Z2luLl9wcm9wcy5wdXNoKHByb3BlcnR5KTtcblxuICByZXR1cm4gcHQ7XG59LFxuICAgIF9hZGRSYXdUcmFuc2Zvcm1QVHMgPSBmdW5jdGlvbiBfYWRkUmF3VHJhbnNmb3JtUFRzKHBsdWdpbiwgdHJhbnNmb3JtcywgdGFyZ2V0KSB7XG4gIC8vZm9yIGhhbmRsaW5nIGNhc2VzIHdoZXJlIHNvbWVvbmUgcGFzc2VzIGluIGEgd2hvbGUgdHJhbnNmb3JtIHN0cmluZywgbGlrZSB0cmFuc2Zvcm06IFwic2NhbGUoMiwgMykgcm90YXRlKDIwZGVnKSB0cmFuc2xhdGVZKDMwZW0pXCJcbiAgdmFyIHN0eWxlID0gX3RlbXBEaXZTdHlsZXIuc3R5bGUsXG4gICAgICBzdGFydENhY2hlID0gdGFyZ2V0Ll9nc2FwLFxuICAgICAgZXhjbHVkZSA9IFwicGVyc3BlY3RpdmUsZm9yY2UzRCx0cmFuc2Zvcm1PcmlnaW4sc3ZnT3JpZ2luXCIsXG4gICAgICBlbmRDYWNoZSxcbiAgICAgIHAsXG4gICAgICBzdGFydFZhbHVlLFxuICAgICAgZW5kVmFsdWUsXG4gICAgICBzdGFydE51bSxcbiAgICAgIGVuZE51bSxcbiAgICAgIHN0YXJ0VW5pdCxcbiAgICAgIGVuZFVuaXQ7XG4gIHN0eWxlLmNzc1RleHQgPSBnZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuY3NzVGV4dCArIFwiO3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7XCI7IC8vJS1iYXNlZCB0cmFuc2xhdGlvbnMgd2lsbCBmYWlsIHVubGVzcyB3ZSBzZXQgdGhlIHdpZHRoL2hlaWdodCB0byBtYXRjaCB0aGUgb3JpZ2luYWwgdGFyZ2V0IChhbmQgcGFkZGluZy9ib3JkZXJzIGNhbiBhZmZlY3QgaXQpXG5cbiAgc3R5bGVbX3RyYW5zZm9ybVByb3BdID0gdHJhbnNmb3JtcztcblxuICBfZG9jLmJvZHkuYXBwZW5kQ2hpbGQoX3RlbXBEaXZTdHlsZXIpO1xuXG4gIGVuZENhY2hlID0gX3BhcnNlVHJhbnNmb3JtKF90ZW1wRGl2U3R5bGVyLCAxKTtcblxuICBmb3IgKHAgaW4gX3RyYW5zZm9ybVByb3BzKSB7XG4gICAgc3RhcnRWYWx1ZSA9IHN0YXJ0Q2FjaGVbcF07XG4gICAgZW5kVmFsdWUgPSBlbmRDYWNoZVtwXTtcblxuICAgIGlmIChzdGFydFZhbHVlICE9PSBlbmRWYWx1ZSAmJiBleGNsdWRlLmluZGV4T2YocCkgPCAwKSB7XG4gICAgICAvL3R3ZWVuaW5nIHRvIG5vIHBlcnNwZWN0aXZlIGdpdmVzIHZlcnkgdW5pbnR1aXRpdmUgcmVzdWx0cyAtIGp1c3Qga2VlcCB0aGUgc2FtZSBwZXJzcGVjdGl2ZSBpbiB0aGF0IGNhc2UuXG4gICAgICBzdGFydFVuaXQgPSBnZXRVbml0KHN0YXJ0VmFsdWUpO1xuICAgICAgZW5kVW5pdCA9IGdldFVuaXQoZW5kVmFsdWUpO1xuICAgICAgc3RhcnROdW0gPSBzdGFydFVuaXQgIT09IGVuZFVuaXQgPyBfY29udmVydFRvVW5pdCh0YXJnZXQsIHAsIHN0YXJ0VmFsdWUsIGVuZFVuaXQpIDogcGFyc2VGbG9hdChzdGFydFZhbHVlKTtcbiAgICAgIGVuZE51bSA9IHBhcnNlRmxvYXQoZW5kVmFsdWUpO1xuICAgICAgcGx1Z2luLl9wdCA9IG5ldyBQcm9wVHdlZW4ocGx1Z2luLl9wdCwgc3RhcnRDYWNoZSwgcCwgc3RhcnROdW0sIGVuZE51bSAtIHN0YXJ0TnVtLCBfcmVuZGVyQ1NTUHJvcCk7XG4gICAgICBwbHVnaW4uX3B0LnUgPSBlbmRVbml0IHx8IDA7XG5cbiAgICAgIHBsdWdpbi5fcHJvcHMucHVzaChwKTtcbiAgICB9XG4gIH1cblxuICBfZG9jLmJvZHkucmVtb3ZlQ2hpbGQoX3RlbXBEaXZTdHlsZXIpO1xufTsgLy8gaGFuZGxlIHNwbGl0dGluZyBhcGFydCBwYWRkaW5nLCBtYXJnaW4sIGJvcmRlcldpZHRoLCBhbmQgYm9yZGVyUmFkaXVzIGludG8gdGhlaXIgNCBjb21wb25lbnRzLiBGaXJlZm94LCBmb3IgZXhhbXBsZSwgd29uJ3QgcmVwb3J0IGJvcmRlclJhZGl1cyBjb3JyZWN0bHkgLSBpdCB3aWxsIG9ubHkgZG8gYm9yZGVyVG9wTGVmdFJhZGl1cyBhbmQgdGhlIG90aGVyIGNvcm5lcnMuIFdlIGFsc28gd2FudCB0byBoYW5kbGUgcGFkZGluZ1RvcCwgbWFyZ2luTGVmdCwgYm9yZGVyUmlnaHRXaWR0aCwgZXRjLlxuXG5cbl9mb3JFYWNoTmFtZShcInBhZGRpbmcsbWFyZ2luLFdpZHRoLFJhZGl1c1wiLCBmdW5jdGlvbiAobmFtZSwgaW5kZXgpIHtcbiAgdmFyIHQgPSBcIlRvcFwiLFxuICAgICAgciA9IFwiUmlnaHRcIixcbiAgICAgIGIgPSBcIkJvdHRvbVwiLFxuICAgICAgbCA9IFwiTGVmdFwiLFxuICAgICAgcHJvcHMgPSAoaW5kZXggPCAzID8gW3QsIHIsIGIsIGxdIDogW3QgKyBsLCB0ICsgciwgYiArIHIsIGIgKyBsXSkubWFwKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgcmV0dXJuIGluZGV4IDwgMiA/IG5hbWUgKyBzaWRlIDogXCJib3JkZXJcIiArIHNpZGUgKyBuYW1lO1xuICB9KTtcblxuICBfc3BlY2lhbFByb3BzW2luZGV4ID4gMSA/IFwiYm9yZGVyXCIgKyBuYW1lIDogbmFtZV0gPSBmdW5jdGlvbiAocGx1Z2luLCB0YXJnZXQsIHByb3BlcnR5LCBlbmRWYWx1ZSwgdHdlZW4pIHtcbiAgICB2YXIgYSwgdmFycztcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgNCkge1xuICAgICAgLy8gZ2V0dGVyLCBwYXNzZWQgdGFyZ2V0LCBwcm9wZXJ0eSwgYW5kIHVuaXQgKGZyb20gX2dldCgpKVxuICAgICAgYSA9IHByb3BzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICByZXR1cm4gX2dldChwbHVnaW4sIHByb3AsIHByb3BlcnR5KTtcbiAgICAgIH0pO1xuICAgICAgdmFycyA9IGEuam9pbihcIiBcIik7XG4gICAgICByZXR1cm4gdmFycy5zcGxpdChhWzBdKS5sZW5ndGggPT09IDUgPyBhWzBdIDogdmFycztcbiAgICB9XG5cbiAgICBhID0gKGVuZFZhbHVlICsgXCJcIikuc3BsaXQoXCIgXCIpO1xuICAgIHZhcnMgPSB7fTtcbiAgICBwcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wLCBpKSB7XG4gICAgICByZXR1cm4gdmFyc1twcm9wXSA9IGFbaV0gPSBhW2ldIHx8IGFbKGkgLSAxKSAvIDIgfCAwXTtcbiAgICB9KTtcbiAgICBwbHVnaW4uaW5pdCh0YXJnZXQsIHZhcnMsIHR3ZWVuKTtcbiAgfTtcbn0pO1xuXG5leHBvcnQgdmFyIENTU1BsdWdpbiA9IHtcbiAgbmFtZTogXCJjc3NcIixcbiAgcmVnaXN0ZXI6IF9pbml0Q29yZSxcbiAgdGFyZ2V0VGVzdDogZnVuY3Rpb24gdGFyZ2V0VGVzdCh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGFyZ2V0LnN0eWxlICYmIHRhcmdldC5ub2RlVHlwZTtcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCh0YXJnZXQsIHZhcnMsIHR3ZWVuLCBpbmRleCwgdGFyZ2V0cykge1xuICAgIHZhciBwcm9wcyA9IHRoaXMuX3Byb3BzLFxuICAgICAgICBzdHlsZSA9IHRhcmdldC5zdHlsZSxcbiAgICAgICAgc3RhcnRWYWx1ZSxcbiAgICAgICAgZW5kVmFsdWUsXG4gICAgICAgIGVuZE51bSxcbiAgICAgICAgc3RhcnROdW0sXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHNwZWNpYWxQcm9wLFxuICAgICAgICBwLFxuICAgICAgICBzdGFydFVuaXQsXG4gICAgICAgIGVuZFVuaXQsXG4gICAgICAgIHJlbGF0aXZlLFxuICAgICAgICBpc1RyYW5zZm9ybVJlbGF0ZWQsXG4gICAgICAgIHRyYW5zZm9ybVByb3BUd2VlbixcbiAgICAgICAgY2FjaGUsXG4gICAgICAgIHNtb290aCxcbiAgICAgICAgaGFzUHJpb3JpdHk7XG4gICAgX3BsdWdpbkluaXR0ZWQgfHwgX2luaXRDb3JlKCk7XG5cbiAgICBmb3IgKHAgaW4gdmFycykge1xuICAgICAgaWYgKHAgPT09IFwiYXV0b1JvdW5kXCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGVuZFZhbHVlID0gdmFyc1twXTtcblxuICAgICAgaWYgKF9wbHVnaW5zW3BdICYmIF9jaGVja1BsdWdpbihwLCB2YXJzLCB0d2VlbiwgaW5kZXgsIHRhcmdldCwgdGFyZ2V0cykpIHtcbiAgICAgICAgLy9wbHVnaW5zXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB0eXBlID0gdHlwZW9mIGVuZFZhbHVlO1xuICAgICAgc3BlY2lhbFByb3AgPSBfc3BlY2lhbFByb3BzW3BdO1xuXG4gICAgICBpZiAodHlwZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGVuZFZhbHVlID0gZW5kVmFsdWUuY2FsbCh0d2VlbiwgaW5kZXgsIHRhcmdldCwgdGFyZ2V0cyk7XG4gICAgICAgIHR5cGUgPSB0eXBlb2YgZW5kVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlID09PSBcInN0cmluZ1wiICYmIH5lbmRWYWx1ZS5pbmRleE9mKFwicmFuZG9tKFwiKSkge1xuICAgICAgICBlbmRWYWx1ZSA9IF9yZXBsYWNlUmFuZG9tKGVuZFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNwZWNpYWxQcm9wKSB7XG4gICAgICAgIGlmIChzcGVjaWFsUHJvcCh0aGlzLCB0YXJnZXQsIHAsIGVuZFZhbHVlLCB0d2VlbikpIHtcbiAgICAgICAgICBoYXNQcmlvcml0eSA9IDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocC5zdWJzdHIoMCwgMikgPT09IFwiLS1cIikge1xuICAgICAgICAvL0NTUyB2YXJpYWJsZVxuICAgICAgICB0aGlzLmFkZChzdHlsZSwgXCJzZXRQcm9wZXJ0eVwiLCBnZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZ2V0UHJvcGVydHlWYWx1ZShwKSArIFwiXCIsIGVuZFZhbHVlICsgXCJcIiwgaW5kZXgsIHRhcmdldHMsIDAsIDAsIHApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHN0YXJ0VmFsdWUgPSBfZ2V0KHRhcmdldCwgcCk7XG4gICAgICAgIHN0YXJ0TnVtID0gcGFyc2VGbG9hdChzdGFydFZhbHVlKTtcbiAgICAgICAgcmVsYXRpdmUgPSB0eXBlID09PSBcInN0cmluZ1wiICYmIGVuZFZhbHVlLmNoYXJBdCgxKSA9PT0gXCI9XCIgPyArKGVuZFZhbHVlLmNoYXJBdCgwKSArIFwiMVwiKSA6IDA7XG5cbiAgICAgICAgaWYgKHJlbGF0aXZlKSB7XG4gICAgICAgICAgZW5kVmFsdWUgPSBlbmRWYWx1ZS5zdWJzdHIoMik7XG4gICAgICAgIH1cblxuICAgICAgICBlbmROdW0gPSBwYXJzZUZsb2F0KGVuZFZhbHVlKTtcblxuICAgICAgICBpZiAocCBpbiBfcHJvcGVydHlBbGlhc2VzKSB7XG4gICAgICAgICAgaWYgKHAgPT09IFwiYXV0b0FscGhhXCIpIHtcbiAgICAgICAgICAgIC8vc3BlY2lhbCBjYXNlIHdoZXJlIHdlIGNvbnRyb2wgdGhlIHZpc2liaWxpdHkgYWxvbmcgd2l0aCBvcGFjaXR5LiBXZSBzdGlsbCBhbGxvdyB0aGUgb3BhY2l0eSB2YWx1ZSB0byBwYXNzIHRocm91Z2ggYW5kIGdldCB0d2VlbmVkLlxuICAgICAgICAgICAgaWYgKHN0YXJ0TnVtID09PSAxICYmIF9nZXQodGFyZ2V0LCBcInZpc2liaWxpdHlcIikgPT09IFwiaGlkZGVuXCIgJiYgZW5kTnVtKSB7XG4gICAgICAgICAgICAgIC8vaWYgdmlzaWJpbGl0eSBpcyBpbml0aWFsbHkgc2V0IHRvIFwiaGlkZGVuXCIsIHdlIHNob3VsZCBpbnRlcnByZXQgdGhhdCBhcyBpbnRlbnQgdG8gbWFrZSBvcGFjaXR5IDAgKGEgY29udmVuaWVuY2UpXG4gICAgICAgICAgICAgIHN0YXJ0TnVtID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2FkZE5vblR3ZWVuaW5nUFQodGhpcywgc3R5bGUsIFwidmlzaWJpbGl0eVwiLCBzdGFydE51bSA/IFwiaW5oZXJpdFwiIDogXCJoaWRkZW5cIiwgZW5kTnVtID8gXCJpbmhlcml0XCIgOiBcImhpZGRlblwiLCAhZW5kTnVtKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocCAhPT0gXCJzY2FsZVwiICYmIHAgIT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIHAgPSBfcHJvcGVydHlBbGlhc2VzW3BdO1xuICAgICAgICAgICAgfnAuaW5kZXhPZihcIixcIikgJiYgKHAgPSBwLnNwbGl0KFwiLFwiKVswXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaXNUcmFuc2Zvcm1SZWxhdGVkID0gcCBpbiBfdHJhbnNmb3JtUHJvcHM7IC8vLS0tIFRSQU5TRk9STS1SRUxBVEVEIC0tLVxuXG4gICAgICAgIGlmIChpc1RyYW5zZm9ybVJlbGF0ZWQpIHtcbiAgICAgICAgICBpZiAoIXRyYW5zZm9ybVByb3BUd2Vlbikge1xuICAgICAgICAgICAgY2FjaGUgPSB0YXJnZXQuX2dzYXA7XG4gICAgICAgICAgICBjYWNoZS5yZW5kZXJUcmFuc2Zvcm0gfHwgX3BhcnNlVHJhbnNmb3JtKHRhcmdldCk7IC8vIGlmLCBmb3IgZXhhbXBsZSwgZ3NhcC5zZXQoLi4uIHt0cmFuc2Zvcm06XCJ0cmFuc2xhdGVYKDUwdncpXCJ9KSwgdGhlIF9nZXQoKSBjYWxsIGRvZXNuJ3QgcGFyc2UgdGhlIHRyYW5zZm9ybSwgdGh1cyBjYWNoZS5yZW5kZXJUcmFuc2Zvcm0gd29uJ3QgYmUgc2V0IHlldCBzbyBmb3JjZSB0aGUgcGFyc2luZyBvZiB0aGUgdHJhbnNmb3JtIGhlcmUuXG5cbiAgICAgICAgICAgIHNtb290aCA9IHZhcnMuc21vb3RoT3JpZ2luICE9PSBmYWxzZSAmJiBjYWNoZS5zbW9vdGg7XG4gICAgICAgICAgICB0cmFuc2Zvcm1Qcm9wVHdlZW4gPSB0aGlzLl9wdCA9IG5ldyBQcm9wVHdlZW4odGhpcy5fcHQsIHN0eWxlLCBfdHJhbnNmb3JtUHJvcCwgMCwgMSwgY2FjaGUucmVuZGVyVHJhbnNmb3JtLCBjYWNoZSwgMCwgLTEpOyAvL3RoZSBmaXJzdCB0aW1lIHRocm91Z2gsIGNyZWF0ZSB0aGUgcmVuZGVyaW5nIFByb3BUd2VlbiBzbyB0aGF0IGl0IHJ1bnMgTEFTVCAoaW4gdGhlIGxpbmtlZCBsaXN0LCB3ZSBrZWVwIGFkZGluZyB0byB0aGUgYmVnaW5uaW5nKVxuXG4gICAgICAgICAgICB0cmFuc2Zvcm1Qcm9wVHdlZW4uZGVwID0gMTsgLy9mbGFnIGl0IGFzIGRlcGVuZGVudCBzbyB0aGF0IGlmIHRoaW5ncyBnZXQga2lsbGVkL292ZXJ3cml0dGVuIGFuZCB0aGlzIGlzIHRoZSBvbmx5IFByb3BUd2VlbiBsZWZ0LCB3ZSBjYW4gc2FmZWx5IGtpbGwgdGhlIHdob2xlIHR3ZWVuLlxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwID09PSBcInNjYWxlXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3B0ID0gbmV3IFByb3BUd2Vlbih0aGlzLl9wdCwgY2FjaGUsIFwic2NhbGVZXCIsIGNhY2hlLnNjYWxlWSwgcmVsYXRpdmUgPyByZWxhdGl2ZSAqIGVuZE51bSA6IGVuZE51bSAtIGNhY2hlLnNjYWxlWSk7XG4gICAgICAgICAgICBwcm9wcy5wdXNoKFwic2NhbGVZXCIsIHApO1xuICAgICAgICAgICAgcCArPSBcIlhcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAgPT09IFwidHJhbnNmb3JtT3JpZ2luXCIpIHtcbiAgICAgICAgICAgIGVuZFZhbHVlID0gX2NvbnZlcnRLZXl3b3Jkc1RvUGVyY2VudGFnZXMoZW5kVmFsdWUpOyAvL2luIGNhc2Ugc29tZXRoaW5nIGxpa2UgXCJsZWZ0IHRvcFwiIG9yIFwiYm90dG9tIHJpZ2h0XCIgaXMgcGFzc2VkIGluLiBDb252ZXJ0IHRvIHBlcmNlbnRhZ2VzLlxuXG4gICAgICAgICAgICBpZiAoY2FjaGUuc3ZnKSB7XG4gICAgICAgICAgICAgIF9hcHBseVNWR09yaWdpbih0YXJnZXQsIGVuZFZhbHVlLCAwLCBzbW9vdGgsIDAsIHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZW5kVW5pdCA9IHBhcnNlRmxvYXQoZW5kVmFsdWUuc3BsaXQoXCIgXCIpWzJdKSB8fCAwOyAvL2hhbmRsZSB0aGUgek9yaWdpbiBzZXBhcmF0ZWx5IVxuXG4gICAgICAgICAgICAgIGVuZFVuaXQgIT09IGNhY2hlLnpPcmlnaW4gJiYgX2FkZE5vblR3ZWVuaW5nUFQodGhpcywgY2FjaGUsIFwiek9yaWdpblwiLCBjYWNoZS56T3JpZ2luLCBlbmRVbml0KTtcblxuICAgICAgICAgICAgICBfYWRkTm9uVHdlZW5pbmdQVCh0aGlzLCBzdHlsZSwgcCwgX2ZpcnN0VHdvT25seShzdGFydFZhbHVlKSwgX2ZpcnN0VHdvT25seShlbmRWYWx1ZSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAgPT09IFwic3ZnT3JpZ2luXCIpIHtcbiAgICAgICAgICAgIF9hcHBseVNWR09yaWdpbih0YXJnZXQsIGVuZFZhbHVlLCAxLCBzbW9vdGgsIDAsIHRoaXMpO1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAgaW4gX3JvdGF0aW9uYWxQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBfYWRkUm90YXRpb25hbFByb3BUd2Vlbih0aGlzLCBjYWNoZSwgcCwgc3RhcnROdW0sIGVuZFZhbHVlLCByZWxhdGl2ZSk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocCA9PT0gXCJzbW9vdGhPcmlnaW5cIikge1xuICAgICAgICAgICAgX2FkZE5vblR3ZWVuaW5nUFQodGhpcywgY2FjaGUsIFwic21vb3RoXCIsIGNhY2hlLnNtb290aCwgZW5kVmFsdWUpO1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAgPT09IFwiZm9yY2UzRFwiKSB7XG4gICAgICAgICAgICBjYWNoZVtwXSA9IGVuZFZhbHVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChwID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgICAgICBfYWRkUmF3VHJhbnNmb3JtUFRzKHRoaXMsIGVuZFZhbHVlLCB0YXJnZXQpO1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShwIGluIHN0eWxlKSkge1xuICAgICAgICAgIHAgPSBfY2hlY2tQcm9wUHJlZml4KHApIHx8IHA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNUcmFuc2Zvcm1SZWxhdGVkIHx8IChlbmROdW0gfHwgZW5kTnVtID09PSAwKSAmJiAoc3RhcnROdW0gfHwgc3RhcnROdW0gPT09IDApICYmICFfY29tcGxleEV4cC50ZXN0KGVuZFZhbHVlKSAmJiBwIGluIHN0eWxlKSB7XG4gICAgICAgICAgc3RhcnRVbml0ID0gKHN0YXJ0VmFsdWUgKyBcIlwiKS5zdWJzdHIoKHN0YXJ0TnVtICsgXCJcIikubGVuZ3RoKTtcbiAgICAgICAgICBlbmROdW0gfHwgKGVuZE51bSA9IDApOyAvLyBwcm90ZWN0IGFnYWluc3QgTmFOXG5cbiAgICAgICAgICBlbmRVbml0ID0gZ2V0VW5pdChlbmRWYWx1ZSkgfHwgKHAgaW4gX2NvbmZpZy51bml0cyA/IF9jb25maWcudW5pdHNbcF0gOiBzdGFydFVuaXQpO1xuICAgICAgICAgIHN0YXJ0VW5pdCAhPT0gZW5kVW5pdCAmJiAoc3RhcnROdW0gPSBfY29udmVydFRvVW5pdCh0YXJnZXQsIHAsIHN0YXJ0VmFsdWUsIGVuZFVuaXQpKTtcbiAgICAgICAgICB0aGlzLl9wdCA9IG5ldyBQcm9wVHdlZW4odGhpcy5fcHQsIGlzVHJhbnNmb3JtUmVsYXRlZCA/IGNhY2hlIDogc3R5bGUsIHAsIHN0YXJ0TnVtLCByZWxhdGl2ZSA/IHJlbGF0aXZlICogZW5kTnVtIDogZW5kTnVtIC0gc3RhcnROdW0sIGVuZFVuaXQgPT09IFwicHhcIiAmJiB2YXJzLmF1dG9Sb3VuZCAhPT0gZmFsc2UgJiYgIWlzVHJhbnNmb3JtUmVsYXRlZCA/IF9yZW5kZXJSb3VuZGVkQ1NTUHJvcCA6IF9yZW5kZXJDU1NQcm9wKTtcbiAgICAgICAgICB0aGlzLl9wdC51ID0gZW5kVW5pdCB8fCAwO1xuXG4gICAgICAgICAgaWYgKHN0YXJ0VW5pdCAhPT0gZW5kVW5pdCkge1xuICAgICAgICAgICAgLy93aGVuIHRoZSB0d2VlbiBnb2VzIGFsbCB0aGUgd2F5IGJhY2sgdG8gdGhlIGJlZ2lubmluZywgd2UgbmVlZCB0byByZXZlcnQgaXQgdG8gdGhlIE9MRC9PUklHSU5BTCB2YWx1ZSAod2l0aCB0aG9zZSB1bml0cykuIFdlIHJlY29yZCB0aGF0IGFzIGEgXCJiXCIgKGJlZ2lubmluZykgcHJvcGVydHkgYW5kIHBvaW50IHRvIGEgcmVuZGVyIG1ldGhvZCB0aGF0IGhhbmRsZXMgdGhhdC4gKHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbilcbiAgICAgICAgICAgIHRoaXMuX3B0LmIgPSBzdGFydFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcHQuciA9IF9yZW5kZXJDU1NQcm9wV2l0aEJlZ2lubmluZztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShwIGluIHN0eWxlKSkge1xuICAgICAgICAgIGlmIChwIGluIHRhcmdldCkge1xuICAgICAgICAgICAgLy9tYXliZSBpdCdzIG5vdCBhIHN0eWxlIC0gaXQgY291bGQgYmUgYSBwcm9wZXJ0eSBhZGRlZCBkaXJlY3RseSB0byBhbiBlbGVtZW50IGluIHdoaWNoIGNhc2Ugd2UnbGwgdHJ5IHRvIGFuaW1hdGUgdGhhdC5cbiAgICAgICAgICAgIHRoaXMuYWRkKHRhcmdldCwgcCwgdGFyZ2V0W3BdLCBlbmRWYWx1ZSwgaW5kZXgsIHRhcmdldHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfbWlzc2luZ1BsdWdpbihwLCBlbmRWYWx1ZSk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdHdlZW5Db21wbGV4Q1NTU3RyaW5nLmNhbGwodGhpcywgdGFyZ2V0LCBwLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wcy5wdXNoKHApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhc1ByaW9yaXR5ICYmIF9zb3J0UHJvcFR3ZWVuc0J5UHJpb3JpdHkodGhpcyk7XG4gIH0sXG4gIGdldDogX2dldCxcbiAgYWxpYXNlczogX3Byb3BlcnR5QWxpYXNlcyxcbiAgZ2V0U2V0dGVyOiBmdW5jdGlvbiBnZXRTZXR0ZXIodGFyZ2V0LCBwcm9wZXJ0eSwgcGx1Z2luKSB7XG4gICAgLy9yZXR1cm5zIGEgc2V0dGVyIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSBhbmQgYXBwbGllcyBpdCBhY2NvcmRpbmdseS4gUmVtZW1iZXIsIHByb3BlcnRpZXMgbGlrZSBcInhcIiBhcmVuJ3QgYXMgc2ltcGxlIGFzIHRhcmdldC5zdHlsZS5wcm9wZXJ0eSA9IHZhbHVlIGJlY2F1c2UgdGhleSd2ZSBnb3QgdG8gYmUgYXBwbGllZCB0byBhIHByb3h5IG9iamVjdCBhbmQgdGhlbiBtZXJnZWQgaW50byBhIHRyYW5zZm9ybSBzdHJpbmcgaW4gYSByZW5kZXJlci5cbiAgICB2YXIgcCA9IF9wcm9wZXJ0eUFsaWFzZXNbcHJvcGVydHldO1xuICAgIHAgJiYgcC5pbmRleE9mKFwiLFwiKSA8IDAgJiYgKHByb3BlcnR5ID0gcCk7XG4gICAgcmV0dXJuIHByb3BlcnR5IGluIF90cmFuc2Zvcm1Qcm9wcyAmJiBwcm9wZXJ0eSAhPT0gX3RyYW5zZm9ybU9yaWdpblByb3AgJiYgKHRhcmdldC5fZ3NhcC54IHx8IF9nZXQodGFyZ2V0LCBcInhcIikpID8gcGx1Z2luICYmIF9yZWNlbnRTZXR0ZXJQbHVnaW4gPT09IHBsdWdpbiA/IHByb3BlcnR5ID09PSBcInNjYWxlXCIgPyBfc2V0dGVyU2NhbGUgOiBfc2V0dGVyVHJhbnNmb3JtIDogKF9yZWNlbnRTZXR0ZXJQbHVnaW4gPSBwbHVnaW4gfHwge30pICYmIChwcm9wZXJ0eSA9PT0gXCJzY2FsZVwiID8gX3NldHRlclNjYWxlV2l0aFJlbmRlciA6IF9zZXR0ZXJUcmFuc2Zvcm1XaXRoUmVuZGVyKSA6IHRhcmdldC5zdHlsZSAmJiAhX2lzVW5kZWZpbmVkKHRhcmdldC5zdHlsZVtwcm9wZXJ0eV0pID8gX3NldHRlckNTU1N0eWxlIDogfnByb3BlcnR5LmluZGV4T2YoXCItXCIpID8gX3NldHRlckNTU1Byb3AgOiBfZ2V0U2V0dGVyKHRhcmdldCwgcHJvcGVydHkpO1xuICB9LFxuICBjb3JlOiB7XG4gICAgX3JlbW92ZVByb3BlcnR5OiBfcmVtb3ZlUHJvcGVydHksXG4gICAgX2dldE1hdHJpeDogX2dldE1hdHJpeFxuICB9XG59O1xuZ3NhcC51dGlscy5jaGVja1ByZWZpeCA9IF9jaGVja1Byb3BQcmVmaXg7XG5cbihmdW5jdGlvbiAocG9zaXRpb25BbmRTY2FsZSwgcm90YXRpb24sIG90aGVycywgYWxpYXNlcykge1xuICB2YXIgYWxsID0gX2ZvckVhY2hOYW1lKHBvc2l0aW9uQW5kU2NhbGUgKyBcIixcIiArIHJvdGF0aW9uICsgXCIsXCIgKyBvdGhlcnMsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgX3RyYW5zZm9ybVByb3BzW25hbWVdID0gMTtcbiAgfSk7XG5cbiAgX2ZvckVhY2hOYW1lKHJvdGF0aW9uLCBmdW5jdGlvbiAobmFtZSkge1xuICAgIF9jb25maWcudW5pdHNbbmFtZV0gPSBcImRlZ1wiO1xuICAgIF9yb3RhdGlvbmFsUHJvcGVydGllc1tuYW1lXSA9IDE7XG4gIH0pO1xuXG4gIF9wcm9wZXJ0eUFsaWFzZXNbYWxsWzEzXV0gPSBwb3NpdGlvbkFuZFNjYWxlICsgXCIsXCIgKyByb3RhdGlvbjtcblxuICBfZm9yRWFjaE5hbWUoYWxpYXNlcywgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgc3BsaXQgPSBuYW1lLnNwbGl0KFwiOlwiKTtcbiAgICBfcHJvcGVydHlBbGlhc2VzW3NwbGl0WzFdXSA9IGFsbFtzcGxpdFswXV07XG4gIH0pO1xufSkoXCJ4LHkseixzY2FsZSxzY2FsZVgsc2NhbGVZLHhQZXJjZW50LHlQZXJjZW50XCIsIFwicm90YXRpb24scm90YXRpb25YLHJvdGF0aW9uWSxza2V3WCxza2V3WVwiLCBcInRyYW5zZm9ybSx0cmFuc2Zvcm1PcmlnaW4sc3ZnT3JpZ2luLGZvcmNlM0Qsc21vb3RoT3JpZ2luLHRyYW5zZm9ybVBlcnNwZWN0aXZlXCIsIFwiMDp0cmFuc2xhdGVYLDE6dHJhbnNsYXRlWSwyOnRyYW5zbGF0ZVosODpyb3RhdGUsODpyb3RhdGlvblosODpyb3RhdGVaLDk6cm90YXRlWCwxMDpyb3RhdGVZXCIpO1xuXG5fZm9yRWFjaE5hbWUoXCJ4LHkseix0b3AscmlnaHQsYm90dG9tLGxlZnQsd2lkdGgsaGVpZ2h0LGZvbnRTaXplLHBhZGRpbmcsbWFyZ2luLHBlcnNwZWN0aXZlXCIsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIF9jb25maWcudW5pdHNbbmFtZV0gPSBcInB4XCI7XG59KTtcblxuZ3NhcC5yZWdpc3RlclBsdWdpbihDU1NQbHVnaW4pO1xuZXhwb3J0IHsgQ1NTUGx1Z2luIGFzIGRlZmF1bHQsIF9nZXRCQm94LCBfY3JlYXRlRWxlbWVudCwgX2NoZWNrUHJvcFByZWZpeCBhcyBjaGVja1ByZWZpeCB9OyIsICJpbXBvcnQgeyBnc2FwLCBQb3dlcjAsIFBvd2VyMSwgUG93ZXIyLCBQb3dlcjMsIFBvd2VyNCwgTGluZWFyLCBRdWFkLCBDdWJpYywgUXVhcnQsIFF1aW50LCBTdHJvbmcsIEVsYXN0aWMsIEJhY2ssIFN0ZXBwZWRFYXNlLCBCb3VuY2UsIFNpbmUsIEV4cG8sIENpcmMsIFR3ZWVuTGl0ZSwgVGltZWxpbmVMaXRlLCBUaW1lbGluZU1heCB9IGZyb20gXCIuL2dzYXAtY29yZS5qc1wiO1xuaW1wb3J0IHsgQ1NTUGx1Z2luIH0gZnJvbSBcIi4vQ1NTUGx1Z2luLmpzXCI7XG52YXIgZ3NhcFdpdGhDU1MgPSBnc2FwLnJlZ2lzdGVyUGx1Z2luKENTU1BsdWdpbikgfHwgZ3NhcCxcbiAgICAvLyB0byBwcm90ZWN0IGZyb20gdHJlZSBzaGFraW5nXG5Ud2Vlbk1heFdpdGhDU1MgPSBnc2FwV2l0aENTUy5jb3JlLlR3ZWVuO1xuZXhwb3J0IHsgZ3NhcFdpdGhDU1MgYXMgZ3NhcCwgZ3NhcFdpdGhDU1MgYXMgZGVmYXVsdCwgQ1NTUGx1Z2luLCBUd2Vlbk1heFdpdGhDU1MgYXMgVHdlZW5NYXgsIFR3ZWVuTGl0ZSwgVGltZWxpbmVNYXgsIFRpbWVsaW5lTGl0ZSwgUG93ZXIwLCBQb3dlcjEsIFBvd2VyMiwgUG93ZXIzLCBQb3dlcjQsIExpbmVhciwgUXVhZCwgQ3ViaWMsIFF1YXJ0LCBRdWludCwgU3Ryb25nLCBFbGFzdGljLCBCYWNrLCBTdGVwcGVkRWFzZSwgQm91bmNlLCBTaW5lLCBFeHBvLCBDaXJjIH07IiwgIi8qIVxuICogU2Nyb2xsVHJpZ2dlciAzLjUuMVxuICogaHR0cHM6Ly9ncmVlbnNvY2suY29tXG4gKlxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IDIwMDgtMjAyMCwgR3JlZW5Tb2NrLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogU3ViamVjdCB0byB0aGUgdGVybXMgYXQgaHR0cHM6Ly9ncmVlbnNvY2suY29tL3N0YW5kYXJkLWxpY2Vuc2Ugb3IgZm9yXG4gKiBDbHViIEdyZWVuU29jayBtZW1iZXJzLCB0aGUgYWdyZWVtZW50IGlzc3VlZCB3aXRoIHRoYXQgbWVtYmVyc2hpcC5cbiAqIEBhdXRob3I6IEphY2sgRG95bGUsIGphY2tAZ3JlZW5zb2NrLmNvbVxuKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbnZhciBnc2FwLFxuICAgIF9jb3JlSW5pdHRlZCxcbiAgICBfd2luLFxuICAgIF9kb2MsXG4gICAgX2RvY0VsLFxuICAgIF9ib2R5LFxuICAgIF9yb290LFxuICAgIF9yZXNpemVEZWxheSxcbiAgICBfcmFmLFxuICAgIF9yZXF1ZXN0LFxuICAgIF90b0FycmF5LFxuICAgIF9jbGFtcCxcbiAgICBfdGltZTIsXG4gICAgX3N5bmNJbnRlcnZhbCxcbiAgICBfcmVmcmVzaGluZyxcbiAgICBfcG9pbnRlcklzRG93bixcbiAgICBfdHJhbnNmb3JtUHJvcCxcbiAgICBfaSxcbiAgICBfcHJldldpZHRoLFxuICAgIF9wcmV2SGVpZ2h0LFxuICAgIF9hdXRvUmVmcmVzaCxcbiAgICBfc29ydCxcbiAgICBfbGltaXRDYWxsYmFja3MsXG4gICAgLy8gaWYgdHJ1ZSwgd2UnbGwgb25seSB0cmlnZ2VyIGNhbGxiYWNrcyBpZiB0aGUgYWN0aXZlIHN0YXRlIHRvZ2dsZXMsIHNvIGlmIHlvdSBzY3JvbGwgaW1tZWRpYXRlbHkgcGFzdCBib3RoIHRoZSBzdGFydCBhbmQgZW5kIHBvc2l0aW9ucyBvZiBhIFNjcm9sbFRyaWdnZXIgKHRodXMgaW5hY3RpdmUgdG8gaW5hY3RpdmUpLCBuZWl0aGVyIGl0cyBvbkVudGVyIG5vciBvbkxlYXZlIHdpbGwgYmUgY2FsbGVkLiBUaGlzIGlzIHVzZWZ1bCBkdXJpbmcgc3RhcnR1cC5cbl9zdGFydHVwID0gMSxcbiAgICBfcHJveGllcyA9IFtdLFxuICAgIF9zY3JvbGxlcnMgPSBbXSxcbiAgICBfZ2V0VGltZSA9IERhdGUubm93LFxuICAgIF90aW1lMSA9IF9nZXRUaW1lKCksXG4gICAgX2xhc3RTY3JvbGxUaW1lID0gMCxcbiAgICBfZW5hYmxlZCA9IDEsXG4gICAgX3Bhc3NUaHJvdWdoID0gZnVuY3Rpb24gX3Bhc3NUaHJvdWdoKHYpIHtcbiAgcmV0dXJuIHY7XG59LFxuICAgIF93aW5kb3dFeGlzdHMgPSBmdW5jdGlvbiBfd2luZG93RXhpc3RzKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbn0sXG4gICAgX2dldEdTQVAgPSBmdW5jdGlvbiBfZ2V0R1NBUCgpIHtcbiAgcmV0dXJuIGdzYXAgfHwgX3dpbmRvd0V4aXN0cygpICYmIChnc2FwID0gd2luZG93LmdzYXApICYmIGdzYXAucmVnaXN0ZXJQbHVnaW4gJiYgZ3NhcDtcbn0sXG4gICAgX2lzVmlld3BvcnQgPSBmdW5jdGlvbiBfaXNWaWV3cG9ydChlKSB7XG4gIHJldHVybiAhIX5fcm9vdC5pbmRleE9mKGUpO1xufSxcbiAgICBfZ2V0UHJveHlQcm9wID0gZnVuY3Rpb24gX2dldFByb3h5UHJvcChlbGVtZW50LCBwcm9wZXJ0eSkge1xuICByZXR1cm4gfl9wcm94aWVzLmluZGV4T2YoZWxlbWVudCkgJiYgX3Byb3hpZXNbX3Byb3hpZXMuaW5kZXhPZihlbGVtZW50KSArIDFdW3Byb3BlcnR5XTtcbn0sXG4gICAgX2dldFNjcm9sbEZ1bmMgPSBmdW5jdGlvbiBfZ2V0U2Nyb2xsRnVuYyhlbGVtZW50LCBfcmVmKSB7XG4gIHZhciBzID0gX3JlZi5zLFxuICAgICAgc2MgPSBfcmVmLnNjO1xuXG4gIHZhciBpID0gX3Njcm9sbGVycy5pbmRleE9mKGVsZW1lbnQpLFxuICAgICAgb2Zmc2V0ID0gc2MgPT09IF92ZXJ0aWNhbC5zYyA/IDEgOiAyO1xuXG4gICF+aSAmJiAoaSA9IF9zY3JvbGxlcnMucHVzaChlbGVtZW50KSAtIDEpO1xuICByZXR1cm4gX3Njcm9sbGVyc1tpICsgb2Zmc2V0XSB8fCAoX3Njcm9sbGVyc1tpICsgb2Zmc2V0XSA9IF9nZXRQcm94eVByb3AoZWxlbWVudCwgcykgfHwgKF9pc1ZpZXdwb3J0KGVsZW1lbnQpID8gc2MgOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IGVsZW1lbnRbc10gPSB2YWx1ZSA6IGVsZW1lbnRbc107XG4gIH0pKTtcbn0sXG4gICAgX2dldEJvdW5kc0Z1bmMgPSBmdW5jdGlvbiBfZ2V0Qm91bmRzRnVuYyhlbGVtZW50KSB7XG4gIHJldHVybiBfZ2V0UHJveHlQcm9wKGVsZW1lbnQsIFwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0XCIpIHx8IChfaXNWaWV3cG9ydChlbGVtZW50KSA/IGZ1bmN0aW9uICgpIHtcbiAgICBfd2luT2Zmc2V0cy53aWR0aCA9IF93aW4uaW5uZXJXaWR0aDtcbiAgICBfd2luT2Zmc2V0cy5oZWlnaHQgPSBfd2luLmlubmVySGVpZ2h0O1xuICAgIHJldHVybiBfd2luT2Zmc2V0cztcbiAgfSA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2dldEJvdW5kcyhlbGVtZW50KTtcbiAgfSk7XG59LFxuICAgIF9nZXRTaXplRnVuYyA9IGZ1bmN0aW9uIF9nZXRTaXplRnVuYyhzY3JvbGxlciwgaXNWaWV3cG9ydCwgX3JlZjIpIHtcbiAgdmFyIGQgPSBfcmVmMi5kLFxuICAgICAgZDIgPSBfcmVmMi5kMixcbiAgICAgIGEgPSBfcmVmMi5hO1xuICByZXR1cm4gKGEgPSBfZ2V0UHJveHlQcm9wKHNjcm9sbGVyLCBcImdldEJvdW5kaW5nQ2xpZW50UmVjdFwiKSkgPyBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGEoKVtkXTtcbiAgfSA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKGlzVmlld3BvcnQgPyBfd2luW1wiaW5uZXJcIiArIGQyXSA6IHNjcm9sbGVyW1wiY2xpZW50XCIgKyBkMl0pIHx8IDA7XG4gIH07XG59LFxuICAgIF9nZXRPZmZzZXRzRnVuYyA9IGZ1bmN0aW9uIF9nZXRPZmZzZXRzRnVuYyhlbGVtZW50LCBpc1ZpZXdwb3J0KSB7XG4gIHJldHVybiAhaXNWaWV3cG9ydCB8fCB+X3Byb3hpZXMuaW5kZXhPZihlbGVtZW50KSA/IF9nZXRCb3VuZHNGdW5jKGVsZW1lbnQpIDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfd2luT2Zmc2V0cztcbiAgfTtcbn0sXG4gICAgX21heFNjcm9sbCA9IGZ1bmN0aW9uIF9tYXhTY3JvbGwoZWxlbWVudCwgX3JlZjMpIHtcbiAgdmFyIHMgPSBfcmVmMy5zLFxuICAgICAgZDIgPSBfcmVmMy5kMixcbiAgICAgIGQgPSBfcmVmMy5kLFxuICAgICAgYSA9IF9yZWYzLmE7XG4gIHJldHVybiAocyA9IFwic2Nyb2xsXCIgKyBkMikgJiYgKGEgPSBfZ2V0UHJveHlQcm9wKGVsZW1lbnQsIHMpKSA/IGEoKSAtIF9nZXRCb3VuZHNGdW5jKGVsZW1lbnQpKClbZF0gOiBfaXNWaWV3cG9ydChlbGVtZW50KSA/IE1hdGgubWF4KF9kb2NFbFtzXSwgX2JvZHlbc10pIC0gKF93aW5bXCJpbm5lclwiICsgZDJdIHx8IF9kb2NFbFtcImNsaWVudFwiICsgZDJdIHx8IF9ib2R5W1wiY2xpZW50XCIgKyBkMl0pIDogZWxlbWVudFtzXSAtIGVsZW1lbnRbXCJvZmZzZXRcIiArIGQyXTtcbn0sXG4gICAgX2l0ZXJhdGVBdXRvUmVmcmVzaCA9IGZ1bmN0aW9uIF9pdGVyYXRlQXV0b1JlZnJlc2goZnVuYywgZXZlbnRzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgX2F1dG9SZWZyZXNoLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgKCFldmVudHMgfHwgfmV2ZW50cy5pbmRleE9mKF9hdXRvUmVmcmVzaFtpICsgMV0pKSAmJiBmdW5jKF9hdXRvUmVmcmVzaFtpXSwgX2F1dG9SZWZyZXNoW2kgKyAxXSwgX2F1dG9SZWZyZXNoW2kgKyAyXSk7XG4gIH1cbn0sXG4gICAgX2lzU3RyaW5nID0gZnVuY3Rpb24gX2lzU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCI7XG59LFxuICAgIF9pc0Z1bmN0aW9uID0gZnVuY3Rpb24gX2lzRnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiO1xufSxcbiAgICBfaXNOdW1iZXIgPSBmdW5jdGlvbiBfaXNOdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIjtcbn0sXG4gICAgX2lzT2JqZWN0ID0gZnVuY3Rpb24gX2lzT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XG59LFxuICAgIF9jYWxsSWZGdW5jID0gZnVuY3Rpb24gX2NhbGxJZkZ1bmModmFsdWUpIHtcbiAgcmV0dXJuIF9pc0Z1bmN0aW9uKHZhbHVlKSAmJiB2YWx1ZSgpO1xufSxcbiAgICBfY29tYmluZUZ1bmMgPSBmdW5jdGlvbiBfY29tYmluZUZ1bmMoZjEsIGYyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdDEgPSBfY2FsbElmRnVuYyhmMSksXG4gICAgICAgIHJlc3VsdDIgPSBfY2FsbElmRnVuYyhmMik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgX2NhbGxJZkZ1bmMocmVzdWx0MSk7XG5cbiAgICAgIF9jYWxsSWZGdW5jKHJlc3VsdDIpO1xuICAgIH07XG4gIH07XG59LFxuICAgIF9hYnMgPSBNYXRoLmFicyxcbiAgICBfc2Nyb2xsTGVmdCA9IFwic2Nyb2xsTGVmdFwiLFxuICAgIF9zY3JvbGxUb3AgPSBcInNjcm9sbFRvcFwiLFxuICAgIF9sZWZ0ID0gXCJsZWZ0XCIsXG4gICAgX3RvcCA9IFwidG9wXCIsXG4gICAgX3JpZ2h0ID0gXCJyaWdodFwiLFxuICAgIF9ib3R0b20gPSBcImJvdHRvbVwiLFxuICAgIF93aWR0aCA9IFwid2lkdGhcIixcbiAgICBfaGVpZ2h0ID0gXCJoZWlnaHRcIixcbiAgICBfUmlnaHQgPSBcIlJpZ2h0XCIsXG4gICAgX0xlZnQgPSBcIkxlZnRcIixcbiAgICBfVG9wID0gXCJUb3BcIixcbiAgICBfQm90dG9tID0gXCJCb3R0b21cIixcbiAgICBfcGFkZGluZyA9IFwicGFkZGluZ1wiLFxuICAgIF9tYXJnaW4gPSBcIm1hcmdpblwiLFxuICAgIF9XaWR0aCA9IFwiV2lkdGhcIixcbiAgICBfSGVpZ2h0ID0gXCJIZWlnaHRcIixcbiAgICBfcHggPSBcInB4XCIsXG4gICAgX2hvcml6b250YWwgPSB7XG4gIHM6IF9zY3JvbGxMZWZ0LFxuICBwOiBfbGVmdCxcbiAgcDI6IF9MZWZ0LFxuICBvczogX3JpZ2h0LFxuICBvczI6IF9SaWdodCxcbiAgZDogX3dpZHRoLFxuICBkMjogX1dpZHRoLFxuICBhOiBcInhcIixcbiAgc2M6IGZ1bmN0aW9uIHNjKHZhbHVlKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBfd2luLnNjcm9sbFRvKHZhbHVlLCBfdmVydGljYWwuc2MoKSkgOiBfd2luLnBhZ2VYT2Zmc2V0IHx8IF9kb2NbX3Njcm9sbExlZnRdIHx8IF9kb2NFbFtfc2Nyb2xsTGVmdF0gfHwgX2JvZHlbX3Njcm9sbExlZnRdIHx8IDA7XG4gIH1cbn0sXG4gICAgX3ZlcnRpY2FsID0ge1xuICBzOiBfc2Nyb2xsVG9wLFxuICBwOiBfdG9wLFxuICBwMjogX1RvcCxcbiAgb3M6IF9ib3R0b20sXG4gIG9zMjogX0JvdHRvbSxcbiAgZDogX2hlaWdodCxcbiAgZDI6IF9IZWlnaHQsXG4gIGE6IFwieVwiLFxuICBvcDogX2hvcml6b250YWwsXG4gIHNjOiBmdW5jdGlvbiBzYyh2YWx1ZSkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gX3dpbi5zY3JvbGxUbyhfaG9yaXpvbnRhbC5zYygpLCB2YWx1ZSkgOiBfd2luLnBhZ2VZT2Zmc2V0IHx8IF9kb2NbX3Njcm9sbFRvcF0gfHwgX2RvY0VsW19zY3JvbGxUb3BdIHx8IF9ib2R5W19zY3JvbGxUb3BdIHx8IDA7XG4gIH1cbn0sXG4gICAgX2dldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbiBfZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBfd2luLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG59LFxuICAgIF9tYWtlUG9zaXRpb25hYmxlID0gZnVuY3Rpb24gX21ha2VQb3NpdGlvbmFibGUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IF9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSBcImFic29sdXRlXCIgPyBcImFic29sdXRlXCIgOiBcInJlbGF0aXZlXCI7XG59LFxuICAgIC8vIGlmIHRoZSBlbGVtZW50IGFscmVhZHkgaGFzIHBvc2l0aW9uOiBhYnNvbHV0ZSwgbGVhdmUgdGhhdCwgb3RoZXJ3aXNlIG1ha2UgaXQgcG9zaXRpb246IHJlbGF0aXZlXG5fc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiBfc2V0RGVmYXVsdHMob2JqLCBkZWZhdWx0cykge1xuICBmb3IgKHZhciBwIGluIGRlZmF1bHRzKSB7XG4gICAgcCBpbiBvYmogfHwgKG9ialtwXSA9IGRlZmF1bHRzW3BdKTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59LFxuICAgIC8vX2lzSW5WaWV3cG9ydCA9IGVsZW1lbnQgPT4gKGVsZW1lbnQgPSBfZ2V0Qm91bmRzKGVsZW1lbnQpKSAmJiAhKGVsZW1lbnQudG9wID4gKF93aW4uaW5uZXJIZWlnaHQgfHwgX2RvY0VsLmNsaWVudEhlaWdodCkgfHwgZWxlbWVudC5ib3R0b20gPCAwIHx8IGVsZW1lbnQubGVmdCA+IChfd2luLmlubmVyV2lkdGggfHwgX2RvY0VsLmNsaWVudFdpZHRoKSB8fCBlbGVtZW50LnJpZ2h0IDwgMCkgJiYgZWxlbWVudCxcbl9nZXRCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Qm91bmRzKGVsZW1lbnQsIHdpdGhvdXRUcmFuc2Zvcm1zKSB7XG4gIHZhciB0d2VlbiA9IHdpdGhvdXRUcmFuc2Zvcm1zICYmIF9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpW190cmFuc2Zvcm1Qcm9wXSAhPT0gXCJtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMClcIiAmJiBnc2FwLnRvKGVsZW1lbnQsIHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgeFBlcmNlbnQ6IDAsXG4gICAgeVBlcmNlbnQ6IDAsXG4gICAgcm90YXRpb246IDAsXG4gICAgcm90YXRpb25YOiAwLFxuICAgIHJvdGF0aW9uWTogMCxcbiAgICBzY2FsZTogMSxcbiAgICBza2V3WDogMCxcbiAgICBza2V3WTogMFxuICB9KS5wcm9ncmVzcygxKSxcbiAgICAgIGJvdW5kcyA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHR3ZWVuICYmIHR3ZWVuLnByb2dyZXNzKDApLmtpbGwoKTtcbiAgcmV0dXJuIGJvdW5kcztcbn0sXG4gICAgX2dldFNpemUgPSBmdW5jdGlvbiBfZ2V0U2l6ZShlbGVtZW50LCBfcmVmNCkge1xuICB2YXIgZDIgPSBfcmVmNC5kMjtcbiAgcmV0dXJuIGVsZW1lbnRbXCJvZmZzZXRcIiArIGQyXSB8fCBlbGVtZW50W1wiY2xpZW50XCIgKyBkMl0gfHwgMDtcbn0sXG4gICAgX2dldExhYmVscyA9IGZ1bmN0aW9uIF9nZXRMYWJlbHMoYW5pbWF0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgYSA9IFtdLFxuICAgICAgICBsYWJlbHMgPSBhbmltYXRpb24ubGFiZWxzLFxuICAgICAgICBkdXJhdGlvbiA9IGFuaW1hdGlvbi5kdXJhdGlvbigpLFxuICAgICAgICBwO1xuXG4gICAgZm9yIChwIGluIGxhYmVscykge1xuICAgICAgYS5wdXNoKGxhYmVsc1twXSAvIGR1cmF0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ3NhcC51dGlscy5zbmFwKGEsIHZhbHVlKTtcbiAgfTtcbn0sXG4gICAgX211bHRpTGlzdGVuZXIgPSBmdW5jdGlvbiBfbXVsdGlMaXN0ZW5lcihmdW5jLCBlbGVtZW50LCB0eXBlcywgY2FsbGJhY2spIHtcbiAgcmV0dXJuIHR5cGVzLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgcmV0dXJuIGZ1bmMoZWxlbWVudCwgdHlwZSwgY2FsbGJhY2spO1xuICB9KTtcbn0sXG4gICAgX2FkZExpc3RlbmVyID0gZnVuY3Rpb24gX2FkZExpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGZ1bmMpIHtcbiAgcmV0dXJuIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbn0sXG4gICAgX3JlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gX3JlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGZ1bmMpIHtcbiAgcmV0dXJuIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jKTtcbn0sXG4gICAgX21hcmtlckRlZmF1bHRzID0ge1xuICBzdGFydENvbG9yOiBcImdyZWVuXCIsXG4gIGVuZENvbG9yOiBcInJlZFwiLFxuICBpbmRlbnQ6IDAsXG4gIGZvbnRTaXplOiBcIjE2cHhcIixcbiAgZm9udFdlaWdodDogXCJub3JtYWxcIlxufSxcbiAgICBfZGVmYXVsdHMgPSB7XG4gIHRvZ2dsZUFjdGlvbnM6IFwicGxheVwiLFxuICBhbnRpY2lwYXRlUGluOiAwXG59LFxuICAgIF9rZXl3b3JkcyA9IHtcbiAgdG9wOiAwLFxuICBsZWZ0OiAwLFxuICBjZW50ZXI6IDAuNSxcbiAgYm90dG9tOiAxLFxuICByaWdodDogMVxufSxcbiAgICBfb2Zmc2V0VG9QeCA9IGZ1bmN0aW9uIF9vZmZzZXRUb1B4KHZhbHVlLCBzaXplKSB7XG4gIGlmIChfaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIGVxSW5kZXggPSB2YWx1ZS5pbmRleE9mKFwiPVwiKSxcbiAgICAgICAgcmVsYXRpdmUgPSB+ZXFJbmRleCA/ICsodmFsdWUuY2hhckF0KGVxSW5kZXggLSAxKSArIDEpICogcGFyc2VGbG9hdCh2YWx1ZS5zdWJzdHIoZXFJbmRleCArIDEpKSA6IDA7XG5cbiAgICBpZiAocmVsYXRpdmUpIHtcbiAgICAgIHZhbHVlLmluZGV4T2YoXCIlXCIpID4gZXFJbmRleCAmJiAocmVsYXRpdmUgKj0gc2l6ZSAvIDEwMCk7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cigwLCBlcUluZGV4IC0gMSk7XG4gICAgfVxuXG4gICAgdmFsdWUgPSByZWxhdGl2ZSArICh2YWx1ZSBpbiBfa2V5d29yZHMgPyBfa2V5d29yZHNbdmFsdWVdICogc2l6ZSA6IH52YWx1ZS5pbmRleE9mKFwiJVwiKSA/IHBhcnNlRmxvYXQodmFsdWUpICogc2l6ZSAvIDEwMCA6IHBhcnNlRmxvYXQodmFsdWUpIHx8IDApO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufSxcbiAgICBfY3JlYXRlTWFya2VyID0gZnVuY3Rpb24gX2NyZWF0ZU1hcmtlcih0eXBlLCBuYW1lLCBjb250YWluZXIsIGRpcmVjdGlvbiwgX3JlZjUsIG9mZnNldCwgbWF0Y2hXaWR0aEVsKSB7XG4gIHZhciBzdGFydENvbG9yID0gX3JlZjUuc3RhcnRDb2xvcixcbiAgICAgIGVuZENvbG9yID0gX3JlZjUuZW5kQ29sb3IsXG4gICAgICBmb250U2l6ZSA9IF9yZWY1LmZvbnRTaXplLFxuICAgICAgaW5kZW50ID0gX3JlZjUuaW5kZW50LFxuICAgICAgZm9udFdlaWdodCA9IF9yZWY1LmZvbnRXZWlnaHQ7XG5cbiAgdmFyIGUgPSBfZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICB1c2VGaXhlZFBvc2l0aW9uID0gX2lzVmlld3BvcnQoY29udGFpbmVyKSB8fCBfZ2V0UHJveHlQcm9wKGNvbnRhaW5lciwgXCJwaW5UeXBlXCIpID09PSBcImZpeGVkXCIsXG4gICAgICBpc1Njcm9sbGVyID0gdHlwZS5pbmRleE9mKFwic2Nyb2xsZXJcIikgIT09IC0xLFxuICAgICAgcGFyZW50ID0gdXNlRml4ZWRQb3NpdGlvbiA/IF9ib2R5IDogY29udGFpbmVyLFxuICAgICAgaXNTdGFydCA9IHR5cGUuaW5kZXhPZihcInN0YXJ0XCIpICE9PSAtMSxcbiAgICAgIGNvbG9yID0gaXNTdGFydCA/IHN0YXJ0Q29sb3IgOiBlbmRDb2xvcixcbiAgICAgIGNzcyA9IFwiYm9yZGVyLWNvbG9yOlwiICsgY29sb3IgKyBcIjtmb250LXNpemU6XCIgKyBmb250U2l6ZSArIFwiO2NvbG9yOlwiICsgY29sb3IgKyBcIjtmb250LXdlaWdodDpcIiArIGZvbnRXZWlnaHQgKyBcIjtwb2ludGVyLWV2ZW50czpub25lO3doaXRlLXNwYWNlOm5vd3JhcDtmb250LWZhbWlseTpzYW5zLXNlcmlmLEFyaWFsO3otaW5kZXg6MTAwMDtwYWRkaW5nOjRweCA4cHg7Ym9yZGVyLXdpZHRoOjA7Ym9yZGVyLXN0eWxlOnNvbGlkO1wiO1xuXG4gIGNzcyArPSBcInBvc2l0aW9uOlwiICsgKGlzU2Nyb2xsZXIgJiYgdXNlRml4ZWRQb3NpdGlvbiA/IFwiZml4ZWQ7XCIgOiBcImFic29sdXRlO1wiKTtcbiAgKGlzU2Nyb2xsZXIgfHwgIXVzZUZpeGVkUG9zaXRpb24pICYmIChjc3MgKz0gKGRpcmVjdGlvbiA9PT0gX3ZlcnRpY2FsID8gX3JpZ2h0IDogX2JvdHRvbSkgKyBcIjpcIiArIChvZmZzZXQgKyBwYXJzZUZsb2F0KGluZGVudCkpICsgXCJweDtcIik7XG4gIG1hdGNoV2lkdGhFbCAmJiAoY3NzICs9IFwiYm94LXNpemluZzpib3JkZXItYm94O3RleHQtYWxpZ246bGVmdDt3aWR0aDpcIiArIG1hdGNoV2lkdGhFbC5vZmZzZXRXaWR0aCArIFwicHg7XCIpO1xuICBlLl9pc1N0YXJ0ID0gaXNTdGFydDtcbiAgZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImdzYXAtbWFya2VyLVwiICsgdHlwZSk7XG4gIGUuc3R5bGUuY3NzVGV4dCA9IGNzcztcbiAgZS5pbm5lclRleHQgPSBuYW1lIHx8IG5hbWUgPT09IDAgPyB0eXBlICsgXCItXCIgKyBuYW1lIDogdHlwZTtcbiAgcGFyZW50Lmluc2VydEJlZm9yZShlLCBwYXJlbnQuY2hpbGRyZW5bMF0pO1xuICBlLl9vZmZzZXQgPSBlW1wib2Zmc2V0XCIgKyBkaXJlY3Rpb24ub3AuZDJdO1xuXG4gIF9wb3NpdGlvbk1hcmtlcihlLCAwLCBkaXJlY3Rpb24sIGlzU3RhcnQpO1xuXG4gIHJldHVybiBlO1xufSxcbiAgICBfcG9zaXRpb25NYXJrZXIgPSBmdW5jdGlvbiBfcG9zaXRpb25NYXJrZXIobWFya2VyLCBzdGFydCwgZGlyZWN0aW9uLCBmbGlwcGVkKSB7XG4gIHZhciB2YXJzID0ge1xuICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICB9LFxuICAgICAgc2lkZSA9IGRpcmVjdGlvbltmbGlwcGVkID8gXCJvczJcIiA6IFwicDJcIl0sXG4gICAgICBvcHBvc2l0ZVNpZGUgPSBkaXJlY3Rpb25bZmxpcHBlZCA/IFwicDJcIiA6IFwib3MyXCJdO1xuICBtYXJrZXIuX2lzRmxpcHBlZCA9IGZsaXBwZWQ7XG4gIHZhcnNbZGlyZWN0aW9uLmEgKyBcIlBlcmNlbnRcIl0gPSBmbGlwcGVkID8gLTEwMCA6IDA7XG4gIHZhcnNbZGlyZWN0aW9uLmFdID0gZmxpcHBlZCA/IDEgOiAwO1xuICB2YXJzW1wiYm9yZGVyXCIgKyBzaWRlICsgX1dpZHRoXSA9IDE7XG4gIHZhcnNbXCJib3JkZXJcIiArIG9wcG9zaXRlU2lkZSArIF9XaWR0aF0gPSAwO1xuICB2YXJzW2RpcmVjdGlvbi5wXSA9IHN0YXJ0O1xuICBnc2FwLnNldChtYXJrZXIsIHZhcnMpO1xufSxcbiAgICBfdHJpZ2dlcnMgPSBbXSxcbiAgICBfaWRzID0ge30sXG4gICAgX3N5bmMgPSBmdW5jdGlvbiBfc3luYygpIHtcbiAgcmV0dXJuIF9yZXF1ZXN0IHx8IChfcmVxdWVzdCA9IF9yYWYoX3VwZGF0ZUFsbCkpO1xufSxcbiAgICBfb25TY3JvbGwgPSBmdW5jdGlvbiBfb25TY3JvbGwoKSB7XG4gIGlmICghX3JlcXVlc3QpIHtcbiAgICBfcmVxdWVzdCA9IF9yYWYoX3VwZGF0ZUFsbCk7XG4gICAgX2xhc3RTY3JvbGxUaW1lIHx8IF9kaXNwYXRjaChcInNjcm9sbFN0YXJ0XCIpO1xuICAgIF9sYXN0U2Nyb2xsVGltZSA9IF9nZXRUaW1lKCk7XG4gIH1cbn0sXG4gICAgX29uUmVzaXplID0gZnVuY3Rpb24gX29uUmVzaXplKCkge1xuICByZXR1cm4gIV9yZWZyZXNoaW5nICYmIF9yZXNpemVEZWxheS5yZXN0YXJ0KHRydWUpO1xufSxcbiAgICAvLyBpZ25vcmUgcmVzaXplcyB0cmlnZ2VyZWQgYnkgcmVmcmVzaCgpXG5fbGlzdGVuZXJzID0ge30sXG4gICAgX2VtcHR5QXJyYXkgPSBbXSxcbiAgICBfbWVkaWEgPSBbXSxcbiAgICBfY3JlYXRpbmdNZWRpYSxcbiAgICAvLyB3aGVuIFNjcm9sbFRyaWdnZXIubWF0Y2hNZWRpYSgpIGlzIGNhbGxlZCwgd2UgcmVjb3JkIHRoZSBjdXJyZW50IG1lZGlhIGtleSBoZXJlIChsaWtlIFwiKG1pbi13aWR0aDogODAwcHgpXCIpIHNvIHRoYXQgd2UgY2FuIGFzc2lnbiBpdCB0byBldmVyeXRoaW5nIHRoYXQncyBjcmVhdGVkIGR1cmluZyB0aGF0IGNhbGwuIFRoZW4gd2UgY2FuIHJldmVydCBqdXN0IHRob3NlIHdoZW4gbmVjZXNzYXJ5LiBJbiB0aGUgU2Nyb2xsVHJpZ2dlcidzIGluaXQoKSBjYWxsLCB0aGUgX2NyZWF0aW5nTWVkaWEgaXMgcmVjb3JkZWQgYXMgYSBcIm1lZGlhXCIgcHJvcGVydHkgb24gdGhlIGluc3RhbmNlLlxuX2xhc3RNZWRpYVRpY2ssXG4gICAgX29uTWVkaWFDaGFuZ2UgPSBmdW5jdGlvbiBfb25NZWRpYUNoYW5nZShlKSB7XG4gIHZhciB0aWNrID0gZ3NhcC50aWNrZXIuZnJhbWUsXG4gICAgICBtYXRjaGVzID0gW10sXG4gICAgICBpID0gMCxcbiAgICAgIGluZGV4O1xuXG4gIGlmIChfbGFzdE1lZGlhVGljayAhPT0gdGljayB8fCBfc3RhcnR1cCkge1xuICAgIF9yZXZlcnRBbGwoKTtcblxuICAgIGZvciAoOyBpIDwgX21lZGlhLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICBpbmRleCA9IF93aW4ubWF0Y2hNZWRpYShfbWVkaWFbaV0pLm1hdGNoZXM7XG5cbiAgICAgIGlmIChpbmRleCAhPT0gX21lZGlhW2kgKyAzXSkge1xuICAgICAgICAvLyBub3RlOiBzb21lIGJyb3dzZXJzIGZpcmUgdGhlIG1hdGNoTWVkaWEgZXZlbnQgbXVsdGlwbGUgdGltZXMsIGxpa2Ugd2hlbiBnb2luZyBmdWxsIHNjcmVlbiwgc28gd2Ugc2hvdWxkbid0IGNhbGwgdGhlIGZ1bmN0aW9uIG11bHRpcGxlIHRpbWVzLiBDaGVjayB0byBzZWUgaWYgaXQncyBhbHJlYWR5IG1hdGNoZWQuXG4gICAgICAgIF9tZWRpYVtpICsgM10gPSBpbmRleDtcbiAgICAgICAgaW5kZXggPyBtYXRjaGVzLnB1c2goaSkgOiBfcmV2ZXJ0QWxsKDEsIF9tZWRpYVtpXSkgfHwgX2lzRnVuY3Rpb24oX21lZGlhW2kgKyAyXSkgJiYgX21lZGlhW2kgKyAyXSgpOyAvLyBGaXJlZm94IGRvZXNuJ3QgdXBkYXRlIHRoZSBcIm1hdGNoZXNcIiBwcm9wZXJ0eSBvZiB0aGUgTWVkaWFRdWVyeUxpc3Qgb2JqZWN0IGNvcnJlY3RseSAtIGl0IG9ubHkgZG9lcyBzbyBhcyBpdCBjYWxscyBpdHMgY2hhbmdlIGhhbmRsZXIgLSBzbyB3ZSBtdXN0IHJlLWNyZWF0ZSBhIG1lZGlhIHF1ZXJ5IGhlcmUgdG8gZW5zdXJlIGl0J3MgYWNjdXJhdGUuXG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JldmVydFJlY29yZGVkKCk7IC8vIGluIGNhc2Uga2lsbGluZy9yZXZlcnRpbmcgYW55IG9mIHRoZSBhbmltYXRpb25zIGFjdHVhbGx5IGFkZGVkIGlubGluZSBzdHlsZXMgYmFjay5cblxuXG4gICAgZm9yIChpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGluZGV4ID0gbWF0Y2hlc1tpXTtcbiAgICAgIF9jcmVhdGluZ01lZGlhID0gX21lZGlhW2luZGV4XTtcbiAgICAgIF9tZWRpYVtpbmRleCArIDJdID0gX21lZGlhW2luZGV4ICsgMV0oZSk7XG4gICAgfVxuXG4gICAgX2NyZWF0aW5nTWVkaWEgPSAwO1xuXG4gICAgX3JlZnJlc2hBbGwoMCwgMSk7XG5cbiAgICBfbGFzdE1lZGlhVGljayA9IHRpY2s7XG5cbiAgICBfZGlzcGF0Y2goXCJtYXRjaE1lZGlhXCIpO1xuICB9XG59LFxuICAgIF9zb2Z0UmVmcmVzaCA9IGZ1bmN0aW9uIF9zb2Z0UmVmcmVzaCgpIHtcbiAgcmV0dXJuIF9yZW1vdmVMaXN0ZW5lcihTY3JvbGxUcmlnZ2VyLCBcInNjcm9sbEVuZFwiLCBfc29mdFJlZnJlc2gpIHx8IF9yZWZyZXNoQWxsKHRydWUpO1xufSxcbiAgICBfZGlzcGF0Y2ggPSBmdW5jdGlvbiBfZGlzcGF0Y2godHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVyc1t0eXBlXSAmJiBfbGlzdGVuZXJzW3R5cGVdLm1hcChmdW5jdGlvbiAoZikge1xuICAgIHJldHVybiBmKCk7XG4gIH0pIHx8IF9lbXB0eUFycmF5O1xufSxcbiAgICBfc2F2ZWRTdHlsZXMgPSBbXSxcbiAgICAvLyB3aGVuIFNjcm9sbFRyaWdnZXIuc2F2ZVN0eWxlcygpIGlzIGNhbGxlZCwgdGhlIGlubGluZSBzdHlsZXMgYXJlIHJlY29yZGVkIGluIHRoaXMgQXJyYXkgaW4gYSBzZXF1ZW50aWFsIGZvcm1hdCBsaWtlIFtlbGVtZW50LCBjc3NUZXh0LCBnc0NhY2hlLCBtZWRpYV0uIFRoaXMga2VlcHMgaXQgdmVyeSBtZW1vcnktZWZmaWNpZW50IGFuZCBmYXN0IHRvIGl0ZXJhdGUgdGhyb3VnaC5cbl9yZXZlcnRSZWNvcmRlZCA9IGZ1bmN0aW9uIF9yZXZlcnRSZWNvcmRlZChtZWRpYSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IF9zYXZlZFN0eWxlcy5sZW5ndGg7IGkgKz0gNCkge1xuICAgIGlmICghbWVkaWEgfHwgX3NhdmVkU3R5bGVzW2kgKyAzXSA9PT0gbWVkaWEpIHtcbiAgICAgIF9zYXZlZFN0eWxlc1tpXS5zdHlsZS5jc3NUZXh0ID0gX3NhdmVkU3R5bGVzW2kgKyAxXTtcbiAgICAgIF9zYXZlZFN0eWxlc1tpICsgMl0udW5jYWNoZSA9IDE7XG4gICAgfVxuICB9XG59LFxuICAgIF9yZXZlcnRBbGwgPSBmdW5jdGlvbiBfcmV2ZXJ0QWxsKGtpbGwsIG1lZGlhKSB7XG4gIHZhciB0cmlnZ2VyO1xuXG4gIGZvciAoX2kgPSAwOyBfaSA8IF90cmlnZ2Vycy5sZW5ndGg7IF9pKyspIHtcbiAgICB0cmlnZ2VyID0gX3RyaWdnZXJzW19pXTtcblxuICAgIGlmICghbWVkaWEgfHwgdHJpZ2dlci5tZWRpYSA9PT0gbWVkaWEpIHtcbiAgICAgIGlmIChraWxsKSB7XG4gICAgICAgIHRyaWdnZXIua2lsbCgxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyaWdnZXIuc2Nyb2xsLnJlYyB8fCAodHJpZ2dlci5zY3JvbGwucmVjID0gdHJpZ2dlci5zY3JvbGwoKSk7IC8vIHJlY29yZCB0aGUgc2Nyb2xsIHBvc2l0aW9ucyBzbyB0aGF0IGluIGVhY2ggcmVmcmVzaCgpIHdlIGNhbiBlbnN1cmUgdGhhdCBpdCBkb2Vzbid0IHNoaWZ0LiBSZW1lbWJlciwgcGlubmluZyBjYW4gbWFrZSB0aGluZ3MgY2hhbmdlIGFyb3VuZCwgZXNwZWNpYWxseSBpZiB0aGUgc2FtZSBlbGVtZW50IGlzIHBpbm5lZCBtdWx0aXBsZSB0aW1lcy4gSWYgb25lIHdhcyBhbHJlYWR5IHJlY29yZGVkLCBkb24ndCByZS1yZWNvcmQgYmVjYXVzZSB1bnBpbm5pbmcgbWF5IGhhdmUgb2NjdXJyZWQgYW5kIG1hZGUgaXQgc2hvcnRlci5cblxuICAgICAgICB0cmlnZ2VyLnJldmVydCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9yZXZlcnRSZWNvcmRlZChtZWRpYSk7XG5cbiAgbWVkaWEgfHwgX2Rpc3BhdGNoKFwicmV2ZXJ0XCIpO1xufSxcbiAgICBfcmVmcmVzaEFsbCA9IGZ1bmN0aW9uIF9yZWZyZXNoQWxsKGZvcmNlLCBza2lwUmV2ZXJ0KSB7XG4gIGlmIChfbGFzdFNjcm9sbFRpbWUgJiYgIWZvcmNlKSB7XG4gICAgX2FkZExpc3RlbmVyKFNjcm9sbFRyaWdnZXIsIFwic2Nyb2xsRW5kXCIsIF9zb2Z0UmVmcmVzaCk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcmVmcmVzaEluaXRzID0gX2Rpc3BhdGNoKFwicmVmcmVzaEluaXRcIik7XG5cbiAgX3NvcnQgJiYgU2Nyb2xsVHJpZ2dlci5zb3J0KCk7XG4gIHNraXBSZXZlcnQgfHwgX3JldmVydEFsbCgpO1xuXG4gIGZvciAoX2kgPSAwOyBfaSA8IF90cmlnZ2Vycy5sZW5ndGg7IF9pKyspIHtcbiAgICBfdHJpZ2dlcnNbX2ldLnJlZnJlc2goKTtcbiAgfVxuXG4gIHJlZnJlc2hJbml0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0ICYmIHJlc3VsdC5yZW5kZXIgJiYgcmVzdWx0LnJlbmRlcigtMSk7XG4gIH0pOyAvLyBpZiB0aGUgb25SZWZyZXNoSW5pdCgpIHJldHVybnMgYW4gYW5pbWF0aW9uICh0eXBpY2FsbHkgYSBnc2FwLnNldCgpKSwgcmV2ZXJ0IGl0LiBUaGlzIG1ha2VzIGl0IGVhc3kgdG8gcHV0IHRoaW5ncyBpbiBhIGNlcnRhaW4gc3BvdCBiZWZvcmUgcmVmcmVzaGluZyBmb3IgbWVhc3VyZW1lbnQgcHVycG9zZXMsIGFuZCB0aGVuIHB1dCB0aGluZ3MgYmFjay5cblxuICBfaSA9IF90cmlnZ2Vycy5sZW5ndGg7XG5cbiAgd2hpbGUgKF9pLS0pIHtcbiAgICBfdHJpZ2dlcnNbX2ldLnNjcm9sbC5yZWMgPSAwO1xuICB9XG5cbiAgX3Jlc2l6ZURlbGF5LnBhdXNlKCk7XG5cbiAgX2Rpc3BhdGNoKFwicmVmcmVzaFwiKTtcbn0sXG4gICAgX2xhc3RTY3JvbGwgPSAwLFxuICAgIF9kaXJlY3Rpb24gPSAxLFxuICAgIF91cGRhdGVBbGwgPSBmdW5jdGlvbiBfdXBkYXRlQWxsKCkge1xuICB2YXIgbCA9IF90cmlnZ2Vycy5sZW5ndGgsXG4gICAgICB0aW1lID0gX2dldFRpbWUoKSxcbiAgICAgIHJlY29yZFZlbG9jaXR5ID0gdGltZSAtIF90aW1lMSA+PSA1MCxcbiAgICAgIHNjcm9sbCA9IGwgJiYgX3RyaWdnZXJzWzBdLnNjcm9sbCgpO1xuXG4gIF9kaXJlY3Rpb24gPSBfbGFzdFNjcm9sbCA+IHNjcm9sbCA/IC0xIDogMTtcbiAgX2xhc3RTY3JvbGwgPSBzY3JvbGw7XG5cbiAgaWYgKHJlY29yZFZlbG9jaXR5KSB7XG4gICAgaWYgKF9sYXN0U2Nyb2xsVGltZSAmJiAhX3BvaW50ZXJJc0Rvd24gJiYgdGltZSAtIF9sYXN0U2Nyb2xsVGltZSA+IDIwMCkge1xuICAgICAgX2xhc3RTY3JvbGxUaW1lID0gMDtcblxuICAgICAgX2Rpc3BhdGNoKFwic2Nyb2xsRW5kXCIpO1xuICAgIH1cblxuICAgIF90aW1lMiA9IF90aW1lMTtcbiAgICBfdGltZTEgPSB0aW1lO1xuICB9XG5cbiAgaWYgKF9kaXJlY3Rpb24gPCAwKSB7XG4gICAgX2kgPSBsO1xuXG4gICAgd2hpbGUgKF9pLS0pIHtcbiAgICAgIF90cmlnZ2Vyc1tfaV0gJiYgX3RyaWdnZXJzW19pXS51cGRhdGUoMCwgcmVjb3JkVmVsb2NpdHkpO1xuICAgIH1cblxuICAgIF9kaXJlY3Rpb24gPSAxO1xuICB9IGVsc2Uge1xuICAgIGZvciAoX2kgPSAwOyBfaSA8IGw7IF9pKyspIHtcbiAgICAgIF90cmlnZ2Vyc1tfaV0gJiYgX3RyaWdnZXJzW19pXS51cGRhdGUoMCwgcmVjb3JkVmVsb2NpdHkpO1xuICAgIH1cbiAgfVxuXG4gIF9yZXF1ZXN0ID0gMDtcbn0sXG4gICAgX3Byb3BOYW1lc1RvQ29weSA9IFtfbGVmdCwgX3RvcCwgX2JvdHRvbSwgX3JpZ2h0LCBfbWFyZ2luICsgX0JvdHRvbSwgX21hcmdpbiArIF9SaWdodCwgX21hcmdpbiArIF9Ub3AsIF9tYXJnaW4gKyBfTGVmdCwgXCJkaXNwbGF5XCIsIFwiZmxleFNocmlua1wiLCBcImZsb2F0XCJdLFxuICAgIF9zdGF0ZVByb3BzID0gX3Byb3BOYW1lc1RvQ29weS5jb25jYXQoW193aWR0aCwgX2hlaWdodCwgXCJib3hTaXppbmdcIiwgXCJtYXhcIiArIF9XaWR0aCwgXCJtYXhcIiArIF9IZWlnaHQsIFwicG9zaXRpb25cIiwgX21hcmdpbiwgX3BhZGRpbmcsIF9wYWRkaW5nICsgX1RvcCwgX3BhZGRpbmcgKyBfUmlnaHQsIF9wYWRkaW5nICsgX0JvdHRvbSwgX3BhZGRpbmcgKyBfTGVmdF0pLFxuICAgIF9zd2FwUGluT3V0ID0gZnVuY3Rpb24gX3N3YXBQaW5PdXQocGluLCBzcGFjZXIsIHN0YXRlKSB7XG4gIF9zZXRTdGF0ZShzdGF0ZSk7XG5cbiAgaWYgKHBpbi5wYXJlbnROb2RlID09PSBzcGFjZXIpIHtcbiAgICB2YXIgcGFyZW50ID0gc3BhY2VyLnBhcmVudE5vZGU7XG5cbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHBpbiwgc3BhY2VyKTtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChzcGFjZXIpO1xuICAgIH1cbiAgfVxufSxcbiAgICBfc3dhcFBpbkluID0gZnVuY3Rpb24gX3N3YXBQaW5JbihwaW4sIHNwYWNlciwgY3MsIHNwYWNlclN0YXRlKSB7XG4gIGlmIChwaW4ucGFyZW50Tm9kZSAhPT0gc3BhY2VyKSB7XG4gICAgdmFyIGkgPSBfcHJvcE5hbWVzVG9Db3B5Lmxlbmd0aCxcbiAgICAgICAgc3BhY2VyU3R5bGUgPSBzcGFjZXIuc3R5bGUsXG4gICAgICAgIHBpblN0eWxlID0gcGluLnN0eWxlLFxuICAgICAgICBwO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgcCA9IF9wcm9wTmFtZXNUb0NvcHlbaV07XG4gICAgICBzcGFjZXJTdHlsZVtwXSA9IGNzW3BdO1xuICAgIH1cblxuICAgIHNwYWNlclN0eWxlLnBvc2l0aW9uID0gY3MucG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiA/IFwiYWJzb2x1dGVcIiA6IFwicmVsYXRpdmVcIjtcbiAgICBjcy5kaXNwbGF5ID09PSBcImlubGluZVwiICYmIChzcGFjZXJTdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIik7XG4gICAgcGluU3R5bGVbX2JvdHRvbV0gPSBwaW5TdHlsZVtfcmlnaHRdID0gXCJhdXRvXCI7XG4gICAgc3BhY2VyU3R5bGUub3ZlcmZsb3cgPSBcInZpc2libGVcIjtcbiAgICBzcGFjZXJTdHlsZS5ib3hTaXppbmcgPSBcImJvcmRlci1ib3hcIjtcbiAgICBzcGFjZXJTdHlsZVtfd2lkdGhdID0gX2dldFNpemUocGluLCBfaG9yaXpvbnRhbCkgKyBfcHg7XG4gICAgc3BhY2VyU3R5bGVbX2hlaWdodF0gPSBfZ2V0U2l6ZShwaW4sIF92ZXJ0aWNhbCkgKyBfcHg7XG4gICAgc3BhY2VyU3R5bGVbX3BhZGRpbmddID0gcGluU3R5bGVbX21hcmdpbl0gPSBwaW5TdHlsZVtfdG9wXSA9IHBpblN0eWxlW19sZWZ0XSA9IFwiMFwiO1xuXG4gICAgX3NldFN0YXRlKHNwYWNlclN0YXRlKTtcblxuICAgIHBpblN0eWxlW193aWR0aF0gPSBwaW5TdHlsZVtcIm1heFwiICsgX1dpZHRoXSA9IGNzW193aWR0aF07XG4gICAgcGluU3R5bGVbX2hlaWdodF0gPSBwaW5TdHlsZVtcIm1heFwiICsgX0hlaWdodF0gPSBjc1tfaGVpZ2h0XTtcbiAgICBwaW5TdHlsZVtfcGFkZGluZ10gPSBjc1tfcGFkZGluZ107XG4gICAgcGluLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNwYWNlciwgcGluKTtcbiAgICBzcGFjZXIuYXBwZW5kQ2hpbGQocGluKTtcbiAgfVxufSxcbiAgICBfY2Fwc0V4cCA9IC8oW0EtWl0pL2csXG4gICAgX3NldFN0YXRlID0gZnVuY3Rpb24gX3NldFN0YXRlKHN0YXRlKSB7XG4gIGlmIChzdGF0ZSkge1xuICAgIHZhciBzdHlsZSA9IHN0YXRlLnQuc3R5bGUsXG4gICAgICAgIGwgPSBzdGF0ZS5sZW5ndGgsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBwLFxuICAgICAgICB2YWx1ZTtcblxuICAgIGZvciAoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgICB2YWx1ZSA9IHN0YXRlW2kgKyAxXTtcbiAgICAgIHAgPSBzdGF0ZVtpXTtcblxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHN0eWxlW3BdID0gdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHN0eWxlW3BdKSB7XG4gICAgICAgIHN0eWxlLnJlbW92ZVByb3BlcnR5KHAucmVwbGFjZShfY2Fwc0V4cCwgXCItJDFcIikudG9Mb3dlckNhc2UoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59LFxuICAgIF9nZXRTdGF0ZSA9IGZ1bmN0aW9uIF9nZXRTdGF0ZShlbGVtZW50KSB7XG4gIC8vIHJldHVybnMgYW4gYXJyYXkgd2l0aCBhbHRlcm5hdGluZyB2YWx1ZXMgbGlrZSBbcHJvcGVydHksIHZhbHVlLCBwcm9wZXJ0eSwgdmFsdWVdIGFuZCBhIFwidFwiIHByb3BlcnR5IHBvaW50aW5nIHRvIHRoZSB0YXJnZXQgKGVsZW1lbnQpLiBNYWtlcyBpdCBmYXN0IGFuZCBjaGVhcC5cbiAgdmFyIGwgPSBfc3RhdGVQcm9wcy5sZW5ndGgsXG4gICAgICBzdHlsZSA9IGVsZW1lbnQuc3R5bGUsXG4gICAgICBzdGF0ZSA9IFtdLFxuICAgICAgaSA9IDA7XG5cbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICBzdGF0ZS5wdXNoKF9zdGF0ZVByb3BzW2ldLCBzdHlsZVtfc3RhdGVQcm9wc1tpXV0pO1xuICB9XG5cbiAgc3RhdGUudCA9IGVsZW1lbnQ7XG4gIHJldHVybiBzdGF0ZTtcbn0sXG4gICAgX2NvcHlTdGF0ZSA9IGZ1bmN0aW9uIF9jb3B5U3RhdGUoc3RhdGUsIG92ZXJyaWRlLCBvbWl0T2Zmc2V0cykge1xuICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICBsID0gc3RhdGUubGVuZ3RoLFxuICAgICAgaSA9IG9taXRPZmZzZXRzID8gOCA6IDAsXG4gICAgICAvLyBza2lwIHRvcCwgbGVmdCwgcmlnaHQsIGJvdHRvbSBpZiBvbWl0T2Zmc2V0cyBpcyB0cnVlXG4gIHA7XG5cbiAgZm9yICg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICBwID0gc3RhdGVbaV07XG4gICAgcmVzdWx0LnB1c2gocCwgcCBpbiBvdmVycmlkZSA/IG92ZXJyaWRlW3BdIDogc3RhdGVbaSArIDFdKTtcbiAgfVxuXG4gIHJlc3VsdC50ID0gc3RhdGUudDtcbiAgcmV0dXJuIHJlc3VsdDtcbn0sXG4gICAgX3dpbk9mZnNldHMgPSB7XG4gIGxlZnQ6IDAsXG4gIHRvcDogMFxufSxcbiAgICBfcGFyc2VQb3NpdGlvbiA9IGZ1bmN0aW9uIF9wYXJzZVBvc2l0aW9uKHZhbHVlLCB0cmlnZ2VyLCBzY3JvbGxlclNpemUsIGRpcmVjdGlvbiwgc2Nyb2xsLCBtYXJrZXIsIG1hcmtlclNjcm9sbGVyLCBzZWxmLCBzY3JvbGxlckJvdW5kcywgYm9yZGVyV2lkdGgsIHVzZUZpeGVkUG9zaXRpb24sIHNjcm9sbGVyTWF4KSB7XG4gIF9pc0Z1bmN0aW9uKHZhbHVlKSAmJiAodmFsdWUgPSB2YWx1ZShzZWxmKSk7XG5cbiAgaWYgKF9pc1N0cmluZyh2YWx1ZSkgJiYgdmFsdWUuc3Vic3RyKDAsIDMpID09PSBcIm1heFwiKSB7XG4gICAgdmFsdWUgPSBzY3JvbGxlck1heCArICh2YWx1ZS5jaGFyQXQoNCkgPT09IFwiPVwiID8gX29mZnNldFRvUHgoXCIwXCIgKyB2YWx1ZS5zdWJzdHIoMyksIHNjcm9sbGVyU2l6ZSkgOiAwKTtcbiAgfVxuXG4gIGlmICghX2lzTnVtYmVyKHZhbHVlKSkge1xuICAgIF9pc0Z1bmN0aW9uKHRyaWdnZXIpICYmICh0cmlnZ2VyID0gdHJpZ2dlcihzZWxmKSk7XG5cbiAgICB2YXIgZWxlbWVudCA9IF90b0FycmF5KHRyaWdnZXIpWzBdIHx8IF9ib2R5LFxuICAgICAgICBib3VuZHMgPSBfZ2V0Qm91bmRzKGVsZW1lbnQpIHx8IHt9LFxuICAgICAgICBvZmZzZXRzID0gdmFsdWUuc3BsaXQoXCIgXCIpLFxuICAgICAgICBsb2NhbE9mZnNldCxcbiAgICAgICAgZ2xvYmFsT2Zmc2V0LFxuICAgICAgICBkaXNwbGF5O1xuXG4gICAgaWYgKCghYm91bmRzIHx8ICFib3VuZHMubGVmdCAmJiAhYm91bmRzLnRvcCkgJiYgX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgIC8vIGlmIGRpc3BsYXkgaXMgXCJub25lXCIsIGl0IHdvbid0IHJlcG9ydCBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSBwcm9wZXJseVxuICAgICAgZGlzcGxheSA9IGVsZW1lbnQuc3R5bGUuZGlzcGxheTtcbiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGJvdW5kcyA9IF9nZXRCb3VuZHMoZWxlbWVudCk7XG4gICAgICBkaXNwbGF5ID8gZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheSA6IGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJkaXNwbGF5XCIpO1xuICAgIH1cblxuICAgIGxvY2FsT2Zmc2V0ID0gX29mZnNldFRvUHgob2Zmc2V0c1swXSwgYm91bmRzW2RpcmVjdGlvbi5kXSk7XG4gICAgZ2xvYmFsT2Zmc2V0ID0gX29mZnNldFRvUHgob2Zmc2V0c1sxXSB8fCBcIjBcIiwgc2Nyb2xsZXJTaXplKTtcbiAgICB2YWx1ZSA9IGJvdW5kc1tkaXJlY3Rpb24ucF0gLSBzY3JvbGxlckJvdW5kc1tkaXJlY3Rpb24ucF0gLSBib3JkZXJXaWR0aCArIGxvY2FsT2Zmc2V0ICsgc2Nyb2xsIC0gZ2xvYmFsT2Zmc2V0O1xuICAgIG1hcmtlclNjcm9sbGVyICYmIF9wb3NpdGlvbk1hcmtlcihtYXJrZXJTY3JvbGxlciwgZ2xvYmFsT2Zmc2V0LCBkaXJlY3Rpb24sIHNjcm9sbGVyU2l6ZSAtIGdsb2JhbE9mZnNldCA8IDIwIHx8IG1hcmtlclNjcm9sbGVyLl9pc1N0YXJ0ICYmIGdsb2JhbE9mZnNldCA+IDIwKTtcbiAgICBzY3JvbGxlclNpemUgLT0gc2Nyb2xsZXJTaXplIC0gZ2xvYmFsT2Zmc2V0OyAvLyBhZGp1c3QgZm9yIHRoZSBtYXJrZXJcbiAgfSBlbHNlIGlmIChtYXJrZXJTY3JvbGxlcikge1xuICAgIF9wb3NpdGlvbk1hcmtlcihtYXJrZXJTY3JvbGxlciwgc2Nyb2xsZXJTaXplLCBkaXJlY3Rpb24sIHRydWUpO1xuICB9XG5cbiAgaWYgKG1hcmtlcikge1xuICAgIHZhciBwb3NpdGlvbiA9IHZhbHVlICsgc2Nyb2xsZXJTaXplLFxuICAgICAgICBpc1N0YXJ0ID0gbWFya2VyLl9pc1N0YXJ0O1xuICAgIHNjcm9sbGVyTWF4ID0gXCJzY3JvbGxcIiArIGRpcmVjdGlvbi5kMjtcblxuICAgIF9wb3NpdGlvbk1hcmtlcihtYXJrZXIsIHBvc2l0aW9uLCBkaXJlY3Rpb24sIGlzU3RhcnQgJiYgcG9zaXRpb24gPiAyMCB8fCAhaXNTdGFydCAmJiAodXNlRml4ZWRQb3NpdGlvbiA/IE1hdGgubWF4KF9ib2R5W3Njcm9sbGVyTWF4XSwgX2RvY0VsW3Njcm9sbGVyTWF4XSkgOiBtYXJrZXIucGFyZW50Tm9kZVtzY3JvbGxlck1heF0pIDw9IHBvc2l0aW9uICsgMSk7XG5cbiAgICBpZiAodXNlRml4ZWRQb3NpdGlvbikge1xuICAgICAgc2Nyb2xsZXJCb3VuZHMgPSBfZ2V0Qm91bmRzKG1hcmtlclNjcm9sbGVyKTtcbiAgICAgIHVzZUZpeGVkUG9zaXRpb24gJiYgKG1hcmtlci5zdHlsZVtkaXJlY3Rpb24ub3AucF0gPSBzY3JvbGxlckJvdW5kc1tkaXJlY3Rpb24ub3AucF0gLSBkaXJlY3Rpb24ub3AubSAtIG1hcmtlci5fb2Zmc2V0ICsgX3B4KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSk7XG59LFxuICAgIF9wcmVmaXhFeHAgPSAvKD86d2Via2l0fG1venxsZW5ndGh8Y3NzVGV4dCkvaSxcbiAgICBfcmVwYXJlbnQgPSBmdW5jdGlvbiBfcmVwYXJlbnQoZWxlbWVudCwgcGFyZW50LCB0b3AsIGxlZnQpIHtcbiAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAhPT0gcGFyZW50KSB7XG4gICAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZSxcbiAgICAgICAgcCxcbiAgICAgICAgY3M7XG5cbiAgICBpZiAocGFyZW50ID09PSBfYm9keSkge1xuICAgICAgZWxlbWVudC5fc3RPcmlnID0gc3R5bGUuY3NzVGV4dDsgLy8gcmVjb3JkIG9yaWdpbmFsIGlubGluZSBzdHlsZXMgc28gd2UgY2FuIHJldmVydCB0aGVtIGxhdGVyXG5cbiAgICAgIGNzID0gX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICAgIGZvciAocCBpbiBjcykge1xuICAgICAgICAvLyBtdXN0IGNvcHkgYWxsIHJlbGV2YW50IHN0eWxlcyB0byBlbnN1cmUgdGhhdCBub3RoaW5nIGNoYW5nZXMgdmlzdWFsbHkgd2hlbiB3ZSByZXBhcmVudCB0byB0aGUgPGJvZHk+LiBTa2lwIHRoZSB2ZW5kb3IgcHJlZml4ZWQgb25lcy5cbiAgICAgICAgaWYgKCErcCAmJiAhX3ByZWZpeEV4cC50ZXN0KHApICYmIGNzW3BdICYmIHR5cGVvZiBzdHlsZVtwXSA9PT0gXCJzdHJpbmdcIiAmJiBwICE9PSBcIjBcIikge1xuICAgICAgICAgIHN0eWxlW3BdID0gY3NbcF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3R5bGUudG9wID0gdG9wO1xuICAgICAgc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmNzc1RleHQgPSBlbGVtZW50Ll9zdE9yaWc7XG4gICAgfVxuXG4gICAgZ3NhcC5jb3JlLmdldENhY2hlKGVsZW1lbnQpLnVuY2FjaGUgPSAxO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfVxufSxcbiAgICAvLyByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byB0d2VlbiB0aGUgc2Nyb2xsIHBvc2l0aW9uIGluIHRoZSBkaXJlY3Rpb24gcHJvdmlkZWQsIGFuZCB3aGVuIGRvaW5nIHNvIGl0J2xsIGFkZCBhIC50d2VlbiBwcm9wZXJ0eSB0byB0aGUgRlVOQ1RJT04gaXRzZWxmLCBhbmQgcmVtb3ZlIGl0IHdoZW4gdGhlIHR3ZWVuIGNvbXBsZXRlcyBvciBnZXRzIGtpbGxlZC4gVGhpcyBnaXZlcyB1cyBhIHdheSB0byBoYXZlIG11bHRpcGxlIFNjcm9sbFRyaWdnZXJzIHVzZSBhIGNlbnRyYWwgZnVuY3Rpb24gZm9yIGFueSBnaXZlbiBzY3JvbGxlciBhbmQgc2VlIGlmIHRoZXJlJ3MgYSBzY3JvbGwgdHdlZW4gcnVubmluZyAod2hpY2ggd291bGQgYWZmZWN0IGlmL2hvdyB0aGluZ3MgZ2V0IHVwZGF0ZWQpXG5fZ2V0VHdlZW5DcmVhdG9yID0gZnVuY3Rpb24gX2dldFR3ZWVuQ3JlYXRvcihzY3JvbGxlciwgZGlyZWN0aW9uKSB7XG4gIHZhciBnZXRTY3JvbGwgPSBfZ2V0U2Nyb2xsRnVuYyhzY3JvbGxlciwgZGlyZWN0aW9uKSxcbiAgICAgIHByb3AgPSBcIl9zY3JvbGxcIiArIGRpcmVjdGlvbi5wMixcbiAgICAgIC8vIGFkZCBhIHR3ZWVuYWJsZSBwcm9wZXJ0eSB0byB0aGUgc2Nyb2xsZXIgdGhhdCdzIGEgZ2V0dGVyL3NldHRlciBmdW5jdGlvbiwgbGlrZSBfc2Nyb2xsVG9wIG9yIF9zY3JvbGxMZWZ0LiBUaGlzIHdheSwgaWYgc29tZW9uZSBkb2VzIGdzYXAua2lsbFR3ZWVuc09mKHNjcm9sbGVyKSBpdCdsbCBraWxsIHRoZSBzY3JvbGwgdHdlZW4uXG4gIGxhc3RTY3JvbGwxLFxuICAgICAgbGFzdFNjcm9sbDIsXG4gICAgICBnZXRUd2VlbiA9IGZ1bmN0aW9uIGdldFR3ZWVuKHNjcm9sbFRvLCB2YXJzLCBpbml0aWFsVmFsdWUsIGNoYW5nZTEsIGNoYW5nZTIpIHtcbiAgICB2YXIgdHdlZW4gPSBnZXRUd2Vlbi50d2VlbixcbiAgICAgICAgb25Db21wbGV0ZSA9IHZhcnMub25Db21wbGV0ZSxcbiAgICAgICAgbW9kaWZpZXJzID0ge307XG4gICAgdHdlZW4gJiYgdHdlZW4ua2lsbCgpO1xuICAgIGxhc3RTY3JvbGwxID0gTWF0aC5yb3VuZChpbml0aWFsVmFsdWUpO1xuICAgIHZhcnNbcHJvcF0gPSBzY3JvbGxUbztcbiAgICB2YXJzLm1vZGlmaWVycyA9IG1vZGlmaWVycztcblxuICAgIG1vZGlmaWVyc1twcm9wXSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKGdldFNjcm9sbCgpKTsgLy8gcm91bmQgYmVjYXVzZSBpbiBzb21lIFt2ZXJ5IHVuY29tbW9uXSBXaW5kb3dzIGVudmlyb25tZW50cywgaXQgY2FuIGdldCByZXBvcnRlZCB3aXRoIGRlY2ltYWxzIGV2ZW4gdGhvdWdoIGl0IHdhcyBzZXQgd2l0aG91dC5cblxuICAgICAgaWYgKHZhbHVlICE9PSBsYXN0U2Nyb2xsMSAmJiB2YWx1ZSAhPT0gbGFzdFNjcm9sbDIpIHtcbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgc2Nyb2xscywga2lsbCB0aGUgdHdlZW4uIGlPUyBTYWZhcmkgaW50ZXJtaXR0ZW50bHkgbWlzcmVwb3J0cyB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBpdCBtYXkgYmUgdGhlIG1vc3QgcmVjZW50bHktc2V0IG9uZSBvciB0aGUgb25lIGJlZm9yZSB0aGF0IVxuICAgICAgICB0d2Vlbi5raWxsKCk7XG4gICAgICAgIGdldFR3ZWVuLnR3ZWVuID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gaW5pdGlhbFZhbHVlICsgY2hhbmdlMSAqIHR3ZWVuLnJhdGlvICsgY2hhbmdlMiAqIHR3ZWVuLnJhdGlvICogdHdlZW4ucmF0aW87XG4gICAgICB9XG5cbiAgICAgIGxhc3RTY3JvbGwyID0gbGFzdFNjcm9sbDE7XG4gICAgICByZXR1cm4gbGFzdFNjcm9sbDEgPSBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgdmFycy5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgZ2V0VHdlZW4udHdlZW4gPSAwO1xuICAgICAgb25Db21wbGV0ZSAmJiBvbkNvbXBsZXRlLmNhbGwodHdlZW4pO1xuICAgIH07XG5cbiAgICB0d2VlbiA9IGdldFR3ZWVuLnR3ZWVuID0gZ3NhcC50byhzY3JvbGxlciwgdmFycyk7XG4gICAgcmV0dXJuIHR3ZWVuO1xuICB9O1xuXG4gIHNjcm9sbGVyW3Byb3BdID0gZ2V0U2Nyb2xsO1xuICByZXR1cm4gZ2V0VHdlZW47XG59O1xuXG5faG9yaXpvbnRhbC5vcCA9IF92ZXJ0aWNhbDtcbmV4cG9ydCB2YXIgU2Nyb2xsVHJpZ2dlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNjcm9sbFRyaWdnZXIodmFycywgYW5pbWF0aW9uKSB7XG4gICAgX2NvcmVJbml0dGVkIHx8IFNjcm9sbFRyaWdnZXIucmVnaXN0ZXIoZ3NhcCkgfHwgY29uc29sZS53YXJuKFwiUGxlYXNlIGdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlcilcIik7XG4gICAgdGhpcy5pbml0KHZhcnMsIGFuaW1hdGlvbik7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU2Nyb2xsVHJpZ2dlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmluaXQgPSBmdW5jdGlvbiBpbml0KHZhcnMsIGFuaW1hdGlvbikge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIHRoaXMudmFycyAmJiB0aGlzLmtpbGwoMSk7IC8vIGluIGNhc2UgaXQncyBiZWluZyBpbml0dGVkIGFnYWluXG5cbiAgICBpZiAoIV9lbmFibGVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZSA9IHRoaXMucmVmcmVzaCA9IHRoaXMua2lsbCA9IF9wYXNzVGhyb3VnaDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXJzID0gX3NldERlZmF1bHRzKF9pc1N0cmluZyh2YXJzKSB8fCBfaXNOdW1iZXIodmFycykgfHwgdmFycy5ub2RlVHlwZSA/IHtcbiAgICAgIHRyaWdnZXI6IHZhcnNcbiAgICB9IDogdmFycywgX2RlZmF1bHRzKTtcblxuICAgIHZhciBkaXJlY3Rpb24gPSB2YXJzLmhvcml6b250YWwgPyBfaG9yaXpvbnRhbCA6IF92ZXJ0aWNhbCxcbiAgICAgICAgX3ZhcnMgPSB2YXJzLFxuICAgICAgICBvblVwZGF0ZSA9IF92YXJzLm9uVXBkYXRlLFxuICAgICAgICB0b2dnbGVDbGFzcyA9IF92YXJzLnRvZ2dsZUNsYXNzLFxuICAgICAgICBpZCA9IF92YXJzLmlkLFxuICAgICAgICBvblRvZ2dsZSA9IF92YXJzLm9uVG9nZ2xlLFxuICAgICAgICBvblJlZnJlc2ggPSBfdmFycy5vblJlZnJlc2gsXG4gICAgICAgIHNjcnViID0gX3ZhcnMuc2NydWIsXG4gICAgICAgIHRyaWdnZXIgPSBfdmFycy50cmlnZ2VyLFxuICAgICAgICBwaW4gPSBfdmFycy5waW4sXG4gICAgICAgIHBpblNwYWNpbmcgPSBfdmFycy5waW5TcGFjaW5nLFxuICAgICAgICBpbnZhbGlkYXRlT25SZWZyZXNoID0gX3ZhcnMuaW52YWxpZGF0ZU9uUmVmcmVzaCxcbiAgICAgICAgYW50aWNpcGF0ZVBpbiA9IF92YXJzLmFudGljaXBhdGVQaW4sXG4gICAgICAgIG9uU2NydWJDb21wbGV0ZSA9IF92YXJzLm9uU2NydWJDb21wbGV0ZSxcbiAgICAgICAgb25TbmFwQ29tcGxldGUgPSBfdmFycy5vblNuYXBDb21wbGV0ZSxcbiAgICAgICAgb25jZSA9IF92YXJzLm9uY2UsXG4gICAgICAgIHNuYXAgPSBfdmFycy5zbmFwLFxuICAgICAgICBwaW5SZXBhcmVudCA9IF92YXJzLnBpblJlcGFyZW50LFxuICAgICAgICBpc1RvZ2dsZSA9ICFzY3J1YiAmJiBzY3J1YiAhPT0gMCxcbiAgICAgICAgc2Nyb2xsZXIgPSBfdG9BcnJheSh2YXJzLnNjcm9sbGVyIHx8IF93aW4pWzBdLFxuICAgICAgICBzY3JvbGxlckNhY2hlID0gZ3NhcC5jb3JlLmdldENhY2hlKHNjcm9sbGVyKSxcbiAgICAgICAgaXNWaWV3cG9ydCA9IF9pc1ZpZXdwb3J0KHNjcm9sbGVyKSxcbiAgICAgICAgdXNlRml4ZWRQb3NpdGlvbiA9IFwicGluVHlwZVwiIGluIHZhcnMgPyB2YXJzLnBpblR5cGUgPT09IFwiZml4ZWRcIiA6IGlzVmlld3BvcnQgfHwgX2dldFByb3h5UHJvcChzY3JvbGxlciwgXCJwaW5UeXBlXCIpID09PSBcImZpeGVkXCIsXG4gICAgICAgIGNhbGxiYWNrcyA9IFt2YXJzLm9uRW50ZXIsIHZhcnMub25MZWF2ZSwgdmFycy5vbkVudGVyQmFjaywgdmFycy5vbkxlYXZlQmFja10sXG4gICAgICAgIHRvZ2dsZUFjdGlvbnMgPSBpc1RvZ2dsZSAmJiB2YXJzLnRvZ2dsZUFjdGlvbnMuc3BsaXQoXCIgXCIpLFxuICAgICAgICBtYXJrZXJzID0gXCJtYXJrZXJzXCIgaW4gdmFycyA/IHZhcnMubWFya2VycyA6IF9kZWZhdWx0cy5tYXJrZXJzLFxuICAgICAgICBib3JkZXJXaWR0aCA9IGlzVmlld3BvcnQgPyAwIDogcGFyc2VGbG9hdChfZ2V0Q29tcHV0ZWRTdHlsZShzY3JvbGxlcilbXCJib3JkZXJcIiArIGRpcmVjdGlvbi5wMiArIF9XaWR0aF0pIHx8IDAsXG4gICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICBvblJlZnJlc2hJbml0ID0gdmFycy5vblJlZnJlc2hJbml0ICYmIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2YXJzLm9uUmVmcmVzaEluaXQoc2VsZik7XG4gICAgfSxcbiAgICAgICAgZ2V0U2Nyb2xsZXJTaXplID0gX2dldFNpemVGdW5jKHNjcm9sbGVyLCBpc1ZpZXdwb3J0LCBkaXJlY3Rpb24pLFxuICAgICAgICBnZXRTY3JvbGxlck9mZnNldHMgPSBfZ2V0T2Zmc2V0c0Z1bmMoc2Nyb2xsZXIsIGlzVmlld3BvcnQpLFxuICAgICAgICB0d2VlblRvLFxuICAgICAgICBwaW5DYWNoZSxcbiAgICAgICAgc25hcEZ1bmMsXG4gICAgICAgIGlzUmV2ZXJ0ZWQsXG4gICAgICAgIHNjcm9sbDEsXG4gICAgICAgIHNjcm9sbDIsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmQsXG4gICAgICAgIG1hcmtlclN0YXJ0LFxuICAgICAgICBtYXJrZXJFbmQsXG4gICAgICAgIG1hcmtlclN0YXJ0VHJpZ2dlcixcbiAgICAgICAgbWFya2VyRW5kVHJpZ2dlcixcbiAgICAgICAgbWFya2VyVmFycyxcbiAgICAgICAgY2hhbmdlLFxuICAgICAgICBwaW5PcmlnaW5hbFN0YXRlLFxuICAgICAgICBwaW5BY3RpdmVTdGF0ZSxcbiAgICAgICAgcGluU3RhdGUsXG4gICAgICAgIHNwYWNlcixcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBwaW5HZXR0ZXIsXG4gICAgICAgIHBpblNldHRlcixcbiAgICAgICAgcGluU3RhcnQsXG4gICAgICAgIHBpbkNoYW5nZSxcbiAgICAgICAgc3BhY2luZ1N0YXJ0LFxuICAgICAgICBzcGFjZXJTdGF0ZSxcbiAgICAgICAgbWFya2VyU3RhcnRTZXR0ZXIsXG4gICAgICAgIG1hcmtlckVuZFNldHRlcixcbiAgICAgICAgY3MsXG4gICAgICAgIHNuYXAxLFxuICAgICAgICBzbmFwMixcbiAgICAgICAgc2NydWJUd2VlbixcbiAgICAgICAgc2NydWJTbW9vdGgsXG4gICAgICAgIHNuYXBEdXJDbGFtcCxcbiAgICAgICAgc25hcERlbGF5ZWRDYWxsLFxuICAgICAgICBwcmV2UHJvZ3Jlc3MsXG4gICAgICAgIHByZXZTY3JvbGwsXG4gICAgICAgIHByZXZBbmltUHJvZ3Jlc3M7XG5cbiAgICBzZWxmLm1lZGlhID0gX2NyZWF0aW5nTWVkaWE7XG4gICAgYW50aWNpcGF0ZVBpbiAqPSA0NTtcblxuICAgIF90cmlnZ2Vycy5wdXNoKHNlbGYpO1xuXG4gICAgc2VsZi5zY3JvbGxlciA9IHNjcm9sbGVyO1xuICAgIHNlbGYuc2Nyb2xsID0gX2dldFNjcm9sbEZ1bmMoc2Nyb2xsZXIsIGRpcmVjdGlvbik7XG4gICAgc2Nyb2xsMSA9IHNlbGYuc2Nyb2xsKCk7XG4gICAgc2VsZi52YXJzID0gdmFycztcbiAgICBhbmltYXRpb24gPSBhbmltYXRpb24gfHwgdmFycy5hbmltYXRpb247XG4gICAgXCJyZWZyZXNoUHJpb3JpdHlcIiBpbiB2YXJzICYmIChfc29ydCA9IDEpO1xuICAgIHNjcm9sbGVyQ2FjaGUudHdlZW5TY3JvbGwgPSBzY3JvbGxlckNhY2hlLnR3ZWVuU2Nyb2xsIHx8IHtcbiAgICAgIHRvcDogX2dldFR3ZWVuQ3JlYXRvcihzY3JvbGxlciwgX3ZlcnRpY2FsKSxcbiAgICAgIGxlZnQ6IF9nZXRUd2VlbkNyZWF0b3Ioc2Nyb2xsZXIsIF9ob3Jpem9udGFsKVxuICAgIH07XG4gICAgc2VsZi50d2VlblRvID0gdHdlZW5UbyA9IHNjcm9sbGVyQ2FjaGUudHdlZW5TY3JvbGxbZGlyZWN0aW9uLnBdO1xuXG4gICAgaWYgKGFuaW1hdGlvbikge1xuICAgICAgYW5pbWF0aW9uLnZhcnMubGF6eSA9IGZhbHNlO1xuICAgICAgYW5pbWF0aW9uLl9pbml0dGVkIHx8IGFuaW1hdGlvbi52YXJzLmltbWVkaWF0ZVJlbmRlciAhPT0gZmFsc2UgJiYgdmFycy5pbW1lZGlhdGVSZW5kZXIgIT09IGZhbHNlICYmIGFuaW1hdGlvbi5yZW5kZXIoMCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICBzZWxmLmFuaW1hdGlvbiA9IGFuaW1hdGlvbi5wYXVzZSgpO1xuICAgICAgYW5pbWF0aW9uLnNjcm9sbFRyaWdnZXIgPSBzZWxmO1xuICAgICAgc2NydWJTbW9vdGggPSBfaXNOdW1iZXIoc2NydWIpICYmIHNjcnViO1xuICAgICAgc2NydWJTbW9vdGggJiYgKHNjcnViVHdlZW4gPSBnc2FwLnRvKGFuaW1hdGlvbiwge1xuICAgICAgICBlYXNlOiBcInBvd2VyM1wiLFxuICAgICAgICBkdXJhdGlvbjogc2NydWJTbW9vdGgsXG4gICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uU2NydWJDb21wbGV0ZSAmJiBvblNjcnViQ29tcGxldGUoc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICAgIHNuYXAxID0gMDtcbiAgICAgIGlkIHx8IChpZCA9IGFuaW1hdGlvbi52YXJzLmlkKTtcbiAgICB9XG5cbiAgICBpZiAoc25hcCkge1xuICAgICAgX2lzT2JqZWN0KHNuYXApIHx8IChzbmFwID0ge1xuICAgICAgICBzbmFwVG86IHNuYXBcbiAgICAgIH0pO1xuICAgICAgZ3NhcC5zZXQoaXNWaWV3cG9ydCA/IFtfYm9keSwgX2RvY0VsXSA6IHNjcm9sbGVyLCB7XG4gICAgICAgIHNjcm9sbEJlaGF2aW9yOiBcImF1dG9cIlxuICAgICAgfSk7IC8vIHNtb290aCBzY3JvbGxpbmcgZG9lc24ndCB3b3JrIHdpdGggc25hcC5cblxuICAgICAgc25hcEZ1bmMgPSBfaXNGdW5jdGlvbihzbmFwLnNuYXBUbykgPyBzbmFwLnNuYXBUbyA6IHNuYXAuc25hcFRvID09PSBcImxhYmVsc1wiID8gX2dldExhYmVscyhhbmltYXRpb24pIDogZ3NhcC51dGlscy5zbmFwKHNuYXAuc25hcFRvKTtcbiAgICAgIHNuYXBEdXJDbGFtcCA9IHNuYXAuZHVyYXRpb24gfHwge1xuICAgICAgICBtaW46IDAuMSxcbiAgICAgICAgbWF4OiAyXG4gICAgICB9O1xuICAgICAgc25hcER1ckNsYW1wID0gX2lzT2JqZWN0KHNuYXBEdXJDbGFtcCkgPyBfY2xhbXAoc25hcER1ckNsYW1wLm1pbiwgc25hcER1ckNsYW1wLm1heCkgOiBfY2xhbXAoc25hcER1ckNsYW1wLCBzbmFwRHVyQ2xhbXApO1xuICAgICAgc25hcERlbGF5ZWRDYWxsID0gZ3NhcC5kZWxheWVkQ2FsbChzbmFwLmRlbGF5IHx8IHNjcnViU21vb3RoIC8gMiB8fCAwLjEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHNlbGYuZ2V0VmVsb2NpdHkoKSkgPCAxMCAmJiAhX3BvaW50ZXJJc0Rvd24pIHtcbiAgICAgICAgICB2YXIgdG90YWxQcm9ncmVzcyA9IGFuaW1hdGlvbiAmJiAhaXNUb2dnbGUgPyBhbmltYXRpb24udG90YWxQcm9ncmVzcygpIDogc2VsZi5wcm9ncmVzcyxcbiAgICAgICAgICAgICAgdmVsb2NpdHkgPSAodG90YWxQcm9ncmVzcyAtIHNuYXAyKSAvIChfZ2V0VGltZSgpIC0gX3RpbWUyKSAqIDEwMDAgfHwgMCxcbiAgICAgICAgICAgICAgY2hhbmdlMSA9IF9hYnModmVsb2NpdHkgLyAyKSAqIHZlbG9jaXR5IC8gMC4xODUsXG4gICAgICAgICAgICAgIG5hdHVyYWxFbmQgPSB0b3RhbFByb2dyZXNzICsgY2hhbmdlMSxcbiAgICAgICAgICAgICAgZW5kVmFsdWUgPSBfY2xhbXAoMCwgMSwgc25hcEZ1bmMobmF0dXJhbEVuZCwgc2VsZikpLFxuICAgICAgICAgICAgICBzY3JvbGwgPSBzZWxmLnNjcm9sbCgpLFxuICAgICAgICAgICAgICBlbmRTY3JvbGwgPSBNYXRoLnJvdW5kKHN0YXJ0ICsgZW5kVmFsdWUgKiBjaGFuZ2UpLFxuICAgICAgICAgICAgICB0d2VlbiA9IHR3ZWVuVG8udHdlZW47XG5cbiAgICAgICAgICBpZiAoc2Nyb2xsIDw9IGVuZCAmJiBzY3JvbGwgPj0gc3RhcnQgJiYgZW5kU2Nyb2xsICE9PSBzY3JvbGwpIHtcbiAgICAgICAgICAgIGlmICh0d2VlbiAmJiAhdHdlZW4uX2luaXR0ZWQgJiYgdHdlZW4uZGF0YSA8PSBNYXRoLmFicyhlbmRTY3JvbGwgLSBzY3JvbGwpKSB7XG4gICAgICAgICAgICAgIC8vIHRoZXJlJ3MgYW4gb3ZlcmxhcHBpbmcgc25hcCEgU28gd2UgbXVzdCBmaWd1cmUgb3V0IHdoaWNoIG9uZSBpcyBjbG9zZXIgYW5kIGxldCB0aGF0IHR3ZWVuIGxpdmUuXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHdlZW5UbyhlbmRTY3JvbGwsIHtcbiAgICAgICAgICAgICAgZHVyYXRpb246IHNuYXBEdXJDbGFtcChfYWJzKE1hdGgubWF4KF9hYnMobmF0dXJhbEVuZCAtIHRvdGFsUHJvZ3Jlc3MpLCBfYWJzKGVuZFZhbHVlIC0gdG90YWxQcm9ncmVzcykpICogMC4xODUgLyB2ZWxvY2l0eSAvIDAuMDUgfHwgMCkpLFxuICAgICAgICAgICAgICBlYXNlOiBzbmFwLmVhc2UgfHwgXCJwb3dlcjNcIixcbiAgICAgICAgICAgICAgZGF0YTogTWF0aC5hYnMoZW5kU2Nyb2xsIC0gc2Nyb2xsKSxcbiAgICAgICAgICAgICAgLy8gcmVjb3JkIHRoZSBkaXN0YW5jZSBzbyB0aGF0IGlmIGFub3RoZXIgc25hcCB0d2VlbiBvY2N1cnMgKGNvbmZsaWN0KSB3ZSBjYW4gcHJpb3JpdGl6ZSB0aGUgY2xvc2VzdCBzbmFwLlxuICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgIHNuYXAxID0gc25hcDIgPSBhbmltYXRpb24gJiYgIWlzVG9nZ2xlID8gYW5pbWF0aW9uLnRvdGFsUHJvZ3Jlc3MoKSA6IHNlbGYucHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgb25TbmFwQ29tcGxldGUgJiYgb25TbmFwQ29tcGxldGUoc2VsZik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHNjcm9sbCwgY2hhbmdlMSAqIGNoYW5nZSwgZW5kU2Nyb2xsIC0gc2Nyb2xsIC0gY2hhbmdlMSAqIGNoYW5nZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuaXNBY3RpdmUpIHtcbiAgICAgICAgICBzbmFwRGVsYXllZENhbGwucmVzdGFydCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSkucGF1c2UoKTtcbiAgICB9XG5cbiAgICBpZCAmJiAoX2lkc1tpZF0gPSBzZWxmKTtcbiAgICB0cmlnZ2VyID0gc2VsZi50cmlnZ2VyID0gX3RvQXJyYXkodHJpZ2dlciB8fCBwaW4pWzBdO1xuICAgIHBpbiA9IHBpbiA9PT0gdHJ1ZSA/IHRyaWdnZXIgOiBfdG9BcnJheShwaW4pWzBdO1xuICAgIF9pc1N0cmluZyh0b2dnbGVDbGFzcykgJiYgKHRvZ2dsZUNsYXNzID0ge1xuICAgICAgdGFyZ2V0czogdHJpZ2dlcixcbiAgICAgIGNsYXNzTmFtZTogdG9nZ2xlQ2xhc3NcbiAgICB9KTtcblxuICAgIGlmIChwaW4pIHtcbiAgICAgIHBpblNwYWNpbmcgPT09IGZhbHNlIHx8IHBpblNwYWNpbmcgPT09IF9tYXJnaW4gfHwgKHBpblNwYWNpbmcgPSAhcGluU3BhY2luZyAmJiBfZ2V0Q29tcHV0ZWRTdHlsZShwaW4ucGFyZW50Tm9kZSkuZGlzcGxheSA9PT0gXCJmbGV4XCIgPyBmYWxzZSA6IF9wYWRkaW5nKTsgLy8gaWYgdGhlIHBhcmVudCBpcyBkaXNwbGF5OiBmbGV4LCBkb24ndCBhcHBseSBwaW5TcGFjaW5nIGJ5IGRlZmF1bHQuXG5cbiAgICAgIHNlbGYucGluID0gcGluO1xuICAgICAgdmFycy5mb3JjZTNEICE9PSBmYWxzZSAmJiBnc2FwLnNldChwaW4sIHtcbiAgICAgICAgZm9yY2UzRDogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBwaW5DYWNoZSA9IGdzYXAuY29yZS5nZXRDYWNoZShwaW4pO1xuXG4gICAgICBpZiAoIXBpbkNhY2hlLnNwYWNlcikge1xuICAgICAgICAvLyByZWNvcmQgdGhlIHNwYWNlciBhbmQgcGluT3JpZ2luYWxTdGF0ZSBvbiB0aGUgY2FjaGUgaW4gY2FzZSBzb21lb25lIHRyaWVzIHBpbm5pbmcgdGhlIHNhbWUgZWxlbWVudCB3aXRoIE1VTFRJUExFIFNjcm9sbFRyaWdnZXJzIC0gd2UgZG9uJ3Qgd2FudCB0byBoYXZlIG11bHRpcGxlIHNwYWNlcnMgb3IgcmVjb3JkIHRoZSBcIm9yaWdpbmFsXCIgcGluIHN0YXRlIGFmdGVyIGl0IGhhcyBhbHJlYWR5IGJlZW4gYWZmZWN0ZWQgYnkgYW5vdGhlciBTY3JvbGxUcmlnZ2VyLlxuICAgICAgICBwaW5DYWNoZS5zcGFjZXIgPSBzcGFjZXIgPSBfZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNwYWNlci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBpbi1zcGFjZXJcIiArIChpZCA/IFwiIHBpbi1zcGFjZXItXCIgKyBpZCA6IFwiXCIpKTtcbiAgICAgICAgcGluQ2FjaGUucGluU3RhdGUgPSBwaW5PcmlnaW5hbFN0YXRlID0gX2dldFN0YXRlKHBpbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwaW5PcmlnaW5hbFN0YXRlID0gcGluQ2FjaGUucGluU3RhdGU7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuc3BhY2VyID0gc3BhY2VyID0gcGluQ2FjaGUuc3BhY2VyO1xuICAgICAgY3MgPSBfZ2V0Q29tcHV0ZWRTdHlsZShwaW4pO1xuICAgICAgc3BhY2luZ1N0YXJ0ID0gY3NbcGluU3BhY2luZyArIGRpcmVjdGlvbi5vczJdO1xuICAgICAgcGluR2V0dGVyID0gZ3NhcC5nZXRQcm9wZXJ0eShwaW4pO1xuICAgICAgcGluU2V0dGVyID0gZ3NhcC5xdWlja1NldHRlcihwaW4sIGRpcmVjdGlvbi5hLCBfcHgpOyAvLyBwaW4uZmlyc3RDaGlsZCAmJiAhX21heFNjcm9sbChwaW4sIGRpcmVjdGlvbikgJiYgKHBpbi5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCIpOyAvLyBwcm90ZWN0cyBmcm9tIGNvbGxhcHNpbmcgbWFyZ2lucywgYnV0IGNhbiBoYXZlIHVuaW50ZW5kZWQgY29uc2VxdWVuY2VzIGFzIGRlbW9uc3RyYXRlZCBoZXJlOiBodHRwczovL2NvZGVwZW4uaW8vR3JlZW5Tb2NrL3Blbi8xZTQyYzdhNzNiZmE0MDlkMmNmMWUxODRlN2E0MjQ4ZCBzbyBpdCB3YXMgcmVtb3ZlZCBpbiBmYXZvciBvZiBqdXN0IHRlbGxpbmcgcGVvcGxlIHRvIHNldCB1cCB0aGVpciBDU1MgdG8gYXZvaWQgdGhlIGNvbGxhcHNpbmcgbWFyZ2lucyAob3ZlcmZsb3c6IGhpZGRlbiB8IGF1dG8gaXMganVzdCBvbmUgb3B0aW9uLiBBbm90aGVyIGlzIGJvcmRlci10b3A6IDFweCBzb2xpZCB0cmFuc3BhcmVudCkuXG5cbiAgICAgIF9zd2FwUGluSW4ocGluLCBzcGFjZXIsIGNzKTtcblxuICAgICAgcGluU3RhdGUgPSBfZ2V0U3RhdGUocGluKTtcbiAgICB9XG5cbiAgICBpZiAobWFya2Vycykge1xuICAgICAgbWFya2VyVmFycyA9IF9pc09iamVjdChtYXJrZXJzKSA/IF9zZXREZWZhdWx0cyhtYXJrZXJzLCBfbWFya2VyRGVmYXVsdHMpIDogX21hcmtlckRlZmF1bHRzO1xuICAgICAgbWFya2VyU3RhcnRUcmlnZ2VyID0gX2NyZWF0ZU1hcmtlcihcInNjcm9sbGVyLXN0YXJ0XCIsIGlkLCBzY3JvbGxlciwgZGlyZWN0aW9uLCBtYXJrZXJWYXJzLCAwKTtcbiAgICAgIG1hcmtlckVuZFRyaWdnZXIgPSBfY3JlYXRlTWFya2VyKFwic2Nyb2xsZXItZW5kXCIsIGlkLCBzY3JvbGxlciwgZGlyZWN0aW9uLCBtYXJrZXJWYXJzLCAwLCBtYXJrZXJTdGFydFRyaWdnZXIpO1xuICAgICAgb2Zmc2V0ID0gbWFya2VyU3RhcnRUcmlnZ2VyW1wib2Zmc2V0XCIgKyBkaXJlY3Rpb24ub3AuZDJdO1xuICAgICAgbWFya2VyU3RhcnQgPSBfY3JlYXRlTWFya2VyKFwic3RhcnRcIiwgaWQsIHNjcm9sbGVyLCBkaXJlY3Rpb24sIG1hcmtlclZhcnMsIG9mZnNldCk7XG4gICAgICBtYXJrZXJFbmQgPSBfY3JlYXRlTWFya2VyKFwiZW5kXCIsIGlkLCBzY3JvbGxlciwgZGlyZWN0aW9uLCBtYXJrZXJWYXJzLCBvZmZzZXQpO1xuXG4gICAgICBpZiAoIXVzZUZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgX21ha2VQb3NpdGlvbmFibGUoc2Nyb2xsZXIpO1xuXG4gICAgICAgIGdzYXAuc2V0KFttYXJrZXJTdGFydFRyaWdnZXIsIG1hcmtlckVuZFRyaWdnZXJdLCB7XG4gICAgICAgICAgZm9yY2UzRDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgbWFya2VyU3RhcnRTZXR0ZXIgPSBnc2FwLnF1aWNrU2V0dGVyKG1hcmtlclN0YXJ0VHJpZ2dlciwgZGlyZWN0aW9uLmEsIF9weCk7XG4gICAgICAgIG1hcmtlckVuZFNldHRlciA9IGdzYXAucXVpY2tTZXR0ZXIobWFya2VyRW5kVHJpZ2dlciwgZGlyZWN0aW9uLmEsIF9weCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2VsZi5yZXZlcnQgPSBmdW5jdGlvbiAocmV2ZXJ0KSB7XG4gICAgICB2YXIgciA9IHJldmVydCAhPT0gZmFsc2UgfHwgIXNlbGYuZW5hYmxlZCxcbiAgICAgICAgICBwcmV2UmVmcmVzaGluZyA9IF9yZWZyZXNoaW5nO1xuXG4gICAgICBpZiAociAhPT0gaXNSZXZlcnRlZCkge1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHByZXZTY3JvbGwgPSBNYXRoLm1heChzZWxmLnNjcm9sbCgpLCBzZWxmLnNjcm9sbC5yZWMgfHwgMCk7IC8vIHJlY29yZCB0aGUgc2Nyb2xsIHNvIHdlIGNhbiByZXZlcnQgbGF0ZXIgKHJlcG9zaXRpb25pbmcvcGlubmluZyB0aGluZ3MgY2FuIGFmZmVjdCBzY3JvbGwgcG9zaXRpb24pLiBJbiB0aGUgc3RhdGljIHJlZnJlc2goKSBtZXRob2QsIHdlIGZpcnN0IHJlY29yZCBhbGwgdGhlIHNjcm9sbCBwb3NpdGlvbnMgYXMgYSByZWZlcmVuY2UuXG5cbiAgICAgICAgICBwcmV2UHJvZ3Jlc3MgPSBzZWxmLnByb2dyZXNzO1xuICAgICAgICAgIHByZXZBbmltUHJvZ3Jlc3MgPSBhbmltYXRpb24gJiYgYW5pbWF0aW9uLnByb2dyZXNzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXJrZXJTdGFydCAmJiBbbWFya2VyU3RhcnQsIG1hcmtlckVuZCwgbWFya2VyU3RhcnRUcmlnZ2VyLCBtYXJrZXJFbmRUcmlnZ2VyXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgcmV0dXJuIG0uc3R5bGUuZGlzcGxheSA9IHIgPyBcIm5vbmVcIiA6IFwiYmxvY2tcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIHIgJiYgKF9yZWZyZXNoaW5nID0gMSk7XG4gICAgICAgIHNlbGYudXBkYXRlKHIpOyAvLyBtYWtlIHN1cmUgdGhlIHBpbiBpcyBiYWNrIGluIGl0cyBvcmlnaW5hbCBwb3NpdGlvbiBzbyB0aGF0IGFsbCB0aGUgbWVhc3VyZW1lbnRzIGFyZSBjb3JyZWN0LlxuXG4gICAgICAgIF9yZWZyZXNoaW5nID0gcHJldlJlZnJlc2hpbmc7XG4gICAgICAgIHBpbiAmJiAociA/IF9zd2FwUGluT3V0KHBpbiwgc3BhY2VyLCBwaW5PcmlnaW5hbFN0YXRlKSA6ICghcGluUmVwYXJlbnQgfHwgIXNlbGYuaXNBY3RpdmUpICYmIF9zd2FwUGluSW4ocGluLCBzcGFjZXIsIF9nZXRDb21wdXRlZFN0eWxlKHBpbiksIHNwYWNlclN0YXRlKSk7XG4gICAgICAgIGlzUmV2ZXJ0ZWQgPSByO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzZWxmLnJlZnJlc2ggPSBmdW5jdGlvbiAoc29mdCkge1xuICAgICAgaWYgKF9yZWZyZXNoaW5nIHx8ICFzZWxmLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocGluICYmIHNvZnQgJiYgX2xhc3RTY3JvbGxUaW1lKSB7XG4gICAgICAgIF9hZGRMaXN0ZW5lcihTY3JvbGxUcmlnZ2VyLCBcInNjcm9sbEVuZFwiLCBfc29mdFJlZnJlc2gpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3JlZnJlc2hpbmcgPSAxO1xuICAgICAgc2NydWJUd2VlbiAmJiBzY3J1YlR3ZWVuLmtpbGwoKTtcbiAgICAgIGludmFsaWRhdGVPblJlZnJlc2ggJiYgYW5pbWF0aW9uICYmIGFuaW1hdGlvbi5wcm9ncmVzcygwKS5pbnZhbGlkYXRlKCk7XG4gICAgICBpc1JldmVydGVkIHx8IHNlbGYucmV2ZXJ0KCk7XG5cbiAgICAgIHZhciBzaXplID0gZ2V0U2Nyb2xsZXJTaXplKCksXG4gICAgICAgICAgc2Nyb2xsZXJCb3VuZHMgPSBnZXRTY3JvbGxlck9mZnNldHMoKSxcbiAgICAgICAgICBtYXggPSBfbWF4U2Nyb2xsKHNjcm9sbGVyLCBkaXJlY3Rpb24pLFxuICAgICAgICAgIG9mZnNldCA9IDAsXG4gICAgICAgICAgb3RoZXJQaW5PZmZzZXQgPSAwLFxuICAgICAgICAgIHBhcnNlZEVuZCA9IHZhcnMuZW5kLFxuICAgICAgICAgIHBhcnNlZEVuZFRyaWdnZXIgPSB2YXJzLmVuZFRyaWdnZXIgfHwgdHJpZ2dlcixcbiAgICAgICAgICBwYXJzZWRTdGFydCA9IHZhcnMuc3RhcnQgfHwgKHZhcnMuc3RhcnQgPT09IDAgPyAwIDogcGluIHx8ICF0cmlnZ2VyID8gXCIwIDBcIiA6IFwiMCAxMDAlXCIpLFxuICAgICAgICAgIHRyaWdnZXJJbmRleCA9IHRyaWdnZXIgJiYgTWF0aC5tYXgoMCwgX3RyaWdnZXJzLmluZGV4T2Yoc2VsZikpIHx8IDAsXG4gICAgICAgICAgaSA9IHRyaWdnZXJJbmRleCxcbiAgICAgICAgICBjcyxcbiAgICAgICAgICBib3VuZHMsXG4gICAgICAgICAgc2Nyb2xsLFxuICAgICAgICAgIGlzVmVydGljYWwsXG4gICAgICAgICAgb3ZlcnJpZGUsXG4gICAgICAgICAgY3VyVHJpZ2dlcixcbiAgICAgICAgICBjdXJQaW4sXG4gICAgICAgICAgb3Bwb3NpdGVTY3JvbGw7XG5cbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgLy8gdXNlciBtaWdodCB0cnkgdG8gcGluIHRoZSBzYW1lIGVsZW1lbnQgbW9yZSB0aGFuIG9uY2UsIHNvIHdlIG11c3QgZmluZCBhbnkgcHJpb3IgdHJpZ2dlcnMgd2l0aCB0aGUgc2FtZSBwaW4sIHJldmVydCB0aGVtLCBhbmQgZGV0ZXJtaW5lIGhvdyBsb25nIHRoZXkncmUgcGlubmluZyBzbyB0aGF0IHdlIGNhbiBvZmZzZXQgdGhpbmdzIGFwcHJvcHJpYXRlbHkuIE1ha2Ugc3VyZSB3ZSByZXZlcnQgZnJvbSBsYXN0IHRvIGZpcnN0IHNvIHRoYXQgdGhpbmdzIFwicmV3aW5kXCIgcHJvcGVybHkuXG4gICAgICAgIGN1clBpbiA9IF90cmlnZ2Vyc1tpXS5waW47XG4gICAgICAgIGN1clBpbiAmJiAoY3VyUGluID09PSB0cmlnZ2VyIHx8IGN1clBpbiA9PT0gcGluKSAmJiBfdHJpZ2dlcnNbaV0ucmV2ZXJ0KCk7XG4gICAgICB9XG5cbiAgICAgIHN0YXJ0ID0gX3BhcnNlUG9zaXRpb24ocGFyc2VkU3RhcnQsIHRyaWdnZXIsIHNpemUsIGRpcmVjdGlvbiwgc2VsZi5zY3JvbGwoKSwgbWFya2VyU3RhcnQsIG1hcmtlclN0YXJ0VHJpZ2dlciwgc2VsZiwgc2Nyb2xsZXJCb3VuZHMsIGJvcmRlcldpZHRoLCB1c2VGaXhlZFBvc2l0aW9uLCBtYXgpIHx8IChwaW4gPyAtMC4wMDEgOiAwKTtcbiAgICAgIF9pc0Z1bmN0aW9uKHBhcnNlZEVuZCkgJiYgKHBhcnNlZEVuZCA9IHBhcnNlZEVuZChzZWxmKSk7XG5cbiAgICAgIGlmIChfaXNTdHJpbmcocGFyc2VkRW5kKSAmJiAhcGFyc2VkRW5kLmluZGV4T2YoXCIrPVwiKSkge1xuICAgICAgICBpZiAofnBhcnNlZEVuZC5pbmRleE9mKFwiIFwiKSkge1xuICAgICAgICAgIHBhcnNlZEVuZCA9IChfaXNTdHJpbmcocGFyc2VkU3RhcnQpID8gcGFyc2VkU3RhcnQuc3BsaXQoXCIgXCIpWzBdIDogXCJcIikgKyBwYXJzZWRFbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2Zmc2V0ID0gX29mZnNldFRvUHgocGFyc2VkRW5kLnN1YnN0cigyKSwgc2l6ZSk7XG4gICAgICAgICAgcGFyc2VkRW5kID0gX2lzU3RyaW5nKHBhcnNlZFN0YXJ0KSA/IHBhcnNlZFN0YXJ0IDogc3RhcnQgKyBvZmZzZXQ7IC8vIF9wYXJzZVBvc2l0aW9uIHdvbid0IGZhY3RvciBpbiB0aGUgb2Zmc2V0IGlmIHRoZSBzdGFydCBpcyBhIG51bWJlciwgc28gZG8gaXQgaGVyZS5cblxuICAgICAgICAgIHBhcnNlZEVuZFRyaWdnZXIgPSB0cmlnZ2VyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVuZCA9IE1hdGgubWF4KHN0YXJ0LCBfcGFyc2VQb3NpdGlvbihwYXJzZWRFbmQgfHwgKHBhcnNlZEVuZFRyaWdnZXIgPyBcIjEwMCUgMFwiIDogbWF4KSwgcGFyc2VkRW5kVHJpZ2dlciwgc2l6ZSwgZGlyZWN0aW9uLCBzZWxmLnNjcm9sbCgpICsgb2Zmc2V0LCBtYXJrZXJFbmQsIG1hcmtlckVuZFRyaWdnZXIsIHNlbGYsIHNjcm9sbGVyQm91bmRzLCBib3JkZXJXaWR0aCwgdXNlRml4ZWRQb3NpdGlvbiwgbWF4KSkgfHwgLTAuMDAxO1xuICAgICAgY2hhbmdlID0gZW5kIC0gc3RhcnQgfHwgKHN0YXJ0IC09IDAuMDEpICYmIDAuMDAxO1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgIGkgPSB0cmlnZ2VySW5kZXg7XG5cbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgY3VyVHJpZ2dlciA9IF90cmlnZ2Vyc1tpXTtcbiAgICAgICAgY3VyUGluID0gY3VyVHJpZ2dlci5waW47XG5cbiAgICAgICAgaWYgKGN1clBpbiAmJiBjdXJUcmlnZ2VyLnN0YXJ0IC0gY3VyVHJpZ2dlci5fcGluUHVzaCA8IHN0YXJ0KSB7XG4gICAgICAgICAgY3MgPSBjdXJUcmlnZ2VyLmVuZCAtIGN1clRyaWdnZXIuc3RhcnQ7XG4gICAgICAgICAgY3VyUGluID09PSB0cmlnZ2VyICYmIChvZmZzZXQgKz0gY3MpO1xuICAgICAgICAgIGN1clBpbiA9PT0gcGluICYmIChvdGhlclBpbk9mZnNldCArPSBjcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3RhcnQgKz0gb2Zmc2V0O1xuICAgICAgZW5kICs9IG9mZnNldDtcbiAgICAgIHNlbGYuX3BpblB1c2ggPSBvdGhlclBpbk9mZnNldDtcblxuICAgICAgaWYgKG1hcmtlclN0YXJ0ICYmIG9mZnNldCkge1xuICAgICAgICAvLyBvZmZzZXQgdGhlIG1hcmtlcnMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGNzID0ge307XG4gICAgICAgIGNzW2RpcmVjdGlvbi5hXSA9IFwiKz1cIiArIG9mZnNldDtcbiAgICAgICAgZ3NhcC5zZXQoW21hcmtlclN0YXJ0LCBtYXJrZXJFbmRdLCBjcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwaW4pIHtcbiAgICAgICAgY3MgPSBfZ2V0Q29tcHV0ZWRTdHlsZShwaW4pO1xuICAgICAgICBpc1ZlcnRpY2FsID0gZGlyZWN0aW9uID09PSBfdmVydGljYWw7XG4gICAgICAgIHNjcm9sbCA9IHNlbGYuc2Nyb2xsKCk7IC8vIHJlY2FsY3VsYXRlIGJlY2F1c2UgdGhlIHRyaWdnZXJzIGNhbiBhZmZlY3QgdGhlIHNjcm9sbFxuXG4gICAgICAgIHBpblN0YXJ0ID0gcGFyc2VGbG9hdChwaW5HZXR0ZXIoZGlyZWN0aW9uLmEpKSArIG90aGVyUGluT2Zmc2V0O1xuICAgICAgICAhbWF4ICYmIGVuZCA+IDEgJiYgKChpc1ZpZXdwb3J0ID8gX2JvZHkgOiBzY3JvbGxlcikuc3R5bGVbXCJvdmVyZmxvdy1cIiArIGRpcmVjdGlvbi5hXSA9IFwic2Nyb2xsXCIpOyAvLyBtYWtlcyBzdXJlIHRoZSBzY3JvbGxlciBoYXMgYSBzY3JvbGxiYXIsIG90aGVyd2lzZSBpZiBzb21ldGhpbmcgaGFzIHdpZHRoOiAxMDAlLCBmb3IgZXhhbXBsZSwgaXQgd291bGQgYmUgdG9vIGJpZyAoZXhjbHVkZSB0aGUgc2Nyb2xsYmFyKS4gU2VlIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9mb3J1bXMvdG9waWMvMjUxODItc2Nyb2xsdHJpZ2dlci13aWR0aC1vZi1wYWdlLWluY3JlYXNlLXdoZXJlLW1hcmtlcnMtYXJlLXNldC10by1mYWxzZS9cblxuICAgICAgICBfc3dhcFBpbkluKHBpbiwgc3BhY2VyLCBjcyk7XG5cbiAgICAgICAgcGluU3RhdGUgPSBfZ2V0U3RhdGUocGluKTsgLy8gdHJhbnNmb3JtcyB3aWxsIGludGVyZmVyZSB3aXRoIHRoZSB0b3AvbGVmdC9yaWdodC9ib3R0b20gcGxhY2VtZW50LCBzbyByZW1vdmUgdGhlbSB0ZW1wb3JhcmlseS4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgZmFjdG9ycyBpbiB0cmFuc2Zvcm1zLlxuXG4gICAgICAgIGJvdW5kcyA9IF9nZXRCb3VuZHMocGluLCB0cnVlKTtcbiAgICAgICAgb3Bwb3NpdGVTY3JvbGwgPSB1c2VGaXhlZFBvc2l0aW9uICYmIF9nZXRTY3JvbGxGdW5jKHNjcm9sbGVyLCBpc1ZlcnRpY2FsID8gX2hvcml6b250YWwgOiBfdmVydGljYWwpKCk7XG5cbiAgICAgICAgaWYgKHBpblNwYWNpbmcpIHtcbiAgICAgICAgICBzcGFjZXJTdGF0ZSA9IFtwaW5TcGFjaW5nICsgZGlyZWN0aW9uLm9zMiwgY2hhbmdlICsgb3RoZXJQaW5PZmZzZXQgKyBfcHhdO1xuICAgICAgICAgIHNwYWNlclN0YXRlLnQgPSBzcGFjZXI7XG4gICAgICAgICAgaSA9IHBpblNwYWNpbmcgPT09IF9wYWRkaW5nID8gX2dldFNpemUocGluLCBkaXJlY3Rpb24pICsgY2hhbmdlICsgb3RoZXJQaW5PZmZzZXQgOiAwO1xuICAgICAgICAgIGkgJiYgc3BhY2VyU3RhdGUucHVzaChkaXJlY3Rpb24uZCwgaSArIF9weCk7IC8vIGZvciBib3gtc2l6aW5nOiBib3JkZXItYm94IChtdXN0IGluY2x1ZGUgcGFkZGluZykuXG5cbiAgICAgICAgICBfc2V0U3RhdGUoc3BhY2VyU3RhdGUpO1xuXG4gICAgICAgICAgdXNlRml4ZWRQb3NpdGlvbiAmJiBzZWxmLnNjcm9sbChwcmV2U2Nyb2xsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VGaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgb3ZlcnJpZGUgPSB7XG4gICAgICAgICAgICB0b3A6IGJvdW5kcy50b3AgKyAoaXNWZXJ0aWNhbCA/IHNjcm9sbCAtIHN0YXJ0IDogb3Bwb3NpdGVTY3JvbGwpICsgX3B4LFxuICAgICAgICAgICAgbGVmdDogYm91bmRzLmxlZnQgKyAoaXNWZXJ0aWNhbCA/IG9wcG9zaXRlU2Nyb2xsIDogc2Nyb2xsIC0gc3RhcnQpICsgX3B4LFxuICAgICAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCJcbiAgICAgICAgICB9O1xuICAgICAgICAgIG92ZXJyaWRlW193aWR0aF0gPSBvdmVycmlkZVtcIm1heFwiICsgX1dpZHRoXSA9IE1hdGguY2VpbChib3VuZHMud2lkdGgpICsgX3B4O1xuICAgICAgICAgIG92ZXJyaWRlW19oZWlnaHRdID0gb3ZlcnJpZGVbXCJtYXhcIiArIF9IZWlnaHRdID0gTWF0aC5jZWlsKGJvdW5kcy5oZWlnaHQpICsgX3B4O1xuICAgICAgICAgIG92ZXJyaWRlW19tYXJnaW5dID0gb3ZlcnJpZGVbX21hcmdpbiArIF9Ub3BdID0gb3ZlcnJpZGVbX21hcmdpbiArIF9SaWdodF0gPSBvdmVycmlkZVtfbWFyZ2luICsgX0JvdHRvbV0gPSBvdmVycmlkZVtfbWFyZ2luICsgX0xlZnRdID0gXCIwXCI7XG4gICAgICAgICAgb3ZlcnJpZGVbX3BhZGRpbmddID0gY3NbX3BhZGRpbmddO1xuICAgICAgICAgIG92ZXJyaWRlW19wYWRkaW5nICsgX1RvcF0gPSBjc1tfcGFkZGluZyArIF9Ub3BdO1xuICAgICAgICAgIG92ZXJyaWRlW19wYWRkaW5nICsgX1JpZ2h0XSA9IGNzW19wYWRkaW5nICsgX1JpZ2h0XTtcbiAgICAgICAgICBvdmVycmlkZVtfcGFkZGluZyArIF9Cb3R0b21dID0gY3NbX3BhZGRpbmcgKyBfQm90dG9tXTtcbiAgICAgICAgICBvdmVycmlkZVtfcGFkZGluZyArIF9MZWZ0XSA9IGNzW19wYWRkaW5nICsgX0xlZnRdO1xuICAgICAgICAgIHBpbkFjdGl2ZVN0YXRlID0gX2NvcHlTdGF0ZShwaW5PcmlnaW5hbFN0YXRlLCBvdmVycmlkZSwgcGluUmVwYXJlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFuaW1hdGlvbikge1xuICAgICAgICAgIC8vIHRoZSBhbmltYXRpb24gbWlnaHQgYmUgYWZmZWN0aW5nIHRoZSB0cmFuc2Zvcm0sIHNvIHdlIG11c3QganVtcCB0byB0aGUgZW5kLCBjaGVjayB0aGUgdmFsdWUsIGFuZCBjb21wZW5zYXRlIGFjY29yZGluZ2x5LiBPdGhlcndpc2UsIHdoZW4gaXQgYmVjb21lcyB1bnBpbm5lZCwgdGhlIHBpblNldHRlcigpIHdpbGwgZ2V0IHNldCB0byBhIHZhbHVlIHRoYXQgZG9lc24ndCBpbmNsdWRlIHdoYXRldmVyIHRoZSBhbmltYXRpb24gZGlkLlxuICAgICAgICAgIGFuaW1hdGlvbi5wcm9ncmVzcygxLCB0cnVlKTtcbiAgICAgICAgICBwaW5DaGFuZ2UgPSBwaW5HZXR0ZXIoZGlyZWN0aW9uLmEpIC0gcGluU3RhcnQgKyBjaGFuZ2UgKyBvdGhlclBpbk9mZnNldDtcbiAgICAgICAgICBjaGFuZ2UgIT09IHBpbkNoYW5nZSAmJiBwaW5BY3RpdmVTdGF0ZS5zcGxpY2UocGluQWN0aXZlU3RhdGUubGVuZ3RoIC0gMiwgMik7IC8vIHRyYW5zZm9ybSBpcyB0aGUgbGFzdCBwcm9wZXJ0eS92YWx1ZSBzZXQgaW4gdGhlIHN0YXRlIEFycmF5LiBTaW5jZSB0aGUgYW5pbWF0aW9uIGlzIGNvbnRyb2xsaW5nIHRoYXQsIHdlIHNob3VsZCBvbWl0IGl0LlxuXG4gICAgICAgICAgYW5pbWF0aW9uLnByb2dyZXNzKDAsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBpbkNoYW5nZSA9IGNoYW5nZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyICYmIHNlbGYuc2Nyb2xsKCkpIHtcbiAgICAgICAgLy8gaXQgbWF5IGJlIElOU0lERSBhIHBpbm5lZCBlbGVtZW50LCBzbyB3YWxrIHVwIHRoZSB0cmVlIGFuZCBsb29rIGZvciBhbnkgZWxlbWVudHMgd2l0aCBfcGluT2Zmc2V0IHRvIGNvbXBlbnNhdGUgYmVjYXVzZSBhbnl0aGluZyB3aXRoIHBpblNwYWNpbmcgdGhhdCdzIGFscmVhZHkgc2Nyb2xsZWQgd291bGQgdGhyb3cgb2ZmIHRoZSBtZWFzdXJlbWVudHMgaW4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgYm91bmRzID0gdHJpZ2dlci5wYXJlbnROb2RlO1xuXG4gICAgICAgIHdoaWxlIChib3VuZHMgJiYgYm91bmRzICE9PSBfYm9keSkge1xuICAgICAgICAgIGlmIChib3VuZHMuX3Bpbk9mZnNldCkge1xuICAgICAgICAgICAgc3RhcnQgLT0gYm91bmRzLl9waW5PZmZzZXQ7XG4gICAgICAgICAgICBlbmQgLT0gYm91bmRzLl9waW5PZmZzZXQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYm91bmRzID0gYm91bmRzLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gMDsgaSA8IHRyaWdnZXJJbmRleDsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSByZXZlcnQgZnJvbSBmaXJzdCB0byBsYXN0IHRvIG1ha2Ugc3VyZSB0aGluZ3MgcmVhY2ggdGhlaXIgZW5kIHN0YXRlIHByb3Blcmx5XG4gICAgICAgIGN1clRyaWdnZXIgPSBfdHJpZ2dlcnNbaV0ucGluO1xuICAgICAgICBjdXJUcmlnZ2VyICYmIChjdXJUcmlnZ2VyID09PSB0cmlnZ2VyIHx8IGN1clRyaWdnZXIgPT09IHBpbikgJiYgX3RyaWdnZXJzW2ldLnJldmVydChmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuc3RhcnQgPSBzdGFydDtcbiAgICAgIHNlbGYuZW5kID0gZW5kO1xuICAgICAgc2Nyb2xsMSA9IHNjcm9sbDIgPSBzZWxmLnNjcm9sbCgpOyAvLyByZXNldCB2ZWxvY2l0eVxuXG4gICAgICBzY3JvbGwxIDwgcHJldlNjcm9sbCAmJiBzZWxmLnNjcm9sbChwcmV2U2Nyb2xsKTtcbiAgICAgIHNlbGYucmV2ZXJ0KGZhbHNlKTtcbiAgICAgIF9yZWZyZXNoaW5nID0gMDtcbiAgICAgIHByZXZBbmltUHJvZ3Jlc3MgJiYgaXNUb2dnbGUgJiYgYW5pbWF0aW9uLnByb2dyZXNzKHByZXZBbmltUHJvZ3Jlc3MsIHRydWUpO1xuXG4gICAgICBpZiAocHJldlByb2dyZXNzICE9PSBzZWxmLnByb2dyZXNzKSB7XG4gICAgICAgIC8vIGVuc3VyZXMgdGhhdCB0aGUgZGlyZWN0aW9uIGlzIHNldCBwcm9wZXJseSAod2hlbiByZWZyZXNoaW5nLCBwcm9ncmVzcyBpcyBzZXQgYmFjayB0byAwIGluaXRpYWxseSwgdGhlbiBiYWNrIGFnYWluIHRvIHdoZXJldmVyIGl0IG5lZWRzIHRvIGJlKSBhbmQgdGhhdCBjYWxsYmFja3MgYXJlIHRyaWdnZXJlZC5cbiAgICAgICAgc2NydWJUd2VlbiAmJiBhbmltYXRpb24udG90YWxQcm9ncmVzcyhwcmV2UHJvZ3Jlc3MsIHRydWUpOyAvLyB0byBhdm9pZCBpc3N1ZXMgd2hlcmUgYW5pbWF0aW9uIGNhbGxiYWNrcyBsaWtlIG9uU3RhcnQgYXJlbid0IHRyaWdnZXJlZC5cblxuICAgICAgICBzZWxmLnByb2dyZXNzID0gcHJldlByb2dyZXNzO1xuICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBwaW4gJiYgcGluU3BhY2luZyAmJiAoc3BhY2VyLl9waW5PZmZzZXQgPSBNYXRoLnJvdW5kKHNlbGYucHJvZ3Jlc3MgKiBwaW5DaGFuZ2UpKTtcbiAgICAgIG9uUmVmcmVzaCAmJiBvblJlZnJlc2goc2VsZik7XG4gICAgfTtcblxuICAgIHNlbGYuZ2V0VmVsb2NpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKHNlbGYuc2Nyb2xsKCkgLSBzY3JvbGwyKSAvIChfZ2V0VGltZSgpIC0gX3RpbWUyKSAqIDEwMDAgfHwgMDtcbiAgICB9O1xuXG4gICAgc2VsZi51cGRhdGUgPSBmdW5jdGlvbiAocmVzZXQsIHJlY29yZFZlbG9jaXR5KSB7XG4gICAgICB2YXIgc2Nyb2xsID0gc2VsZi5zY3JvbGwoKSxcbiAgICAgICAgICBwID0gcmVzZXQgPyAwIDogKHNjcm9sbCAtIHN0YXJ0KSAvIGNoYW5nZSxcbiAgICAgICAgICBjbGlwcGVkID0gcCA8IDAgPyAwIDogcCA+IDEgPyAxIDogcCB8fCAwLFxuICAgICAgICAgIHByZXZQcm9ncmVzcyA9IHNlbGYucHJvZ3Jlc3MsXG4gICAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgICAgd2FzQWN0aXZlLFxuICAgICAgICAgIHRvZ2dsZVN0YXRlLFxuICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICBzdGF0ZUNoYW5nZWQsXG4gICAgICAgICAgdG9nZ2xlZDtcblxuICAgICAgaWYgKHJlY29yZFZlbG9jaXR5KSB7XG4gICAgICAgIHNjcm9sbDIgPSBzY3JvbGwxO1xuICAgICAgICBzY3JvbGwxID0gc2Nyb2xsO1xuXG4gICAgICAgIGlmIChzbmFwKSB7XG4gICAgICAgICAgc25hcDIgPSBzbmFwMTtcbiAgICAgICAgICBzbmFwMSA9IGFuaW1hdGlvbiAmJiAhaXNUb2dnbGUgPyBhbmltYXRpb24udG90YWxQcm9ncmVzcygpIDogY2xpcHBlZDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBhbnRpY2lwYXRlIHRoZSBwaW5uaW5nIGEgZmV3IHRpY2tzIGFoZWFkIG9mIHRpbWUgYmFzZWQgb24gdmVsb2NpdHkgdG8gYXZvaWQgYSB2aXN1YWwgZ2xpdGNoIGR1ZSB0byB0aGUgZmFjdCB0aGF0IG1vc3QgYnJvd3NlcnMgZG8gc2Nyb2xsaW5nIG9uIGEgc2VwYXJhdGUgdGhyZWFkIChub3Qgc3luY2VkIHdpdGggcmVxdWVzdEFuaW1hdGlvbkZyYW1lKS5cblxuXG4gICAgICBhbnRpY2lwYXRlUGluICYmICFjbGlwcGVkICYmIHBpbiAmJiAhX3JlZnJlc2hpbmcgJiYgIV9zdGFydHVwICYmIF9sYXN0U2Nyb2xsVGltZSAmJiBzdGFydCA8IHNjcm9sbCArIChzY3JvbGwgLSBzY3JvbGwyKSAvIChfZ2V0VGltZSgpIC0gX3RpbWUyKSAqIGFudGljaXBhdGVQaW4gJiYgKGNsaXBwZWQgPSAwLjAwMDEpO1xuXG4gICAgICBpZiAoY2xpcHBlZCAhPT0gcHJldlByb2dyZXNzICYmIHNlbGYuZW5hYmxlZCkge1xuICAgICAgICBpc0FjdGl2ZSA9IHNlbGYuaXNBY3RpdmUgPSAhIWNsaXBwZWQgJiYgY2xpcHBlZCA8IDE7XG4gICAgICAgIHdhc0FjdGl2ZSA9ICEhcHJldlByb2dyZXNzICYmIHByZXZQcm9ncmVzcyA8IDE7XG4gICAgICAgIHRvZ2dsZWQgPSBpc0FjdGl2ZSAhPT0gd2FzQWN0aXZlO1xuICAgICAgICBzdGF0ZUNoYW5nZWQgPSB0b2dnbGVkIHx8ICEhY2xpcHBlZCAhPT0gISFwcmV2UHJvZ3Jlc3M7IC8vIGNvdWxkIGdvIGZyb20gc3RhcnQgYWxsIHRoZSB3YXkgdG8gZW5kLCB0aHVzIGl0IGRpZG4ndCB0b2dnbGUgYnV0IGl0IGRpZCBjaGFuZ2Ugc3RhdGUgaW4gYSBzZW5zZSAobWF5IG5lZWQgdG8gZmlyZSBhIGNhbGxiYWNrKVxuXG4gICAgICAgIHNlbGYuZGlyZWN0aW9uID0gY2xpcHBlZCA+IHByZXZQcm9ncmVzcyA/IDEgOiAtMTtcbiAgICAgICAgc2VsZi5wcm9ncmVzcyA9IGNsaXBwZWQ7XG5cbiAgICAgICAgaWYgKCFpc1RvZ2dsZSkge1xuICAgICAgICAgIGlmIChzY3J1YlR3ZWVuICYmICFfcmVmcmVzaGluZyAmJiAhX3N0YXJ0dXApIHtcbiAgICAgICAgICAgIHNjcnViVHdlZW4udmFycy50b3RhbFByb2dyZXNzID0gY2xpcHBlZDtcbiAgICAgICAgICAgIHNjcnViVHdlZW4uaW52YWxpZGF0ZSgpLnJlc3RhcnQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5pbWF0aW9uLnRvdGFsUHJvZ3Jlc3MoY2xpcHBlZCwgISFfcmVmcmVzaGluZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBpbikge1xuICAgICAgICAgIHJlc2V0ICYmIHBpblNwYWNpbmcgJiYgKHNwYWNlci5zdHlsZVtwaW5TcGFjaW5nICsgZGlyZWN0aW9uLm9zMl0gPSBzcGFjaW5nU3RhcnQpO1xuXG4gICAgICAgICAgaWYgKCF1c2VGaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBwaW5TZXR0ZXIocGluU3RhcnQgKyBwaW5DaGFuZ2UgKiBjbGlwcGVkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlQ2hhbmdlZCkge1xuICAgICAgICAgICAgYWN0aW9uID0gIXJlc2V0ICYmIGNsaXBwZWQgPiBwcmV2UHJvZ3Jlc3MgJiYgZW5kICsgMSA+IHNjcm9sbCAmJiBzY3JvbGwgKyAxID49IF9tYXhTY3JvbGwoc2Nyb2xsZXIsIGRpcmVjdGlvbik7IC8vIGlmIGl0J3MgYXQgdGhlIFZFUlkgZW5kIG9mIHRoZSBwYWdlLCBkb24ndCBzd2l0Y2ggYXdheSBmcm9tIHBvc2l0aW9uOiBmaXhlZCBiZWNhdXNlIGl0J3MgcG9pbnRsZXNzIGFuZCBpdCBjb3VsZCBjYXVzZSBhIGJyaWVmIGZsYXNoIHdoZW4gdGhlIHVzZXIgc2Nyb2xscyBiYWNrIHVwICh3aGVuIGl0IGdldHMgcGlubmVkIGFnYWluKVxuXG4gICAgICAgICAgICBpZiAocGluUmVwYXJlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKCFyZXNldCAmJiAoaXNBY3RpdmUgfHwgYWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBfZ2V0Qm91bmRzKHBpbiwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIF9vZmZzZXQgPSBzY3JvbGwgLSBzdGFydDtcblxuICAgICAgICAgICAgICAgIF9yZXBhcmVudChwaW4sIF9ib2R5LCBib3VuZHMudG9wICsgKGRpcmVjdGlvbiA9PT0gX3ZlcnRpY2FsID8gX29mZnNldCA6IDApICsgX3B4LCBib3VuZHMubGVmdCArIChkaXJlY3Rpb24gPT09IF92ZXJ0aWNhbCA/IDAgOiBfb2Zmc2V0KSArIF9weCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3JlcGFyZW50KHBpbiwgc3BhY2VyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfc2V0U3RhdGUoaXNBY3RpdmUgfHwgYWN0aW9uID8gcGluQWN0aXZlU3RhdGUgOiBwaW5TdGF0ZSk7XG5cbiAgICAgICAgICAgIHBpbkNoYW5nZSAhPT0gY2hhbmdlICYmIGNsaXBwZWQgPCAxICYmIGlzQWN0aXZlIHx8IHBpblNldHRlcihwaW5TdGFydCArIChjbGlwcGVkID09PSAxICYmICFhY3Rpb24gPyBwaW5DaGFuZ2UgOiAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc25hcCAmJiAhdHdlZW5Uby50d2VlbiAmJiAhX3JlZnJlc2hpbmcgJiYgIV9zdGFydHVwICYmIHNuYXBEZWxheWVkQ2FsbC5yZXN0YXJ0KHRydWUpO1xuICAgICAgICB0b2dnbGVDbGFzcyAmJiAodG9nZ2xlZCB8fCBvbmNlICYmIGNsaXBwZWQgJiYgKGNsaXBwZWQgPCAxIHx8ICFfbGltaXRDYWxsYmFja3MpKSAmJiBfdG9BcnJheSh0b2dnbGVDbGFzcy50YXJnZXRzKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3RbaXNBY3RpdmUgfHwgb25jZSA/IFwiYWRkXCIgOiBcInJlbW92ZVwiXSh0b2dnbGVDbGFzcy5jbGFzc05hbWUpO1xuICAgICAgICB9KTsgLy8gY2xhc3NlcyBjb3VsZCBhZmZlY3QgcG9zaXRpb25pbmcsIHNvIGRvIGl0IGV2ZW4gaWYgcmVzZXQgb3IgcmVmcmVzaGluZyBpcyB0cnVlLlxuXG4gICAgICAgIG9uVXBkYXRlICYmICFpc1RvZ2dsZSAmJiAhcmVzZXQgJiYgb25VcGRhdGUoc2VsZik7XG5cbiAgICAgICAgaWYgKHN0YXRlQ2hhbmdlZCAmJiAhX3JlZnJlc2hpbmcpIHtcbiAgICAgICAgICB0b2dnbGVTdGF0ZSA9IGNsaXBwZWQgJiYgIXByZXZQcm9ncmVzcyA/IDAgOiBjbGlwcGVkID09PSAxID8gMSA6IHByZXZQcm9ncmVzcyA9PT0gMSA/IDIgOiAzOyAvLyAwID0gZW50ZXIsIDEgPSBsZWF2ZSwgMiA9IGVudGVyQmFjaywgMyA9IGxlYXZlQmFjayAod2UgcHJpb3JpdGl6ZSB0aGUgRklSU1QgZW5jb3VudGVyLCB0aHVzIGlmIHlvdSBzY3JvbGwgcmVhbGx5IGZhc3QgcGFzdCB0aGUgb25FbnRlciBhbmQgb25MZWF2ZSBpbiBvbmUgdGljaywgaXQnZCBwcmlvcml0aXplIG9uRW50ZXIuXG5cbiAgICAgICAgICBpZiAoaXNUb2dnbGUpIHtcbiAgICAgICAgICAgIGFjdGlvbiA9ICF0b2dnbGVkICYmIHRvZ2dsZUFjdGlvbnNbdG9nZ2xlU3RhdGUgKyAxXSAhPT0gXCJub25lXCIgJiYgdG9nZ2xlQWN0aW9uc1t0b2dnbGVTdGF0ZSArIDFdIHx8IHRvZ2dsZUFjdGlvbnNbdG9nZ2xlU3RhdGVdOyAvLyBpZiBpdCBkaWRuJ3QgdG9nZ2xlLCB0aGF0IG1lYW5zIGl0IHNob3QgcmlnaHQgcGFzdCBhbmQgc2luY2Ugd2UgcHJpb3JpdGl6ZSB0aGUgXCJlbnRlclwiIGFjdGlvbiwgd2Ugc2hvdWxkIHN3aXRjaCB0byB0aGUgXCJsZWF2ZVwiIGluIHRoaXMgY2FzZSAoYnV0IG9ubHkgaWYgb25lIGlzIGRlZmluZWQpXG5cbiAgICAgICAgICAgIGlmIChhbmltYXRpb24gJiYgKGFjdGlvbiA9PT0gXCJjb21wbGV0ZVwiIHx8IGFjdGlvbiA9PT0gXCJyZXNldFwiIHx8IGFjdGlvbiBpbiBhbmltYXRpb24pKSB7XG4gICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5wYXVzZSgpLnRvdGFsUHJvZ3Jlc3MoMSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInJlc2V0XCIpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24ucmVzdGFydCh0cnVlKS5wYXVzZSgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvblthY3Rpb25dKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb25VcGRhdGUgJiYgb25VcGRhdGUoc2VsZik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRvZ2dsZWQgfHwgIV9saW1pdENhbGxiYWNrcykge1xuICAgICAgICAgICAgLy8gb24gc3RhcnR1cCwgdGhlIHBhZ2UgY291bGQgYmUgc2Nyb2xsZWQgYW5kIHdlIGRvbid0IHdhbnQgdG8gZmlyZSBjYWxsYmFja3MgdGhhdCBkaWRuJ3QgdG9nZ2xlLiBGb3IgZXhhbXBsZSBvbkVudGVyIHNob3VsZG4ndCBmaXJlIGlmIHRoZSBTY3JvbGxUcmlnZ2VyIGlzbid0IGFjdHVhbGx5IGVudGVyZWQuXG4gICAgICAgICAgICBvblRvZ2dsZSAmJiB0b2dnbGVkICYmIG9uVG9nZ2xlKHNlbGYpO1xuICAgICAgICAgICAgY2FsbGJhY2tzW3RvZ2dsZVN0YXRlXSAmJiBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdKHNlbGYpO1xuICAgICAgICAgICAgb25jZSAmJiAoY2xpcHBlZCA9PT0gMSA/IHNlbGYua2lsbChmYWxzZSwgMSkgOiBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdID0gMCk7IC8vIGEgY2FsbGJhY2sgc2hvdWxkbid0IGJlIGNhbGxlZCBhZ2FpbiBpZiBvbmNlIGlzIHRydWUuXG5cbiAgICAgICAgICAgIGlmICghdG9nZ2xlZCkge1xuICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRvIGdvIGNvbXBsZXRlbHkgcGFzdCwgbGlrZSBmcm9tIGJlZm9yZSB0aGUgc3RhcnQgdG8gYWZ0ZXIgdGhlIGVuZCAob3IgdmljZS12ZXJzYSkgaW4gd2hpY2ggY2FzZSBCT1RIIGNhbGxiYWNrcyBzaG91bGQgYmUgZmlyZWQgaW4gdGhhdCBvcmRlclxuICAgICAgICAgICAgICB0b2dnbGVTdGF0ZSA9IGNsaXBwZWQgPT09IDEgPyAxIDogMztcbiAgICAgICAgICAgICAgY2FsbGJhY2tzW3RvZ2dsZVN0YXRlXSAmJiBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdKHNlbGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc1RvZ2dsZSAmJiBvblVwZGF0ZSAmJiAhX3JlZnJlc2hpbmcpIHtcbiAgICAgICAgICBvblVwZGF0ZShzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyB1cGRhdGUgYWJzb2x1dGVseS1wb3NpdGlvbmVkIG1hcmtlcnMgKG9ubHkgaWYgdGhlIHNjcm9sbGVyIGlzbid0IHRoZSB2aWV3cG9ydClcblxuXG4gICAgICBpZiAobWFya2VyRW5kU2V0dGVyKSB7XG4gICAgICAgIG1hcmtlclN0YXJ0U2V0dGVyKHNjcm9sbCArIChtYXJrZXJTdGFydFRyaWdnZXIuX2lzRmxpcHBlZCA/IDEgOiAwKSk7XG4gICAgICAgIG1hcmtlckVuZFNldHRlcihzY3JvbGwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzZWxmLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghc2VsZi5lbmFibGVkKSB7XG4gICAgICAgIHNlbGYuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgX2FkZExpc3RlbmVyKHNjcm9sbGVyLCBcInJlc2l6ZVwiLCBfb25SZXNpemUpO1xuXG4gICAgICAgIF9hZGRMaXN0ZW5lcihzY3JvbGxlciwgXCJzY3JvbGxcIiwgX29uU2Nyb2xsKTtcblxuICAgICAgICBvblJlZnJlc2hJbml0ICYmIF9hZGRMaXN0ZW5lcihTY3JvbGxUcmlnZ2VyLCBcInJlZnJlc2hJbml0XCIsIG9uUmVmcmVzaEluaXQpO1xuICAgICAgICAhYW5pbWF0aW9uIHx8ICFhbmltYXRpb24uYWRkID8gc2VsZi5yZWZyZXNoKCkgOiBnc2FwLmRlbGF5ZWRDYWxsKDAuMDEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc3RhcnQgfHwgZW5kIHx8IHNlbGYucmVmcmVzaCgpO1xuICAgICAgICB9KSAmJiAoY2hhbmdlID0gMC4wMSkgJiYgKHN0YXJ0ID0gZW5kID0gMCk7IC8vIGlmIHRoZSBhbmltYXRpb24gaXMgYSB0aW1lbGluZSwgaXQgbWF5IG5vdCBoYXZlIGJlZW4gcG9wdWxhdGVkIHlldCwgc28gaXQgd291bGRuJ3QgcmVuZGVyIGF0IHRoZSBwcm9wZXIgcGxhY2Ugb24gdGhlIGZpcnN0IHJlZnJlc2goKSwgdGh1cyB3ZSBzaG91bGQgc2NoZWR1bGUgb25lIGZvciB0aGUgbmV4dCB0aWNrLlxuICAgICAgfVxuICAgIH07XG5cbiAgICBzZWxmLmRpc2FibGUgPSBmdW5jdGlvbiAocmVzZXQsIGFsbG93QW5pbWF0aW9uKSB7XG4gICAgICBpZiAoc2VsZi5lbmFibGVkKSB7XG4gICAgICAgIHJlc2V0ICE9PSBmYWxzZSAmJiBzZWxmLnJldmVydCgpO1xuICAgICAgICBzZWxmLmVuYWJsZWQgPSBzZWxmLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGFsbG93QW5pbWF0aW9uIHx8IHNjcnViVHdlZW4gJiYgc2NydWJUd2Vlbi5wYXVzZSgpO1xuICAgICAgICBwcmV2U2Nyb2xsID0gMDtcbiAgICAgICAgcGluQ2FjaGUgJiYgKHBpbkNhY2hlLnVuY2FjaGUgPSAxKTtcbiAgICAgICAgb25SZWZyZXNoSW5pdCAmJiBfcmVtb3ZlTGlzdGVuZXIoU2Nyb2xsVHJpZ2dlciwgXCJyZWZyZXNoSW5pdFwiLCBvblJlZnJlc2hJbml0KTtcblxuICAgICAgICBpZiAoc25hcERlbGF5ZWRDYWxsKSB7XG4gICAgICAgICAgc25hcERlbGF5ZWRDYWxsLnBhdXNlKCk7XG4gICAgICAgICAgdHdlZW5Uby50d2VlbiAmJiB0d2VlblRvLnR3ZWVuLmtpbGwoKSAmJiAodHdlZW5Uby50d2VlbiA9IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1ZpZXdwb3J0KSB7XG4gICAgICAgICAgdmFyIGkgPSBfdHJpZ2dlcnMubGVuZ3RoO1xuXG4gICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgaWYgKF90cmlnZ2Vyc1tpXS5zY3JvbGxlciA9PT0gc2Nyb2xsZXIgJiYgX3RyaWdnZXJzW2ldICE9PSBzZWxmKSB7XG4gICAgICAgICAgICAgIHJldHVybjsgLy9kb24ndCByZW1vdmUgdGhlIGxpc3RlbmVycyBpZiB0aGVyZSBhcmUgc3RpbGwgb3RoZXIgdHJpZ2dlcnMgcmVmZXJlbmNpbmcgaXQuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3JlbW92ZUxpc3RlbmVyKHNjcm9sbGVyLCBcInJlc2l6ZVwiLCBfb25SZXNpemUpO1xuXG4gICAgICAgICAgX3JlbW92ZUxpc3RlbmVyKHNjcm9sbGVyLCBcInNjcm9sbFwiLCBfb25TY3JvbGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNlbGYua2lsbCA9IGZ1bmN0aW9uIChyZXZlcnQsIGFsbG93QW5pbWF0aW9uKSB7XG4gICAgICBzZWxmLmRpc2FibGUocmV2ZXJ0LCBhbGxvd0FuaW1hdGlvbik7XG4gICAgICBpZCAmJiBkZWxldGUgX2lkc1tpZF07XG5cbiAgICAgIHZhciBpID0gX3RyaWdnZXJzLmluZGV4T2Yoc2VsZik7XG5cbiAgICAgIF90cmlnZ2Vycy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgIGkgPT09IF9pICYmIF9kaXJlY3Rpb24gPiAwICYmIF9pLS07IC8vIGlmIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYSByZWZyZXNoKCkgb3IgdXBkYXRlKCksIHNwbGljaW5nIHdvdWxkIGNhdXNlIHNraXBzIGluIHRoZSBpbmRleCwgc28gYWRqdXN0Li4uXG5cbiAgICAgIGlmIChhbmltYXRpb24pIHtcbiAgICAgICAgYW5pbWF0aW9uLnNjcm9sbFRyaWdnZXIgPSBudWxsO1xuICAgICAgICByZXZlcnQgJiYgYW5pbWF0aW9uLnJlbmRlcigtMSk7XG4gICAgICAgIGFsbG93QW5pbWF0aW9uIHx8IGFuaW1hdGlvbi5raWxsKCk7XG4gICAgICB9XG5cbiAgICAgIG1hcmtlclN0YXJ0ICYmIFttYXJrZXJTdGFydCwgbWFya2VyRW5kLCBtYXJrZXJTdGFydFRyaWdnZXIsIG1hcmtlckVuZFRyaWdnZXJdLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgcmV0dXJuIG0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKTtcbiAgICAgIH0pO1xuICAgICAgcGluQ2FjaGUgJiYgKHBpbkNhY2hlLnVuY2FjaGUgPSAxKTtcbiAgICB9O1xuXG4gICAgc2VsZi5lbmFibGUoKTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyLnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIoY29yZSkge1xuICAgIGlmICghX2NvcmVJbml0dGVkKSB7XG4gICAgICBnc2FwID0gY29yZSB8fCBfZ2V0R1NBUCgpO1xuXG4gICAgICBpZiAoX3dpbmRvd0V4aXN0cygpICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICBfd2luID0gd2luZG93O1xuICAgICAgICBfZG9jID0gZG9jdW1lbnQ7XG4gICAgICAgIF9kb2NFbCA9IF9kb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBfYm9keSA9IF9kb2MuYm9keTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdzYXApIHtcbiAgICAgICAgX3RvQXJyYXkgPSBnc2FwLnV0aWxzLnRvQXJyYXk7XG4gICAgICAgIF9jbGFtcCA9IGdzYXAudXRpbHMuY2xhbXA7XG4gICAgICAgIGdzYXAuY29yZS5nbG9iYWxzKFwiU2Nyb2xsVHJpZ2dlclwiLCBTY3JvbGxUcmlnZ2VyKTsgLy8gbXVzdCByZWdpc3RlciB0aGUgZ2xvYmFsIG1hbnVhbGx5IGJlY2F1c2UgaW4gSW50ZXJuZXQgRXhwbG9yZXIsIGZ1bmN0aW9ucyAoY2xhc3NlcykgZG9uJ3QgaGF2ZSBhIFwibmFtZVwiIHByb3BlcnR5LlxuXG4gICAgICAgIGlmIChfYm9keSkge1xuICAgICAgICAgIF9yYWYgPSBfd2luLnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZiwgMTYpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBfYWRkTGlzdGVuZXIoX3dpbiwgXCJtb3VzZXdoZWVsXCIsIF9vblNjcm9sbCk7XG5cbiAgICAgICAgICBfcm9vdCA9IFtfd2luLCBfZG9jLCBfZG9jRWwsIF9ib2R5XTtcblxuICAgICAgICAgIF9hZGRMaXN0ZW5lcihfZG9jLCBcInNjcm9sbFwiLCBfb25TY3JvbGwpOyAvLyBzb21lIGJyb3dzZXJzIChsaWtlIENocm9tZSksIHRoZSB3aW5kb3cgc3RvcHMgZGlzcGF0Y2hpbmcgc2Nyb2xsIGV2ZW50cyBvbiB0aGUgd2luZG93IGlmIHlvdSBzY3JvbGwgcmVhbGx5IGZhc3QsIGJ1dCBpdCdzIGNvbnNpc3RlbnQgb24gdGhlIGRvY3VtZW50IVxuXG5cbiAgICAgICAgICB2YXIgYm9keVN0eWxlID0gX2JvZHkuc3R5bGUsXG4gICAgICAgICAgICAgIGJvcmRlciA9IGJvZHlTdHlsZS5ib3JkZXJUb3AsXG4gICAgICAgICAgICAgIGJvdW5kcztcbiAgICAgICAgICBib2R5U3R5bGUuYm9yZGVyVG9wID0gXCIxcHggc29saWQgIzAwMFwiOyAvLyB3b3JrcyBhcm91bmQgYW4gaXNzdWUgd2hlcmUgYSBtYXJnaW4gb2YgYSBjaGlsZCBlbGVtZW50IGNvdWxkIHRocm93IG9mZiB0aGUgYm91bmRzIG9mIHRoZSBfYm9keSwgbWFraW5nIGl0IHNlZW0gbGlrZSB0aGVyZSdzIGEgbWFyZ2luIHdoZW4gdGhlcmUgYWN0dWFsbHkgaXNuJ3QuIFRoZSBib3JkZXIgZW5zdXJlcyB0aGF0IHRoZSBib3VuZHMgYXJlIGFjY3VyYXRlLlxuXG4gICAgICAgICAgYm91bmRzID0gX2dldEJvdW5kcyhfYm9keSk7XG4gICAgICAgICAgX3ZlcnRpY2FsLm0gPSBNYXRoLnJvdW5kKGJvdW5kcy50b3AgKyBfdmVydGljYWwuc2MoKSkgfHwgMDsgLy8gYWNjb21tb2RhdGUgdGhlIG9mZnNldCBvZiB0aGUgPGJvZHk+IGNhdXNlZCBieSBtYXJnaW5zIGFuZC9vciBwYWRkaW5nXG5cbiAgICAgICAgICBfaG9yaXpvbnRhbC5tID0gTWF0aC5yb3VuZChib3VuZHMubGVmdCArIF9ob3Jpem9udGFsLnNjKCkpIHx8IDA7XG4gICAgICAgICAgYm9yZGVyID8gYm9keVN0eWxlLmJvcmRlclRvcCA9IGJvcmRlciA6IGJvZHlTdHlsZS5yZW1vdmVQcm9wZXJ0eShcImJvcmRlci10b3BcIik7XG4gICAgICAgICAgX3N5bmNJbnRlcnZhbCA9IHNldEludGVydmFsKF9zeW5jLCAyMDApO1xuICAgICAgICAgIGdzYXAuZGVsYXllZENhbGwoMC41LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N0YXJ0dXAgPSAwO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX2FkZExpc3RlbmVyKF9kb2MsIFwidG91Y2hjYW5jZWxcIiwgX3Bhc3NUaHJvdWdoKTsgLy8gc29tZSBvbGRlciBBbmRyb2lkIGRldmljZXMgaW50ZXJtaXR0ZW50bHkgc3RvcCBkaXNwYXRjaGluZyBcInRvdWNobW92ZVwiIGV2ZW50cyBpZiB3ZSBkb24ndCBsaXN0ZW4gZm9yIFwidG91Y2hjYW5jZWxcIiBvbiB0aGUgZG9jdW1lbnQuXG5cblxuICAgICAgICAgIF9hZGRMaXN0ZW5lcihfYm9keSwgXCJ0b3VjaHN0YXJ0XCIsIF9wYXNzVGhyb3VnaCk7IC8vd29ya3MgYXJvdW5kIFNhZmFyaSBidWc6IGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9mb3J1bXMvdG9waWMvMjE0NTAtZHJhZ2dhYmxlLWluLWlmcmFtZS1vbi1tb2JpbGUtaXMtYnVnZ3kvXG5cblxuICAgICAgICAgIF9tdWx0aUxpc3RlbmVyKF9hZGRMaXN0ZW5lciwgX2RvYywgXCJwb2ludGVyZG93bix0b3VjaHN0YXJ0LG1vdXNlZG93blwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3BvaW50ZXJJc0Rvd24gPSAxO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX211bHRpTGlzdGVuZXIoX2FkZExpc3RlbmVyLCBfZG9jLCBcInBvaW50ZXJ1cCx0b3VjaGVuZCxtb3VzZXVwXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfcG9pbnRlcklzRG93biA9IDA7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfdHJhbnNmb3JtUHJvcCA9IGdzYXAudXRpbHMuY2hlY2tQcmVmaXgoXCJ0cmFuc2Zvcm1cIik7XG5cbiAgICAgICAgICBfc3RhdGVQcm9wcy5wdXNoKF90cmFuc2Zvcm1Qcm9wKTtcblxuICAgICAgICAgIF9jb3JlSW5pdHRlZCA9IF9nZXRUaW1lKCk7XG4gICAgICAgICAgX3Jlc2l6ZURlbGF5ID0gZ3NhcC5kZWxheWVkQ2FsbCgwLjIsIF9yZWZyZXNoQWxsKS5wYXVzZSgpO1xuICAgICAgICAgIF9hdXRvUmVmcmVzaCA9IFtfZG9jLCBcInZpc2liaWxpdHljaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHcgPSBfd2luLmlubmVyV2lkdGgsXG4gICAgICAgICAgICAgICAgaCA9IF93aW4uaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChfZG9jLmhpZGRlbikge1xuICAgICAgICAgICAgICBfcHJldldpZHRoID0gdztcbiAgICAgICAgICAgICAgX3ByZXZIZWlnaHQgPSBoO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfcHJldldpZHRoICE9PSB3IHx8IF9wcmV2SGVpZ2h0ICE9PSBoKSB7XG4gICAgICAgICAgICAgIF9vblJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9kb2MsIFwiRE9NQ29udGVudExvYWRlZFwiLCBfcmVmcmVzaEFsbCwgX3dpbiwgXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfbGFzdFNjcm9sbFRpbWUgfHwgX3JlZnJlc2hBbGwoKTtcbiAgICAgICAgICB9LCBfd2luLCBcInJlc2l6ZVwiLCBfb25SZXNpemVdO1xuXG4gICAgICAgICAgX2l0ZXJhdGVBdXRvUmVmcmVzaChfYWRkTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jb3JlSW5pdHRlZDtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyLmRlZmF1bHRzID0gZnVuY3Rpb24gZGVmYXVsdHMoY29uZmlnKSB7XG4gICAgZm9yICh2YXIgcCBpbiBjb25maWcpIHtcbiAgICAgIF9kZWZhdWx0c1twXSA9IGNvbmZpZ1twXTtcbiAgICB9XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlci5raWxsID0gZnVuY3Rpb24ga2lsbCgpIHtcbiAgICBfZW5hYmxlZCA9IDA7XG5cbiAgICBfdHJpZ2dlcnMuc2xpY2UoMCkuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgcmV0dXJuIHRyaWdnZXIua2lsbCgxKTtcbiAgICB9KTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyLmNvbmZpZyA9IGZ1bmN0aW9uIGNvbmZpZyh2YXJzKSB7XG4gICAgXCJsaW1pdENhbGxiYWNrc1wiIGluIHZhcnMgJiYgKF9saW1pdENhbGxiYWNrcyA9ICEhdmFycy5saW1pdENhbGxiYWNrcyk7XG4gICAgdmFyIG1zID0gdmFycy5zeW5jSW50ZXJ2YWw7XG4gICAgbXMgJiYgY2xlYXJJbnRlcnZhbChfc3luY0ludGVydmFsKSB8fCAoX3N5bmNJbnRlcnZhbCA9IG1zKSAmJiBzZXRJbnRlcnZhbChfc3luYywgbXMpO1xuICAgIFwiYXV0b1JlZnJlc2hFdmVudHNcIiBpbiB2YXJzICYmIChfaXRlcmF0ZUF1dG9SZWZyZXNoKF9yZW1vdmVMaXN0ZW5lcikgfHwgX2l0ZXJhdGVBdXRvUmVmcmVzaChfYWRkTGlzdGVuZXIsIHZhcnMuYXV0b1JlZnJlc2hFdmVudHMgfHwgXCJub25lXCIpKTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyLnNjcm9sbGVyUHJveHkgPSBmdW5jdGlvbiBzY3JvbGxlclByb3h5KHRhcmdldCwgdmFycykge1xuICAgIHZhciB0ID0gX3RvQXJyYXkodGFyZ2V0KVswXTtcblxuICAgIF9pc1ZpZXdwb3J0KHQpID8gX3Byb3hpZXMudW5zaGlmdChfd2luLCB2YXJzLCBfYm9keSwgdmFycywgX2RvY0VsLCB2YXJzKSA6IF9wcm94aWVzLnVuc2hpZnQodCwgdmFycyk7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlci5tYXRjaE1lZGlhID0gZnVuY3Rpb24gbWF0Y2hNZWRpYSh2YXJzKSB7XG4gICAgLy8gX21lZGlhIGlzIHBvcHVsYXRlZCBpbiB0aGUgZm9sbG93aW5nIG9yZGVyOiBtZWRpYVF1ZXJ5U3RyaW5nLCBvbk1hdGNoLCBvblVubWF0Y2gsIGlzTWF0Y2hlZC4gU28gaWYgdGhlcmUgYXJlIHR3byBtZWRpYSBxdWVyaWVzLCB0aGUgQXJyYXkgd291bGQgaGF2ZSBhIGxlbmd0aCBvZiA4XG4gICAgdmFyIG1xLCBwLCBpLCBmdW5jLCByZXN1bHQ7XG5cbiAgICBmb3IgKHAgaW4gdmFycykge1xuICAgICAgaSA9IF9tZWRpYS5pbmRleE9mKHApO1xuICAgICAgZnVuYyA9IHZhcnNbcF07XG4gICAgICBfY3JlYXRpbmdNZWRpYSA9IHA7XG5cbiAgICAgIGlmIChwID09PSBcImFsbFwiKSB7XG4gICAgICAgIGZ1bmMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1xID0gX3dpbi5tYXRjaE1lZGlhKHApO1xuXG4gICAgICAgIGlmIChtcSkge1xuICAgICAgICAgIG1xLm1hdGNoZXMgJiYgKHJlc3VsdCA9IGZ1bmMoKSk7XG5cbiAgICAgICAgICBpZiAofmkpIHtcbiAgICAgICAgICAgIF9tZWRpYVtpICsgMV0gPSBfY29tYmluZUZ1bmMoX21lZGlhW2kgKyAxXSwgZnVuYyk7XG4gICAgICAgICAgICBfbWVkaWFbaSArIDJdID0gX2NvbWJpbmVGdW5jKF9tZWRpYVtpICsgMl0sIHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkgPSBfbWVkaWEubGVuZ3RoO1xuXG4gICAgICAgICAgICBfbWVkaWEucHVzaChwLCBmdW5jLCByZXN1bHQpO1xuXG4gICAgICAgICAgICBtcS5hZGRMaXN0ZW5lciA/IG1xLmFkZExpc3RlbmVyKF9vbk1lZGlhQ2hhbmdlKSA6IG1xLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgX29uTWVkaWFDaGFuZ2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9tZWRpYVtpICsgM10gPSBtcS5tYXRjaGVzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF9jcmVhdGluZ01lZGlhID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gX21lZGlhO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIuY2xlYXJNYXRjaE1lZGlhID0gZnVuY3Rpb24gY2xlYXJNYXRjaE1lZGlhKHF1ZXJ5KSB7XG4gICAgcXVlcnkgfHwgKF9tZWRpYS5sZW5ndGggPSAwKTtcbiAgICBxdWVyeSA9IF9tZWRpYS5pbmRleE9mKHF1ZXJ5KTtcbiAgICBxdWVyeSA+PSAwICYmIF9tZWRpYS5zcGxpY2UocXVlcnksIDQpO1xuICB9O1xuXG4gIHJldHVybiBTY3JvbGxUcmlnZ2VyO1xufSgpO1xuU2Nyb2xsVHJpZ2dlci52ZXJzaW9uID0gXCIzLjUuMVwiO1xuXG5TY3JvbGxUcmlnZ2VyLnNhdmVTdHlsZXMgPSBmdW5jdGlvbiAodGFyZ2V0cykge1xuICByZXR1cm4gdGFyZ2V0cyA/IF90b0FycmF5KHRhcmdldHMpLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHZhciBpID0gX3NhdmVkU3R5bGVzLmluZGV4T2YodGFyZ2V0KTtcblxuICAgIGkgPj0gMCAmJiBfc2F2ZWRTdHlsZXMuc3BsaWNlKGksIDQpO1xuXG4gICAgX3NhdmVkU3R5bGVzLnB1c2godGFyZ2V0LCB0YXJnZXQuc3R5bGUuY3NzVGV4dCwgZ3NhcC5jb3JlLmdldENhY2hlKHRhcmdldCksIF9jcmVhdGluZ01lZGlhKTtcbiAgfSkgOiBfc2F2ZWRTdHlsZXM7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLnJldmVydCA9IGZ1bmN0aW9uIChzb2Z0LCBtZWRpYSkge1xuICByZXR1cm4gX3JldmVydEFsbCghc29mdCwgbWVkaWEpO1xufTtcblxuU2Nyb2xsVHJpZ2dlci5jcmVhdGUgPSBmdW5jdGlvbiAodmFycywgYW5pbWF0aW9uKSB7XG4gIHJldHVybiBuZXcgU2Nyb2xsVHJpZ2dlcih2YXJzLCBhbmltYXRpb24pO1xufTtcblxuU2Nyb2xsVHJpZ2dlci5yZWZyZXNoID0gZnVuY3Rpb24gKHNhZmUpIHtcbiAgcmV0dXJuIHNhZmUgPyBfb25SZXNpemUoKSA6IF9yZWZyZXNoQWxsKHRydWUpO1xufTtcblxuU2Nyb2xsVHJpZ2dlci51cGRhdGUgPSBfdXBkYXRlQWxsO1xuXG5TY3JvbGxUcmlnZ2VyLm1heFNjcm9sbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBob3Jpem9udGFsKSB7XG4gIHJldHVybiBfbWF4U2Nyb2xsKGVsZW1lbnQsIGhvcml6b250YWwgPyBfaG9yaXpvbnRhbCA6IF92ZXJ0aWNhbCk7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLmdldFNjcm9sbEZ1bmMgPSBmdW5jdGlvbiAoZWxlbWVudCwgaG9yaXpvbnRhbCkge1xuICByZXR1cm4gX2dldFNjcm9sbEZ1bmMoX3RvQXJyYXkoZWxlbWVudClbMF0sIGhvcml6b250YWwgPyBfaG9yaXpvbnRhbCA6IF92ZXJ0aWNhbCk7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLmdldEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgcmV0dXJuIF9pZHNbaWRdO1xufTtcblxuU2Nyb2xsVHJpZ2dlci5nZXRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfdHJpZ2dlcnMuc2xpY2UoMCk7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLmlzU2Nyb2xsaW5nID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gISFfbGFzdFNjcm9sbFRpbWU7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgY2FsbGJhY2spIHtcbiAgdmFyIGEgPSBfbGlzdGVuZXJzW3R5cGVdIHx8IChfbGlzdGVuZXJzW3R5cGVdID0gW10pO1xuICB+YS5pbmRleE9mKGNhbGxiYWNrKSB8fCBhLnB1c2goY2FsbGJhY2spO1xufTtcblxuU2Nyb2xsVHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGNhbGxiYWNrKSB7XG4gIHZhciBhID0gX2xpc3RlbmVyc1t0eXBlXSxcbiAgICAgIGkgPSBhICYmIGEuaW5kZXhPZihjYWxsYmFjayk7XG4gIGkgPj0gMCAmJiBhLnNwbGljZShpLCAxKTtcbn07XG5cblNjcm9sbFRyaWdnZXIuYmF0Y2ggPSBmdW5jdGlvbiAodGFyZ2V0cywgdmFycykge1xuICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICB2YXJzQ29weSA9IHt9LFxuICAgICAgaW50ZXJ2YWwgPSB2YXJzLmludGVydmFsIHx8IDAuMDE2LFxuICAgICAgYmF0Y2hNYXggPSB2YXJzLmJhdGNoTWF4IHx8IDFlOSxcbiAgICAgIHByb3h5Q2FsbGJhY2sgPSBmdW5jdGlvbiBwcm94eUNhbGxiYWNrKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gW10sXG4gICAgICAgIHRyaWdnZXJzID0gW10sXG4gICAgICAgIGRlbGF5ID0gZ3NhcC5kZWxheWVkQ2FsbChpbnRlcnZhbCwgZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soZWxlbWVudHMsIHRyaWdnZXJzKTtcbiAgICAgIGVsZW1lbnRzID0gW107XG4gICAgICB0cmlnZ2VycyA9IFtdO1xuICAgIH0pLnBhdXNlKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgICBlbGVtZW50cy5sZW5ndGggfHwgZGVsYXkucmVzdGFydCh0cnVlKTtcbiAgICAgIGVsZW1lbnRzLnB1c2goc2VsZi50cmlnZ2VyKTtcbiAgICAgIHRyaWdnZXJzLnB1c2goc2VsZik7XG4gICAgICBiYXRjaE1heCA8PSBlbGVtZW50cy5sZW5ndGggJiYgZGVsYXkucHJvZ3Jlc3MoMSk7XG4gICAgfTtcbiAgfSxcbiAgICAgIHA7XG5cbiAgZm9yIChwIGluIHZhcnMpIHtcbiAgICB2YXJzQ29weVtwXSA9IHAuc3Vic3RyKDAsIDIpID09PSBcIm9uXCIgJiYgX2lzRnVuY3Rpb24odmFyc1twXSkgJiYgcCAhPT0gXCJvblJlZnJlc2hJbml0XCIgPyBwcm94eUNhbGxiYWNrKHAsIHZhcnNbcF0pIDogdmFyc1twXTtcbiAgfVxuXG4gIGlmIChfaXNGdW5jdGlvbihiYXRjaE1heCkpIHtcbiAgICBiYXRjaE1heCA9IGJhdGNoTWF4KCk7XG5cbiAgICBfYWRkTGlzdGVuZXIoU2Nyb2xsVHJpZ2dlciwgXCJyZWZyZXNoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBiYXRjaE1heCA9IHZhcnMuYmF0Y2hNYXgoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF90b0FycmF5KHRhcmdldHMpLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHZhciBjb25maWcgPSB7fTtcblxuICAgIGZvciAocCBpbiB2YXJzQ29weSkge1xuICAgICAgY29uZmlnW3BdID0gdmFyc0NvcHlbcF07XG4gICAgfVxuXG4gICAgY29uZmlnLnRyaWdnZXIgPSB0YXJnZXQ7XG4gICAgcmVzdWx0LnB1c2goU2Nyb2xsVHJpZ2dlci5jcmVhdGUoY29uZmlnKSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLnNvcnQgPSBmdW5jdGlvbiAoZnVuYykge1xuICByZXR1cm4gX3RyaWdnZXJzLnNvcnQoZnVuYyB8fCBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiAoYS52YXJzLnJlZnJlc2hQcmlvcml0eSB8fCAwKSAqIC0xZTYgKyBhLnN0YXJ0IC0gKGIuc3RhcnQgKyAoYi52YXJzLnJlZnJlc2hQcmlvcml0eSB8fCAwKSAqIC0xZTYpO1xuICB9KTtcbn07XG5cbl9nZXRHU0FQKCkgJiYgZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTtcbmV4cG9ydCB7IFNjcm9sbFRyaWdnZXIgYXMgZGVmYXVsdCB9OyIsICIvKiFcbiAqIHN0cmluZ3M6IDMuNS4xXG4gKiBodHRwczovL2dyZWVuc29jay5jb21cbiAqXG4gKiBDb3B5cmlnaHQgMjAwOC0yMDIwLCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBTdWJqZWN0IHRvIHRoZSB0ZXJtcyBhdCBodHRwczovL2dyZWVuc29jay5jb20vc3RhbmRhcmQtbGljZW5zZSBvciBmb3JcbiAqIENsdWIgR3JlZW5Tb2NrIG1lbWJlcnMsIHRoZSBhZ3JlZW1lbnQgaXNzdWVkIHdpdGggdGhhdCBtZW1iZXJzaGlwLlxuICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tXG4qL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xudmFyIF90cmltRXhwID0gLyheXFxzK3xcXHMrJCkvZztcbmV4cG9ydCB2YXIgZW1vamlFeHAgPSAvKFtcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0oPzpbXFx1MjAwRFxcdUZFMEZdW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXSl7Mix9fFxcdUQ4M0RcXHVEQzY5KD86XFx1MjAwRCg/Oig/OlxcdUQ4M0RcXHVEQzY5XFx1MjAwRCk/XFx1RDgzRFxcdURDNjd8KD86XFx1RDgzRFxcdURDNjlcXHUyMDBEKT9cXHVEODNEXFx1REM2Nil8XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKXxcXHVEODNEXFx1REM2OVxcdTIwMEQoPzpcXHVEODNEXFx1REM2OVxcdTIwMEQpP1xcdUQ4M0RcXHVEQzY2XFx1MjAwRFxcdUQ4M0RcXHVEQzY2fFxcdUQ4M0RcXHVEQzY5XFx1MjAwRCg/OlxcdUQ4M0RcXHVEQzY5XFx1MjAwRCk/XFx1RDgzRFxcdURDNjdcXHUyMDBEKD86XFx1RDgzRFtcXHVEQzY2XFx1REM2N10pfFxcdUQ4M0NcXHVERkYzXFx1RkUwRlxcdTIwMERcXHVEODNDXFx1REYwOHwoPzpcXHVEODNDW1xcdURGQzNcXHVERkM0XFx1REZDQV18XFx1RDgzRFtcXHVEQzZFXFx1REM3MVxcdURDNzNcXHVEQzc3XFx1REM4MVxcdURDODJcXHVEQzg2XFx1REM4N1xcdURFNDUtXFx1REU0N1xcdURFNEJcXHVERTREXFx1REU0RVxcdURFQTNcXHVERUI0LVxcdURFQjZdfFxcdUQ4M0VbXFx1REQyNlxcdUREMzctXFx1REQzOVxcdUREM0RcXHVERDNFXFx1RERENi1cXHVEREREXSkoPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pXFx1MjAwRFtcXHUyNjQwXFx1MjY0Ml1cXHVGRTBGfFxcdUQ4M0RcXHVEQzY5KD86XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKVxcdTIwMEQoPzpcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY5M1xcdURGQTRcXHVERkE4XFx1REZFQlxcdURGRURdfFxcdUQ4M0RbXFx1RENCQlxcdURDQkNcXHVERDI3XFx1REQyQ1xcdURFODBcXHVERTkyXSl8KD86XFx1RDgzQ1tcXHVERkMzXFx1REZDNFxcdURGQ0FdfFxcdUQ4M0RbXFx1REM2RVxcdURDNkZcXHVEQzcxXFx1REM3M1xcdURDNzdcXHVEQzgxXFx1REM4MlxcdURDODZcXHVEQzg3XFx1REU0NS1cXHVERTQ3XFx1REU0QlxcdURFNERcXHVERTRFXFx1REVBM1xcdURFQjQtXFx1REVCNl18XFx1RDgzRVtcXHVERDI2XFx1REQzNy1cXHVERDM5XFx1REQzQy1cXHVERDNFXFx1RERENi1cXHVERERGXSlcXHUyMDBEW1xcdTI2NDBcXHUyNjQyXVxcdUZFMEZ8XFx1RDgzQ1xcdURERkRcXHVEODNDXFx1RERGMHxcXHVEODNDXFx1RERGNlxcdUQ4M0NcXHVEREU2fFxcdUQ4M0NcXHVEREY0XFx1RDgzQ1xcdURERjJ8XFx1RDgzQ1xcdURERTkoPzpcXHVEODNDW1xcdURERUFcXHVEREVDXFx1RERFRlxcdURERjBcXHVEREYyXFx1RERGNFxcdURERkZdKXxcXHVEODNDXFx1RERGNyg/OlxcdUQ4M0NbXFx1RERFQVxcdURERjRcXHVEREY4XFx1RERGQVxcdURERkNdKXxcXHVEODNDXFx1RERFOCg/OlxcdUQ4M0NbXFx1RERFNlxcdURERThcXHVEREU5XFx1RERFQi1cXHVEREVFXFx1RERGMC1cXHVEREY1XFx1RERGN1xcdURERkEtXFx1RERGRl0pfCg/OlxcdTI2Rjl8XFx1RDgzQ1tcXHVERkNCXFx1REZDQ118XFx1RDgzRFxcdURENzUpKD86XFx1RkUwRlxcdTIwMERbXFx1MjY0MFxcdTI2NDJdfCg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSlcXHUyMDBEW1xcdTI2NDBcXHUyNjQyXSlcXHVGRTBGfCg/OlxcdUQ4M0RcXHVEQzQxXFx1RkUwRlxcdTIwMERcXHVEODNEXFx1RERFOHxcXHVEODNEXFx1REM2OSg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSlcXHUyMDBEW1xcdTI2OTVcXHUyNjk2XFx1MjcwOF18XFx1RDgzRFxcdURDNjlcXHUyMDBEW1xcdTI2OTVcXHUyNjk2XFx1MjcwOF18XFx1RDgzRFxcdURDNjgoPzooPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pXFx1MjAwRFtcXHUyNjk1XFx1MjY5NlxcdTI3MDhdfFxcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XSkpXFx1RkUwRnxcXHVEODNDXFx1RERGMig/OlxcdUQ4M0NbXFx1RERFNlxcdURERTgtXFx1RERFRFxcdURERjAtXFx1RERGRl0pfFxcdUQ4M0RcXHVEQzY5XFx1MjAwRCg/OlxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdTI3NjRcXHVGRTBGXFx1MjAwRCg/OlxcdUQ4M0RcXHVEQzhCXFx1MjAwRCg/OlxcdUQ4M0RbXFx1REM2OFxcdURDNjldKXxcXHVEODNEW1xcdURDNjhcXHVEQzY5XSkpfFxcdUQ4M0NcXHVEREYxKD86XFx1RDgzQ1tcXHVEREU2LVxcdURERThcXHVEREVFXFx1RERGMFxcdURERjctXFx1RERGQlxcdURERkVdKXxcXHVEODNDXFx1RERFRig/OlxcdUQ4M0NbXFx1RERFQVxcdURERjJcXHVEREY0XFx1RERGNV0pfFxcdUQ4M0NcXHVEREVEKD86XFx1RDgzQ1tcXHVEREYwXFx1RERGMlxcdURERjNcXHVEREY3XFx1RERGOVxcdURERkFdKXxcXHVEODNDXFx1RERFQig/OlxcdUQ4M0NbXFx1RERFRS1cXHVEREYwXFx1RERGMlxcdURERjRcXHVEREY3XSl8WyNcXCowLTldXFx1RkUwRlxcdTIwRTN8XFx1RDgzQ1xcdURERTcoPzpcXHVEODNDW1xcdURERTZcXHVEREU3XFx1RERFOS1cXHVEREVGXFx1RERGMS1cXHVEREY0XFx1RERGNi1cXHVEREY5XFx1RERGQlxcdURERkNcXHVEREZFXFx1RERGRl0pfFxcdUQ4M0NcXHVEREU2KD86XFx1RDgzQ1tcXHVEREU4LVxcdURERUNcXHVEREVFXFx1RERGMVxcdURERjJcXHVEREY0XFx1RERGNi1cXHVEREZBXFx1RERGQ1xcdURERkRcXHVEREZGXSl8XFx1RDgzQ1xcdURERkYoPzpcXHVEODNDW1xcdURERTZcXHVEREYyXFx1RERGQ10pfFxcdUQ4M0NcXHVEREY1KD86XFx1RDgzQ1tcXHVEREU2XFx1RERFQS1cXHVEREVEXFx1RERGMC1cXHVEREYzXFx1RERGNy1cXHVEREY5XFx1RERGQ1xcdURERkVdKXxcXHVEODNDXFx1RERGQig/OlxcdUQ4M0NbXFx1RERFNlxcdURERThcXHVEREVBXFx1RERFQ1xcdURERUVcXHVEREYzXFx1RERGQV0pfFxcdUQ4M0NcXHVEREYzKD86XFx1RDgzQ1tcXHVEREU2XFx1RERFOFxcdURERUEtXFx1RERFQ1xcdURERUVcXHVEREYxXFx1RERGNFxcdURERjVcXHVEREY3XFx1RERGQVxcdURERkZdKXxcXHVEODNDXFx1REZGNFxcdURCNDBcXHVEQzY3XFx1REI0MFxcdURDNjIoPzpcXHVEQjQwXFx1REM3N1xcdURCNDBcXHVEQzZDXFx1REI0MFxcdURDNzN8XFx1REI0MFxcdURDNzNcXHVEQjQwXFx1REM2M1xcdURCNDBcXHVEQzc0fFxcdURCNDBcXHVEQzY1XFx1REI0MFxcdURDNkVcXHVEQjQwXFx1REM2NylcXHVEQjQwXFx1REM3RnxcXHVEODNEXFx1REM2OCg/OlxcdTIwMEQoPzpcXHUyNzY0XFx1RkUwRlxcdTIwMEQoPzpcXHVEODNEXFx1REM4QlxcdTIwMEQpP1xcdUQ4M0RcXHVEQzY4fCg/Oig/OlxcdUQ4M0RbXFx1REM2OFxcdURDNjldKVxcdTIwMEQpP1xcdUQ4M0RcXHVEQzY2XFx1MjAwRFxcdUQ4M0RcXHVEQzY2fCg/Oig/OlxcdUQ4M0RbXFx1REM2OFxcdURDNjldKVxcdTIwMEQpP1xcdUQ4M0RcXHVEQzY3XFx1MjAwRCg/OlxcdUQ4M0RbXFx1REM2NlxcdURDNjddKXxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY5M1xcdURGQTRcXHVERkE4XFx1REZFQlxcdURGRURdfFxcdUQ4M0RbXFx1RENCQlxcdURDQkNcXHVERDI3XFx1REQyQ1xcdURFODBcXHVERTkyXSl8KD86XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKVxcdTIwMEQoPzpcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY5M1xcdURGQTRcXHVERkE4XFx1REZFQlxcdURGRURdfFxcdUQ4M0RbXFx1RENCQlxcdURDQkNcXHVERDI3XFx1REQyQ1xcdURFODBcXHVERTkyXSkpfFxcdUQ4M0NcXHVEREY4KD86XFx1RDgzQ1tcXHVEREU2LVxcdURERUFcXHVEREVDLVxcdURERjRcXHVEREY3LVxcdURERjlcXHVEREZCXFx1RERGRC1cXHVEREZGXSl8XFx1RDgzQ1xcdURERjAoPzpcXHVEODNDW1xcdURERUFcXHVEREVDLVxcdURERUVcXHVEREYyXFx1RERGM1xcdURERjVcXHVEREY3XFx1RERGQ1xcdURERkVcXHVEREZGXSl8XFx1RDgzQ1xcdURERkUoPzpcXHVEODNDW1xcdURERUFcXHVEREY5XSl8XFx1RDgzQ1xcdURERUUoPzpcXHVEODNDW1xcdURERTgtXFx1RERFQVxcdURERjEtXFx1RERGNFxcdURERjYtXFx1RERGOV0pfFxcdUQ4M0NcXHVEREY5KD86XFx1RDgzQ1tcXHVEREU2XFx1RERFOFxcdURERTlcXHVEREVCLVxcdURERURcXHVEREVGLVxcdURERjRcXHVEREY3XFx1RERGOVxcdURERkJcXHVEREZDXFx1RERGRl0pfFxcdUQ4M0NcXHVEREVDKD86XFx1RDgzQ1tcXHVEREU2XFx1RERFN1xcdURERTktXFx1RERFRVxcdURERjEtXFx1RERGM1xcdURERjUtXFx1RERGQVxcdURERkNcXHVEREZFXSl8XFx1RDgzQ1xcdURERkEoPzpcXHVEODNDW1xcdURERTZcXHVEREVDXFx1RERGMlxcdURERjNcXHVEREY4XFx1RERGRVxcdURERkZdKXxcXHVEODNDXFx1RERFQSg/OlxcdUQ4M0NbXFx1RERFNlxcdURERThcXHVEREVBXFx1RERFQ1xcdURERURcXHVEREY3LVxcdURERkFdKXxcXHVEODNDXFx1RERGQyg/OlxcdUQ4M0NbXFx1RERFQlxcdURERjhdKXwoPzpcXHUyNkY5fFxcdUQ4M0NbXFx1REZDQlxcdURGQ0NdfFxcdUQ4M0RcXHVERDc1KSg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSl8KD86XFx1RDgzQ1tcXHVERkMzXFx1REZDNFxcdURGQ0FdfFxcdUQ4M0RbXFx1REM2RVxcdURDNzFcXHVEQzczXFx1REM3N1xcdURDODFcXHVEQzgyXFx1REM4NlxcdURDODdcXHVERTQ1LVxcdURFNDdcXHVERTRCXFx1REU0RFxcdURFNEVcXHVERUEzXFx1REVCNC1cXHVERUI2XXxcXHVEODNFW1xcdUREMjZcXHVERDM3LVxcdUREMzlcXHVERDNEXFx1REQzRVxcdURERDYtXFx1RERERF0pKD86XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKXwoPzpbXFx1MjYxRFxcdTI3MEEtXFx1MjcwRF18XFx1RDgzQ1tcXHVERjg1XFx1REZDMlxcdURGQzddfFxcdUQ4M0RbXFx1REM0MlxcdURDNDNcXHVEQzQ2LVxcdURDNTBcXHVEQzY2XFx1REM2N1xcdURDNzBcXHVEQzcyXFx1REM3NC1cXHVEQzc2XFx1REM3OFxcdURDN0NcXHVEQzgzXFx1REM4NVxcdURDQUFcXHVERDc0XFx1REQ3QVxcdUREOTBcXHVERDk1XFx1REQ5NlxcdURFNENcXHVERTRGXFx1REVDMFxcdURFQ0NdfFxcdUQ4M0VbXFx1REQxOC1cXHVERDFDXFx1REQxRVxcdUREMUZcXHVERDMwLVxcdUREMzZcXHVEREQxLVxcdURERDVdKSg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSl8XFx1RDgzRFxcdURDNjgoPzpcXHUyMDBEKD86KD86KD86XFx1RDgzRFtcXHVEQzY4XFx1REM2OV0pXFx1MjAwRCk/XFx1RDgzRFxcdURDNjd8KD86KD86XFx1RDgzRFtcXHVEQzY4XFx1REM2OV0pXFx1MjAwRCk/XFx1RDgzRFxcdURDNjYpfFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSl8KD86W1xcdTI2MURcXHUyNkY5XFx1MjcwQS1cXHUyNzBEXXxcXHVEODNDW1xcdURGODVcXHVERkMyLVxcdURGQzRcXHVERkM3XFx1REZDQS1cXHVERkNDXXxcXHVEODNEW1xcdURDNDJcXHVEQzQzXFx1REM0Ni1cXHVEQzUwXFx1REM2Ni1cXHVEQzY5XFx1REM2RVxcdURDNzAtXFx1REM3OFxcdURDN0NcXHVEQzgxLVxcdURDODNcXHVEQzg1LVxcdURDODdcXHVEQ0FBXFx1REQ3NFxcdURENzVcXHVERDdBXFx1REQ5MFxcdUREOTVcXHVERDk2XFx1REU0NS1cXHVERTQ3XFx1REU0Qi1cXHVERTRGXFx1REVBM1xcdURFQjQtXFx1REVCNlxcdURFQzBcXHVERUNDXXxcXHVEODNFW1xcdUREMTgtXFx1REQxQ1xcdUREMUVcXHVERDFGXFx1REQyNlxcdUREMzAtXFx1REQzOVxcdUREM0RcXHVERDNFXFx1REREMS1cXHVEREREXSkoPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pP3woPzpbXFx1MjMxQVxcdTIzMUJcXHUyM0U5LVxcdTIzRUNcXHUyM0YwXFx1MjNGM1xcdTI1RkRcXHUyNUZFXFx1MjYxNFxcdTI2MTVcXHUyNjQ4LVxcdTI2NTNcXHUyNjdGXFx1MjY5M1xcdTI2QTFcXHUyNkFBXFx1MjZBQlxcdTI2QkRcXHUyNkJFXFx1MjZDNFxcdTI2QzVcXHUyNkNFXFx1MjZENFxcdTI2RUFcXHUyNkYyXFx1MjZGM1xcdTI2RjVcXHUyNkZBXFx1MjZGRFxcdTI3MDVcXHUyNzBBXFx1MjcwQlxcdTI3MjhcXHUyNzRDXFx1Mjc0RVxcdTI3NTMtXFx1Mjc1NVxcdTI3NTdcXHUyNzk1LVxcdTI3OTdcXHUyN0IwXFx1MjdCRlxcdTJCMUJcXHUyQjFDXFx1MkI1MFxcdTJCNTVdfFxcdUQ4M0NbXFx1REMwNFxcdURDQ0ZcXHVERDhFXFx1REQ5MS1cXHVERDlBXFx1RERFNi1cXHVEREZGXFx1REUwMVxcdURFMUFcXHVERTJGXFx1REUzMi1cXHVERTM2XFx1REUzOC1cXHVERTNBXFx1REU1MFxcdURFNTFcXHVERjAwLVxcdURGMjBcXHVERjJELVxcdURGMzVcXHVERjM3LVxcdURGN0NcXHVERjdFLVxcdURGOTNcXHVERkEwLVxcdURGQ0FcXHVERkNGLVxcdURGRDNcXHVERkUwLVxcdURGRjBcXHVERkY0XFx1REZGOC1cXHVERkZGXXxcXHVEODNEW1xcdURDMDAtXFx1REMzRVxcdURDNDBcXHVEQzQyLVxcdURDRkNcXHVEQ0ZGLVxcdUREM0RcXHVERDRCLVxcdURENEVcXHVERDUwLVxcdURENjdcXHVERDdBXFx1REQ5NVxcdUREOTZcXHVEREE0XFx1RERGQi1cXHVERTRGXFx1REU4MC1cXHVERUM1XFx1REVDQ1xcdURFRDAtXFx1REVEMlxcdURFRUJcXHVERUVDXFx1REVGNC1cXHVERUY4XXxcXHVEODNFW1xcdUREMTAtXFx1REQzQVxcdUREM0MtXFx1REQzRVxcdURENDAtXFx1REQ0NVxcdURENDctXFx1REQ0Q1xcdURENTAtXFx1REQ2QlxcdUREODAtXFx1REQ5N1xcdUREQzBcXHVEREQwLVxcdURERTZdKXwoPzpbI1xcKjAtOVxceEE5XFx4QUVcXHUyMDNDXFx1MjA0OVxcdTIxMjJcXHUyMTM5XFx1MjE5NC1cXHUyMTk5XFx1MjFBOVxcdTIxQUFcXHUyMzFBXFx1MjMxQlxcdTIzMjhcXHUyM0NGXFx1MjNFOS1cXHUyM0YzXFx1MjNGOC1cXHUyM0ZBXFx1MjRDMlxcdTI1QUFcXHUyNUFCXFx1MjVCNlxcdTI1QzBcXHUyNUZCLVxcdTI1RkVcXHUyNjAwLVxcdTI2MDRcXHUyNjBFXFx1MjYxMVxcdTI2MTRcXHUyNjE1XFx1MjYxOFxcdTI2MURcXHUyNjIwXFx1MjYyMlxcdTI2MjNcXHUyNjI2XFx1MjYyQVxcdTI2MkVcXHUyNjJGXFx1MjYzOC1cXHUyNjNBXFx1MjY0MFxcdTI2NDJcXHUyNjQ4LVxcdTI2NTNcXHUyNjYwXFx1MjY2M1xcdTI2NjVcXHUyNjY2XFx1MjY2OFxcdTI2N0JcXHUyNjdGXFx1MjY5Mi1cXHUyNjk3XFx1MjY5OVxcdTI2OUJcXHUyNjlDXFx1MjZBMFxcdTI2QTFcXHUyNkFBXFx1MjZBQlxcdTI2QjBcXHUyNkIxXFx1MjZCRFxcdTI2QkVcXHUyNkM0XFx1MjZDNVxcdTI2QzhcXHUyNkNFXFx1MjZDRlxcdTI2RDFcXHUyNkQzXFx1MjZENFxcdTI2RTlcXHUyNkVBXFx1MjZGMC1cXHUyNkY1XFx1MjZGNy1cXHUyNkZBXFx1MjZGRFxcdTI3MDJcXHUyNzA1XFx1MjcwOC1cXHUyNzBEXFx1MjcwRlxcdTI3MTJcXHUyNzE0XFx1MjcxNlxcdTI3MURcXHUyNzIxXFx1MjcyOFxcdTI3MzNcXHUyNzM0XFx1Mjc0NFxcdTI3NDdcXHUyNzRDXFx1Mjc0RVxcdTI3NTMtXFx1Mjc1NVxcdTI3NTdcXHUyNzYzXFx1Mjc2NFxcdTI3OTUtXFx1Mjc5N1xcdTI3QTFcXHUyN0IwXFx1MjdCRlxcdTI5MzRcXHUyOTM1XFx1MkIwNS1cXHUyQjA3XFx1MkIxQlxcdTJCMUNcXHUyQjUwXFx1MkI1NVxcdTMwMzBcXHUzMDNEXFx1MzI5N1xcdTMyOTldfFxcdUQ4M0NbXFx1REMwNFxcdURDQ0ZcXHVERDcwXFx1REQ3MVxcdUREN0VcXHVERDdGXFx1REQ4RVxcdUREOTEtXFx1REQ5QVxcdURERTYtXFx1RERGRlxcdURFMDFcXHVERTAyXFx1REUxQVxcdURFMkZcXHVERTMyLVxcdURFM0FcXHVERTUwXFx1REU1MVxcdURGMDAtXFx1REYyMVxcdURGMjQtXFx1REY5M1xcdURGOTZcXHVERjk3XFx1REY5OS1cXHVERjlCXFx1REY5RS1cXHVERkYwXFx1REZGMy1cXHVERkY1XFx1REZGNy1cXHVERkZGXXxcXHVEODNEW1xcdURDMDAtXFx1RENGRFxcdURDRkYtXFx1REQzRFxcdURENDktXFx1REQ0RVxcdURENTAtXFx1REQ2N1xcdURENkZcXHVERDcwXFx1REQ3My1cXHVERDdBXFx1REQ4N1xcdUREOEEtXFx1REQ4RFxcdUREOTBcXHVERDk1XFx1REQ5NlxcdUREQTRcXHVEREE1XFx1RERBOFxcdUREQjFcXHVEREIyXFx1RERCQ1xcdUREQzItXFx1RERDNFxcdURERDEtXFx1REREM1xcdUREREMtXFx1RERERVxcdURERTFcXHVEREUzXFx1RERFOFxcdURERUZcXHVEREYzXFx1RERGQS1cXHVERTRGXFx1REU4MC1cXHVERUM1XFx1REVDQi1cXHVERUQyXFx1REVFMC1cXHVERUU1XFx1REVFOVxcdURFRUJcXHVERUVDXFx1REVGMFxcdURFRjMtXFx1REVGOF18XFx1RDgzRVtcXHVERDEwLVxcdUREM0FcXHVERDNDLVxcdUREM0VcXHVERDQwLVxcdURENDVcXHVERDQ3LVxcdURENENcXHVERDUwLVxcdURENkJcXHVERDgwLVxcdUREOTdcXHVEREMwXFx1REREMC1cXHVEREU2XSlcXHVGRTBGKS87XG5leHBvcnQgZnVuY3Rpb24gZ2V0VGV4dChlKSB7XG4gIHZhciB0eXBlID0gZS5ub2RlVHlwZSxcbiAgICAgIHJlc3VsdCA9IFwiXCI7XG5cbiAgaWYgKHR5cGUgPT09IDEgfHwgdHlwZSA9PT0gOSB8fCB0eXBlID09PSAxMSkge1xuICAgIGlmICh0eXBlb2YgZS50ZXh0Q29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGUudGV4dENvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoZSA9IGUuZmlyc3RDaGlsZDsgZTsgZSA9IGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgcmVzdWx0ICs9IGdldFRleHQoZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGUgPT09IDMgfHwgdHlwZSA9PT0gNCkge1xuICAgIHJldHVybiBlLm5vZGVWYWx1ZTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gc3BsaXRJbm5lckhUTUwoZWxlbWVudCwgZGVsaW1pdGVyLCB0cmltKSB7XG4gIHZhciBub2RlID0gZWxlbWVudC5maXJzdENoaWxkLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgcmVzdWx0LnB1c2guYXBwbHkocmVzdWx0LCBlbW9qaVNhZmVTcGxpdCgobm9kZS5ub2RlVmFsdWUgKyBcIlwiKS5yZXBsYWNlKC9eXFxuKy9nLCBcIlwiKS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKSwgZGVsaW1pdGVyLCB0cmltKSk7XG4gICAgfSBlbHNlIGlmICgobm9kZS5ub2RlTmFtZSArIFwiXCIpLnRvTG93ZXJDYXNlKCkgPT09IFwiYnJcIikge1xuICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSArPSBcIjxicj5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2gobm9kZS5vdXRlckhUTUwpO1xuICAgIH1cblxuICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qXG4vL3NtYWxsZXIga2IgdmVyc2lvbiB0aGF0IG9ubHkgaGFuZGxlcyB0aGUgc2ltcGxlciBlbW9qaSdzLCB3aGljaCBpcyBvZnRlbiBwZXJmZWN0bHkgYWRlcXVhdGUuXG5cbmxldCBfZW1vamkgPSBcIltcXHVFMDAwLVxcdUY4RkZdfFxcdUQ4M0NbXFx1REMwMC1cXHVERkZGXXxcXHVEODNEW1xcdURDMDAtXFx1REZGRl18W1xcdTI2OTQtXFx1MjY5N118XFx1RDgzRVtcXHVERDEwLVxcdURENURdfFtcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl1cIixcblx0X2Vtb2ppRXhwID0gbmV3IFJlZ0V4cChfZW1vamkpLFxuXHRfZW1vamlBbmRDaGFyc0V4cCA9IG5ldyBSZWdFeHAoX2Vtb2ppICsgXCJ8LlwiLCBcImdcIiksXG5cdF9lbW9qaVNhZmVTcGxpdCA9ICh0ZXh0LCBkZWxpbWl0ZXIsIHRyaW0pID0+IHtcblx0XHRpZiAodHJpbSkge1xuXHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZShfdHJpbUV4cCwgXCJcIik7XG5cdFx0fVxuXHRcdHJldHVybiAoKGRlbGltaXRlciA9PT0gXCJcIiB8fCAhZGVsaW1pdGVyKSAmJiBfZW1vamlFeHAudGVzdCh0ZXh0KSkgPyB0ZXh0Lm1hdGNoKF9lbW9qaUFuZENoYXJzRXhwKSA6IHRleHQuc3BsaXQoZGVsaW1pdGVyIHx8IFwiXCIpO1xuXHR9O1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlbW9qaVNhZmVTcGxpdCh0ZXh0LCBkZWxpbWl0ZXIsIHRyaW0pIHtcbiAgdGV4dCArPSBcIlwiOyAvLyBtYWtlIHN1cmUgaXQncyBjYXN0IGFzIGEgc3RyaW5nLiBTb21lb25lIG1heSBwYXNzIGluIGEgbnVtYmVyLlxuXG4gIGlmICh0cmltKSB7XG4gICAgdGV4dCA9IHRleHQucmVwbGFjZShfdHJpbUV4cCwgXCJcIik7XG4gIH1cblxuICBpZiAoZGVsaW1pdGVyICYmIGRlbGltaXRlciAhPT0gXCJcIikge1xuICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpLnNwbGl0KGRlbGltaXRlcik7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICBsID0gdGV4dC5sZW5ndGgsXG4gICAgICBpID0gMCxcbiAgICAgIGosXG4gICAgICBjaGFyYWN0ZXI7XG5cbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICBjaGFyYWN0ZXIgPSB0ZXh0LmNoYXJBdChpKTtcblxuICAgIGlmIChjaGFyYWN0ZXIuY2hhckNvZGVBdCgwKSA+PSAweEQ4MDAgJiYgY2hhcmFjdGVyLmNoYXJDb2RlQXQoMCkgPD0gMHhEQkZGIHx8IHRleHQuY2hhckNvZGVBdChpICsgMSkgPj0gMHhGRTAwICYmIHRleHQuY2hhckNvZGVBdChpICsgMSkgPD0gMHhGRTBGKSB7XG4gICAgICAvL3NwZWNpYWwgZW1vamkgY2hhcmFjdGVycyB1c2UgMiBvciA0IHVuaWNvZGUgY2hhcmFjdGVycyB0aGF0IHdlIG11c3Qga2VlcCB0b2dldGhlci5cbiAgICAgIGogPSAoKHRleHQuc3Vic3RyKGksIDEyKS5zcGxpdChlbW9qaUV4cCkgfHwgW10pWzFdIHx8IFwiXCIpLmxlbmd0aCB8fCAyO1xuICAgICAgY2hhcmFjdGVyID0gdGV4dC5zdWJzdHIoaSwgaik7XG4gICAgICByZXN1bHQuZW1vamkgPSAxO1xuICAgICAgaSArPSBqIC0gMTtcbiAgICB9XG5cbiAgICByZXN1bHQucHVzaChjaGFyYWN0ZXIgPT09IFwiPlwiID8gXCImZ3Q7XCIgOiBjaGFyYWN0ZXIgPT09IFwiPFwiID8gXCImbHQ7XCIgOiBjaGFyYWN0ZXIpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn0iLCAiLyohXG4gKiBTcGxpdFRleHQ6IDMuNS4xXG4gKiBodHRwczovL2dyZWVuc29jay5jb21cbiAqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgMjAwOC0yMDIwLCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBTdWJqZWN0IHRvIHRoZSB0ZXJtcyBhdCBodHRwczovL2dyZWVuc29jay5jb20vc3RhbmRhcmQtbGljZW5zZSBvciBmb3JcbiAqIENsdWIgR3JlZW5Tb2NrIG1lbWJlcnMsIHRoZSBhZ3JlZW1lbnQgaXNzdWVkIHdpdGggdGhhdCBtZW1iZXJzaGlwLlxuICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tXG4qL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHsgZW1vamlFeHAsIGdldFRleHQgfSBmcm9tIFwiLi91dGlscy9zdHJpbmdzLmpzXCI7XG5cbnZhciBfZG9jLFxuICAgIF93aW4sXG4gICAgX2NvcmVJbml0dGVkLFxuICAgIF9zdHJpcEV4cCA9IC8oPzpcXHJ8XFxufFxcdFxcdCkvZyxcbiAgICAvL2ZpbmQgY2FycmlhZ2UgcmV0dXJucywgbmV3IGxpbmUgZmVlZHMgYW5kIGRvdWJsZS10YWJzLlxuX211bHRpcGxlU3BhY2VzRXhwID0gLyg/Olxcc1xccyspL2csXG4gICAgX2luaXRDb3JlID0gZnVuY3Rpb24gX2luaXRDb3JlKCkge1xuICBfZG9jID0gZG9jdW1lbnQ7XG4gIF93aW4gPSB3aW5kb3c7XG4gIF9jb3JlSW5pdHRlZCA9IDE7XG59LFxuICAgIF9ib251c1ZhbGlkYXRlZCA9IDEsXG4gICAgLy88bmFtZT5TcGxpdFRleHQ8L25hbWU+XG5fZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uIF9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIF93aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn0sXG4gICAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5LFxuICAgIF9zbGljZSA9IFtdLnNsaWNlLFxuICAgIF90b0FycmF5ID0gZnVuY3Rpb24gX3RvQXJyYXkodmFsdWUsIGxlYXZlU3RyaW5ncykge1xuICAvL3Rha2VzIGFueSB2YWx1ZSBhbmQgcmV0dXJucyBhbiBhcnJheS4gSWYgaXQncyBhIHN0cmluZyAoYW5kIGxlYXZlU3RyaW5ncyBpc24ndCB0cnVlKSwgaXQnbGwgdXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoKSBhbmQgY29udmVydCB0aGF0IHRvIGFuIGFycmF5LiBJdCdsbCBhbHNvIGFjY2VwdCBpdGVyYWJsZXMgbGlrZSBqUXVlcnkgb2JqZWN0cy5cbiAgdmFyIHR5cGU7XG4gIHJldHVybiBfaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6ICh0eXBlID0gdHlwZW9mIHZhbHVlKSA9PT0gXCJzdHJpbmdcIiAmJiAhbGVhdmVTdHJpbmdzICYmIHZhbHVlID8gX3NsaWNlLmNhbGwoX2RvYy5xdWVyeVNlbGVjdG9yQWxsKHZhbHVlKSwgMCkgOiB2YWx1ZSAmJiB0eXBlID09PSBcIm9iamVjdFwiICYmIFwibGVuZ3RoXCIgaW4gdmFsdWUgPyBfc2xpY2UuY2FsbCh2YWx1ZSwgMCkgOiB2YWx1ZSA/IFt2YWx1ZV0gOiBbXTtcbn0sXG4gICAgX2lzQWJzb2x1dGUgPSBmdW5jdGlvbiBfaXNBYnNvbHV0ZSh2YXJzKSB7XG4gIHJldHVybiB2YXJzLnBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgdmFycy5hYnNvbHV0ZSA9PT0gdHJ1ZTtcbn0sXG4gICAgLy9zb21lIGNoYXJhY3RlcnMgYXJlIGNvbWJpbmluZyBtYXJrcyAodGhpbmsgZGlhY3JpdGljcy9hY2NlbnRzIGluIEV1cm9wZWFuIGxhbmd1YWdlcykgd2hpY2ggaW52b2x2ZSAyIG9yIDQgY2hhcmFjdGVycyB0aGF0IGNvbWJpbmUgaW4gdGhlIGJyb3dzZXIgdG8gZm9ybSBhIHNpbmdsZSBjaGFyYWN0ZXIuIFBhc3MgaW4gdGhlIHJlbWFpbmluZyB0ZXh0IGFuZCBhbiBhcnJheSBvZiB0aGUgc3BlY2lhbCBjaGFyYWN0ZXJzIHRvIHNlYXJjaCBmb3IgYW5kIGlmIHRoZSB0ZXh0IHN0YXJ0cyB3aXRoIG9uZSBvZiB0aG9zZSBzcGVjaWFsIGNoYXJhY3RlcnMsIGl0J2xsIHNwaXQgYmFjayB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgdG8gcmV0YWluIChvZnRlbiAyIG9yIDQpLiBVc2VkIGluIHRoZSBzcGVjaWFsQ2hhcnMgZmVhdHVyZXMgdGhhdCB3YXMgaW50cm9kdWNlZCBpbiAwLjYuMC5cbl9maW5kU3BlY2lhbENoYXJzID0gZnVuY3Rpb24gX2ZpbmRTcGVjaWFsQ2hhcnModGV4dCwgY2hhcnMpIHtcbiAgdmFyIGkgPSBjaGFycy5sZW5ndGgsXG4gICAgICBzO1xuXG4gIHdoaWxlICgtLWkgPiAtMSkge1xuICAgIHMgPSBjaGFyc1tpXTtcblxuICAgIGlmICh0ZXh0LnN1YnN0cigwLCBzLmxlbmd0aCkgPT09IHMpIHtcbiAgICAgIHJldHVybiBzLmxlbmd0aDtcbiAgICB9XG4gIH1cbn0sXG4gICAgX2RpdlN0YXJ0ID0gXCIgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrOydcIixcbiAgICBfY3NzQ2xhc3NGdW5jID0gZnVuY3Rpb24gX2Nzc0NsYXNzRnVuYyhjc3NDbGFzcywgdGFnKSB7XG4gIGlmIChjc3NDbGFzcyA9PT0gdm9pZCAwKSB7XG4gICAgY3NzQ2xhc3MgPSBcIlwiO1xuICB9XG5cbiAgdmFyIGl0ZXJhdGUgPSB+Y3NzQ2xhc3MuaW5kZXhPZihcIisrXCIpLFxuICAgICAgbnVtID0gMTtcblxuICBpZiAoaXRlcmF0ZSkge1xuICAgIGNzc0NsYXNzID0gY3NzQ2xhc3Muc3BsaXQoXCIrK1wiKS5qb2luKFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCI8XCIgKyB0YWcgKyBfZGl2U3RhcnQgKyAoY3NzQ2xhc3MgPyBcIiBjbGFzcz0nXCIgKyBjc3NDbGFzcyArIChpdGVyYXRlID8gbnVtKysgOiBcIlwiKSArIFwiJz5cIiA6IFwiPlwiKTtcbiAgfTtcbn0sXG4gICAgX3N3YXBUZXh0ID0gZnVuY3Rpb24gX3N3YXBUZXh0KGVsZW1lbnQsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgdmFyIHR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xuXG4gIGlmICh0eXBlID09PSAxIHx8IHR5cGUgPT09IDkgfHwgdHlwZSA9PT0gMTEpIHtcbiAgICBmb3IgKGVsZW1lbnQgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7IGVsZW1lbnQ7IGVsZW1lbnQgPSBlbGVtZW50Lm5leHRTaWJsaW5nKSB7XG4gICAgICBfc3dhcFRleHQoZWxlbWVudCwgb2xkVGV4dCwgbmV3VGV4dCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGUgPT09IDMgfHwgdHlwZSA9PT0gNCkge1xuICAgIGVsZW1lbnQubm9kZVZhbHVlID0gZWxlbWVudC5ub2RlVmFsdWUuc3BsaXQob2xkVGV4dCkuam9pbihuZXdUZXh0KTtcbiAgfVxufSxcbiAgICBfcHVzaFJldmVyc2VkID0gZnVuY3Rpb24gX3B1c2hSZXZlcnNlZChhLCBtZXJnZSkge1xuICB2YXIgaSA9IG1lcmdlLmxlbmd0aDtcblxuICB3aGlsZSAoLS1pID4gLTEpIHtcbiAgICBhLnB1c2gobWVyZ2VbaV0pO1xuICB9XG59LFxuICAgIF9pc0JlZm9yZVdvcmREZWxpbWl0ZXIgPSBmdW5jdGlvbiBfaXNCZWZvcmVXb3JkRGVsaW1pdGVyKGUsIHJvb3QsIHdvcmREZWxpbWl0ZXIpIHtcbiAgdmFyIG5leHQ7XG5cbiAgd2hpbGUgKGUgJiYgZSAhPT0gcm9vdCkge1xuICAgIG5leHQgPSBlLl9uZXh0IHx8IGUubmV4dFNpYmxpbmc7XG5cbiAgICBpZiAobmV4dCkge1xuICAgICAgcmV0dXJuIG5leHQudGV4dENvbnRlbnQuY2hhckF0KDApID09PSB3b3JkRGVsaW1pdGVyO1xuICAgIH1cblxuICAgIGUgPSBlLnBhcmVudE5vZGUgfHwgZS5fcGFyZW50O1xuICB9XG59LFxuICAgIF9kZVdvcmRpZnkgPSBmdW5jdGlvbiBfZGVXb3JkaWZ5KGUpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3RvQXJyYXkoZS5jaGlsZE5vZGVzKSxcbiAgICAgIGwgPSBjaGlsZHJlbi5sZW5ndGgsXG4gICAgICBpLFxuICAgICAgY2hpbGQ7XG5cbiAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICBpZiAoY2hpbGQuX2lzU3BsaXQpIHtcbiAgICAgIF9kZVdvcmRpZnkoY2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaSAmJiBjaGlsZC5wcmV2aW91c1NpYmxpbmcubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgY2hpbGQucHJldmlvdXNTaWJsaW5nLm5vZGVWYWx1ZSArPSBjaGlsZC5ub2RlVHlwZSA9PT0gMyA/IGNoaWxkLm5vZGVWYWx1ZSA6IGNoaWxkLmZpcnN0Q2hpbGQubm9kZVZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZC5ub2RlVHlwZSAhPT0gMykge1xuICAgICAgICBlLmluc2VydEJlZm9yZShjaGlsZC5maXJzdENoaWxkLCBjaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfVxufSxcbiAgICBfZ2V0U3R5bGVBc051bWJlciA9IGZ1bmN0aW9uIF9nZXRTdHlsZUFzTnVtYmVyKG5hbWUsIGNvbXB1dGVkU3R5bGUpIHtcbiAgcmV0dXJuIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVtuYW1lXSkgfHwgMDtcbn0sXG4gICAgX3NldFBvc2l0aW9uc0FmdGVyU3BsaXQgPSBmdW5jdGlvbiBfc2V0UG9zaXRpb25zQWZ0ZXJTcGxpdChlbGVtZW50LCB2YXJzLCBhbGxDaGFycywgYWxsV29yZHMsIGFsbExpbmVzLCBvcmlnV2lkdGgsIG9yaWdIZWlnaHQpIHtcbiAgdmFyIGNzID0gX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudCksXG4gICAgICBwYWRkaW5nTGVmdCA9IF9nZXRTdHlsZUFzTnVtYmVyKFwicGFkZGluZ0xlZnRcIiwgY3MpLFxuICAgICAgbGluZU9mZnNldFkgPSAtOTk5LFxuICAgICAgYm9yZGVyVG9wQW5kQm90dG9tID0gX2dldFN0eWxlQXNOdW1iZXIoXCJib3JkZXJCb3R0b21XaWR0aFwiLCBjcykgKyBfZ2V0U3R5bGVBc051bWJlcihcImJvcmRlclRvcFdpZHRoXCIsIGNzKSxcbiAgICAgIGJvcmRlckxlZnRBbmRSaWdodCA9IF9nZXRTdHlsZUFzTnVtYmVyKFwiYm9yZGVyTGVmdFdpZHRoXCIsIGNzKSArIF9nZXRTdHlsZUFzTnVtYmVyKFwiYm9yZGVyUmlnaHRXaWR0aFwiLCBjcyksXG4gICAgICBwYWRUb3BBbmRCb3R0b20gPSBfZ2V0U3R5bGVBc051bWJlcihcInBhZGRpbmdUb3BcIiwgY3MpICsgX2dldFN0eWxlQXNOdW1iZXIoXCJwYWRkaW5nQm90dG9tXCIsIGNzKSxcbiAgICAgIHBhZExlZnRBbmRSaWdodCA9IF9nZXRTdHlsZUFzTnVtYmVyKFwicGFkZGluZ0xlZnRcIiwgY3MpICsgX2dldFN0eWxlQXNOdW1iZXIoXCJwYWRkaW5nUmlnaHRcIiwgY3MpLFxuICAgICAgbGluZVRocmVzaG9sZCA9IF9nZXRTdHlsZUFzTnVtYmVyKFwiZm9udFNpemVcIiwgY3MpICogKHZhcnMubGluZVRocmVzaG9sZCB8fCAwLjIpLFxuICAgICAgdGV4dEFsaWduID0gY3MudGV4dEFsaWduLFxuICAgICAgY2hhckFycmF5ID0gW10sXG4gICAgICB3b3JkQXJyYXkgPSBbXSxcbiAgICAgIGxpbmVBcnJheSA9IFtdLFxuICAgICAgd29yZERlbGltaXRlciA9IHZhcnMud29yZERlbGltaXRlciB8fCBcIiBcIixcbiAgICAgIHRhZyA9IHZhcnMudGFnID8gdmFycy50YWcgOiB2YXJzLnNwYW4gPyBcInNwYW5cIiA6IFwiZGl2XCIsXG4gICAgICB0eXBlcyA9IHZhcnMudHlwZSB8fCB2YXJzLnNwbGl0IHx8IFwiY2hhcnMsd29yZHMsbGluZXNcIixcbiAgICAgIGxpbmVzID0gYWxsTGluZXMgJiYgfnR5cGVzLmluZGV4T2YoXCJsaW5lc1wiKSA/IFtdIDogbnVsbCxcbiAgICAgIHdvcmRzID0gfnR5cGVzLmluZGV4T2YoXCJ3b3Jkc1wiKSxcbiAgICAgIGNoYXJzID0gfnR5cGVzLmluZGV4T2YoXCJjaGFyc1wiKSxcbiAgICAgIGFic29sdXRlID0gX2lzQWJzb2x1dGUodmFycyksXG4gICAgICBsaW5lc0NsYXNzID0gdmFycy5saW5lc0NsYXNzLFxuICAgICAgaXRlcmF0ZUxpbmUgPSB+KGxpbmVzQ2xhc3MgfHwgXCJcIikuaW5kZXhPZihcIisrXCIpLFxuICAgICAgc3BhY2VOb2Rlc1RvUmVtb3ZlID0gW10sXG4gICAgICBpLFxuICAgICAgaixcbiAgICAgIGwsXG4gICAgICBub2RlLFxuICAgICAgbm9kZXMsXG4gICAgICBpc0NoaWxkLFxuICAgICAgY3VyTGluZSxcbiAgICAgIGFkZFdvcmRTcGFjZXMsXG4gICAgICBzdHlsZSxcbiAgICAgIGxpbmVOb2RlLFxuICAgICAgbGluZVdpZHRoLFxuICAgICAgb2Zmc2V0O1xuXG4gIGlmIChpdGVyYXRlTGluZSkge1xuICAgIGxpbmVzQ2xhc3MgPSBsaW5lc0NsYXNzLnNwbGl0KFwiKytcIikuam9pbihcIlwiKTtcbiAgfSAvL2NvcHkgYWxsIHRoZSBkZXNjZW5kYW50IG5vZGVzIGludG8gYW4gYXJyYXkgKHdlIGNhbid0IHVzZSBhIHJlZ3VsYXIgbm9kZUxpc3QgYmVjYXVzZSBpdCdzIGxpdmUgYW5kIHdlIG1heSBuZWVkIHRvIHJlbmVzdCB0aGluZ3MpXG5cblxuICBqID0gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIik7XG4gIGwgPSBqLmxlbmd0aDtcbiAgbm9kZXMgPSBbXTtcblxuICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgbm9kZXNbaV0gPSBqW2ldO1xuICB9IC8vZm9yIGFic29sdXRlIHBvc2l0aW9uaW5nLCB3ZSBuZWVkIHRvIHJlY29yZCB0aGUgeC95IG9mZnNldHMgYW5kIHdpZHRoL2hlaWdodCBmb3IgZXZlcnkgPGRpdj4uIEFuZCBldmVuIGlmIHdlJ3JlIG5vdCBwb3NpdGlvbmluZyB0aGluZ3MgYWJzb2x1dGVseSwgaW4gb3JkZXIgdG8gYWNjb21tb2RhdGUgbGluZXMsIHdlIG11c3QgZmlndXJlIG91dCB3aGVyZSB0aGUgeSBvZmZzZXQgY2hhbmdlcyBzbyB0aGF0IHdlIGNhbiBzZW5zZSB3aGVyZSB0aGUgbGluZXMgYnJlYWssIGFuZCB3ZSBwb3B1bGF0ZSB0aGUgbGluZXMgYXJyYXkuXG5cblxuICBpZiAobGluZXMgfHwgYWJzb2x1dGUpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBub2RlID0gbm9kZXNbaV07XG4gICAgICBpc0NoaWxkID0gbm9kZS5wYXJlbnROb2RlID09PSBlbGVtZW50O1xuXG4gICAgICBpZiAoaXNDaGlsZCB8fCBhYnNvbHV0ZSB8fCBjaGFycyAmJiAhd29yZHMpIHtcbiAgICAgICAgb2Zmc2V0ID0gbm9kZS5vZmZzZXRUb3A7XG5cbiAgICAgICAgaWYgKGxpbmVzICYmIGlzQ2hpbGQgJiYgTWF0aC5hYnMob2Zmc2V0IC0gbGluZU9mZnNldFkpID4gbGluZVRocmVzaG9sZCAmJiAobm9kZS5ub2RlTmFtZSAhPT0gXCJCUlwiIHx8IGkgPT09IDApKSB7XG4gICAgICAgICAgLy93ZSBmb3VuZCBzb21lIHJhcmUgb2NjYXNpb25zIHdoZXJlIGEgY2VydGFpbiBjaGFyYWN0ZXIgbGlrZSAmIzgyMDk7IGNvdWxkIGNhdXNlIHRoZSBvZmZzZXRUb3AgdG8gYmUgb2ZmIGJ5IDEgcGl4ZWwsIHNvIHdlIGJ1aWxkIGluIGEgdGhyZXNob2xkLlxuICAgICAgICAgIGN1ckxpbmUgPSBbXTtcbiAgICAgICAgICBsaW5lcy5wdXNoKGN1ckxpbmUpO1xuICAgICAgICAgIGxpbmVPZmZzZXRZID0gb2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgICAgLy9yZWNvcmQgb2Zmc2V0IHggYW5kIHksIGFzIHdlbGwgYXMgd2lkdGggYW5kIGhlaWdodCBzbyB0aGF0IHdlIGNhbiBhY2Nlc3MgdGhlbSBsYXRlciBmb3IgcG9zaXRpb25pbmcuIEdyYWJiaW5nIHRoZW0gYXQgb25jZSBlbnN1cmVzIHdlIGRvbid0IHRyaWdnZXIgYSBicm93c2VyIHBhaW50ICYgd2UgbWF4aW1pemUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAgbm9kZS5feCA9IG5vZGUub2Zmc2V0TGVmdDtcbiAgICAgICAgICBub2RlLl95ID0gb2Zmc2V0O1xuICAgICAgICAgIG5vZGUuX3cgPSBub2RlLm9mZnNldFdpZHRoO1xuICAgICAgICAgIG5vZGUuX2ggPSBub2RlLm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaW5lcykge1xuICAgICAgICAgIGlmIChub2RlLl9pc1NwbGl0ICYmIGlzQ2hpbGQgfHwgIWNoYXJzICYmIGlzQ2hpbGQgfHwgd29yZHMgJiYgaXNDaGlsZCB8fCAhd29yZHMgJiYgbm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUgPT09IGVsZW1lbnQgJiYgIW5vZGUucGFyZW50Tm9kZS5faXNTcGxpdCkge1xuICAgICAgICAgICAgY3VyTGluZS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgbm9kZS5feCAtPSBwYWRkaW5nTGVmdDtcblxuICAgICAgICAgICAgaWYgKF9pc0JlZm9yZVdvcmREZWxpbWl0ZXIobm9kZSwgZWxlbWVudCwgd29yZERlbGltaXRlcikpIHtcbiAgICAgICAgICAgICAgbm9kZS5fd29yZEVuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT09IFwiQlJcIiAmJiAobm9kZS5uZXh0U2libGluZyAmJiBub2RlLm5leHRTaWJsaW5nLm5vZGVOYW1lID09PSBcIkJSXCIgfHwgaSA9PT0gMCkpIHtcbiAgICAgICAgICAgIC8vdHdvIGNvbnNlY3V0aXZlIDxicj4gdGFncyBzaWduaWZ5IGEgbmV3IFtlbXB0eV0gbGluZS4gQWxzbywgaWYgdGhlIGVudGlyZSBibG9jayBvZiBjb250ZW50IFNUQVJUUyB3aXRoIGEgPGJyPiwgYWRkIGEgbGluZS5cbiAgICAgICAgICAgIGxpbmVzLnB1c2goW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBub2RlID0gbm9kZXNbaV07XG4gICAgaXNDaGlsZCA9IG5vZGUucGFyZW50Tm9kZSA9PT0gZWxlbWVudDtcblxuICAgIGlmIChub2RlLm5vZGVOYW1lID09PSBcIkJSXCIpIHtcbiAgICAgIGlmIChsaW5lcyB8fCBhYnNvbHV0ZSkge1xuICAgICAgICBub2RlLnBhcmVudE5vZGUgJiYgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgICBub2Rlcy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgbC0tO1xuICAgICAgfSBlbHNlIGlmICghd29yZHMpIHtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIH1cblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICBzdHlsZSA9IG5vZGUuc3R5bGU7XG5cbiAgICAgIGlmICghd29yZHMgJiYgIWlzQ2hpbGQpIHtcbiAgICAgICAgbm9kZS5feCArPSBub2RlLnBhcmVudE5vZGUuX3g7XG4gICAgICAgIG5vZGUuX3kgKz0gbm9kZS5wYXJlbnROb2RlLl95O1xuICAgICAgfVxuXG4gICAgICBzdHlsZS5sZWZ0ID0gbm9kZS5feCArIFwicHhcIjtcbiAgICAgIHN0eWxlLnRvcCA9IG5vZGUuX3kgKyBcInB4XCI7XG4gICAgICBzdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7IC8vaWYgd2UgZG9uJ3Qgc2V0IHRoZSB3aWR0aC9oZWlnaHQsIHRoaW5ncyBjb2xsYXBzZSBpbiBvbGRlciB2ZXJzaW9ucyBvZiBJRSBhbmQgdGhlIG9yaWdpbiBmb3IgdHJhbnNmb3JtcyBpcyB0aHJvd24gb2ZmIGluIGFsbCBicm93c2Vycy5cblxuICAgICAgc3R5bGUud2lkdGggPSBub2RlLl93ICsgMSArIFwicHhcIjsgLy9JRSBpcyAxcHggc2hvcnQgc29tZXRpbWVzLiBBdm9pZCB3cmFwcGluZ1xuXG4gICAgICBzdHlsZS5oZWlnaHQgPSBub2RlLl9oICsgXCJweFwiO1xuICAgIH1cblxuICAgIGlmICghd29yZHMgJiYgY2hhcnMpIHtcbiAgICAgIC8vd2UgYWx3YXlzIHN0YXJ0IG91dCB3cmFwcGluZyB3b3JkcyBpbiB0aGVpciBvd24gPGRpdj4gc28gdGhhdCBsaW5lIGJyZWFrcyBoYXBwZW4gY29ycmVjdGx5LCBidXQgaGVyZSB3ZSdsbCByZW1vdmUgdGhvc2UgPGRpdj4gdGFncyBpZiBuZWNlc3NhcnkgYW5kIHJlbmVzdCB0aGUgY2hhcmFjdGVycyBkaXJlY3RseSBpbnRvIHRoZSBlbGVtZW50IHJhdGhlciB0aGFuIGluc2lkZSB0aGUgd29yZCA8ZGl2PlxuICAgICAgaWYgKG5vZGUuX2lzU3BsaXQpIHtcbiAgICAgICAgbm9kZS5fbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChub2RlKTsgLy9wdXQgaXQgYXQgdGhlIGVuZCB0byBrZWVwIHRoZSBvcmRlciBjb3JyZWN0LlxuICAgICAgfSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUuX2lzU3BsaXQpIHtcbiAgICAgICAgbm9kZS5fcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuXG4gICAgICAgIGlmICghbm9kZS5wcmV2aW91c1NpYmxpbmcgJiYgbm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgbm9kZS5maXJzdENoaWxkLl9pc0ZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nICYmIG5vZGUubmV4dFNpYmxpbmcudGV4dENvbnRlbnQgPT09IFwiIFwiICYmICFub2RlLm5leHRTaWJsaW5nLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgLy9pZiB0aGUgbGFzdCBub2RlIGluc2lkZSBhIG5lc3RlZCBlbGVtZW50IGlzIGp1c3QgYSBzcGFjZSAobGlrZSBUPHNwYW4+bmVzdGVkIDwvc3Bhbj4pLCByZW1vdmUgaXQgb3RoZXJ3aXNlIGl0J2xsIGdldCBwbGFjZWQgaW4gdGhlIHdyb25nIG9yZGVyLiBEb24ndCByZW1vdmUgaXQgcmlnaHQgYXdheSwgdGhvdWdoLCBiZWNhdXNlIHdlIG5lZWQgdG8gc2Vuc2Ugd2hlbiB3b3Jkcy9jaGFyYWN0ZXJzIGFyZSBiZWZvcmUgYSBzcGFjZSBsaWtlIF9pc0JlZm9yZVdvcmREZWxpbWl0ZXIoKS4gUmVtb3ZpbmcgaXQgbm93IHdvdWxkIG1ha2UgdGhhdCBhIGZhbHNlIG5lZ2F0aXZlLlxuICAgICAgICAgIHNwYWNlTm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZS5fbmV4dCA9IG5vZGUubmV4dFNpYmxpbmcgJiYgbm9kZS5uZXh0U2libGluZy5faXNGaXJzdCA/IG51bGwgOiBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgIG5vZGVzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICBsLS07XG4gICAgICB9IGVsc2UgaWYgKCFpc0NoaWxkKSB7XG4gICAgICAgIG9mZnNldCA9ICFub2RlLm5leHRTaWJsaW5nICYmIF9pc0JlZm9yZVdvcmREZWxpbWl0ZXIobm9kZS5wYXJlbnROb2RlLCBlbGVtZW50LCB3b3JkRGVsaW1pdGVyKTsgLy9pZiB0aGlzIGlzIHRoZSBsYXN0IGxldHRlciBpbiB0aGUgd29yZCAoYW5kIHdlJ3JlIG5vdCBicmVha2luZyBieSBsaW5lcyBhbmQgbm90IHBvc2l0aW9uaW5nIHRoaW5ncyBhYnNvbHV0ZWx5KSwgd2UgbmVlZCB0byBhZGQgYSBzcGFjZSBhZnRlcndhcmRzIHNvIHRoYXQgdGhlIGNoYXJhY3RlcnMgZG9uJ3QganVzdCBtYXNoIHRvZ2V0aGVyXG5cbiAgICAgICAgaWYgKG5vZGUucGFyZW50Tm9kZS5fcGFyZW50KSB7XG4gICAgICAgICAgbm9kZS5wYXJlbnROb2RlLl9wYXJlbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBvZmZzZXQgJiYgbm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKF9kb2MuY3JlYXRlVGV4dE5vZGUoXCIgXCIpKTtcblxuICAgICAgICBpZiAodGFnID09PSBcInNwYW5cIikge1xuICAgICAgICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7IC8vc28gdGhhdCB3b3JkIGJyZWFrcyBhcmUgaG9ub3JlZCBwcm9wZXJseS5cbiAgICAgICAgfVxuXG4gICAgICAgIGNoYXJBcnJheS5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlLl9pc1NwbGl0ICYmICFub2RlLl9pc1NwbGl0ICYmIG5vZGUuaW5uZXJIVE1MICE9PSBcIlwiKSB7XG4gICAgICB3b3JkQXJyYXkucHVzaChub2RlKTtcbiAgICB9IGVsc2UgaWYgKGNoYXJzICYmICFub2RlLl9pc1NwbGl0KSB7XG4gICAgICBpZiAodGFnID09PSBcInNwYW5cIikge1xuICAgICAgICBub2RlLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZVwiO1xuICAgICAgfVxuXG4gICAgICBjaGFyQXJyYXkucHVzaChub2RlKTtcbiAgICB9XG4gIH1cblxuICBpID0gc3BhY2VOb2Rlc1RvUmVtb3ZlLmxlbmd0aDtcblxuICB3aGlsZSAoLS1pID4gLTEpIHtcbiAgICBzcGFjZU5vZGVzVG9SZW1vdmVbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzcGFjZU5vZGVzVG9SZW1vdmVbaV0pO1xuICB9XG5cbiAgaWYgKGxpbmVzKSB7XG4gICAgLy90aGUgbmV4dCA3IGxpbmVzIGp1c3QgZ2l2ZSB1cyB0aGUgbGluZSB3aWR0aCBpbiB0aGUgbW9zdCByZWxpYWJsZSB3YXkgYW5kIGZpZ3VyZSBvdXQgdGhlIGxlZnQgb2Zmc2V0IChpZiBwb3NpdGlvbiBpc24ndCByZWxhdGl2ZSBvciBhYnNvbHV0ZSkuIFdlIG11c3Qgc2V0IHRoZSB3aWR0aCBhbG9uZyB3aXRoIHRleHQtYWxpZ24gdG8gZW5zdXJlIGV2ZXJ5dGhpbmcgd29ya3MgcHJvcGVybHkgZm9yIHZhcmlvdXMgYWxpZ25tZW50cy5cbiAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgIGxpbmVOb2RlID0gX2RvYy5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxpbmVOb2RlKTtcbiAgICAgIGxpbmVXaWR0aCA9IGxpbmVOb2RlLm9mZnNldFdpZHRoICsgXCJweFwiO1xuICAgICAgb2Zmc2V0ID0gbGluZU5vZGUub2Zmc2V0UGFyZW50ID09PSBlbGVtZW50ID8gMCA6IGVsZW1lbnQub2Zmc2V0TGVmdDtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQobGluZU5vZGUpO1xuICAgIH1cblxuICAgIHN0eWxlID0gZWxlbWVudC5zdHlsZS5jc3NUZXh0O1xuICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IFwiZGlzcGxheTpub25lO1wiOyAvL3RvIGltcHJvdmUgcGVyZm9ybWFuY2UsIHNldCBkaXNwbGF5Om5vbmUgb24gdGhlIGVsZW1lbnQgc28gdGhhdCB0aGUgYnJvd3NlciBkb2Vzbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgcmVmbG93aW5nIG9yIHJlbmRlcmluZyB3aGlsZSB3ZSdyZSByZW5lc3RpbmcgdGhpbmdzLiBXZSdsbCByZXZlcnQgdGhlIGNzc1RleHQgbGF0ZXIuXG4gICAgLy93ZSBjYW4ndCB1c2UgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiIGJlY2F1c2UgdGhhdCBjYXVzZXMgSUUgdG8gbGl0ZXJhbGx5IGRlbGV0ZSBhbGwgdGhlIG5vZGVzIGFuZCB0aGVpciBjb250ZW50IGV2ZW4gdGhvdWdoIHdlJ3ZlIHN0b3JlZCB0aGVtIGluIGFuIGFycmF5ISBTbyB3ZSBtdXN0IGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gYW5kIHJlbW92ZSB0aGVtLlxuXG4gICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIGFkZFdvcmRTcGFjZXMgPSB3b3JkRGVsaW1pdGVyID09PSBcIiBcIiAmJiAoIWFic29sdXRlIHx8ICF3b3JkcyAmJiAhY2hhcnMpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJMaW5lID0gbGluZXNbaV07XG4gICAgICBsaW5lTm9kZSA9IF9kb2MuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgbGluZU5vZGUuc3R5bGUuY3NzVGV4dCA9IFwiZGlzcGxheTpibG9jazt0ZXh0LWFsaWduOlwiICsgdGV4dEFsaWduICsgXCI7cG9zaXRpb246XCIgKyAoYWJzb2x1dGUgPyBcImFic29sdXRlO1wiIDogXCJyZWxhdGl2ZTtcIik7XG5cbiAgICAgIGlmIChsaW5lc0NsYXNzKSB7XG4gICAgICAgIGxpbmVOb2RlLmNsYXNzTmFtZSA9IGxpbmVzQ2xhc3MgKyAoaXRlcmF0ZUxpbmUgPyBpICsgMSA6IFwiXCIpO1xuICAgICAgfVxuXG4gICAgICBsaW5lQXJyYXkucHVzaChsaW5lTm9kZSk7XG4gICAgICBsID0gY3VyTGluZS5sZW5ndGg7XG5cbiAgICAgIGZvciAoaiA9IDA7IGogPCBsOyBqKyspIHtcbiAgICAgICAgaWYgKGN1ckxpbmVbal0ubm9kZU5hbWUgIT09IFwiQlJcIikge1xuICAgICAgICAgIG5vZGUgPSBjdXJMaW5lW2pdO1xuICAgICAgICAgIGxpbmVOb2RlLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgIGFkZFdvcmRTcGFjZXMgJiYgbm9kZS5fd29yZEVuZCAmJiBsaW5lTm9kZS5hcHBlbmRDaGlsZChfZG9jLmNyZWF0ZVRleHROb2RlKFwiIFwiKSk7XG5cbiAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgICAgIGxpbmVOb2RlLnN0eWxlLnRvcCA9IG5vZGUuX3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgIGxpbmVOb2RlLnN0eWxlLmxlZnQgPSBwYWRkaW5nTGVmdCArIG9mZnNldCArIFwicHhcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZS5zdHlsZS50b3AgPSBcIjBweFwiO1xuXG4gICAgICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgIG5vZGUuc3R5bGUubGVmdCA9IG5vZGUuX3ggLSBvZmZzZXQgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChsID09PSAwKSB7XG4gICAgICAgIC8vaWYgdGhlcmUgYXJlIG5vIG5vZGVzIGluIHRoZSBsaW5lICh0eXBpY2FsbHkgbWVhbmluZyB0aGVyZSB3ZXJlIHR3byBjb25zZWN1dGl2ZSA8YnI+IHRhZ3MsIGp1c3QgYWRkIGEgbm9uLWJyZWFraW5nIHNwYWNlIHNvIHRoYXQgdGhpbmdzIGRpc3BsYXkgcHJvcGVybHkuXG4gICAgICAgIGxpbmVOb2RlLmlubmVySFRNTCA9IFwiJm5ic3A7XCI7XG4gICAgICB9IGVsc2UgaWYgKCF3b3JkcyAmJiAhY2hhcnMpIHtcbiAgICAgICAgX2RlV29yZGlmeShsaW5lTm9kZSk7XG5cbiAgICAgICAgX3N3YXBUZXh0KGxpbmVOb2RlLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCksIFwiIFwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgIGxpbmVOb2RlLnN0eWxlLndpZHRoID0gbGluZVdpZHRoO1xuICAgICAgICBsaW5lTm9kZS5zdHlsZS5oZWlnaHQgPSBub2RlLl9oICsgXCJweFwiO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxpbmVOb2RlKTtcbiAgICB9XG5cbiAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBzdHlsZTtcbiAgfSAvL2lmIGV2ZXJ5dGhpbmcgc2hpZnRzIHRvIGJlaW5nIHBvc2l0aW9uOmFic29sdXRlLCB0aGUgY29udGFpbmVyIGNhbiBjb2xsYXBzZSBpbiB0ZXJtcyBvZiBoZWlnaHQgb3Igd2lkdGgsIHNvIGZpeCB0aGF0IGhlcmUuXG5cblxuICBpZiAoYWJzb2x1dGUpIHtcbiAgICBpZiAob3JpZ0hlaWdodCA+IGVsZW1lbnQuY2xpZW50SGVpZ2h0KSB7XG4gICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IG9yaWdIZWlnaHQgLSBwYWRUb3BBbmRCb3R0b20gKyBcInB4XCI7XG5cbiAgICAgIGlmIChlbGVtZW50LmNsaWVudEhlaWdodCA8IG9yaWdIZWlnaHQpIHtcbiAgICAgICAgLy9JRTggYW5kIGVhcmxpZXIgdXNlIGEgZGlmZmVyZW50IGJveCBtb2RlbCAtIHdlIG11c3QgaW5jbHVkZSBwYWRkaW5nIGFuZCBib3JkZXJzXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gb3JpZ0hlaWdodCArIGJvcmRlclRvcEFuZEJvdHRvbSArIFwicHhcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3JpZ1dpZHRoID4gZWxlbWVudC5jbGllbnRXaWR0aCkge1xuICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IG9yaWdXaWR0aCAtIHBhZExlZnRBbmRSaWdodCArIFwicHhcIjtcblxuICAgICAgaWYgKGVsZW1lbnQuY2xpZW50V2lkdGggPCBvcmlnV2lkdGgpIHtcbiAgICAgICAgLy9JRTggYW5kIGVhcmxpZXIgdXNlIGEgZGlmZmVyZW50IGJveCBtb2RlbCAtIHdlIG11c3QgaW5jbHVkZSBwYWRkaW5nIGFuZCBib3JkZXJzXG4gICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSBvcmlnV2lkdGggKyBib3JkZXJMZWZ0QW5kUmlnaHQgKyBcInB4XCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3B1c2hSZXZlcnNlZChhbGxDaGFycywgY2hhckFycmF5KTtcblxuICBpZiAod29yZHMpIHtcbiAgICBfcHVzaFJldmVyc2VkKGFsbFdvcmRzLCB3b3JkQXJyYXkpO1xuICB9XG5cbiAgX3B1c2hSZXZlcnNlZChhbGxMaW5lcywgbGluZUFycmF5KTtcbn0sXG4gICAgX3NwbGl0UmF3VGV4dCA9IGZ1bmN0aW9uIF9zcGxpdFJhd1RleHQoZWxlbWVudCwgdmFycywgd29yZFN0YXJ0LCBjaGFyU3RhcnQpIHtcbiAgdmFyIHRhZyA9IHZhcnMudGFnID8gdmFycy50YWcgOiB2YXJzLnNwYW4gPyBcInNwYW5cIiA6IFwiZGl2XCIsXG4gICAgICB0eXBlcyA9IHZhcnMudHlwZSB8fCB2YXJzLnNwbGl0IHx8IFwiY2hhcnMsd29yZHMsbGluZXNcIixcbiAgICAgIC8vd29yZHMgPSAodHlwZXMuaW5kZXhPZihcIndvcmRzXCIpICE9PSAtMSksXG4gIGNoYXJzID0gfnR5cGVzLmluZGV4T2YoXCJjaGFyc1wiKSxcbiAgICAgIGFic29sdXRlID0gX2lzQWJzb2x1dGUodmFycyksXG4gICAgICB3b3JkRGVsaW1pdGVyID0gdmFycy53b3JkRGVsaW1pdGVyIHx8IFwiIFwiLFxuICAgICAgc3BhY2UgPSB3b3JkRGVsaW1pdGVyICE9PSBcIiBcIiA/IFwiXCIgOiBhYnNvbHV0ZSA/IFwiJiMxNzM7IFwiIDogXCIgXCIsXG4gICAgICB3b3JkRW5kID0gXCI8L1wiICsgdGFnICsgXCI+XCIsXG4gICAgICB3b3JkSXNPcGVuID0gMSxcbiAgICAgIHNwZWNpYWxDaGFycyA9IHZhcnMuc3BlY2lhbENoYXJzID8gdHlwZW9mIHZhcnMuc3BlY2lhbENoYXJzID09PSBcImZ1bmN0aW9uXCIgPyB2YXJzLnNwZWNpYWxDaGFycyA6IF9maW5kU3BlY2lhbENoYXJzIDogbnVsbCxcbiAgICAgIC8vc3BlY2lhbENoYXJzIGNhbiBiZSBhbiBhcnJheSBvciBhIGZ1bmN0aW9uLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgd2UgYWx3YXlzIHNldCB0aGlzIGxvY2FsIFwic3BlY2lhbENoYXJzXCIgdG8gYSBmdW5jdGlvbiB0byB3aGljaCB3ZSBwYXNzIHRoZSByZW1haW5pbmcgdGV4dCBhbmQgd2hhdGV2ZXIgdGhlIG9yaWdpbmFsIHZhcnMuc3BlY2lhbENoYXJzIHdhcyBzbyB0aGF0IGlmIGl0J3MgYW4gYXJyYXksIGl0IHdvcmtzIHdpdGggdGhlIF9maW5kU3BlY2lhbENoYXJzKCkgZnVuY3Rpb24uXG4gIHRleHQsXG4gICAgICBzcGxpdFRleHQsXG4gICAgICBpLFxuICAgICAgaixcbiAgICAgIGwsXG4gICAgICBjaGFyYWN0ZXIsXG4gICAgICBoYXNUYWdTdGFydCxcbiAgICAgIHRlc3RSZXN1bHQsXG4gICAgICBjb250YWluZXIgPSBfZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgcGFyZW50Lmluc2VydEJlZm9yZShjb250YWluZXIsIGVsZW1lbnQpO1xuICBjb250YWluZXIudGV4dENvbnRlbnQgPSBlbGVtZW50Lm5vZGVWYWx1ZTtcbiAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICBlbGVtZW50ID0gY29udGFpbmVyO1xuICB0ZXh0ID0gZ2V0VGV4dChlbGVtZW50KTtcbiAgaGFzVGFnU3RhcnQgPSB0ZXh0LmluZGV4T2YoXCI8XCIpICE9PSAtMTtcblxuICBpZiAodmFycy5yZWR1Y2VXaGl0ZVNwYWNlICE9PSBmYWxzZSkge1xuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoX211bHRpcGxlU3BhY2VzRXhwLCBcIiBcIikucmVwbGFjZShfc3RyaXBFeHAsIFwiXCIpO1xuICB9XG5cbiAgaWYgKGhhc1RhZ1N0YXJ0KSB7XG4gICAgdGV4dCA9IHRleHQuc3BsaXQoXCI8XCIpLmpvaW4oXCJ7e0xUfX1cIik7IC8vd2UgY2FuJ3QgbGVhdmUgXCI8XCIgaW4gdGhlIHN0cmluZywgb3Igd2hlbiB3ZSBzZXQgdGhlIGlubmVySFRNTCwgaXQgY2FuIGJlIGludGVycHJldGVkIGFzIGEgbm9kZVxuICB9XG5cbiAgbCA9IHRleHQubGVuZ3RoO1xuICBzcGxpdFRleHQgPSAodGV4dC5jaGFyQXQoMCkgPT09IFwiIFwiID8gc3BhY2UgOiBcIlwiKSArIHdvcmRTdGFydCgpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBjaGFyYWN0ZXIgPSB0ZXh0LmNoYXJBdChpKTtcblxuICAgIGlmIChzcGVjaWFsQ2hhcnMgJiYgKHRlc3RSZXN1bHQgPSBzcGVjaWFsQ2hhcnModGV4dC5zdWJzdHIoaSksIHZhcnMuc3BlY2lhbENoYXJzKSkpIHtcbiAgICAgIC8vIGxvb2sgZm9yIGFueSBzcGVjaWFsQ2hhcnMgdGhhdCB3ZXJlIGRlY2xhcmVkLiBSZW1lbWJlciwgdGhleSBjYW4gYmUgcGFzc2VkIGluIGxpa2Uge3NwZWNpYWxDaGFyczpbXCJcdTA5MkVcdTA5NDBcIiwgXCJcdTA5MkFcdTA5M0VcIiwgXCJcdTA5MzlcdTA5NDhcIl19IG9yIGEgZnVuY3Rpb24gY291bGQgYmUgZGVmaW5lZCBpbnN0ZWFkLiBFaXRoZXIgd2F5LCB0aGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgdGhhdCBzaG91bGQgYmUgZ3JvdXBlZCB0b2dldGhlciBmb3IgdGhpcyBcImNoYXJhY3RlclwiLlxuICAgICAgY2hhcmFjdGVyID0gdGV4dC5zdWJzdHIoaSwgdGVzdFJlc3VsdCB8fCAxKTtcbiAgICAgIHNwbGl0VGV4dCArPSBjaGFycyAmJiBjaGFyYWN0ZXIgIT09IFwiIFwiID8gY2hhclN0YXJ0KCkgKyBjaGFyYWN0ZXIgKyBcIjwvXCIgKyB0YWcgKyBcIj5cIiA6IGNoYXJhY3RlcjtcbiAgICAgIGkgKz0gdGVzdFJlc3VsdCAtIDE7XG4gICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIgPT09IHdvcmREZWxpbWl0ZXIgJiYgdGV4dC5jaGFyQXQoaSAtIDEpICE9PSB3b3JkRGVsaW1pdGVyICYmIGkpIHtcbiAgICAgIHNwbGl0VGV4dCArPSB3b3JkSXNPcGVuID8gd29yZEVuZCA6IFwiXCI7XG4gICAgICB3b3JkSXNPcGVuID0gMDtcblxuICAgICAgd2hpbGUgKHRleHQuY2hhckF0KGkgKyAxKSA9PT0gd29yZERlbGltaXRlcikge1xuICAgICAgICAvL3NraXAgb3ZlciBlbXB0eSBzcGFjZXMgKHRvIGF2b2lkIG1ha2luZyB0aGVtIHdvcmRzKVxuICAgICAgICBzcGxpdFRleHQgKz0gc3BhY2U7XG4gICAgICAgIGkrKztcbiAgICAgIH1cblxuICAgICAgaWYgKGkgPT09IGwgLSAxKSB7XG4gICAgICAgIHNwbGl0VGV4dCArPSBzcGFjZTtcbiAgICAgIH0gZWxzZSBpZiAodGV4dC5jaGFyQXQoaSArIDEpICE9PSBcIilcIikge1xuICAgICAgICBzcGxpdFRleHQgKz0gc3BhY2UgKyB3b3JkU3RhcnQoKTtcbiAgICAgICAgd29yZElzT3BlbiA9IDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIgPT09IFwie1wiICYmIHRleHQuc3Vic3RyKGksIDYpID09PSBcInt7TFR9fVwiKSB7XG4gICAgICBzcGxpdFRleHQgKz0gY2hhcnMgPyBjaGFyU3RhcnQoKSArIFwie3tMVH19XCIgKyBcIjwvXCIgKyB0YWcgKyBcIj5cIiA6IFwie3tMVH19XCI7XG4gICAgICBpICs9IDU7XG4gICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuY2hhckNvZGVBdCgwKSA+PSAweEQ4MDAgJiYgY2hhcmFjdGVyLmNoYXJDb2RlQXQoMCkgPD0gMHhEQkZGIHx8IHRleHQuY2hhckNvZGVBdChpICsgMSkgPj0gMHhGRTAwICYmIHRleHQuY2hhckNvZGVBdChpICsgMSkgPD0gMHhGRTBGKSB7XG4gICAgICAvL3NwZWNpYWwgZW1vamkgY2hhcmFjdGVycyB1c2UgMiBvciA0IHVuaWNvZGUgY2hhcmFjdGVycyB0aGF0IHdlIG11c3Qga2VlcCB0b2dldGhlci5cbiAgICAgIGogPSAoKHRleHQuc3Vic3RyKGksIDEyKS5zcGxpdChlbW9qaUV4cCkgfHwgW10pWzFdIHx8IFwiXCIpLmxlbmd0aCB8fCAyO1xuICAgICAgc3BsaXRUZXh0ICs9IGNoYXJzICYmIGNoYXJhY3RlciAhPT0gXCIgXCIgPyBjaGFyU3RhcnQoKSArIHRleHQuc3Vic3RyKGksIGopICsgXCI8L1wiICsgdGFnICsgXCI+XCIgOiB0ZXh0LnN1YnN0cihpLCBqKTtcbiAgICAgIGkgKz0gaiAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwbGl0VGV4dCArPSBjaGFycyAmJiBjaGFyYWN0ZXIgIT09IFwiIFwiID8gY2hhclN0YXJ0KCkgKyBjaGFyYWN0ZXIgKyBcIjwvXCIgKyB0YWcgKyBcIj5cIiA6IGNoYXJhY3RlcjtcbiAgICB9XG4gIH1cblxuICBlbGVtZW50Lm91dGVySFRNTCA9IHNwbGl0VGV4dCArICh3b3JkSXNPcGVuID8gd29yZEVuZCA6IFwiXCIpO1xuXG4gIGlmIChoYXNUYWdTdGFydCkge1xuICAgIF9zd2FwVGV4dChwYXJlbnQsIFwie3tMVH19XCIsIFwiPFwiKTsgLy9ub3RlOiBkb24ndCBwZXJmb3JtIHRoaXMgb24gXCJlbGVtZW50XCIgYmVjYXVzZSB0aGF0IGdldHMgcmVwbGFjZWQgd2l0aCBhbGwgbmV3IGVsZW1lbnRzIHdoZW4gd2Ugc2V0IGVsZW1lbnQub3V0ZXJIVE1MLlxuXG4gIH1cbn0sXG4gICAgX3NwbGl0ID0gZnVuY3Rpb24gX3NwbGl0KGVsZW1lbnQsIHZhcnMsIHdvcmRTdGFydCwgY2hhclN0YXJ0KSB7XG4gIHZhciBjaGlsZHJlbiA9IF90b0FycmF5KGVsZW1lbnQuY2hpbGROb2RlcyksXG4gICAgICBsID0gY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgYWJzb2x1dGUgPSBfaXNBYnNvbHV0ZSh2YXJzKSxcbiAgICAgIGksXG4gICAgICBjaGlsZDtcblxuICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gMyB8fCBsID4gMSkge1xuICAgIHZhcnMuYWJzb2x1dGUgPSBmYWxzZTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSAhPT0gMyB8fCAvXFxTKy8udGVzdChjaGlsZC5ub2RlVmFsdWUpKSB7XG4gICAgICAgIGlmIChhYnNvbHV0ZSAmJiBjaGlsZC5ub2RlVHlwZSAhPT0gMyAmJiBfZ2V0Q29tcHV0ZWRTdHlsZShjaGlsZCkuZGlzcGxheSA9PT0gXCJpbmxpbmVcIikge1xuICAgICAgICAgIC8vaWYgdGhlcmUncyBhIGNoaWxkIG5vZGUgdGhhdCdzIGRpc3BsYXk6aW5saW5lLCBzd2l0Y2ggaXQgdG8gaW5saW5lLWJsb2NrIHNvIHRoYXQgYWJzb2x1dGUgcG9zaXRpb25pbmcgd29ya3MgcHJvcGVybHkgKG1vc3QgYnJvd3NlcnMgZG9uJ3QgcmVwb3J0IG9mZnNldFRvcC9vZmZzZXRMZWZ0IHByb3Blcmx5IGluc2lkZSBhIDxzcGFuPiBmb3IgZXhhbXBsZSlcbiAgICAgICAgICBjaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgICBjaGlsZC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLl9pc1NwbGl0ID0gdHJ1ZTtcblxuICAgICAgICBfc3BsaXQoY2hpbGQsIHZhcnMsIHdvcmRTdGFydCwgY2hhclN0YXJ0KTsgLy9kb24ndCBzcGxpdCBsaW5lcyBvbiBjaGlsZCBlbGVtZW50c1xuXG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFycy5hYnNvbHV0ZSA9IGFic29sdXRlO1xuICAgIGVsZW1lbnQuX2lzU3BsaXQgPSB0cnVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIF9zcGxpdFJhd1RleHQoZWxlbWVudCwgdmFycywgd29yZFN0YXJ0LCBjaGFyU3RhcnQpO1xufTtcblxuZXhwb3J0IHZhciBTcGxpdFRleHQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTcGxpdFRleHQoZWxlbWVudCwgdmFycykge1xuICAgIF9jb3JlSW5pdHRlZCB8fCBfaW5pdENvcmUoKTtcbiAgICB0aGlzLmVsZW1lbnRzID0gX3RvQXJyYXkoZWxlbWVudCk7XG4gICAgdGhpcy5jaGFycyA9IFtdO1xuICAgIHRoaXMud29yZHMgPSBbXTtcbiAgICB0aGlzLmxpbmVzID0gW107XG4gICAgdGhpcy5fb3JpZ2luYWxzID0gW107XG4gICAgdGhpcy52YXJzID0gdmFycyB8fCB7fTtcbiAgICBfYm9udXNWYWxpZGF0ZWQgJiYgdGhpcy5zcGxpdCh2YXJzKTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTcGxpdFRleHQucHJvdG90eXBlO1xuXG4gIF9wcm90by5zcGxpdCA9IGZ1bmN0aW9uIHNwbGl0KHZhcnMpIHtcbiAgICB0aGlzLmlzU3BsaXQgJiYgdGhpcy5yZXZlcnQoKTtcbiAgICB0aGlzLnZhcnMgPSB2YXJzID0gdmFycyB8fCB0aGlzLnZhcnM7XG4gICAgdGhpcy5fb3JpZ2luYWxzLmxlbmd0aCA9IHRoaXMuY2hhcnMubGVuZ3RoID0gdGhpcy53b3Jkcy5sZW5ndGggPSB0aGlzLmxpbmVzLmxlbmd0aCA9IDA7XG5cbiAgICB2YXIgaSA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLFxuICAgICAgICB0YWcgPSB2YXJzLnRhZyA/IHZhcnMudGFnIDogdmFycy5zcGFuID8gXCJzcGFuXCIgOiBcImRpdlwiLFxuICAgICAgICB3b3JkU3RhcnQgPSBfY3NzQ2xhc3NGdW5jKHZhcnMud29yZHNDbGFzcywgdGFnKSxcbiAgICAgICAgY2hhclN0YXJ0ID0gX2Nzc0NsYXNzRnVuYyh2YXJzLmNoYXJzQ2xhc3MsIHRhZyksXG4gICAgICAgIG9yaWdIZWlnaHQsXG4gICAgICAgIG9yaWdXaWR0aCxcbiAgICAgICAgZTsgLy93ZSBzcGxpdCBpbiByZXZlcnNlZCBvcmRlciBzbyB0aGF0IGlmL3doZW4gd2UgcG9zaXRpb246YWJzb2x1dGUgZWxlbWVudHMsIHRoZXkgZG9uJ3QgYWZmZWN0IHRoZSBwb3NpdGlvbiBvZiB0aGUgb25lcyBhZnRlciB0aGVtIGluIHRoZSBkb2N1bWVudCBmbG93IChzaGlmdGluZyB0aGVtIHVwIGFzIHRoZXkncmUgdGFrZW4gb3V0IG9mIHRoZSBkb2N1bWVudCBmbG93KS5cblxuXG4gICAgd2hpbGUgKC0taSA+IC0xKSB7XG4gICAgICBlID0gdGhpcy5lbGVtZW50c1tpXTtcbiAgICAgIHRoaXMuX29yaWdpbmFsc1tpXSA9IGUuaW5uZXJIVE1MO1xuICAgICAgb3JpZ0hlaWdodCA9IGUuY2xpZW50SGVpZ2h0O1xuICAgICAgb3JpZ1dpZHRoID0gZS5jbGllbnRXaWR0aDtcblxuICAgICAgX3NwbGl0KGUsIHZhcnMsIHdvcmRTdGFydCwgY2hhclN0YXJ0KTtcblxuICAgICAgX3NldFBvc2l0aW9uc0FmdGVyU3BsaXQoZSwgdmFycywgdGhpcy5jaGFycywgdGhpcy53b3JkcywgdGhpcy5saW5lcywgb3JpZ1dpZHRoLCBvcmlnSGVpZ2h0KTtcbiAgICB9XG5cbiAgICB0aGlzLmNoYXJzLnJldmVyc2UoKTtcbiAgICB0aGlzLndvcmRzLnJldmVyc2UoKTtcbiAgICB0aGlzLmxpbmVzLnJldmVyc2UoKTtcbiAgICB0aGlzLmlzU3BsaXQgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90by5yZXZlcnQgPSBmdW5jdGlvbiByZXZlcnQoKSB7XG4gICAgdmFyIG9yaWdpbmFscyA9IHRoaXMuX29yaWdpbmFscztcblxuICAgIGlmICghb3JpZ2luYWxzKSB7XG4gICAgICB0aHJvdyBcInJldmVydCgpIGNhbGwgd2Fzbid0IHNjb3BlZCBwcm9wZXJseS5cIjtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGUsIGkpIHtcbiAgICAgIHJldHVybiBlLmlubmVySFRNTCA9IG9yaWdpbmFsc1tpXTtcbiAgICB9KTtcbiAgICB0aGlzLmNoYXJzID0gW107XG4gICAgdGhpcy53b3JkcyA9IFtdO1xuICAgIHRoaXMubGluZXMgPSBbXTtcbiAgICB0aGlzLmlzU3BsaXQgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBTcGxpdFRleHQuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGVsZW1lbnQsIHZhcnMpIHtcbiAgICByZXR1cm4gbmV3IFNwbGl0VGV4dChlbGVtZW50LCB2YXJzKTtcbiAgfTtcblxuICByZXR1cm4gU3BsaXRUZXh0O1xufSgpO1xuU3BsaXRUZXh0LnZlcnNpb24gPSBcIjMuNS4xXCI7XG5leHBvcnQgeyBTcGxpdFRleHQgYXMgZGVmYXVsdCB9OyIsICJjb25zdCBwb2x5ZmlsbHMgPSBbXTtcblxuLy8gaHR0cHM6Ly9wb2x5ZmlsbC5pby92My91cmwtYnVpbGRlci9cbignZmV0Y2gnIGluIHdpbmRvdykgICAgICAgICAgICAgICAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnZmV0Y2gnKTtcbignUHJvbWlzZScgaW4gd2luZG93KSAgICAgICAgICAgICAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnUHJvbWlzZScpO1xuKCdJbnRlcnNlY3Rpb25PYnNlcnZlcicgaW4gd2luZG93KSAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdJbnRlcnNlY3Rpb25PYnNlcnZlcicpO1xuKCdJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5JyBpbiB3aW5kb3cpIHx8IHBvbHlmaWxscy5wdXNoKCdJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5Jyk7XG4oJ1Jlc2l6ZU9ic2VydmVyJyBpbiB3aW5kb3cpICAgICAgICAgICAgfHwgcG9seWZpbGxzLnB1c2goJ1Jlc2l6ZU9ic2VydmVyJyk7XG4oJ1VSTFNlYXJjaFBhcmFtcycgaW4gd2luZG93KSAgICAgICAgICAgfHwgcG9seWZpbGxzLnB1c2goJ1VSTFNlYXJjaFBhcmFtcycpO1xuKCdyZXF1ZXN0SWRsZUNhbGxiYWNrJyBpbiB3aW5kb3cpICAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdyZXF1ZXN0SWRsZUNhbGxiYWNrJyk7XG4oJ2Fzc2lnbicgaW4gT2JqZWN0KSAgICAgICAgICAgICAgICAgICAgfHwgcG9seWZpbGxzLnB1c2goJ09iamVjdC5hc3NpZ24nKTtcbignZnJvbScgaW4gQXJyYXkpICAgICAgICAgICAgICAgICAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnQXJyYXkuZnJvbScpO1xuKCdmaW5kJyBpbiBBcnJheS5wcm90b3R5cGUpICAgICAgICAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdBcnJheS5wcm90b3R5cGUuZmluZCcpO1xuKCdpbmNsdWRlcycgaW4gQXJyYXkucHJvdG90eXBlKSAgICAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdBcnJheS5wcm90b3R5cGUuaW5jbHVkZXMnKTtcbignZm9yRWFjaCcgaW4gTm9kZUxpc3QucHJvdG90eXBlKSAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2gnKTtcbignY2xvc2VzdCcgaW4gRWxlbWVudC5wcm90b3R5cGUpICAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCcpO1xuKCdwcmVwZW5kJyBpbiBFbGVtZW50LnByb3RvdHlwZSkgICAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdFbGVtZW50LnByb3RvdHlwZS5wcmVwZW5kJyk7XG4oJ2FwcGVuZCcgaW4gRWxlbWVudC5wcm90b3R5cGUpICAgICAgICAgfHwgcG9seWZpbGxzLnB1c2goJ0VsZW1lbnQucHJvdG90eXBlLmFwcGVuZCcpO1xuKCdyZW1vdmUnIGluIEVsZW1lbnQucHJvdG90eXBlKSAgICAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdFbGVtZW50LnByb3RvdHlwZS5yZW1vdmUnKTtcblxuZXhwb3J0IGRlZmF1bHQgcG9seWZpbGxzO1xuIiwgImltcG9ydCB7IGZpbmRBbGwsIGF0dHIsIHBhcnNlIH0gZnJvbSAnQHRtYnIvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlKSB7XG5cbiAgY29uc3QgcHJvcHMgPSBwYXJzZShub2RlLmRhdGFzZXQucHJvcHMgfHwgJycpO1xuXG4gIGNvbnN0IGl0ZW1zID0gZmluZEFsbCgnLmFjY29yZGlvbi1oZWFkaW5nJywgbm9kZSkubWFwKGVsID0+IHtcbiAgICBjb25zdCB0cmlnZ2VyID0gZWwuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgY29uc3QgY29udGVudCA9IGVsLm5leHRFbGVtZW50U2libGluZztcbiAgICByZXR1cm4geyB0cmlnZ2VyLCBjb250ZW50LCBleHBhbmRlZDogZmFsc2UgfTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZXhwYW5kKGl0ZW0pIHtcbiAgICBhdHRyKGl0ZW0udHJpZ2dlciwgJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgIGF0dHIoaXRlbS5jb250ZW50LCAnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICBpdGVtLmV4cGFuZGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbGxhcHNlKGl0ZW0pIHtcbiAgICBhdHRyKGl0ZW0udHJpZ2dlciwgJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICBhdHRyKGl0ZW0uY29udGVudCwgJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBpdGVtLmV4cGFuZGVkID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjbGljayhldmVudCkge1xuICAgIGNvbnN0IGl0ZW0gPSBpdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS50cmlnZ2VyID09PSBldmVudC50YXJnZXQpO1xuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuICAgIGlmICghcHJvcHMubXVsdGlwbGUpIGl0ZW1zLmZpbHRlcihvID0+IG8uZXhwYW5kZWQgJiYgbyAhPT0gaXRlbSkuZm9yRWFjaChjb2xsYXBzZSk7XG4gICAgaXRlbS5leHBhbmRlZCA/IGNvbGxhcHNlKGl0ZW0pIDogZXhwYW5kKGl0ZW0pO1xuICAgIHJlc2l6ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzaXplKCkge1xuICAgIGl0ZW1zLmZvckVhY2goKHtleHBhbmRlZCwgY29udGVudH0pID0+IHtcbiAgICAgIGNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gZXhwYW5kZWQgPyBgJHtjb250ZW50LnNjcm9sbEhlaWdodH1weGAgOiBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGl0ZW1zW3Byb3BzLmluaXRpYWxdKSB7XG4gICAgZXhwYW5kKGl0ZW1zW3Byb3BzLmluaXRpYWxdKTtcbiAgfVxuXG4gIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGljayk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpO1xuICByZXNpemUoKTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGljayk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSk7XG4gIH07XG59O1xuIiwgImxldCBpbztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSkge1xuICBpbyA/Pz0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCB7cm9vdE1hcmdpbjogJzEwMCUnfSk7XG4gIGlvLm9ic2VydmUobm9kZSk7XG4gIHJldHVybiAoKSA9PiBpby51bm9ic2VydmUobm9kZSk7XG59O1xuXG5mdW5jdGlvbiBjYWxsYmFjayhlbnRyaWVzKSB7XG4gIGVudHJpZXMuZm9yRWFjaChlID0+IGUuaXNJbnRlcnNlY3RpbmcgJiYgbG9hZChlLnRhcmdldCkpO1xufVxuXG5mdW5jdGlvbiBsb2FkKGVsKSB7XG5cbiAgY29uc3QgeyBzcmMsIHNyY3NldCwgc2l6ZXMgfSA9IGVsLmRhdGFzZXQ7XG4gIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcbiAgaW8udW5vYnNlcnZlKGVsKTtcblxuICBzd2l0Y2ggKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuXG4gICAgY2FzZSAnaW1nJzpcbiAgICBjYXNlICd2aWRlbyc6XG4gICAgY2FzZSAnaWZyYW1lJzpcblxuICAgICAgZWwuc3JjID0gc3JjO1xuXG4gICAgICBpZiAoc3Jjc2V0KSB7XG4gICAgICAgIGVsLnNyY3NldCA9IHNyY3NldDtcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNyY3NldCcpO1xuICAgICAgfVxuICAgICAgaWYgKHNpemVzKSB7XG4gICAgICAgIGVsLnNpemVzID0gc2l6ZXM7XG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zaXplcycpO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBlbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7c3JjfSlgO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgZmluZE9uZSwgZmluZEFsbCwgaXNTdHJpbmcsIGJpbmQsIHBhcnNlIH0gZnJvbSAnQHRtYnIvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG5cbiAgY29uc3RydWN0b3IoZWwpIHtcbiAgICBiaW5kKHRoaXMpO1xuICAgIHRoaXMuZWwgPSBpc1N0cmluZyhlbCkgPyBmaW5kT25lKGVsKSA6IGVsO1xuICAgIHRoaXMudWkgPSB7fTtcbiAgICBjb25zdCBwcm9wcyA9IHRoaXMuZWwuZGF0YXNldC5wcm9wcztcbiAgICB0aGlzLnByb3BzID0gcHJvcHMgPyBwYXJzZShwcm9wcykgOiB7fTtcbiAgfVxuXG4gIGdldCB3aWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbC5vZmZzZXRXaWR0aDtcbiAgfVxuXG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWwub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgZmluZE9uZShzKSB7XG4gICAgcmV0dXJuIGZpbmRPbmUocywgdGhpcy5lbCk7XG4gIH1cblxuICBmaW5kQWxsKHMpIHtcbiAgICByZXR1cm4gZmluZEFsbChzLCB0aGlzLmVsKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7fVxufVxuIiwgImltcG9ydCBDb21wb25lbnQgZnJvbSAnfi9saWIvQ29tcG9uZW50JztcbmltcG9ydCB7IGh0bWwgfSBmcm9tICdAdG1ici91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3RvcihlbCkge1xuICAgIHN1cGVyKGVsKTtcbiAgICBjb25zb2xlLmxvZygnSGVybycsIHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IHZpZGVvID0gaHRtbGA8dmlkZW8gc3JjPVwiJHt0aGlzLnByb3BzLnZpZGVvfVwiIGNsYXNzPVwiYWJzb2x1dGUgZmlsbCBwaW4gZml0LWNvdmVyXCIgbG9vcCBtdXRlZCBhdXRvcGxheSBwbGF5c2lubGluZT48L3ZpZGVvPmA7XG4gICAgdGhpcy5lbC5wcmVwZW5kKHZpZGVvKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7fVxufVxuIiwgImltcG9ydCBDb21wb25lbnQgZnJvbSAnfi9saWIvQ29tcG9uZW50JztcbmltcG9ydCB7IGF0dHIsIG9uIH0gZnJvbSAnQHRtYnIvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IoZWwpIHtcbiAgICBzdXBlcihlbCk7XG4gICAgb24oJ2NsaWNrJywgJy5uYXYtdG9nZ2xlJywgdGhpcy5vblRvZ2dsZUNsaWNrKTtcbiAgICBvbignY2xpY2snLCAnLm5hdi1pdGVtLmhhcy1zdWJtZW51ID4gOndoZXJlKGEsIGJ1dHRvbiknLCB0aGlzLm9uSXRlbUNsaWNrKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja091dHNpZGUpO1xuICB9XG5cbiAgb25JdGVtQ2xpY2soZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCBhY3RpdmUgPSBhdHRyKGJ1dHRvbiwgJ2FyaWEtZXhwYW5kZWQnKSA9PT0gJ3RydWUnO1xuICAgIGF0dHIoYnV0dG9uLCAnYXJpYS1leHBhbmRlZCcsIGFjdGl2ZSA/ICdmYWxzZScgOiAndHJ1ZScpO1xuICAgIHRoaXMuY3VycmVudCAmJiBhdHRyKHRoaXMuY3VycmVudCwgJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICB0aGlzLmN1cnJlbnQgPSBhY3RpdmUgPyBudWxsIDogYnV0dG9uO1xuICB9XG5cbiAgb25Ub2dnbGVDbGljayhldmVudCkge1xuICAgIGNvbnN0IGV4cGFuZGVkID0gYXR0cihldmVudC50YXJnZXQsICdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJztcbiAgICBhdHRyKGV2ZW50LnRhcmdldCwgJ2FyaWEtZXhwYW5kZWQnLCBleHBhbmRlZCA/ICdmYWxzZScgOiAndHJ1ZScpO1xuICB9XG5cbiAgb25DbGlja091dHNpZGUoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudCB8fCBldmVudC50YXJnZXQuY2xvc2VzdCgnLm5hdi1pdGVtJykpIHJldHVybjtcbiAgICBhdHRyKHRoaXMuY3VycmVudCwgJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICB9XG59XG4iLCAiaW1wb3J0IGFjY29yZGlvbiBmcm9tICcuL2FjY29yZGlvbic7XG5pbXBvcnQgbGF6eWxvYWQgZnJvbSAnLi9sYXp5bG9hZCc7XG5pbXBvcnQgSGVybyBmcm9tICcuL0hlcm8nO1xuaW1wb3J0IE5hdiBmcm9tICcuL05hdic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgJy5uYXYnOiBOYXYsXG4gICcuaGVybyc6IEhlcm8sXG4gICcuYWNjb3JkaW9uJzogYWNjb3JkaW9uLFxuICAnW2RhdGEtc3JjXSc6IGxhenlsb2FkXG59O1xuIiwgImltcG9ydCB7IGlzQ2xhc3MsIGZpbmRBbGwgfSBmcm9tICdAdG1ici91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1vZHVsZXMsIHBhcmVudCA9IGRvY3VtZW50KSB7XG4gIE9iamVjdC5lbnRyaWVzKG1vZHVsZXMpLmZvckVhY2goKFtzZWxlY3RvciwgbW9kdWxlXSkgPT4ge1xuICAgIGNvbnN0IGludm9rZSA9IGlzQ2xhc3MobW9kdWxlKVxuICAgICAgPyBub2RlID0+IG5ldyBtb2R1bGUobm9kZSlcbiAgICAgIDogbm9kZSA9PiBtb2R1bGUuY2FsbChub2RlLCBub2RlKTtcbiAgICBmaW5kQWxsKHNlbGVjdG9yLCBwYXJlbnQpLmZvckVhY2goaW52b2tlKTtcbiAgfSk7XG59O1xuIiwgImltcG9ydCB7IGZpbmRPbmUsIGZpbmRBbGwsIHByb3AsIHJvIH0gZnJvbSAnQHRtYnIvdXRpbHMnO1xuaW1wb3J0IGdzYXAgZnJvbSAnZ3NhcCc7XG5pbXBvcnQgU2Nyb2xsVHJpZ2dlciBmcm9tICdnc2FwL1Njcm9sbFRyaWdnZXInO1xuaW1wb3J0IHsgU3BsaXRUZXh0IH0gZnJvbSAnZ3NhcC9TcGxpdFRleHQnO1xuaW1wb3J0IHBvbHlmaWxscyBmcm9tICcuL2xpYi9wb2x5ZmlsbHMnO1xuaW1wb3J0IG1vZHVsZXMgZnJvbSAnLi9tb2R1bGVzJztcbmltcG9ydCBtb3VudCBmcm9tICcuL2xpYi9tb3VudCc7XG5pbXBvcnQgaXNvdG9wZSBmcm9tICdpc290b3BlLWxheW91dCc7XG5pbXBvcnQgJy4vbGliL2hlbGxvJztcbmltcG9ydCAnLi9saWIvaWNvbnMnO1xuLy8gaW1wb3J0ICcuL2xpYi9hbmltYXRpb25zJztcbmltcG9ydCAnLi9zdHlsZXMvaW5kZXguc2Nzcyc7XG5cbmdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlcik7XG5cbmNvbnNvbGUubG9nKCdqUXVlcnknLCB3aW5kb3cualF1ZXJ5ID09PSB3aW5kb3cuJCk7XG5qUXVlcnkoZnVuY3Rpb24oJCkgeyBjb25zb2xlLmxvZygnalF1ZXJ5JywgJC5mbi5qcXVlcnkpOyB9KTtcblxuY29uc3QgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXG5mdW5jdGlvbiBpbml0KCkge1xuXG4gIGNvbnN0IG1xID0gd2luZG93Lm1hdGNoTWVkaWEoJyhob3Zlcjogbm9uZSksIChwb2ludGVyOiBjb2Fyc2UpJyk7XG4gIGh0bWwuY2xhc3NMaXN0LmFkZChtcS5tYXRjaGVzID8gJ2hhcy10b3VjaCcgOiAnaGFzLWhvdmVyJyk7XG4gIGh0bWwuY2xhc3NMaXN0LnJlcGxhY2UoJ2xvYWRpbmcnLCAnbG9hZGVkJyk7XG5cbiAgY29uc3QgYmFubmVyID0gZmluZE9uZSgnLnNpdGUtYmFubmVyJyk7XG4gIGNvbnN0IGhlYWRlciA9IGZpbmRPbmUoJy5zaXRlLWhlYWRlcicpO1xuXG4gIHJvKGJvZHksICgpID0+IHtcbiAgICBwcm9wKGh0bWwsICctLXZoJywgYCR7d2luZG93LmlubmVySGVpZ2h0ICogMC4wMX1weGApO1xuICAgIHByb3AoaHRtbCwgJy0tYmFubmVyLWhlaWdodCcsIGAke2Jhbm5lciA/IGJhbm5lci5vZmZzZXRIZWlnaHQgOiAwfXB4YCk7XG4gICAgcHJvcChodG1sLCAnLS1oZWFkZXItaGVpZ2h0JywgYCR7aGVhZGVyID8gaGVhZGVyLm9mZnNldEhlaWdodCA6IDB9cHhgKTtcbiAgfSk7XG5cbiAgbW91bnQobW9kdWxlcyk7XG59XG5cbmlmIChwb2x5ZmlsbHMubGVuZ3RoKSB7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc3JjID0gYC8vcG9seWZpbGwuaW8vdjMvcG9seWZpbGwubWluLmpzP2ZlYXR1cmVzPSR7cG9seWZpbGxzLmpvaW4oJywnKX0mZmxhZ3M9Z2F0ZWQmdWE9JHt3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudH1gO1xuICBzY3JpcHQub25sb2FkID0gaW5pdDtcbiAgYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xufSBlbHNlIHsgaW5pdCgpIH1cblxuXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHtcblxuICAvLyBOQVYgU0NST0xMIENMQVNTXG4gICQoJy5pbnRlcm5hbC10ZW1wbGF0ZScpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICBpZiAoJCgnLmludGVybmFsLXRlbXBsYXRlJykuc2Nyb2xsVG9wKCkgPiAzMCApe1xuICAgICAgJCgnLmpzLW5hdi1zY3JvbGwnKS5hZGRDbGFzcygnc2Nyb2xsZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmpzLW5hdi1zY3JvbGwnKS5yZW1vdmVDbGFzcygnc2Nyb2xsZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEZJVFZJRFMgSEFDS1xuICAkKCcuY29udGVudCBpZnJhbWVbc3JjKj1cInlvdXR1YmVcIl0saWZyYW1lW3NyYyo9XCJ2aW1lb1wiXScpLndyYXAoXCI8ZGl2IGNsYXNzPSd2aWRlby1mcmFtZScvPlwiKTtcbiAgXG4gIC8vIEdTQVAgQW5pbWF0aW9uc1xuICBcbiAgdmFyIHRsID0gZ3NhcC50aW1lbGluZSgpLCBcbiAgbXlTcGxpdFRleHQgPSBuZXcgU3BsaXRUZXh0KFwiI2xvYWRlci1oZWFkaW5nXCIsIHt0eXBlOlwid29yZHMsY2hhcnNcIn0pLCBcbiAgY2hhcnMgPSBteVNwbGl0VGV4dC5jaGFycztcbiAgZ3NhcC5zZXQoXCIjbG9hZGVyLWhlYWRpbmdcIiwge3BlcnNwZWN0aXZlOiA0MDB9KTtcbiAgdGwuZnJvbShjaGFycywge2R1cmF0aW9uOiAuNSwgb3BhY2l0eTowLCBzY2FsZTouOSwgeToxMCwgZGVsYXk6IDEsIHRyYW5zZm9ybU9yaWdpbjpcIjAlIDUwJSAtNTBcIiwgZWFzZTpcImVhc2VJbk91dFwiLCBzdGFnZ2VyOiAwLjAzfSwgXCIrPTBcIik7XG4gIFxuICB2YXIgdGwyID0gZ3NhcC50aW1lbGluZSgpLCBcbiAgbXlTcGxpdFRleHQgPSBuZXcgU3BsaXRUZXh0KFwiI2ludHJvLXRpdGxlXCIsIHt0eXBlOlwid29yZHMsY2hhcnNcIn0pLCBcbiAgY2hhcnMgPSBteVNwbGl0VGV4dC5jaGFycztcbiAgZ3NhcC5zZXQoXCIjaW50cm8tdGl0bGVcIiwge3BlcnNwZWN0aXZlOiA0MDB9KTtcbiAgdGwyLmZyb20oY2hhcnMsIHtkdXJhdGlvbjogLjMsIG9wYWNpdHk6MCwgc2NhbGU6LjksIHk6MTAsIGRlbGF5OiAuNSwgdHJhbnNmb3JtT3JpZ2luOlwiMCUgNTAlIC01MFwiLCBlYXNlOlwiZWFzZUluT3V0XCIsIHN0YWdnZXI6IDAuMDJ9LCBcIis9MFwiKTtcblxuICAvLyB2YXIgbG9hZGluZ3RsID0gZ3NhcC50aW1lbGluZSgpOyBcbiAgLy8gbG9hZGluZ3RsLnRvKCcjc2l0ZS1sb2FkZXInLCB7ZHVyYXRpb246IC4zLCBvcGFjaXR5OjAsIHdpZHRoOiAwLCBlYXNlOlwiZWFzZUluT3V0XCJ9LCBcIis9MFwiKTtcbiAgICAgIFxuXG4gIC8vIE5BViBIQU1CVVJHRVJcbiAgJCgnLmpzLWhhbWJ1cmdlci10b2dnbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICQoJy5uYXZiYXItaGFtYnVyZ2VyJykudG9nZ2xlQ2xhc3MoICctY29sbGFwc2VkJyApO1xuICAgICQoJy5uYXZiYXItbWVudScpLnRvZ2dsZUNsYXNzKCAnLW9wZW4nICk7XG4gIH0pO1xuICBcbiAgXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDk5Mikge1xuICAgIC8vICQoJy5wYXJlbnQtbWVudSA+IC5tZW51LWl0ZW0gPiBhJykuYWRkQ2xhc3MoJ2NsaWNrLXRocm91Z2gnKTtcbiAgICAkKCcucGFyZW50LW1lbnUgPiAubWVudS1pdGVtLWhhcy1jaGlsZHJlbiA+IGEnKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpe1xuICAgICAgaWYoJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygnLW9wZW4nKSkge31cbiAgICAgIGVsc2Uge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoJy5zdWItbWVudScpLnJlbW92ZUNsYXNzKCctb3BlbicpO1xuICAgICAgICAkKCcubWVudS1pdGVtLWhhcy1jaGlsZHJlbicpLnJlbW92ZUNsYXNzKCctb3BlbicpO1xuICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCctb3BlbicpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCctb3BlbicpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmNoaWxkcmVuKCd1bCcpLnRvZ2dsZUNsYXNzKCctb3BlbicpO1x0XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBcbiAgJCgnLmpzLWZsZXgtZ2FsbGVyeS1pbWcnKS5tYWduaWZpY1BvcHVwKHtcbiAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICBnYWxsZXJ5OntcbiAgICAgICAgICBlbmFibGVkOnRydWVcbiAgICAgIH0sXG4gICAgICB0aXRsZVNyYzogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLmVsLmF0dHIoJ3RpdGxlJyk7XG4gICAgICAgIH1cbiAgfSk7XG4gIFxuICAvLyBFWFRFUk5BTCBMSU5LUyBUQVJHRVQgQkxBTktcbiAgJCgnYScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgIHZhciBhID0gbmV3IFJlZ0V4cCgnLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvJyk7XG4gICAgIGlmICghYS50ZXN0KHRoaXMuaHJlZikpIHtcbiAgICAgICAgJCh0aGlzKS5hdHRyKFwidGFyZ2V0XCIsXCJfYmxhbmtcIik7XG4gICAgIH1cbiAgfSk7XG5cbiAgdmFyIHdhcnAgPSAkKCcjaW1hZ2Utd2FycCcpO1xuICBpZih3YXJwLmxlbmd0aCA+IDApe1xuICAgIGZ1bmN0aW9uIGhvdmVySW1hZ2UoKSB7XG4gICAgICAvLyBUSUxUIEhPVkVSXG4gICAgICBsZXQgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlLXdhcnAnKVxuICAgICAgbGV0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpXG4gICAgICBsZXQgYmFja2dyb3VuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZ3JvdW5kJylcbiAgICAgIGNvbnN0IG92ZXJsYXlIID0gb3ZlcmxheS5jbGllbnRIZWlnaHRcbiAgICAgIGNvbnN0IG92ZXJsYXlXID0gb3ZlcmxheS5jbGllbnRXaWR0aFxuICAgICAgY29uc3QgYmdIID0gYmFja2dyb3VuZC5jbGllbnRIZWlnaHRcbiAgICAgIGNvbnN0IGJnVyA9IGJhY2tncm91bmQuY2xpZW50V2lkdGhcbiAgICAgIFxuICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU92ZXJsYXkpO1xuICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZUJhY2tncm91bmQpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVPdmVybGF5KGUpIHtcbiAgICAgICAgY29uc3Qgb3hWYWwgPSBlLmxheWVyWFxuICAgICAgICBjb25zdCBveVZhbCA9IGUubGF5ZXJZXG4gICAgICAgIGNvbnN0IG95Um90YXRpb24gPSA2ICogKChveFZhbCAtIG92ZXJsYXlXIC8gMikgLyBvdmVybGF5VylcbiAgICAgICAgY29uc3Qgb3hSb3RhdGlvbiA9IC02ICogKChveVZhbCAtIG92ZXJsYXlIIC8gMikgLyBvdmVybGF5SClcbiAgICAgICAgY29uc3Qgb3N0cmluZyA9ICdwZXJzcGVjdGl2ZSg1MDBweCkgc2NhbGUoMS4xKSByb3RhdGVYKCcgKyBveFJvdGF0aW9uICsgJ2RlZykgcm90YXRlWSgnICsgb3lSb3RhdGlvbiArICdkZWcpJ1xuICAgICAgICBvdmVybGF5LnN0eWxlLnRyYW5zZm9ybSA9IG9zdHJpbmdcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZnVuY3Rpb24gaGFuZGxlQmFja2dyb3VuZChlKSB7XG4gICAgICAgIGNvbnN0IGJ4VmFsID0gZS5sYXllclhcbiAgICAgICAgY29uc3QgYnlWYWwgPSBlLmxheWVyWVxuICAgICAgICBjb25zdCBieVJvdGF0aW9uID0gMyAqICgoYnhWYWwgLSBiZ1cgLyAyKSAvIGJnVylcbiAgICAgICAgY29uc3QgYnhSb3RhdGlvbiA9IC0zICogKChieVZhbCAtIGJnSCAvIDIpIC8gYmdIKVxuICAgICAgICBjb25zdCBic3RyaW5nID0gJ3BlcnNwZWN0aXZlKDUwMHB4KSBzY2FsZSgxLjEpIHJvdGF0ZVgoJyArIGJ4Um90YXRpb24gKyAnZGVnKSByb3RhdGVZKCcgKyBieVJvdGF0aW9uICsgJ2RlZyknXG4gICAgICAgIGJhY2tncm91bmQuc3R5bGUudHJhbnNmb3JtID0gYnN0cmluZ1xuICAgICAgfVxuXG4gICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgb3ZlcmxheS5zdHlsZS50cmFuc2Zvcm0gPSAncGVyc3BlY3RpdmUoNTAwcHgpIHNjYWxlKDEuMSkgcm90YXRlWCgwKSByb3RhdGVZKDApJ1xuICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlLnRyYW5zZm9ybSA9ICdwZXJzcGVjdGl2ZSg1MDBweCkgc2NhbGUoMS4xKSByb3RhdGVYKDApIHJvdGF0ZVkoMCknXG4gICAgICB9KVxuXG4gICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIG92ZXJsYXkuc3R5bGUudHJhbnNmb3JtID0gJ3BlcnNwZWN0aXZlKDUwMHB4KSBzY2FsZSgxLjEpIHJvdGF0ZVgoMCkgcm90YXRlWSgwKSdcbiAgICAgICAgYmFja2dyb3VuZC5zdHlsZS50cmFuc2Zvcm0gPSAncGVyc3BlY3RpdmUoNTAwcHgpIHNjYWxlKDEuMSkgcm90YXRlWCgwKSByb3RhdGVZKDApJ1xuICAgICAgfSlcblxuICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgb3ZlcmxheS5zdHlsZS50cmFuc2Zvcm0gPSAncGVyc3BlY3RpdmUoNTAwcHgpIHNjYWxlKDEuMSkgcm90YXRlWCgwKSByb3RhdGVZKDApJ1xuICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlLnRyYW5zZm9ybSA9ICdwZXJzcGVjdGl2ZSg1MDBweCkgc2NhbGUoMS4xKSByb3RhdGVYKDApIHJvdGF0ZVkoMCknXG4gICAgICB9KVxuICAgIH07XG5cbiAgICBob3ZlckltYWdlKCk7XG4gIH1cbiAgXG59KTtcblxuJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gIC8vIHZhciBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1vc2FpYy1nYWxsZXJ5Jyk7XG4gIC8vIGlmKGdyaWQpIHtcbiAgLy8gICAgIHZhciBpc28gPSBuZXcgaXNvdG9wZSggZ3JpZCwge1xuICAvLyAgICAgaXRlbVNlbGVjdG9yOiAnLm1vc2FpYy1pbWFnZScsXG4gIC8vICAgfSk7XG4gIC8vIH07XG5cbiAgJCgnLmpzLW1vc2FpYy1nYWxsZXJ5JykuZWFjaCgoaSwgaXRlbSkgPT4ge1xuICAgIG5ldyBpc290b3BlKCBpdGVtLCB7XG4gICAgICAgIGl0ZW1TZWxlY3RvcjogJy5tb3NhaWMtaW1hZ2UnLFxuICAgICAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcbiAgICAgICAgICAvLyBtYXNvbnJ5OiB7XG4gICAgICAgICAgLy8gICAvLyB1c2Ugb3V0ZXIgd2lkdGggb2YgZ3JpZC1zaXplciBmb3IgY29sdW1uV2lkdGhcbiAgICAgICAgICAvLyAgIGNvbHVtbldpZHRoOiAyMCxcbiAgICAgICAgICAvLyAgIGd1dHRlcjogMjAsXG4gICAgICAgICAgLy8gICBmaXRXaWR0aDogdHJ1ZVxuICAgICAgICAgIC8vIH1cbiAgICAgIH0pO1xuICB9KTtcblxuICBcbiAgLy8gc2VlIFtkYXRhLWFuaW1hdGVdIHN0eWxlcyBpbiBzY3NzL2Jhc2UvX2FuaW1hdGlvbi5zY3NzXG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyAmJiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZScpO1xuICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGZpbmRBbGwoJ1tkYXRhLWFuaW1hdGVdJykuZm9yRWFjaChlbCA9PiB7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG4gIH0pO1xuICBcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAkKCcjc2l0ZS1sb2FkZXInKS5hZGRDbGFzcygnLWxvYWRlZCcpO1xuICB9KTtcblxufSk7IiwgIm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvY2hyb21lfGZpcmVmb3gvKSA/IGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIFtcbiAgJ1xcbiVjICBTaXRlIGJ5IFRNQlIgICVjICBodHRwczovL3dlYXJldG1ici5jb20gIFxcbicsXG4gICdkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGNvbG9yOiAjRkZGRkZGOyBiYWNrZ3JvdW5kOiAjRkY2NjAwOyBmb250LXNpemU6IDExcHg7IGxpbmUtaGVpZ2h0OiAyNXB4OyBmb250LXdlaWdodDogYm9sZDsnLFxuICAnZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb2xvcjogI0ZGRkZGRjsgYmFja2dyb3VuZDogIzIzMjIxRjsgZm9udC1zaXplOiAxMXB4OyBsaW5lLWhlaWdodDogMjVweDsnXG5dKSA6IGNvbnNvbGUubG9nKCdTaXRlIGJ5IFRNQlIgXHUyMDIyIGh0dHBzOi8vd2VhcmV0bWJyLmNvbScpO1xuIiwgImltcG9ydCB7IGZpbmRPbmUgfSBmcm9tICdAdG1ici91dGlscyc7XG5cbmNvbnN0IHN2ZyA9IGZpbmRPbmUoJ3N2Z1tkYXRhLWljb25zXScpO1xuY29uc3QgaWRzID0gc3ZnLmlubmVySFRNTC5tYXRjaCgvaWQ9XCJpY29uOlthLXowLTktXSsvZykubWFwKHMgPT4gcy5yZXBsYWNlKCdpZD1cImljb246JywgJycpKTtcblxud2luZG93LnNpdGUuaWNvbnMgPSBpZHMucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICByZXN1bHRba2V5XSA9IGA8c3ZnIGNsYXNzPVwiaWNvbiBpY29uOiR7a2V5fVwiPjx1c2UgeGxpbms6aHJlZj1cIiNpY29uOiR7a2V5fVwiPjwvdXNlPjwvc3ZnPmA7XG4gIHJldHVybiByZXN1bHQ7XG59LCB7fSk7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQVFBLE9BQUUsU0FBVSxRQUFRLFNBQVU7QUFHNUIsWUFBSyxPQUFPLFVBQVUsY0FBYyxPQUFPLEtBQU07QUFFL0MsaUJBQVEsT0FBUTtBQUFBLFFBQ2xCLFdBQVksT0FBTyxVQUFVLFlBQVksT0FBTyxTQUFVO0FBRXhELGlCQUFPLFVBQVUsUUFBUTtBQUFBLFFBQzNCLE9BQU87QUFF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QUFNLFdBQVcsSUFBSSxxQkFBcUIsYUFBVztBQUNuRCxjQUFRLFFBQVEsV0FBUztBQUN2QixjQUFNLGtCQUFrQixzQkFBc0IsTUFBTTtBQUNsRCxnQkFBTSxPQUFPLFVBQVUsSUFBSSxTQUFTO0FBQ3BDLG1CQUFTLFVBQVUsTUFBTSxNQUFNO0FBQUEsUUFDakMsQ0FBQztBQUFBLE1BQ0gsQ0FBQztBQUFBLElBQ0gsQ0FBQztBQUVELFlBQVEsZ0JBQWdCLEVBQUUsUUFBUSxRQUFNO0FBQ3RDLGVBQVMsUUFBUSxFQUFFO0FBQUEsSUFDckIsQ0FBQztBQUVELGVBQVcsV0FBVztBQUNwQixRQUFFLGNBQWMsRUFBRSxTQUFTLFNBQVM7QUFBQSxJQUN0QyxDQUFDO0FBQUEsRUFFSCxDQUFDOyIsCiAgIm5hbWVzIjogWyJ3aW5kb3ciLCAiYm9keSIsICJ3aW5kb3ciLCAid2luZG93IiwgInByb3AiLCAiY2FsbGJhY2siLCAiY29uc29sZSIsICJqUXVlcnkiLCAiYXR0ciIsICJ3aW5kb3ciLCAicHJvcCIsICJ3aW5kb3ciLCAiY29uc29sZSIsICJqUXVlcnkiLCAiSXRlbSIsICJyZXF1aXJlX2l0ZW0iLCAid2luZG93IiwgIndpbmRvdyIsICJpc290b3BlIiwgIndpbmRvdyIsICJyZXF1aXJlX21hc29ucnkiLCAid2luZG93IiwgIndpbmRvdyIsICJ3aW5kb3ciLCAid2luZG93IiwgImpRdWVyeSIsICJtdW5nZVNvcnRlciIsICJhdHRyIiwgImRlZmF1bHRzIiwgIm9iamVjdCIsICJjYWxsYmFjayIsICJfaXNTdHJpbmciLCAiX2lzRnVuY3Rpb24iLCAiX2lzTnVtYmVyIiwgIl9pc1VuZGVmaW5lZCIsICJfaXNPYmplY3QiLCAiX2lzTm90RmFsc2UiLCAiX3dpbmRvd0V4aXN0cyIsICJfaXNGdW5jT3JTdHJpbmciLCAiX2luc3RhbGwiLCAiX21pc3NpbmdQbHVnaW4iLCAiX3dhcm4iLCAiX2FkZEdsb2JhbCIsICJfZW1wdHlGdW5jIiwgIl9oYXJuZXNzIiwgIl9nZXRDYWNoZSIsICJfZ2V0UHJvcGVydHkiLCAiX2ZvckVhY2hOYW1lIiwgIl9yb3VuZCIsICJfYXJyYXlDb250YWluc0FueSIsICJfcGFyc2VWYXJzIiwgIl9sYXp5UmVuZGVyIiwgIl9sYXp5U2FmZVJlbmRlciIsICJfbnVtZXJpY0lmUG9zc2libGUiLCAiX3Bhc3NUaHJvdWdoIiwgIl9zZXREZWZhdWx0cyIsICJkZWZhdWx0cyIsICJfc2V0S2V5ZnJhbWVEZWZhdWx0cyIsICJfbWVyZ2UiLCAiX21lcmdlRGVlcCIsICJfY29weUV4Y2x1ZGluZyIsICJfaW5oZXJpdERlZmF1bHRzIiwgIl9hcnJheXNNYXRjaCIsICJfYWRkTGlua2VkTGlzdEl0ZW0iLCAiX3JlbW92ZUxpbmtlZExpc3RJdGVtIiwgIl9yZW1vdmVGcm9tUGFyZW50IiwgIl91bmNhY2hlIiwgIl9yZWNhY2hlQW5jZXN0b3JzIiwgIl9oYXNOb1BhdXNlZEFuY2VzdG9ycyIsICJfZWxhcHNlZEN5Y2xlRHVyYXRpb24iLCAiX2FuaW1hdGlvbkN5Y2xlIiwgIl9wYXJlbnRUb0NoaWxkVG90YWxUaW1lIiwgIl9zZXRFbmQiLCAiX2FsaWduUGxheWhlYWQiLCAiX3Bvc3RBZGRDaGVja3MiLCAidGltZWxpbmUiLCAiX2FkZFRvVGltZWxpbmUiLCAiX3Njcm9sbFRyaWdnZXIiLCAiX2F0dGVtcHRJbml0VHdlZW4iLCAiX3JlbmRlclplcm9EdXJhdGlvblR3ZWVuIiwgIl9maW5kTmV4dFBhdXNlVHdlZW4iLCAiX3NldER1cmF0aW9uIiwgIl9vblVwZGF0ZVRvdGFsRHVyYXRpb24iLCAiX3BhcnNlUG9zaXRpb24iLCAiX2NvbmRpdGlvbmFsUmV0dXJuIiwgIl9jbGFtcCIsICJnZXRVbml0IiwgImNsYW1wIiwgIl9pc0FycmF5TGlrZSIsICJfZmxhdHRlbiIsICJ0b0FycmF5IiwgInNodWZmbGUiLCAiZGlzdHJpYnV0ZSIsICJfcm91bmRNb2RpZmllciIsICJzbmFwIiwgInJhbmRvbSIsICJwaXBlIiwgInVuaXRpemUiLCAibm9ybWFsaXplIiwgIl93cmFwQXJyYXkiLCAid3JhcCIsICJ2YWx1ZSIsICJ3cmFwWW95byIsICJfcmVwbGFjZVJhbmRvbSIsICJtYXBSYW5nZSIsICJpbnRlcnBvbGF0ZSIsICJwIiwgImlzU3RyaW5nIiwgImZ1bmMiLCAiaSIsICJfZ2V0TGFiZWxJbkRpcmVjdGlvbiIsICJfY2FsbGJhY2siLCAiY2FsbGJhY2siLCAiX2ludGVycnVwdCIsICJfY3JlYXRlUGx1Z2luIiwgImNvbmZpZyIsICJfaHVlIiwgInNwbGl0Q29sb3IiLCAiX2NvbG9yT3JkZXJEYXRhIiwgInYiLCAiX2Zvcm1hdENvbG9ycyIsICJfY29sb3JTdHJpbmdGaWx0ZXIiLCAiX2dldFRpbWUiLCAiX2xpc3RlbmVycyIsICJfcmFmIiwgIl9pIiwgIl90aWNrIiwgIl93YWtlIiwgIl9wYXJzZU9iamVjdEluU3RyaW5nIiwgIl92YWx1ZUluUGFyZW50aGVzZXMiLCAiX2NvbmZpZ0Vhc2VGcm9tU3RyaW5nIiwgIl9pbnZlcnRFYXNlIiwgIl9wcm9wYWdhdGVZb3lvRWFzZSIsICJfcGFyc2VFYXNlIiwgIl9pbnNlcnRFYXNlIiwgImVhc2VPdXQiLCAiZWFzZUluT3V0IiwgIl9lYXNlSW5PdXRGcm9tT3V0IiwgIl9jb25maWdFbGFzdGljIiwgImFtcGxpdHVkZSIsICJwZXJpb2QiLCAiX2NvbmZpZ0JhY2siLCAib3ZlcnNob290IiwgIkdTQ2FjaGUiLCAiQW5pbWF0aW9uIiwgIl9yZXNvbHZlIiwgIlRpbWVsaW5lIiwgImdldEJ5SWQiLCAiZ2V0VHdlZW5zT2YiLCAiX2FkZENvbXBsZXhTdHJpbmdQcm9wVHdlZW4iLCAicHJvcCIsICJfYWRkUHJvcFR3ZWVuIiwgIl9wcm9jZXNzVmFycyIsICJfY2hlY2tQbHVnaW4iLCAiX2luaXRUd2VlbiIsICJfYWRkQWxpYXNlc1RvVmFycyIsICJfcGFyc2VGdW5jT3JTdHJpbmciLCAiVHdlZW4iLCAiX3NldHRlclBsYWluIiwgIl9zZXR0ZXJGdW5jIiwgIl9zZXR0ZXJGdW5jV2l0aFBhcmFtIiwgIl9zZXR0ZXJBdHRyaWJ1dGUiLCAiX2dldFNldHRlciIsICJfcmVuZGVyUGxhaW4iLCAiX3JlbmRlckJvb2xlYW4iLCAiX3JlbmRlckNvbXBsZXhTdHJpbmciLCAiX3JlbmRlclByb3BUd2VlbnMiLCAiX2FkZFBsdWdpbk1vZGlmaWVyIiwgIl9raWxsUHJvcFR3ZWVuc09mIiwgIl9zZXR0ZXJXaXRoTW9kaWZpZXIiLCAiX3NvcnRQcm9wVHdlZW5zQnlQcmlvcml0eSIsICJQcm9wVHdlZW4iLCAicHJvcGVydHkiLCAidW5pdCIsICJ1bmNhY2hlIiwgIl9nZXRQbHVnaW5Qcm9wVHdlZW4iLCAiX2FkZE1vZGlmaWVycyIsICJfYnVpbGRNb2RpZmllclBsdWdpbiIsICJpbml0IiwgInR3ZWVuIiwgIm5hbWUiLCAiX3dpbiIsICJfZG9jIiwgIl93aW5kb3dFeGlzdHMiLCAiX2JpZ051bSIsICJfcmVuZGVyQ1NTUHJvcCIsICJfcmVuZGVyUHJvcFdpdGhFbmQiLCAiX3JlbmRlckNTU1Byb3BXaXRoQmVnaW5uaW5nIiwgIl9yZW5kZXJSb3VuZGVkQ1NTUHJvcCIsICJfcmVuZGVyTm9uVHdlZW5pbmdWYWx1ZSIsICJfcmVuZGVyTm9uVHdlZW5pbmdWYWx1ZU9ubHlBdEVuZCIsICJfc2V0dGVyQ1NTU3R5bGUiLCAiX3NldHRlckNTU1Byb3AiLCAiX3NldHRlclRyYW5zZm9ybSIsICJfc2V0dGVyU2NhbGUiLCAiX3NldHRlclNjYWxlV2l0aFJlbmRlciIsICJfc2V0dGVyVHJhbnNmb3JtV2l0aFJlbmRlciIsICJfY3JlYXRlRWxlbWVudCIsICJfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSIsICJfY2hlY2tQcm9wUHJlZml4IiwgIl9pbml0Q29yZSIsICJfZ2V0QkJveEhhY2siLCAic3ZnIiwgIl9nZXRBdHRyaWJ1dGVGYWxsYmFja3MiLCAiX2dldEJCb3giLCAiX2lzU1ZHIiwgIl9yZW1vdmVQcm9wZXJ0eSIsICJfYWRkTm9uVHdlZW5pbmdQVCIsICJfY29udmVydFRvVW5pdCIsICJfZ2V0IiwgIl90d2VlbkNvbXBsZXhDU1NTdHJpbmciLCAicHJvcCIsICJfY29udmVydEtleXdvcmRzVG9QZXJjZW50YWdlcyIsICJfcmVuZGVyQ2xlYXJQcm9wcyIsICJfaXNOdWxsVHJhbnNmb3JtIiwgIl9nZXRDb21wdXRlZFRyYW5zZm9ybU1hdHJpeEFzQXJyYXkiLCAiX2dldE1hdHJpeCIsICJfYXBwbHlTVkdPcmlnaW4iLCAiX3BhcnNlVHJhbnNmb3JtIiwgIl9maXJzdFR3b09ubHkiLCAiX2FkZFB4VHJhbnNsYXRlIiwgIl9yZW5kZXJOb24zRFRyYW5zZm9ybXMiLCAiX3JlbmRlckNTU1RyYW5zZm9ybXMiLCAiX3JlbmRlclNWR1RyYW5zZm9ybXMiLCAiX2FkZFJvdGF0aW9uYWxQcm9wVHdlZW4iLCAiaXNTdHJpbmciLCAiX2FkZFJhd1RyYW5zZm9ybVBUcyIsICJpbml0IiwgImdzYXAiLCAiX2NvcmVJbml0dGVkIiwgIl93aW4iLCAiX2RvYyIsICJfY2xhbXAiLCAiX3RyYW5zZm9ybVByb3AiLCAiX3Bhc3NUaHJvdWdoIiwgIl93aW5kb3dFeGlzdHMiLCAiX2dldEdTQVAiLCAiX2lzVmlld3BvcnQiLCAiX2dldFByb3h5UHJvcCIsICJfZ2V0U2Nyb2xsRnVuYyIsICJzYyIsICJfZ2V0Qm91bmRzRnVuYyIsICJfZ2V0U2l6ZUZ1bmMiLCAiX2dldE9mZnNldHNGdW5jIiwgIl9tYXhTY3JvbGwiLCAiX2l0ZXJhdGVBdXRvUmVmcmVzaCIsICJfaXNTdHJpbmciLCAiX2lzRnVuY3Rpb24iLCAiX2lzTnVtYmVyIiwgIl9pc09iamVjdCIsICJfY2FsbElmRnVuYyIsICJfY29tYmluZUZ1bmMiLCAiX2dldENvbXB1dGVkU3R5bGUiLCAiX21ha2VQb3NpdGlvbmFibGUiLCAiX3NldERlZmF1bHRzIiwgImRlZmF1bHRzIiwgIl9nZXRCb3VuZHMiLCAiX2dldFNpemUiLCAiX2dldExhYmVscyIsICJfbXVsdGlMaXN0ZW5lciIsICJjYWxsYmFjayIsICJfYWRkTGlzdGVuZXIiLCAiX3JlbW92ZUxpc3RlbmVyIiwgIl9kZWZhdWx0cyIsICJfb2Zmc2V0VG9QeCIsICJfY3JlYXRlTWFya2VyIiwgIl9wb3NpdGlvbk1hcmtlciIsICJfc3luYyIsICJfb25TY3JvbGwiLCAiX29uUmVzaXplIiwgIl9vbk1lZGlhQ2hhbmdlIiwgIl9zb2Z0UmVmcmVzaCIsICJfZGlzcGF0Y2giLCAiX3JldmVydFJlY29yZGVkIiwgIl9yZXZlcnRBbGwiLCAiX3JlZnJlc2hBbGwiLCAiX3VwZGF0ZUFsbCIsICJfc3dhcFBpbk91dCIsICJfc3dhcFBpbkluIiwgIl9jYXBzRXhwIiwgIl9zZXRTdGF0ZSIsICJfZ2V0U3RhdGUiLCAiX2NvcHlTdGF0ZSIsICJfcGFyc2VQb3NpdGlvbiIsICJfcmVwYXJlbnQiLCAiX2dldFR3ZWVuQ3JlYXRvciIsICJwcm9wIiwgImdldFR3ZWVuIiwgIlNjcm9sbFRyaWdnZXIiLCAiaW5pdCIsICJzbmFwIiwgInNuYXAyIiwgIm9mZnNldCIsICJjcyIsICJwcmV2UHJvZ3Jlc3MiLCAiY29uZmlnIiwgInByb3h5Q2FsbGJhY2siLCAiX2RvYyIsICJfd2luIiwgIl9jb3JlSW5pdHRlZCIsICJfaW5pdENvcmUiLCAiX2dldENvbXB1dGVkU3R5bGUiLCAiX2lzQXJyYXkiLCAiX3NsaWNlIiwgIl90b0FycmF5IiwgIl9pc0Fic29sdXRlIiwgIl9maW5kU3BlY2lhbENoYXJzIiwgIl9jc3NDbGFzc0Z1bmMiLCAiX3N3YXBUZXh0IiwgIl9wdXNoUmV2ZXJzZWQiLCAiX2lzQmVmb3JlV29yZERlbGltaXRlciIsICJfZGVXb3JkaWZ5IiwgIl9nZXRTdHlsZUFzTnVtYmVyIiwgIl9zZXRQb3NpdGlvbnNBZnRlclNwbGl0IiwgIl9zcGxpdFJhd1RleHQiLCAiX3NwbGl0IiwgIlNwbGl0VGV4dCIsICJpdGVtIiwgIiQiLCAiaHRtbCIsICJpbml0IiwgImlzb3RvcGUiXQp9Cg==
