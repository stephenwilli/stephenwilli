(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));

  // node_modules/ev-emitter/ev-emitter.js
  var require_ev_emitter = __commonJS({
    "node_modules/ev-emitter/ev-emitter.js"(exports, module) {
      (function(global, factory) {
        if (typeof define == "function" && define.amd) {
          define(factory);
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory();
        } else {
          global.EvEmitter = factory();
        }
      })(typeof window != "undefined" ? window : exports, function() {
        "use strict";
        function EvEmitter() {
        }
        var proto = EvEmitter.prototype;
        proto.on = function(eventName, listener) {
          if (!eventName || !listener) {
            return;
          }
          var events = this._events = this._events || {};
          var listeners = events[eventName] = events[eventName] || [];
          if (listeners.indexOf(listener) == -1) {
            listeners.push(listener);
          }
          return this;
        };
        proto.once = function(eventName, listener) {
          if (!eventName || !listener) {
            return;
          }
          this.on(eventName, listener);
          var onceEvents = this._onceEvents = this._onceEvents || {};
          var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {};
          onceListeners[listener] = true;
          return this;
        };
        proto.off = function(eventName, listener) {
          var listeners = this._events && this._events[eventName];
          if (!listeners || !listeners.length) {
            return;
          }
          var index = listeners.indexOf(listener);
          if (index != -1) {
            listeners.splice(index, 1);
          }
          return this;
        };
        proto.emitEvent = function(eventName, args) {
          var listeners = this._events && this._events[eventName];
          if (!listeners || !listeners.length) {
            return;
          }
          listeners = listeners.slice(0);
          args = args || [];
          var onceListeners = this._onceEvents && this._onceEvents[eventName];
          for (var i = 0; i < listeners.length; i++) {
            var listener = listeners[i];
            var isOnce = onceListeners && onceListeners[listener];
            if (isOnce) {
              this.off(eventName, listener);
              delete onceListeners[listener];
            }
            listener.apply(this, args);
          }
          return this;
        };
        proto.allOff = function() {
          delete this._events;
          delete this._onceEvents;
        };
        return EvEmitter;
      });
    }
  });

  // node_modules/get-size/get-size.js
  var require_get_size = __commonJS({
    "node_modules/get-size/get-size.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(factory);
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory();
        } else {
          window2.getSize = factory();
        }
      })(window, function factory() {
        "use strict";
        function getStyleSize(value) {
          var num = parseFloat(value);
          var isValid = value.indexOf("%") == -1 && !isNaN(num);
          return isValid && num;
        }
        function noop() {
        }
        var logError = typeof console == "undefined" ? noop : function(message) {
          console.error(message);
        };
        var measurements = [
          "paddingLeft",
          "paddingRight",
          "paddingTop",
          "paddingBottom",
          "marginLeft",
          "marginRight",
          "marginTop",
          "marginBottom",
          "borderLeftWidth",
          "borderRightWidth",
          "borderTopWidth",
          "borderBottomWidth"
        ];
        var measurementsLength = measurements.length;
        function getZeroSize() {
          var size = {
            width: 0,
            height: 0,
            innerWidth: 0,
            innerHeight: 0,
            outerWidth: 0,
            outerHeight: 0
          };
          for (var i = 0; i < measurementsLength; i++) {
            var measurement = measurements[i];
            size[measurement] = 0;
          }
          return size;
        }
        function getStyle(elem) {
          var style = getComputedStyle(elem);
          if (!style) {
            logError("Style returned " + style + ". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1");
          }
          return style;
        }
        var isSetup = false;
        var isBoxSizeOuter;
        function setup() {
          if (isSetup) {
            return;
          }
          isSetup = true;
          var div = document.createElement("div");
          div.style.width = "200px";
          div.style.padding = "1px 2px 3px 4px";
          div.style.borderStyle = "solid";
          div.style.borderWidth = "1px 2px 3px 4px";
          div.style.boxSizing = "border-box";
          var body2 = document.body || document.documentElement;
          body2.appendChild(div);
          var style = getStyle(div);
          isBoxSizeOuter = Math.round(getStyleSize(style.width)) == 200;
          getSize.isBoxSizeOuter = isBoxSizeOuter;
          body2.removeChild(div);
        }
        function getSize(elem) {
          setup();
          if (typeof elem == "string") {
            elem = document.querySelector(elem);
          }
          if (!elem || typeof elem != "object" || !elem.nodeType) {
            return;
          }
          var style = getStyle(elem);
          if (style.display == "none") {
            return getZeroSize();
          }
          var size = {};
          size.width = elem.offsetWidth;
          size.height = elem.offsetHeight;
          var isBorderBox = size.isBorderBox = style.boxSizing == "border-box";
          for (var i = 0; i < measurementsLength; i++) {
            var measurement = measurements[i];
            var value = style[measurement];
            var num = parseFloat(value);
            size[measurement] = !isNaN(num) ? num : 0;
          }
          var paddingWidth = size.paddingLeft + size.paddingRight;
          var paddingHeight = size.paddingTop + size.paddingBottom;
          var marginWidth = size.marginLeft + size.marginRight;
          var marginHeight = size.marginTop + size.marginBottom;
          var borderWidth = size.borderLeftWidth + size.borderRightWidth;
          var borderHeight = size.borderTopWidth + size.borderBottomWidth;
          var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;
          var styleWidth = getStyleSize(style.width);
          if (styleWidth !== false) {
            size.width = styleWidth + // add padding and border unless it's already including it
            (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);
          }
          var styleHeight = getStyleSize(style.height);
          if (styleHeight !== false) {
            size.height = styleHeight + // add padding and border unless it's already including it
            (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);
          }
          size.innerWidth = size.width - (paddingWidth + borderWidth);
          size.innerHeight = size.height - (paddingHeight + borderHeight);
          size.outerWidth = size.width + marginWidth;
          size.outerHeight = size.height + marginHeight;
          return size;
        }
        return getSize;
      });
    }
  });

  // node_modules/desandro-matches-selector/matches-selector.js
  var require_matches_selector = __commonJS({
    "node_modules/desandro-matches-selector/matches-selector.js"(exports, module) {
      (function(window2, factory) {
        "use strict";
        if (typeof define == "function" && define.amd) {
          define(factory);
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory();
        } else {
          window2.matchesSelector = factory();
        }
      })(window, function factory() {
        "use strict";
        var matchesMethod = function() {
          var ElemProto = window.Element.prototype;
          if (ElemProto.matches) {
            return "matches";
          }
          if (ElemProto.matchesSelector) {
            return "matchesSelector";
          }
          var prefixes = ["webkit", "moz", "ms", "o"];
          for (var i = 0; i < prefixes.length; i++) {
            var prefix = prefixes[i];
            var method = prefix + "MatchesSelector";
            if (ElemProto[method]) {
              return method;
            }
          }
        }();
        return function matchesSelector(elem, selector) {
          return elem[matchesMethod](selector);
        };
      });
    }
  });

  // node_modules/fizzy-ui-utils/utils.js
  var require_utils = __commonJS({
    "node_modules/fizzy-ui-utils/utils.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define([
            "desandro-matches-selector/matches-selector"
          ], function(matchesSelector) {
            return factory(window2, matchesSelector);
          });
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            window2,
            require_matches_selector()
          );
        } else {
          window2.fizzyUIUtils = factory(
            window2,
            window2.matchesSelector
          );
        }
      })(window, function factory(window2, matchesSelector) {
        "use strict";
        var utils = {};
        utils.extend = function(a, b) {
          for (var prop2 in b) {
            a[prop2] = b[prop2];
          }
          return a;
        };
        utils.modulo = function(num, div) {
          return (num % div + div) % div;
        };
        var arraySlice = Array.prototype.slice;
        utils.makeArray = function(obj) {
          if (Array.isArray(obj)) {
            return obj;
          }
          if (obj === null || obj === void 0) {
            return [];
          }
          var isArrayLike = typeof obj == "object" && typeof obj.length == "number";
          if (isArrayLike) {
            return arraySlice.call(obj);
          }
          return [obj];
        };
        utils.removeFrom = function(ary, obj) {
          var index = ary.indexOf(obj);
          if (index != -1) {
            ary.splice(index, 1);
          }
        };
        utils.getParent = function(elem, selector) {
          while (elem.parentNode && elem != document.body) {
            elem = elem.parentNode;
            if (matchesSelector(elem, selector)) {
              return elem;
            }
          }
        };
        utils.getQueryElement = function(elem) {
          if (typeof elem == "string") {
            return document.querySelector(elem);
          }
          return elem;
        };
        utils.handleEvent = function(event) {
          var method = "on" + event.type;
          if (this[method]) {
            this[method](event);
          }
        };
        utils.filterFindElements = function(elems, selector) {
          elems = utils.makeArray(elems);
          var ffElems = [];
          elems.forEach(function(elem) {
            if (!(elem instanceof HTMLElement)) {
              return;
            }
            if (!selector) {
              ffElems.push(elem);
              return;
            }
            if (matchesSelector(elem, selector)) {
              ffElems.push(elem);
            }
            var childElems = elem.querySelectorAll(selector);
            for (var i = 0; i < childElems.length; i++) {
              ffElems.push(childElems[i]);
            }
          });
          return ffElems;
        };
        utils.debounceMethod = function(_class, methodName, threshold) {
          threshold = threshold || 100;
          var method = _class.prototype[methodName];
          var timeoutName = methodName + "Timeout";
          _class.prototype[methodName] = function() {
            var timeout = this[timeoutName];
            clearTimeout(timeout);
            var args = arguments;
            var _this = this;
            this[timeoutName] = setTimeout(function() {
              method.apply(_this, args);
              delete _this[timeoutName];
            }, threshold);
          };
        };
        utils.docReady = function(callback2) {
          var readyState = document.readyState;
          if (readyState == "complete" || readyState == "interactive") {
            setTimeout(callback2);
          } else {
            document.addEventListener("DOMContentLoaded", callback2);
          }
        };
        utils.toDashed = function(str) {
          return str.replace(/(.)([A-Z])/g, function(match, $1, $2) {
            return $1 + "-" + $2;
          }).toLowerCase();
        };
        var console2 = window2.console;
        utils.htmlInit = function(WidgetClass, namespace) {
          utils.docReady(function() {
            var dashedNamespace = utils.toDashed(namespace);
            var dataAttr = "data-" + dashedNamespace;
            var dataAttrElems = document.querySelectorAll("[" + dataAttr + "]");
            var jsDashElems = document.querySelectorAll(".js-" + dashedNamespace);
            var elems = utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));
            var dataOptionsAttr = dataAttr + "-options";
            var jQuery2 = window2.jQuery;
            elems.forEach(function(elem) {
              var attr2 = elem.getAttribute(dataAttr) || elem.getAttribute(dataOptionsAttr);
              var options;
              try {
                options = attr2 && JSON.parse(attr2);
              } catch (error) {
                if (console2) {
                  console2.error("Error parsing " + dataAttr + " on " + elem.className + ": " + error);
                }
                return;
              }
              var instance = new WidgetClass(elem, options);
              if (jQuery2) {
                jQuery2.data(elem, namespace, instance);
              }
            });
          });
        };
        return utils;
      });
    }
  });

  // node_modules/outlayer/item.js
  var require_item = __commonJS({
    "node_modules/outlayer/item.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "ev-emitter/ev-emitter",
              "get-size/get-size"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_ev_emitter(),
            require_get_size()
          );
        } else {
          window2.Outlayer = {};
          window2.Outlayer.Item = factory(
            window2.EvEmitter,
            window2.getSize
          );
        }
      })(window, function factory(EvEmitter, getSize) {
        "use strict";
        function isEmptyObj(obj) {
          for (var prop2 in obj) {
            return false;
          }
          prop2 = null;
          return true;
        }
        var docElemStyle = document.documentElement.style;
        var transitionProperty = typeof docElemStyle.transition == "string" ? "transition" : "WebkitTransition";
        var transformProperty = typeof docElemStyle.transform == "string" ? "transform" : "WebkitTransform";
        var transitionEndEvent = {
          WebkitTransition: "webkitTransitionEnd",
          transition: "transitionend"
        }[transitionProperty];
        var vendorProperties = {
          transform: transformProperty,
          transition: transitionProperty,
          transitionDuration: transitionProperty + "Duration",
          transitionProperty: transitionProperty + "Property",
          transitionDelay: transitionProperty + "Delay"
        };
        function Item(element, layout) {
          if (!element) {
            return;
          }
          this.element = element;
          this.layout = layout;
          this.position = {
            x: 0,
            y: 0
          };
          this._create();
        }
        var proto = Item.prototype = Object.create(EvEmitter.prototype);
        proto.constructor = Item;
        proto._create = function() {
          this._transn = {
            ingProperties: {},
            clean: {},
            onEnd: {}
          };
          this.css({
            position: "absolute"
          });
        };
        proto.handleEvent = function(event) {
          var method = "on" + event.type;
          if (this[method]) {
            this[method](event);
          }
        };
        proto.getSize = function() {
          this.size = getSize(this.element);
        };
        proto.css = function(style) {
          var elemStyle = this.element.style;
          for (var prop2 in style) {
            var supportedProp = vendorProperties[prop2] || prop2;
            elemStyle[supportedProp] = style[prop2];
          }
        };
        proto.getPosition = function() {
          var style = getComputedStyle(this.element);
          var isOriginLeft = this.layout._getOption("originLeft");
          var isOriginTop = this.layout._getOption("originTop");
          var xValue = style[isOriginLeft ? "left" : "right"];
          var yValue = style[isOriginTop ? "top" : "bottom"];
          var x = parseFloat(xValue);
          var y = parseFloat(yValue);
          var layoutSize = this.layout.size;
          if (xValue.indexOf("%") != -1) {
            x = x / 100 * layoutSize.width;
          }
          if (yValue.indexOf("%") != -1) {
            y = y / 100 * layoutSize.height;
          }
          x = isNaN(x) ? 0 : x;
          y = isNaN(y) ? 0 : y;
          x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;
          y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;
          this.position.x = x;
          this.position.y = y;
        };
        proto.layoutPosition = function() {
          var layoutSize = this.layout.size;
          var style = {};
          var isOriginLeft = this.layout._getOption("originLeft");
          var isOriginTop = this.layout._getOption("originTop");
          var xPadding = isOriginLeft ? "paddingLeft" : "paddingRight";
          var xProperty = isOriginLeft ? "left" : "right";
          var xResetProperty = isOriginLeft ? "right" : "left";
          var x = this.position.x + layoutSize[xPadding];
          style[xProperty] = this.getXValue(x);
          style[xResetProperty] = "";
          var yPadding = isOriginTop ? "paddingTop" : "paddingBottom";
          var yProperty = isOriginTop ? "top" : "bottom";
          var yResetProperty = isOriginTop ? "bottom" : "top";
          var y = this.position.y + layoutSize[yPadding];
          style[yProperty] = this.getYValue(y);
          style[yResetProperty] = "";
          this.css(style);
          this.emitEvent("layout", [this]);
        };
        proto.getXValue = function(x) {
          var isHorizontal = this.layout._getOption("horizontal");
          return this.layout.options.percentPosition && !isHorizontal ? x / this.layout.size.width * 100 + "%" : x + "px";
        };
        proto.getYValue = function(y) {
          var isHorizontal = this.layout._getOption("horizontal");
          return this.layout.options.percentPosition && isHorizontal ? y / this.layout.size.height * 100 + "%" : y + "px";
        };
        proto._transitionTo = function(x, y) {
          this.getPosition();
          var curX = this.position.x;
          var curY = this.position.y;
          var didNotMove = x == this.position.x && y == this.position.y;
          this.setPosition(x, y);
          if (didNotMove && !this.isTransitioning) {
            this.layoutPosition();
            return;
          }
          var transX = x - curX;
          var transY = y - curY;
          var transitionStyle = {};
          transitionStyle.transform = this.getTranslate(transX, transY);
          this.transition({
            to: transitionStyle,
            onTransitionEnd: {
              transform: this.layoutPosition
            },
            isCleaning: true
          });
        };
        proto.getTranslate = function(x, y) {
          var isOriginLeft = this.layout._getOption("originLeft");
          var isOriginTop = this.layout._getOption("originTop");
          x = isOriginLeft ? x : -x;
          y = isOriginTop ? y : -y;
          return "translate3d(" + x + "px, " + y + "px, 0)";
        };
        proto.goTo = function(x, y) {
          this.setPosition(x, y);
          this.layoutPosition();
        };
        proto.moveTo = proto._transitionTo;
        proto.setPosition = function(x, y) {
          this.position.x = parseFloat(x);
          this.position.y = parseFloat(y);
        };
        proto._nonTransition = function(args) {
          this.css(args.to);
          if (args.isCleaning) {
            this._removeStyles(args.to);
          }
          for (var prop2 in args.onTransitionEnd) {
            args.onTransitionEnd[prop2].call(this);
          }
        };
        proto.transition = function(args) {
          if (!parseFloat(this.layout.options.transitionDuration)) {
            this._nonTransition(args);
            return;
          }
          var _transition = this._transn;
          for (var prop2 in args.onTransitionEnd) {
            _transition.onEnd[prop2] = args.onTransitionEnd[prop2];
          }
          for (prop2 in args.to) {
            _transition.ingProperties[prop2] = true;
            if (args.isCleaning) {
              _transition.clean[prop2] = true;
            }
          }
          if (args.from) {
            this.css(args.from);
            var h = this.element.offsetHeight;
            h = null;
          }
          this.enableTransition(args.to);
          this.css(args.to);
          this.isTransitioning = true;
        };
        function toDashedAll(str) {
          return str.replace(/([A-Z])/g, function($1) {
            return "-" + $1.toLowerCase();
          });
        }
        var transitionProps = "opacity," + toDashedAll(transformProperty);
        proto.enableTransition = function() {
          if (this.isTransitioning) {
            return;
          }
          var duration = this.layout.options.transitionDuration;
          duration = typeof duration == "number" ? duration + "ms" : duration;
          this.css({
            transitionProperty: transitionProps,
            transitionDuration: duration,
            transitionDelay: this.staggerDelay || 0
          });
          this.element.addEventListener(transitionEndEvent, this, false);
        };
        proto.onwebkitTransitionEnd = function(event) {
          this.ontransitionend(event);
        };
        proto.onotransitionend = function(event) {
          this.ontransitionend(event);
        };
        var dashedVendorProperties = {
          "-webkit-transform": "transform"
        };
        proto.ontransitionend = function(event) {
          if (event.target !== this.element) {
            return;
          }
          var _transition = this._transn;
          var propertyName = dashedVendorProperties[event.propertyName] || event.propertyName;
          delete _transition.ingProperties[propertyName];
          if (isEmptyObj(_transition.ingProperties)) {
            this.disableTransition();
          }
          if (propertyName in _transition.clean) {
            this.element.style[event.propertyName] = "";
            delete _transition.clean[propertyName];
          }
          if (propertyName in _transition.onEnd) {
            var onTransitionEnd = _transition.onEnd[propertyName];
            onTransitionEnd.call(this);
            delete _transition.onEnd[propertyName];
          }
          this.emitEvent("transitionEnd", [this]);
        };
        proto.disableTransition = function() {
          this.removeTransitionStyles();
          this.element.removeEventListener(transitionEndEvent, this, false);
          this.isTransitioning = false;
        };
        proto._removeStyles = function(style) {
          var cleanStyle = {};
          for (var prop2 in style) {
            cleanStyle[prop2] = "";
          }
          this.css(cleanStyle);
        };
        var cleanTransitionStyle = {
          transitionProperty: "",
          transitionDuration: "",
          transitionDelay: ""
        };
        proto.removeTransitionStyles = function() {
          this.css(cleanTransitionStyle);
        };
        proto.stagger = function(delay) {
          delay = isNaN(delay) ? 0 : delay;
          this.staggerDelay = delay + "ms";
        };
        proto.removeElem = function() {
          this.element.parentNode.removeChild(this.element);
          this.css({ display: "" });
          this.emitEvent("remove", [this]);
        };
        proto.remove = function() {
          if (!transitionProperty || !parseFloat(this.layout.options.transitionDuration)) {
            this.removeElem();
            return;
          }
          this.once("transitionEnd", function() {
            this.removeElem();
          });
          this.hide();
        };
        proto.reveal = function() {
          delete this.isHidden;
          this.css({ display: "" });
          var options = this.layout.options;
          var onTransitionEnd = {};
          var transitionEndProperty = this.getHideRevealTransitionEndProperty("visibleStyle");
          onTransitionEnd[transitionEndProperty] = this.onRevealTransitionEnd;
          this.transition({
            from: options.hiddenStyle,
            to: options.visibleStyle,
            isCleaning: true,
            onTransitionEnd
          });
        };
        proto.onRevealTransitionEnd = function() {
          if (!this.isHidden) {
            this.emitEvent("reveal");
          }
        };
        proto.getHideRevealTransitionEndProperty = function(styleProperty) {
          var optionStyle = this.layout.options[styleProperty];
          if (optionStyle.opacity) {
            return "opacity";
          }
          for (var prop2 in optionStyle) {
            return prop2;
          }
        };
        proto.hide = function() {
          this.isHidden = true;
          this.css({ display: "" });
          var options = this.layout.options;
          var onTransitionEnd = {};
          var transitionEndProperty = this.getHideRevealTransitionEndProperty("hiddenStyle");
          onTransitionEnd[transitionEndProperty] = this.onHideTransitionEnd;
          this.transition({
            from: options.visibleStyle,
            to: options.hiddenStyle,
            // keep hidden stuff hidden
            isCleaning: true,
            onTransitionEnd
          });
        };
        proto.onHideTransitionEnd = function() {
          if (this.isHidden) {
            this.css({ display: "none" });
            this.emitEvent("hide");
          }
        };
        proto.destroy = function() {
          this.css({
            position: "",
            left: "",
            right: "",
            top: "",
            bottom: "",
            transition: "",
            transform: ""
          });
        };
        return Item;
      });
    }
  });

  // node_modules/outlayer/outlayer.js
  var require_outlayer = __commonJS({
    "node_modules/outlayer/outlayer.js"(exports, module) {
      (function(window2, factory) {
        "use strict";
        if (typeof define == "function" && define.amd) {
          define(
            [
              "ev-emitter/ev-emitter",
              "get-size/get-size",
              "fizzy-ui-utils/utils",
              "./item"
            ],
            function(EvEmitter, getSize, utils, Item) {
              return factory(window2, EvEmitter, getSize, utils, Item);
            }
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            window2,
            require_ev_emitter(),
            require_get_size(),
            require_utils(),
            require_item()
          );
        } else {
          window2.Outlayer = factory(
            window2,
            window2.EvEmitter,
            window2.getSize,
            window2.fizzyUIUtils,
            window2.Outlayer.Item
          );
        }
      })(window, function factory(window2, EvEmitter, getSize, utils, Item) {
        "use strict";
        var console2 = window2.console;
        var jQuery2 = window2.jQuery;
        var noop = function() {
        };
        var GUID = 0;
        var instances = {};
        function Outlayer(element, options) {
          var queryElement = utils.getQueryElement(element);
          if (!queryElement) {
            if (console2) {
              console2.error("Bad element for " + this.constructor.namespace + ": " + (queryElement || element));
            }
            return;
          }
          this.element = queryElement;
          if (jQuery2) {
            this.$element = jQuery2(this.element);
          }
          this.options = utils.extend({}, this.constructor.defaults);
          this.option(options);
          var id = ++GUID;
          this.element.outlayerGUID = id;
          instances[id] = this;
          this._create();
          var isInitLayout = this._getOption("initLayout");
          if (isInitLayout) {
            this.layout();
          }
        }
        Outlayer.namespace = "outlayer";
        Outlayer.Item = Item;
        Outlayer.defaults = {
          containerStyle: {
            position: "relative"
          },
          initLayout: true,
          originLeft: true,
          originTop: true,
          resize: true,
          resizeContainer: true,
          // item options
          transitionDuration: "0.4s",
          hiddenStyle: {
            opacity: 0,
            transform: "scale(0.001)"
          },
          visibleStyle: {
            opacity: 1,
            transform: "scale(1)"
          }
        };
        var proto = Outlayer.prototype;
        utils.extend(proto, EvEmitter.prototype);
        proto.option = function(opts) {
          utils.extend(this.options, opts);
        };
        proto._getOption = function(option) {
          var oldOption = this.constructor.compatOptions[option];
          return oldOption && this.options[oldOption] !== void 0 ? this.options[oldOption] : this.options[option];
        };
        Outlayer.compatOptions = {
          // currentName: oldName
          initLayout: "isInitLayout",
          horizontal: "isHorizontal",
          layoutInstant: "isLayoutInstant",
          originLeft: "isOriginLeft",
          originTop: "isOriginTop",
          resize: "isResizeBound",
          resizeContainer: "isResizingContainer"
        };
        proto._create = function() {
          this.reloadItems();
          this.stamps = [];
          this.stamp(this.options.stamp);
          utils.extend(this.element.style, this.options.containerStyle);
          var canBindResize = this._getOption("resize");
          if (canBindResize) {
            this.bindResize();
          }
        };
        proto.reloadItems = function() {
          this.items = this._itemize(this.element.children);
        };
        proto._itemize = function(elems) {
          var itemElems = this._filterFindItemElements(elems);
          var Item2 = this.constructor.Item;
          var items = [];
          for (var i = 0; i < itemElems.length; i++) {
            var elem = itemElems[i];
            var item = new Item2(elem, this);
            items.push(item);
          }
          return items;
        };
        proto._filterFindItemElements = function(elems) {
          return utils.filterFindElements(elems, this.options.itemSelector);
        };
        proto.getItemElements = function() {
          return this.items.map(function(item) {
            return item.element;
          });
        };
        proto.layout = function() {
          this._resetLayout();
          this._manageStamps();
          var layoutInstant = this._getOption("layoutInstant");
          var isInstant = layoutInstant !== void 0 ? layoutInstant : !this._isLayoutInited;
          this.layoutItems(this.items, isInstant);
          this._isLayoutInited = true;
        };
        proto._init = proto.layout;
        proto._resetLayout = function() {
          this.getSize();
        };
        proto.getSize = function() {
          this.size = getSize(this.element);
        };
        proto._getMeasurement = function(measurement, size) {
          var option = this.options[measurement];
          var elem;
          if (!option) {
            this[measurement] = 0;
          } else {
            if (typeof option == "string") {
              elem = this.element.querySelector(option);
            } else if (option instanceof HTMLElement) {
              elem = option;
            }
            this[measurement] = elem ? getSize(elem)[size] : option;
          }
        };
        proto.layoutItems = function(items, isInstant) {
          items = this._getItemsForLayout(items);
          this._layoutItems(items, isInstant);
          this._postLayout();
        };
        proto._getItemsForLayout = function(items) {
          return items.filter(function(item) {
            return !item.isIgnored;
          });
        };
        proto._layoutItems = function(items, isInstant) {
          this._emitCompleteOnItems("layout", items);
          if (!items || !items.length) {
            return;
          }
          var queue = [];
          items.forEach(function(item) {
            var position = this._getItemLayoutPosition(item);
            position.item = item;
            position.isInstant = isInstant || item.isLayoutInstant;
            queue.push(position);
          }, this);
          this._processLayoutQueue(queue);
        };
        proto._getItemLayoutPosition = function() {
          return {
            x: 0,
            y: 0
          };
        };
        proto._processLayoutQueue = function(queue) {
          this.updateStagger();
          queue.forEach(function(obj, i) {
            this._positionItem(obj.item, obj.x, obj.y, obj.isInstant, i);
          }, this);
        };
        proto.updateStagger = function() {
          var stagger = this.options.stagger;
          if (stagger === null || stagger === void 0) {
            this.stagger = 0;
            return;
          }
          this.stagger = getMilliseconds(stagger);
          return this.stagger;
        };
        proto._positionItem = function(item, x, y, isInstant, i) {
          if (isInstant) {
            item.goTo(x, y);
          } else {
            item.stagger(i * this.stagger);
            item.moveTo(x, y);
          }
        };
        proto._postLayout = function() {
          this.resizeContainer();
        };
        proto.resizeContainer = function() {
          var isResizingContainer = this._getOption("resizeContainer");
          if (!isResizingContainer) {
            return;
          }
          var size = this._getContainerSize();
          if (size) {
            this._setContainerMeasure(size.width, true);
            this._setContainerMeasure(size.height, false);
          }
        };
        proto._getContainerSize = noop;
        proto._setContainerMeasure = function(measure, isWidth) {
          if (measure === void 0) {
            return;
          }
          var elemSize = this.size;
          if (elemSize.isBorderBox) {
            measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight + elemSize.borderLeftWidth + elemSize.borderRightWidth : elemSize.paddingBottom + elemSize.paddingTop + elemSize.borderTopWidth + elemSize.borderBottomWidth;
          }
          measure = Math.max(measure, 0);
          this.element.style[isWidth ? "width" : "height"] = measure + "px";
        };
        proto._emitCompleteOnItems = function(eventName, items) {
          var _this = this;
          function onComplete() {
            _this.dispatchEvent(eventName + "Complete", null, [items]);
          }
          var count = items.length;
          if (!items || !count) {
            onComplete();
            return;
          }
          var doneCount = 0;
          function tick() {
            doneCount++;
            if (doneCount == count) {
              onComplete();
            }
          }
          items.forEach(function(item) {
            item.once(eventName, tick);
          });
        };
        proto.dispatchEvent = function(type, event, args) {
          var emitArgs = event ? [event].concat(args) : args;
          this.emitEvent(type, emitArgs);
          if (jQuery2) {
            this.$element = this.$element || jQuery2(this.element);
            if (event) {
              var $event = jQuery2.Event(event);
              $event.type = type;
              this.$element.trigger($event, args);
            } else {
              this.$element.trigger(type, args);
            }
          }
        };
        proto.ignore = function(elem) {
          var item = this.getItem(elem);
          if (item) {
            item.isIgnored = true;
          }
        };
        proto.unignore = function(elem) {
          var item = this.getItem(elem);
          if (item) {
            delete item.isIgnored;
          }
        };
        proto.stamp = function(elems) {
          elems = this._find(elems);
          if (!elems) {
            return;
          }
          this.stamps = this.stamps.concat(elems);
          elems.forEach(this.ignore, this);
        };
        proto.unstamp = function(elems) {
          elems = this._find(elems);
          if (!elems) {
            return;
          }
          elems.forEach(function(elem) {
            utils.removeFrom(this.stamps, elem);
            this.unignore(elem);
          }, this);
        };
        proto._find = function(elems) {
          if (!elems) {
            return;
          }
          if (typeof elems == "string") {
            elems = this.element.querySelectorAll(elems);
          }
          elems = utils.makeArray(elems);
          return elems;
        };
        proto._manageStamps = function() {
          if (!this.stamps || !this.stamps.length) {
            return;
          }
          this._getBoundingRect();
          this.stamps.forEach(this._manageStamp, this);
        };
        proto._getBoundingRect = function() {
          var boundingRect = this.element.getBoundingClientRect();
          var size = this.size;
          this._boundingRect = {
            left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,
            top: boundingRect.top + size.paddingTop + size.borderTopWidth,
            right: boundingRect.right - (size.paddingRight + size.borderRightWidth),
            bottom: boundingRect.bottom - (size.paddingBottom + size.borderBottomWidth)
          };
        };
        proto._manageStamp = noop;
        proto._getElementOffset = function(elem) {
          var boundingRect = elem.getBoundingClientRect();
          var thisRect = this._boundingRect;
          var size = getSize(elem);
          var offset = {
            left: boundingRect.left - thisRect.left - size.marginLeft,
            top: boundingRect.top - thisRect.top - size.marginTop,
            right: thisRect.right - boundingRect.right - size.marginRight,
            bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom
          };
          return offset;
        };
        proto.handleEvent = utils.handleEvent;
        proto.bindResize = function() {
          window2.addEventListener("resize", this);
          this.isResizeBound = true;
        };
        proto.unbindResize = function() {
          window2.removeEventListener("resize", this);
          this.isResizeBound = false;
        };
        proto.onresize = function() {
          this.resize();
        };
        utils.debounceMethod(Outlayer, "onresize", 100);
        proto.resize = function() {
          if (!this.isResizeBound || !this.needsResizeLayout()) {
            return;
          }
          this.layout();
        };
        proto.needsResizeLayout = function() {
          var size = getSize(this.element);
          var hasSizes = this.size && size;
          return hasSizes && size.innerWidth !== this.size.innerWidth;
        };
        proto.addItems = function(elems) {
          var items = this._itemize(elems);
          if (items.length) {
            this.items = this.items.concat(items);
          }
          return items;
        };
        proto.appended = function(elems) {
          var items = this.addItems(elems);
          if (!items.length) {
            return;
          }
          this.layoutItems(items, true);
          this.reveal(items);
        };
        proto.prepended = function(elems) {
          var items = this._itemize(elems);
          if (!items.length) {
            return;
          }
          var previousItems = this.items.slice(0);
          this.items = items.concat(previousItems);
          this._resetLayout();
          this._manageStamps();
          this.layoutItems(items, true);
          this.reveal(items);
          this.layoutItems(previousItems);
        };
        proto.reveal = function(items) {
          this._emitCompleteOnItems("reveal", items);
          if (!items || !items.length) {
            return;
          }
          var stagger = this.updateStagger();
          items.forEach(function(item, i) {
            item.stagger(i * stagger);
            item.reveal();
          });
        };
        proto.hide = function(items) {
          this._emitCompleteOnItems("hide", items);
          if (!items || !items.length) {
            return;
          }
          var stagger = this.updateStagger();
          items.forEach(function(item, i) {
            item.stagger(i * stagger);
            item.hide();
          });
        };
        proto.revealItemElements = function(elems) {
          var items = this.getItems(elems);
          this.reveal(items);
        };
        proto.hideItemElements = function(elems) {
          var items = this.getItems(elems);
          this.hide(items);
        };
        proto.getItem = function(elem) {
          for (var i = 0; i < this.items.length; i++) {
            var item = this.items[i];
            if (item.element == elem) {
              return item;
            }
          }
        };
        proto.getItems = function(elems) {
          elems = utils.makeArray(elems);
          var items = [];
          elems.forEach(function(elem) {
            var item = this.getItem(elem);
            if (item) {
              items.push(item);
            }
          }, this);
          return items;
        };
        proto.remove = function(elems) {
          var removeItems = this.getItems(elems);
          this._emitCompleteOnItems("remove", removeItems);
          if (!removeItems || !removeItems.length) {
            return;
          }
          removeItems.forEach(function(item) {
            item.remove();
            utils.removeFrom(this.items, item);
          }, this);
        };
        proto.destroy = function() {
          var style = this.element.style;
          style.height = "";
          style.position = "";
          style.width = "";
          this.items.forEach(function(item) {
            item.destroy();
          });
          this.unbindResize();
          var id = this.element.outlayerGUID;
          delete instances[id];
          delete this.element.outlayerGUID;
          if (jQuery2) {
            jQuery2.removeData(this.element, this.constructor.namespace);
          }
        };
        Outlayer.data = function(elem) {
          elem = utils.getQueryElement(elem);
          var id = elem && elem.outlayerGUID;
          return id && instances[id];
        };
        Outlayer.create = function(namespace, options) {
          var Layout = subclass(Outlayer);
          Layout.defaults = utils.extend({}, Outlayer.defaults);
          utils.extend(Layout.defaults, options);
          Layout.compatOptions = utils.extend({}, Outlayer.compatOptions);
          Layout.namespace = namespace;
          Layout.data = Outlayer.data;
          Layout.Item = subclass(Item);
          utils.htmlInit(Layout, namespace);
          if (jQuery2 && jQuery2.bridget) {
            jQuery2.bridget(namespace, Layout);
          }
          return Layout;
        };
        function subclass(Parent) {
          function SubClass() {
            Parent.apply(this, arguments);
          }
          SubClass.prototype = Object.create(Parent.prototype);
          SubClass.prototype.constructor = SubClass;
          return SubClass;
        }
        var msUnits = {
          ms: 1,
          s: 1e3
        };
        function getMilliseconds(time) {
          if (typeof time == "number") {
            return time;
          }
          var matches = time.match(/(^\d*\.?\d*)(\w*)/);
          var num = matches && matches[1];
          var unit = matches && matches[2];
          if (!num.length) {
            return 0;
          }
          num = parseFloat(num);
          var mult = msUnits[unit] || 1;
          return num * mult;
        }
        Outlayer.Item = Item;
        return Outlayer;
      });
    }
  });

  // node_modules/isotope-layout/js/item.js
  var require_item2 = __commonJS({
    "node_modules/isotope-layout/js/item.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "outlayer/outlayer"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_outlayer()
          );
        } else {
          window2.Isotope = window2.Isotope || {};
          window2.Isotope.Item = factory(
            window2.Outlayer
          );
        }
      })(window, function factory(Outlayer) {
        "use strict";
        function Item() {
          Outlayer.Item.apply(this, arguments);
        }
        var proto = Item.prototype = Object.create(Outlayer.Item.prototype);
        var _create = proto._create;
        proto._create = function() {
          this.id = this.layout.itemGUID++;
          _create.call(this);
          this.sortData = {};
        };
        proto.updateSortData = function() {
          if (this.isIgnored) {
            return;
          }
          this.sortData.id = this.id;
          this.sortData["original-order"] = this.id;
          this.sortData.random = Math.random();
          var getSortData = this.layout.options.getSortData;
          var sorters = this.layout._sorters;
          for (var key in getSortData) {
            var sorter = sorters[key];
            this.sortData[key] = sorter(this.element, this);
          }
        };
        var _destroy = proto.destroy;
        proto.destroy = function() {
          _destroy.apply(this, arguments);
          this.css({
            display: ""
          });
        };
        return Item;
      });
    }
  });

  // node_modules/isotope-layout/js/layout-mode.js
  var require_layout_mode = __commonJS({
    "node_modules/isotope-layout/js/layout-mode.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "get-size/get-size",
              "outlayer/outlayer"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_get_size(),
            require_outlayer()
          );
        } else {
          window2.Isotope = window2.Isotope || {};
          window2.Isotope.LayoutMode = factory(
            window2.getSize,
            window2.Outlayer
          );
        }
      })(window, function factory(getSize, Outlayer) {
        "use strict";
        function LayoutMode(isotope2) {
          this.isotope = isotope2;
          if (isotope2) {
            this.options = isotope2.options[this.namespace];
            this.element = isotope2.element;
            this.items = isotope2.filteredItems;
            this.size = isotope2.size;
          }
        }
        var proto = LayoutMode.prototype;
        var facadeMethods = [
          "_resetLayout",
          "_getItemLayoutPosition",
          "_manageStamp",
          "_getContainerSize",
          "_getElementOffset",
          "needsResizeLayout",
          "_getOption"
        ];
        facadeMethods.forEach(function(methodName) {
          proto[methodName] = function() {
            return Outlayer.prototype[methodName].apply(this.isotope, arguments);
          };
        });
        proto.needsVerticalResizeLayout = function() {
          var size = getSize(this.isotope.element);
          var hasSizes = this.isotope.size && size;
          return hasSizes && size.innerHeight != this.isotope.size.innerHeight;
        };
        proto._getMeasurement = function() {
          this.isotope._getMeasurement.apply(this, arguments);
        };
        proto.getColumnWidth = function() {
          this.getSegmentSize("column", "Width");
        };
        proto.getRowHeight = function() {
          this.getSegmentSize("row", "Height");
        };
        proto.getSegmentSize = function(segment, size) {
          var segmentName = segment + size;
          var outerSize = "outer" + size;
          this._getMeasurement(segmentName, outerSize);
          if (this[segmentName]) {
            return;
          }
          var firstItemSize = this.getFirstItemSize();
          this[segmentName] = firstItemSize && firstItemSize[outerSize] || // or size of container
          this.isotope.size["inner" + size];
        };
        proto.getFirstItemSize = function() {
          var firstItem = this.isotope.filteredItems[0];
          return firstItem && firstItem.element && getSize(firstItem.element);
        };
        proto.layout = function() {
          this.isotope.layout.apply(this.isotope, arguments);
        };
        proto.getSize = function() {
          this.isotope.getSize();
          this.size = this.isotope.size;
        };
        LayoutMode.modes = {};
        LayoutMode.create = function(namespace, options) {
          function Mode() {
            LayoutMode.apply(this, arguments);
          }
          Mode.prototype = Object.create(proto);
          Mode.prototype.constructor = Mode;
          if (options) {
            Mode.options = options;
          }
          Mode.prototype.namespace = namespace;
          LayoutMode.modes[namespace] = Mode;
          return Mode;
        };
        return LayoutMode;
      });
    }
  });

  // node_modules/masonry-layout/masonry.js
  var require_masonry = __commonJS({
    "node_modules/masonry-layout/masonry.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "outlayer/outlayer",
              "get-size/get-size"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_outlayer(),
            require_get_size()
          );
        } else {
          window2.Masonry = factory(
            window2.Outlayer,
            window2.getSize
          );
        }
      })(window, function factory(Outlayer, getSize) {
        "use strict";
        var Masonry = Outlayer.create("masonry");
        Masonry.compatOptions.fitWidth = "isFitWidth";
        var proto = Masonry.prototype;
        proto._resetLayout = function() {
          this.getSize();
          this._getMeasurement("columnWidth", "outerWidth");
          this._getMeasurement("gutter", "outerWidth");
          this.measureColumns();
          this.colYs = [];
          for (var i = 0; i < this.cols; i++) {
            this.colYs.push(0);
          }
          this.maxY = 0;
          this.horizontalColIndex = 0;
        };
        proto.measureColumns = function() {
          this.getContainerWidth();
          if (!this.columnWidth) {
            var firstItem = this.items[0];
            var firstItemElem = firstItem && firstItem.element;
            this.columnWidth = firstItemElem && getSize(firstItemElem).outerWidth || // if first elem has no width, default to size of container
            this.containerWidth;
          }
          var columnWidth = this.columnWidth += this.gutter;
          var containerWidth = this.containerWidth + this.gutter;
          var cols = containerWidth / columnWidth;
          var excess = columnWidth - containerWidth % columnWidth;
          var mathMethod = excess && excess < 1 ? "round" : "floor";
          cols = Math[mathMethod](cols);
          this.cols = Math.max(cols, 1);
        };
        proto.getContainerWidth = function() {
          var isFitWidth = this._getOption("fitWidth");
          var container = isFitWidth ? this.element.parentNode : this.element;
          var size = getSize(container);
          this.containerWidth = size && size.innerWidth;
        };
        proto._getItemLayoutPosition = function(item) {
          item.getSize();
          var remainder = item.size.outerWidth % this.columnWidth;
          var mathMethod = remainder && remainder < 1 ? "round" : "ceil";
          var colSpan = Math[mathMethod](item.size.outerWidth / this.columnWidth);
          colSpan = Math.min(colSpan, this.cols);
          var colPosMethod = this.options.horizontalOrder ? "_getHorizontalColPosition" : "_getTopColPosition";
          var colPosition = this[colPosMethod](colSpan, item);
          var position = {
            x: this.columnWidth * colPosition.col,
            y: colPosition.y
          };
          var setHeight = colPosition.y + item.size.outerHeight;
          var setMax = colSpan + colPosition.col;
          for (var i = colPosition.col; i < setMax; i++) {
            this.colYs[i] = setHeight;
          }
          return position;
        };
        proto._getTopColPosition = function(colSpan) {
          var colGroup = this._getTopColGroup(colSpan);
          var minimumY = Math.min.apply(Math, colGroup);
          return {
            col: colGroup.indexOf(minimumY),
            y: minimumY
          };
        };
        proto._getTopColGroup = function(colSpan) {
          if (colSpan < 2) {
            return this.colYs;
          }
          var colGroup = [];
          var groupCount = this.cols + 1 - colSpan;
          for (var i = 0; i < groupCount; i++) {
            colGroup[i] = this._getColGroupY(i, colSpan);
          }
          return colGroup;
        };
        proto._getColGroupY = function(col, colSpan) {
          if (colSpan < 2) {
            return this.colYs[col];
          }
          var groupColYs = this.colYs.slice(col, col + colSpan);
          return Math.max.apply(Math, groupColYs);
        };
        proto._getHorizontalColPosition = function(colSpan, item) {
          var col = this.horizontalColIndex % this.cols;
          var isOver = colSpan > 1 && col + colSpan > this.cols;
          col = isOver ? 0 : col;
          var hasSize = item.size.outerWidth && item.size.outerHeight;
          this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;
          return {
            col,
            y: this._getColGroupY(col, colSpan)
          };
        };
        proto._manageStamp = function(stamp) {
          var stampSize = getSize(stamp);
          var offset = this._getElementOffset(stamp);
          var isOriginLeft = this._getOption("originLeft");
          var firstX = isOriginLeft ? offset.left : offset.right;
          var lastX = firstX + stampSize.outerWidth;
          var firstCol = Math.floor(firstX / this.columnWidth);
          firstCol = Math.max(0, firstCol);
          var lastCol = Math.floor(lastX / this.columnWidth);
          lastCol -= lastX % this.columnWidth ? 0 : 1;
          lastCol = Math.min(this.cols - 1, lastCol);
          var isOriginTop = this._getOption("originTop");
          var stampMaxY = (isOriginTop ? offset.top : offset.bottom) + stampSize.outerHeight;
          for (var i = firstCol; i <= lastCol; i++) {
            this.colYs[i] = Math.max(stampMaxY, this.colYs[i]);
          }
        };
        proto._getContainerSize = function() {
          this.maxY = Math.max.apply(Math, this.colYs);
          var size = {
            height: this.maxY
          };
          if (this._getOption("fitWidth")) {
            size.width = this._getContainerFitWidth();
          }
          return size;
        };
        proto._getContainerFitWidth = function() {
          var unusedCols = 0;
          var i = this.cols;
          while (--i) {
            if (this.colYs[i] !== 0) {
              break;
            }
            unusedCols++;
          }
          return (this.cols - unusedCols) * this.columnWidth - this.gutter;
        };
        proto.needsResizeLayout = function() {
          var previousWidth = this.containerWidth;
          this.getContainerWidth();
          return previousWidth != this.containerWidth;
        };
        return Masonry;
      });
    }
  });

  // node_modules/isotope-layout/js/layout-modes/masonry.js
  var require_masonry2 = __commonJS({
    "node_modules/isotope-layout/js/layout-modes/masonry.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "../layout-mode",
              "masonry-layout/masonry"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_layout_mode(),
            require_masonry()
          );
        } else {
          factory(
            window2.Isotope.LayoutMode,
            window2.Masonry
          );
        }
      })(window, function factory(LayoutMode, Masonry) {
        "use strict";
        var MasonryMode = LayoutMode.create("masonry");
        var proto = MasonryMode.prototype;
        var keepModeMethods = {
          _getElementOffset: true,
          layout: true,
          _getMeasurement: true
        };
        for (var method in Masonry.prototype) {
          if (!keepModeMethods[method]) {
            proto[method] = Masonry.prototype[method];
          }
        }
        var measureColumns = proto.measureColumns;
        proto.measureColumns = function() {
          this.items = this.isotope.filteredItems;
          measureColumns.call(this);
        };
        var _getOption = proto._getOption;
        proto._getOption = function(option) {
          if (option == "fitWidth") {
            return this.options.isFitWidth !== void 0 ? this.options.isFitWidth : this.options.fitWidth;
          }
          return _getOption.apply(this.isotope, arguments);
        };
        return MasonryMode;
      });
    }
  });

  // node_modules/isotope-layout/js/layout-modes/fit-rows.js
  var require_fit_rows = __commonJS({
    "node_modules/isotope-layout/js/layout-modes/fit-rows.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "../layout-mode"
            ],
            factory
          );
        } else if (typeof exports == "object") {
          module.exports = factory(
            require_layout_mode()
          );
        } else {
          factory(
            window2.Isotope.LayoutMode
          );
        }
      })(window, function factory(LayoutMode) {
        "use strict";
        var FitRows = LayoutMode.create("fitRows");
        var proto = FitRows.prototype;
        proto._resetLayout = function() {
          this.x = 0;
          this.y = 0;
          this.maxY = 0;
          this._getMeasurement("gutter", "outerWidth");
        };
        proto._getItemLayoutPosition = function(item) {
          item.getSize();
          var itemWidth = item.size.outerWidth + this.gutter;
          var containerWidth = this.isotope.size.innerWidth + this.gutter;
          if (this.x !== 0 && itemWidth + this.x > containerWidth) {
            this.x = 0;
            this.y = this.maxY;
          }
          var position = {
            x: this.x,
            y: this.y
          };
          this.maxY = Math.max(this.maxY, this.y + item.size.outerHeight);
          this.x += itemWidth;
          return position;
        };
        proto._getContainerSize = function() {
          return { height: this.maxY };
        };
        return FitRows;
      });
    }
  });

  // node_modules/isotope-layout/js/layout-modes/vertical.js
  var require_vertical = __commonJS({
    "node_modules/isotope-layout/js/layout-modes/vertical.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "../layout-mode"
            ],
            factory
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            require_layout_mode()
          );
        } else {
          factory(
            window2.Isotope.LayoutMode
          );
        }
      })(window, function factory(LayoutMode) {
        "use strict";
        var Vertical = LayoutMode.create("vertical", {
          horizontalAlignment: 0
        });
        var proto = Vertical.prototype;
        proto._resetLayout = function() {
          this.y = 0;
        };
        proto._getItemLayoutPosition = function(item) {
          item.getSize();
          var x = (this.isotope.size.innerWidth - item.size.outerWidth) * this.options.horizontalAlignment;
          var y = this.y;
          this.y += item.size.outerHeight;
          return { x, y };
        };
        proto._getContainerSize = function() {
          return { height: this.y };
        };
        return Vertical;
      });
    }
  });

  // node_modules/isotope-layout/js/isotope.js
  var require_isotope = __commonJS({
    "node_modules/isotope-layout/js/isotope.js"(exports, module) {
      (function(window2, factory) {
        if (typeof define == "function" && define.amd) {
          define(
            [
              "outlayer/outlayer",
              "get-size/get-size",
              "desandro-matches-selector/matches-selector",
              "fizzy-ui-utils/utils",
              "./item",
              "./layout-mode",
              // include default layout modes
              "./layout-modes/masonry",
              "./layout-modes/fit-rows",
              "./layout-modes/vertical"
            ],
            function(Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {
              return factory(window2, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode);
            }
          );
        } else if (typeof module == "object" && module.exports) {
          module.exports = factory(
            window2,
            require_outlayer(),
            require_get_size(),
            require_matches_selector(),
            require_utils(),
            require_item2(),
            require_layout_mode(),
            // include default layout modes
            require_masonry2(),
            require_fit_rows(),
            require_vertical()
          );
        } else {
          window2.Isotope = factory(
            window2,
            window2.Outlayer,
            window2.getSize,
            window2.matchesSelector,
            window2.fizzyUIUtils,
            window2.Isotope.Item,
            window2.Isotope.LayoutMode
          );
        }
      })(window, function factory(window2, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {
        "use strict";
        var jQuery2 = window2.jQuery;
        var trim = String.prototype.trim ? function(str) {
          return str.trim();
        } : function(str) {
          return str.replace(/^\s+|\s+$/g, "");
        };
        var Isotope = Outlayer.create("isotope", {
          layoutMode: "masonry",
          isJQueryFiltering: true,
          sortAscending: true
        });
        Isotope.Item = Item;
        Isotope.LayoutMode = LayoutMode;
        var proto = Isotope.prototype;
        proto._create = function() {
          this.itemGUID = 0;
          this._sorters = {};
          this._getSorters();
          Outlayer.prototype._create.call(this);
          this.modes = {};
          this.filteredItems = this.items;
          this.sortHistory = ["original-order"];
          for (var name in LayoutMode.modes) {
            this._initLayoutMode(name);
          }
        };
        proto.reloadItems = function() {
          this.itemGUID = 0;
          Outlayer.prototype.reloadItems.call(this);
        };
        proto._itemize = function() {
          var items = Outlayer.prototype._itemize.apply(this, arguments);
          for (var i = 0; i < items.length; i++) {
            var item = items[i];
            item.id = this.itemGUID++;
          }
          this._updateItemsSortData(items);
          return items;
        };
        proto._initLayoutMode = function(name) {
          var Mode = LayoutMode.modes[name];
          var initialOpts = this.options[name] || {};
          this.options[name] = Mode.options ? utils.extend(Mode.options, initialOpts) : initialOpts;
          this.modes[name] = new Mode(this);
        };
        proto.layout = function() {
          if (!this._isLayoutInited && this._getOption("initLayout")) {
            this.arrange();
            return;
          }
          this._layout();
        };
        proto._layout = function() {
          var isInstant = this._getIsInstant();
          this._resetLayout();
          this._manageStamps();
          this.layoutItems(this.filteredItems, isInstant);
          this._isLayoutInited = true;
        };
        proto.arrange = function(opts) {
          this.option(opts);
          this._getIsInstant();
          var filtered = this._filter(this.items);
          this.filteredItems = filtered.matches;
          this._bindArrangeComplete();
          if (this._isInstant) {
            this._noTransition(this._hideReveal, [filtered]);
          } else {
            this._hideReveal(filtered);
          }
          this._sort();
          this._layout();
        };
        proto._init = proto.arrange;
        proto._hideReveal = function(filtered) {
          this.reveal(filtered.needReveal);
          this.hide(filtered.needHide);
        };
        proto._getIsInstant = function() {
          var isLayoutInstant = this._getOption("layoutInstant");
          var isInstant = isLayoutInstant !== void 0 ? isLayoutInstant : !this._isLayoutInited;
          this._isInstant = isInstant;
          return isInstant;
        };
        proto._bindArrangeComplete = function() {
          var isLayoutComplete, isHideComplete, isRevealComplete;
          var _this = this;
          function arrangeParallelCallback() {
            if (isLayoutComplete && isHideComplete && isRevealComplete) {
              _this.dispatchEvent("arrangeComplete", null, [_this.filteredItems]);
            }
          }
          this.once("layoutComplete", function() {
            isLayoutComplete = true;
            arrangeParallelCallback();
          });
          this.once("hideComplete", function() {
            isHideComplete = true;
            arrangeParallelCallback();
          });
          this.once("revealComplete", function() {
            isRevealComplete = true;
            arrangeParallelCallback();
          });
        };
        proto._filter = function(items) {
          var filter = this.options.filter;
          filter = filter || "*";
          var matches = [];
          var hiddenMatched = [];
          var visibleUnmatched = [];
          var test = this._getFilterTest(filter);
          for (var i = 0; i < items.length; i++) {
            var item = items[i];
            if (item.isIgnored) {
              continue;
            }
            var isMatched = test(item);
            if (isMatched) {
              matches.push(item);
            }
            if (isMatched && item.isHidden) {
              hiddenMatched.push(item);
            } else if (!isMatched && !item.isHidden) {
              visibleUnmatched.push(item);
            }
          }
          return {
            matches,
            needReveal: hiddenMatched,
            needHide: visibleUnmatched
          };
        };
        proto._getFilterTest = function(filter) {
          if (jQuery2 && this.options.isJQueryFiltering) {
            return function(item) {
              return jQuery2(item.element).is(filter);
            };
          }
          if (typeof filter == "function") {
            return function(item) {
              return filter(item.element);
            };
          }
          return function(item) {
            return matchesSelector(item.element, filter);
          };
        };
        proto.updateSortData = function(elems) {
          var items;
          if (elems) {
            elems = utils.makeArray(elems);
            items = this.getItems(elems);
          } else {
            items = this.items;
          }
          this._getSorters();
          this._updateItemsSortData(items);
        };
        proto._getSorters = function() {
          var getSortData = this.options.getSortData;
          for (var key in getSortData) {
            var sorter = getSortData[key];
            this._sorters[key] = mungeSorter(sorter);
          }
        };
        proto._updateItemsSortData = function(items) {
          var len = items && items.length;
          for (var i = 0; len && i < len; i++) {
            var item = items[i];
            item.updateSortData();
          }
        };
        var mungeSorter = function() {
          function mungeSorter2(sorter) {
            if (typeof sorter != "string") {
              return sorter;
            }
            var args = trim(sorter).split(" ");
            var query = args[0];
            var attrMatch = query.match(/^\[(.+)\]$/);
            var attr2 = attrMatch && attrMatch[1];
            var getValue = getValueGetter(attr2, query);
            var parser = Isotope.sortDataParsers[args[1]];
            sorter = parser ? function(elem) {
              return elem && parser(getValue(elem));
            } : (
              // otherwise just return value
              function(elem) {
                return elem && getValue(elem);
              }
            );
            return sorter;
          }
          function getValueGetter(attr2, query) {
            if (attr2) {
              return function getAttribute(elem) {
                return elem.getAttribute(attr2);
              };
            }
            return function getChildText(elem) {
              var child = elem.querySelector(query);
              return child && child.textContent;
            };
          }
          return mungeSorter2;
        }();
        Isotope.sortDataParsers = {
          "parseInt": function(val) {
            return parseInt(val, 10);
          },
          "parseFloat": function(val) {
            return parseFloat(val);
          }
        };
        proto._sort = function() {
          if (!this.options.sortBy) {
            return;
          }
          var sortBys = utils.makeArray(this.options.sortBy);
          if (!this._getIsSameSortBy(sortBys)) {
            this.sortHistory = sortBys.concat(this.sortHistory);
          }
          var itemSorter = getItemSorter(this.sortHistory, this.options.sortAscending);
          this.filteredItems.sort(itemSorter);
        };
        proto._getIsSameSortBy = function(sortBys) {
          for (var i = 0; i < sortBys.length; i++) {
            if (sortBys[i] != this.sortHistory[i]) {
              return false;
            }
          }
          return true;
        };
        function getItemSorter(sortBys, sortAsc) {
          return function sorter(itemA, itemB) {
            for (var i = 0; i < sortBys.length; i++) {
              var sortBy = sortBys[i];
              var a = itemA.sortData[sortBy];
              var b = itemB.sortData[sortBy];
              if (a > b || a < b) {
                var isAscending = sortAsc[sortBy] !== void 0 ? sortAsc[sortBy] : sortAsc;
                var direction = isAscending ? 1 : -1;
                return (a > b ? 1 : -1) * direction;
              }
            }
            return 0;
          };
        }
        proto._mode = function() {
          var layoutMode = this.options.layoutMode;
          var mode = this.modes[layoutMode];
          if (!mode) {
            throw new Error("No layout mode: " + layoutMode);
          }
          mode.options = this.options[layoutMode];
          return mode;
        };
        proto._resetLayout = function() {
          Outlayer.prototype._resetLayout.call(this);
          this._mode()._resetLayout();
        };
        proto._getItemLayoutPosition = function(item) {
          return this._mode()._getItemLayoutPosition(item);
        };
        proto._manageStamp = function(stamp) {
          this._mode()._manageStamp(stamp);
        };
        proto._getContainerSize = function() {
          return this._mode()._getContainerSize();
        };
        proto.needsResizeLayout = function() {
          return this._mode().needsResizeLayout();
        };
        proto.appended = function(elems) {
          var items = this.addItems(elems);
          if (!items.length) {
            return;
          }
          var filteredItems = this._filterRevealAdded(items);
          this.filteredItems = this.filteredItems.concat(filteredItems);
        };
        proto.prepended = function(elems) {
          var items = this._itemize(elems);
          if (!items.length) {
            return;
          }
          this._resetLayout();
          this._manageStamps();
          var filteredItems = this._filterRevealAdded(items);
          this.layoutItems(this.filteredItems);
          this.filteredItems = filteredItems.concat(this.filteredItems);
          this.items = items.concat(this.items);
        };
        proto._filterRevealAdded = function(items) {
          var filtered = this._filter(items);
          this.hide(filtered.needHide);
          this.reveal(filtered.matches);
          this.layoutItems(filtered.matches, true);
          return filtered.matches;
        };
        proto.insert = function(elems) {
          var items = this.addItems(elems);
          if (!items.length) {
            return;
          }
          var i, item;
          var len = items.length;
          for (i = 0; i < len; i++) {
            item = items[i];
            this.element.appendChild(item.element);
          }
          var filteredInsertItems = this._filter(items).matches;
          for (i = 0; i < len; i++) {
            items[i].isLayoutInstant = true;
          }
          this.arrange();
          for (i = 0; i < len; i++) {
            delete items[i].isLayoutInstant;
          }
          this.reveal(filteredInsertItems);
        };
        var _remove = proto.remove;
        proto.remove = function(elems) {
          elems = utils.makeArray(elems);
          var removeItems = this.getItems(elems);
          _remove.call(this, elems);
          var len = removeItems && removeItems.length;
          for (var i = 0; len && i < len; i++) {
            var item = removeItems[i];
            utils.removeFrom(this.filteredItems, item);
          }
        };
        proto.shuffle = function() {
          for (var i = 0; i < this.items.length; i++) {
            var item = this.items[i];
            item.sortData.random = Math.random();
          }
          this.options.sortBy = "random";
          this._sort();
          this._layout();
        };
        proto._noTransition = function(fn, args) {
          var transitionDuration = this.options.transitionDuration;
          this.options.transitionDuration = 0;
          var returnValue = fn.apply(this, args);
          this.options.transitionDuration = transitionDuration;
          return returnValue;
        };
        proto.getFilteredItemElements = function() {
          return this.filteredItems.map(function(item) {
            return item.element;
          });
        };
        return Isotope;
      });
    }
  });

  // node_modules/@tmbr/utils/lib/prop.js
  function prop(el, name, value) {
    if (arguments.length < 3) {
      return el.style.getPropertyValue(name);
    } else {
      el.style.setProperty(name, value);
      return value;
    }
  }

  // node_modules/@tmbr/utils/lib/toJSON.js
  function toJSON(string, defaults2) {
    let result;
    try {
      result = new Function("string", `var object; with (string) { object = ${string || ""} }; return object;`)(string || "{}");
    } catch (e) {
      result = {};
    }
    return Object.assign(result || {}, defaults2);
  }

  // node_modules/@tmbr/utils/lib/isBoolean.js
  function isBoolean(value) {
    return typeof value === "boolean";
  }

  // node_modules/@tmbr/utils/lib/attr.js
  function attr(el, name, value) {
    if (arguments.length < 3) {
      return el.getAttribute(name);
    } else if (value) {
      el.setAttribute(name, isBoolean(value) ? "" : value);
    } else {
      el.removeAttribute(name);
    }
    return value;
  }

  // node_modules/@tmbr/utils/lib/isFunction.js
  function isFunction(value) {
    return typeof value === "function";
  }

  // node_modules/@tmbr/utils/lib/bind.js
  function bind(self, methods) {
    if (methods) {
      [].concat(methods).forEach((fn) => isFunction(self[fn]) && (self[fn] = self[fn].bind(self)));
      return self;
    }
    const properties = /* @__PURE__ */ new Set();
    let object = self.constructor.prototype;
    do {
      for (const key of Reflect.ownKeys(object)) {
        if (key === "constructor")
          continue;
        properties.add([object, key]);
      }
    } while ((object = Reflect.getPrototypeOf(object)) && object !== Object.prototype);
    for (const [object2, key] of properties) {
      const descriptor = Reflect.getOwnPropertyDescriptor(object2, key);
      if (descriptor && isFunction(descriptor.value))
        self[key] = self[key].bind(self);
    }
    return self;
  }

  // node_modules/@tmbr/utils/lib/isString.js
  function isString(value) {
    return typeof value === "string";
  }

  // node_modules/@tmbr/utils/lib/findAll.js
  function findAll(selector, parent) {
    return Array.from((parent || document).querySelectorAll(selector));
  }

  // node_modules/@tmbr/utils/lib/findOne.js
  function findOne(selector, parent) {
    return (parent || document).querySelector(selector);
  }

  // node_modules/@tmbr/utils/lib/html.js
  function html(strings, ...vars) {
    let result = "";
    const appends = [];
    for (let i = 0; i < vars.length; i++) {
      if (vars[i] instanceof HTMLElement || vars[i] instanceof DocumentFragment) {
        appends.push(vars[i]);
        result += strings[i] + `<div append="${i}"></div>`;
      } else {
        result += strings[i] + vars[i];
      }
    }
    result += strings[strings.length - 1];
    const template = document.createElement("template");
    template.innerHTML = result.trim();
    const content = template.content;
    [...content.querySelectorAll("[append]")].forEach((node, i) => {
      node.before(appends[i]);
      node.remove();
    });
    return content.childElementCount === 1 ? content.firstElementChild : content;
  }

  // node_modules/@tmbr/utils/lib/isClass.js
  function isClass(fn) {
    return isFunction(fn) && /^class\s/.test(Function.prototype.toString.call(fn));
  }

  // node_modules/@tmbr/utils/lib/on.js
  function on(type, selector, callback2, scope = document) {
    let match;
    function listener(event) {
      match = event.bubbles ? event.target.closest && event.target.closest(selector) : event.target.matches && event.target.matches(selector);
      match && callback2(event);
    }
    scope.addEventListener(type, listener, true);
    return () => scope.removeEventListener(type, listener, true);
  }

  // node_modules/@tmbr/utils/lib/ro.js
  function ro(el, fn) {
    const observer = new ResizeObserver((entries) => fn(entries[0]));
    observer.observe(el);
    return () => observer.disconnect();
  }

  // node_modules/gsap/gsap-core.js
  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }
    return self;
  }
  function _inheritsLoose(subClass, superClass) {
    subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass;
    subClass.__proto__ = superClass;
  }
  var _config = {
    autoSleep: 120,
    force3D: "auto",
    nullTargetWarn: 1,
    units: {
      lineHeight: ""
    }
  };
  var _defaults = {
    duration: 0.5,
    overwrite: false,
    delay: 0
  };
  var _bigNum = 1e8;
  var _tinyNum = 1 / _bigNum;
  var _2PI = Math.PI * 2;
  var _HALF_PI = _2PI / 4;
  var _gsID = 0;
  var _sqrt = Math.sqrt;
  var _cos = Math.cos;
  var _sin = Math.sin;
  var _isString = function _isString2(value) {
    return typeof value === "string";
  };
  var _isFunction = function _isFunction2(value) {
    return typeof value === "function";
  };
  var _isNumber = function _isNumber2(value) {
    return typeof value === "number";
  };
  var _isUndefined = function _isUndefined2(value) {
    return typeof value === "undefined";
  };
  var _isObject = function _isObject2(value) {
    return typeof value === "object";
  };
  var _isNotFalse = function _isNotFalse2(value) {
    return value !== false;
  };
  var _windowExists = function _windowExists2() {
    return typeof window !== "undefined";
  };
  var _isFuncOrString = function _isFuncOrString2(value) {
    return _isFunction(value) || _isString(value);
  };
  var _isTypedArray = typeof ArrayBuffer === "function" && ArrayBuffer.isView || function() {
  };
  var _isArray = Array.isArray;
  var _strictNumExp = /(?:-?\.?\d|\.)+/gi;
  var _numExp = /[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g;
  var _numWithUnitExp = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g;
  var _complexStringNumExp = /[-+=.]*\d+(?:\.|e-|e)*\d*/gi;
  var _relExp = /[+-]=-?[\.\d]+/;
  var _delimitedValueExp = /[#\-+.]*\b[a-z\d-=+%.]+/gi;
  var _globalTimeline;
  var _win;
  var _coreInitted;
  var _doc;
  var _globals = {};
  var _installScope = {};
  var _coreReady;
  var _install = function _install2(scope) {
    return (_installScope = _merge(scope, _globals)) && gsap;
  };
  var _missingPlugin = function _missingPlugin2(property, value) {
    return console.warn("Invalid property", property, "set to", value, "Missing plugin? gsap.registerPlugin()");
  };
  var _warn = function _warn2(message, suppress) {
    return !suppress && console.warn(message);
  };
  var _addGlobal = function _addGlobal2(name, obj) {
    return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;
  };
  var _emptyFunc = function _emptyFunc2() {
    return 0;
  };
  var _reservedProps = {};
  var _lazyTweens = [];
  var _lazyLookup = {};
  var _lastRenderedFrame;
  var _plugins = {};
  var _effects = {};
  var _nextGCFrame = 30;
  var _harnessPlugins = [];
  var _callbackNames = "";
  var _harness = function _harness2(targets) {
    var target = targets[0], harnessPlugin, i;
    _isObject(target) || _isFunction(target) || (targets = [targets]);
    if (!(harnessPlugin = (target._gsap || {}).harness)) {
      i = _harnessPlugins.length;
      while (i-- && !_harnessPlugins[i].targetTest(target)) {
      }
      harnessPlugin = _harnessPlugins[i];
    }
    i = targets.length;
    while (i--) {
      targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);
    }
    return targets;
  };
  var _getCache = function _getCache2(target) {
    return target._gsap || _harness(toArray(target))[0]._gsap;
  };
  var _getProperty = function _getProperty2(target, property, v) {
    return (v = target[property]) && _isFunction(v) ? target[property]() : _isUndefined(v) && target.getAttribute && target.getAttribute(property) || v;
  };
  var _forEachName = function _forEachName2(names, func) {
    return (names = names.split(",")).forEach(func) || names;
  };
  var _round = function _round2(value) {
    return Math.round(value * 1e5) / 1e5 || 0;
  };
  var _arrayContainsAny = function _arrayContainsAny2(toSearch, toFind) {
    var l = toFind.length, i = 0;
    for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l; ) {
    }
    return i < l;
  };
  var _parseVars = function _parseVars2(params, type, parent) {
    var isLegacy = _isNumber(params[1]), varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1), vars = params[varsIndex], irVars;
    isLegacy && (vars.duration = params[1]);
    vars.parent = parent;
    if (type) {
      irVars = vars;
      while (parent && !("immediateRender" in irVars)) {
        irVars = parent.vars.defaults || {};
        parent = _isNotFalse(parent.vars.inherit) && parent.parent;
      }
      vars.immediateRender = _isNotFalse(irVars.immediateRender);
      type < 2 ? vars.runBackwards = 1 : vars.startAt = params[varsIndex - 1];
    }
    return vars;
  };
  var _lazyRender = function _lazyRender2() {
    var l = _lazyTweens.length, a = _lazyTweens.slice(0), i, tween;
    _lazyLookup = {};
    _lazyTweens.length = 0;
    for (i = 0; i < l; i++) {
      tween = a[i];
      tween && tween._lazy && (tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0);
    }
  };
  var _lazySafeRender = function _lazySafeRender2(animation, time, suppressEvents, force) {
    _lazyTweens.length && _lazyRender();
    animation.render(time, suppressEvents, force);
    _lazyTweens.length && _lazyRender();
  };
  var _numericIfPossible = function _numericIfPossible2(value) {
    var n = parseFloat(value);
    return (n || n === 0) && (value + "").match(_delimitedValueExp).length < 2 ? n : _isString(value) ? value.trim() : value;
  };
  var _passThrough = function _passThrough2(p) {
    return p;
  };
  var _setDefaults = function _setDefaults2(obj, defaults2) {
    for (var p in defaults2) {
      p in obj || (obj[p] = defaults2[p]);
    }
    return obj;
  };
  var _setKeyframeDefaults = function _setKeyframeDefaults2(obj, defaults2) {
    for (var p in defaults2) {
      p in obj || p === "duration" || p === "ease" || (obj[p] = defaults2[p]);
    }
  };
  var _merge = function _merge2(base, toMerge) {
    for (var p in toMerge) {
      base[p] = toMerge[p];
    }
    return base;
  };
  var _mergeDeep = function _mergeDeep2(base, toMerge) {
    for (var p in toMerge) {
      base[p] = _isObject(toMerge[p]) ? _mergeDeep2(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p];
    }
    return base;
  };
  var _copyExcluding = function _copyExcluding2(obj, excluding) {
    var copy = {}, p;
    for (p in obj) {
      p in excluding || (copy[p] = obj[p]);
    }
    return copy;
  };
  var _inheritDefaults = function _inheritDefaults2(vars) {
    var parent = vars.parent || _globalTimeline, func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;
    if (_isNotFalse(vars.inherit)) {
      while (parent) {
        func(vars, parent.vars.defaults);
        parent = parent.parent || parent._dp;
      }
    }
    return vars;
  };
  var _arraysMatch = function _arraysMatch2(a1, a2) {
    var i = a1.length, match = i === a2.length;
    while (match && i-- && a1[i] === a2[i]) {
    }
    return i < 0;
  };
  var _addLinkedListItem = function _addLinkedListItem2(parent, child, firstProp, lastProp, sortBy) {
    if (firstProp === void 0) {
      firstProp = "_first";
    }
    if (lastProp === void 0) {
      lastProp = "_last";
    }
    var prev = parent[lastProp], t;
    if (sortBy) {
      t = child[sortBy];
      while (prev && prev[sortBy] > t) {
        prev = prev._prev;
      }
    }
    if (prev) {
      child._next = prev._next;
      prev._next = child;
    } else {
      child._next = parent[firstProp];
      parent[firstProp] = child;
    }
    if (child._next) {
      child._next._prev = child;
    } else {
      parent[lastProp] = child;
    }
    child._prev = prev;
    child.parent = child._dp = parent;
    return child;
  };
  var _removeLinkedListItem = function _removeLinkedListItem2(parent, child, firstProp, lastProp) {
    if (firstProp === void 0) {
      firstProp = "_first";
    }
    if (lastProp === void 0) {
      lastProp = "_last";
    }
    var prev = child._prev, next = child._next;
    if (prev) {
      prev._next = next;
    } else if (parent[firstProp] === child) {
      parent[firstProp] = next;
    }
    if (next) {
      next._prev = prev;
    } else if (parent[lastProp] === child) {
      parent[lastProp] = prev;
    }
    child._next = child._prev = child.parent = null;
  };
  var _removeFromParent = function _removeFromParent2(child, onlyIfParentHasAutoRemove) {
    child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren) && child.parent.remove(child);
    child._act = 0;
  };
  var _uncache = function _uncache2(animation, child) {
    if (animation && (!child || child._end > animation._dur || child._start < 0)) {
      var a = animation;
      while (a) {
        a._dirty = 1;
        a = a.parent;
      }
    }
    return animation;
  };
  var _recacheAncestors = function _recacheAncestors2(animation) {
    var parent = animation.parent;
    while (parent && parent.parent) {
      parent._dirty = 1;
      parent.totalDuration();
      parent = parent.parent;
    }
    return animation;
  };
  var _hasNoPausedAncestors = function _hasNoPausedAncestors2(animation) {
    return !animation || animation._ts && _hasNoPausedAncestors2(animation.parent);
  };
  var _elapsedCycleDuration = function _elapsedCycleDuration2(animation) {
    return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;
  };
  var _animationCycle = function _animationCycle2(tTime, cycleDuration) {
    return (tTime /= cycleDuration) && ~~tTime === tTime ? ~~tTime - 1 : ~~tTime;
  };
  var _parentToChildTotalTime = function _parentToChildTotalTime2(parentTime, child) {
    return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);
  };
  var _setEnd = function _setEnd2(animation) {
    return animation._end = _round(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));
  };
  var _alignPlayhead = function _alignPlayhead2(animation, totalTime) {
    var parent = animation._dp;
    if (parent && parent.smoothChildTiming && animation._ts) {
      animation._start = _round(animation._dp._time - (animation._ts > 0 ? totalTime / animation._ts : ((animation._dirty ? animation.totalDuration() : animation._tDur) - totalTime) / -animation._ts));
      _setEnd(animation);
      parent._dirty || _uncache(parent, animation);
    }
    return animation;
  };
  var _postAddChecks = function _postAddChecks2(timeline2, child) {
    var t;
    if (child._time || child._initted && !child._dur) {
      t = _parentToChildTotalTime(timeline2.rawTime(), child);
      if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {
        child.render(t, true);
      }
    }
    if (_uncache(timeline2, child)._dp && timeline2._initted && timeline2._time >= timeline2._dur && timeline2._ts) {
      if (timeline2._dur < timeline2.duration()) {
        t = timeline2;
        while (t._dp) {
          t.rawTime() >= 0 && t.totalTime(t._tTime);
          t = t._dp;
        }
      }
      timeline2._zTime = -_tinyNum;
    }
  };
  var _addToTimeline = function _addToTimeline2(timeline2, child, position, skipChecks) {
    child.parent && _removeFromParent(child);
    child._start = _round(position + child._delay);
    child._end = _round(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));
    _addLinkedListItem(timeline2, child, "_first", "_last", timeline2._sort ? "_start" : 0);
    timeline2._recent = child;
    skipChecks || _postAddChecks(timeline2, child);
    return timeline2;
  };
  var _scrollTrigger = function _scrollTrigger2(animation, trigger) {
    return (_globals.ScrollTrigger || _missingPlugin("scrollTrigger", trigger)) && _globals.ScrollTrigger.create(trigger, animation);
  };
  var _attemptInitTween = function _attemptInitTween2(tween, totalTime, force, suppressEvents) {
    _initTween(tween, totalTime);
    if (!tween._initted) {
      return 1;
    }
    if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {
      _lazyTweens.push(tween);
      tween._lazy = [totalTime, suppressEvents];
      return 1;
    }
  };
  var _renderZeroDurationTween = function _renderZeroDurationTween2(tween, totalTime, suppressEvents, force) {
    var prevRatio = tween.ratio, ratio = totalTime < 0 || !totalTime && prevRatio && !tween._start && tween._zTime > _tinyNum && !tween._dp._lock || (tween._ts < 0 || tween._dp._ts < 0) && tween.data !== "isFromStart" && tween.data !== "isStart" ? 0 : 1, repeatDelay = tween._rDelay, tTime = 0, pt, iteration, prevIteration;
    if (repeatDelay && tween._repeat) {
      tTime = _clamp(0, tween._tDur, totalTime);
      iteration = _animationCycle(tTime, repeatDelay);
      prevIteration = _animationCycle(tween._tTime, repeatDelay);
      if (iteration !== prevIteration) {
        prevRatio = 1 - ratio;
        tween.vars.repeatRefresh && tween._initted && tween.invalidate();
      }
    }
    if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {
      if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {
        return;
      }
      prevIteration = tween._zTime;
      tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0);
      suppressEvents || (suppressEvents = totalTime && !prevIteration);
      tween.ratio = ratio;
      tween._from && (ratio = 1 - ratio);
      tween._time = 0;
      tween._tTime = tTime;
      suppressEvents || _callback(tween, "onStart");
      pt = tween._pt;
      while (pt) {
        pt.r(ratio, pt.d);
        pt = pt._next;
      }
      tween._startAt && totalTime < 0 && tween._startAt.render(totalTime, true, true);
      tween._onUpdate && !suppressEvents && _callback(tween, "onUpdate");
      tTime && tween._repeat && !suppressEvents && tween.parent && _callback(tween, "onRepeat");
      if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {
        ratio && _removeFromParent(tween, 1);
        if (!suppressEvents) {
          _callback(tween, ratio ? "onComplete" : "onReverseComplete", true);
          tween._prom && tween._prom();
        }
      }
    } else if (!tween._zTime) {
      tween._zTime = totalTime;
    }
  };
  var _findNextPauseTween = function _findNextPauseTween2(animation, prevTime, time) {
    var child;
    if (time > prevTime) {
      child = animation._first;
      while (child && child._start <= time) {
        if (!child._dur && child.data === "isPause" && child._start > prevTime) {
          return child;
        }
        child = child._next;
      }
    } else {
      child = animation._last;
      while (child && child._start >= time) {
        if (!child._dur && child.data === "isPause" && child._start < prevTime) {
          return child;
        }
        child = child._prev;
      }
    }
  };
  var _setDuration = function _setDuration2(animation, duration, skipUncache, leavePlayhead) {
    var repeat = animation._repeat, dur = _round(duration) || 0, totalProgress = animation._tTime / animation._tDur;
    totalProgress && !leavePlayhead && (animation._time *= dur / animation._dur);
    animation._dur = dur;
    animation._tDur = !repeat ? dur : repeat < 0 ? 1e10 : _round(dur * (repeat + 1) + animation._rDelay * repeat);
    totalProgress && !leavePlayhead ? _alignPlayhead(animation, animation._tTime = animation._tDur * totalProgress) : animation.parent && _setEnd(animation);
    skipUncache || _uncache(animation.parent, animation);
    return animation;
  };
  var _onUpdateTotalDuration = function _onUpdateTotalDuration2(animation) {
    return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);
  };
  var _zeroPosition = {
    _start: 0,
    endTime: _emptyFunc
  };
  var _parsePosition = function _parsePosition2(animation, position) {
    var labels = animation.labels, recent = animation._recent || _zeroPosition, clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur, i, offset;
    if (_isString(position) && (isNaN(position) || position in labels)) {
      i = position.charAt(0);
      if (i === "<" || i === ">") {
        return (i === "<" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0);
      }
      i = position.indexOf("=");
      if (i < 0) {
        position in labels || (labels[position] = clippedDuration);
        return labels[position];
      }
      offset = +(position.charAt(i - 1) + position.substr(i + 1));
      return i > 1 ? _parsePosition2(animation, position.substr(0, i - 1)) + offset : clippedDuration + offset;
    }
    return position == null ? clippedDuration : +position;
  };
  var _conditionalReturn = function _conditionalReturn2(value, func) {
    return value || value === 0 ? func(value) : func;
  };
  var _clamp = function _clamp2(min, max, value) {
    return value < min ? min : value > max ? max : value;
  };
  var getUnit = function getUnit2(value) {
    return (value = (value + "").substr((parseFloat(value) + "").length)) && isNaN(value) ? value : "";
  };
  var clamp = function clamp2(min, max, value) {
    return _conditionalReturn(value, function(v) {
      return _clamp(min, max, v);
    });
  };
  var _slice = [].slice;
  var _isArrayLike = function _isArrayLike2(value, nonEmpty) {
    return value && _isObject(value) && "length" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;
  };
  var _flatten = function _flatten2(ar, leaveStrings, accumulator) {
    if (accumulator === void 0) {
      accumulator = [];
    }
    return ar.forEach(function(value) {
      var _accumulator;
      return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);
    }) || accumulator;
  };
  var toArray = function toArray2(value, leaveStrings) {
    return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call(_doc.querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];
  };
  var shuffle = function shuffle2(a) {
    return a.sort(function() {
      return 0.5 - Math.random();
    });
  };
  var distribute = function distribute2(v) {
    if (_isFunction(v)) {
      return v;
    }
    var vars = _isObject(v) ? v : {
      each: v
    }, ease = _parseEase(vars.ease), from = vars.from || 0, base = parseFloat(vars.base) || 0, cache = {}, isDecimal = from > 0 && from < 1, ratios = isNaN(from) || isDecimal, axis = vars.axis, ratioX = from, ratioY = from;
    if (_isString(from)) {
      ratioX = ratioY = {
        center: 0.5,
        edges: 0.5,
        end: 1
      }[from] || 0;
    } else if (!isDecimal && ratios) {
      ratioX = from[0];
      ratioY = from[1];
    }
    return function(i, target, a) {
      var l = (a || vars).length, distances = cache[l], originX, originY, x, y, d, j, max, min, wrapAt;
      if (!distances) {
        wrapAt = vars.grid === "auto" ? 0 : (vars.grid || [1, _bigNum])[1];
        if (!wrapAt) {
          max = -_bigNum;
          while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {
          }
          wrapAt--;
        }
        distances = cache[l] = [];
        originX = ratios ? Math.min(wrapAt, l) * ratioX - 0.5 : from % wrapAt;
        originY = ratios ? l * ratioY / wrapAt - 0.5 : from / wrapAt | 0;
        max = 0;
        min = _bigNum;
        for (j = 0; j < l; j++) {
          x = j % wrapAt - originX;
          y = originY - (j / wrapAt | 0);
          distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === "y" ? y : x);
          d > max && (max = d);
          d < min && (min = d);
        }
        from === "random" && shuffle(distances);
        distances.max = max - min;
        distances.min = min;
        distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === "y" ? l / wrapAt : wrapAt) || 0) * (from === "edges" ? -1 : 1);
        distances.b = l < 0 ? base - l : base;
        distances.u = getUnit(vars.amount || vars.each) || 0;
        ease = ease && l < 0 ? _invertEase(ease) : ease;
      }
      l = (distances[i] - distances.min) / distances.max || 0;
      return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u;
    };
  };
  var _roundModifier = function _roundModifier2(v) {
    var p = v < 1 ? Math.pow(10, (v + "").length - 2) : 1;
    return function(raw) {
      return Math.floor(Math.round(parseFloat(raw) / v) * v * p) / p + (_isNumber(raw) ? 0 : getUnit(raw));
    };
  };
  var snap = function snap2(snapTo, value) {
    var isArray = _isArray(snapTo), radius, is2D;
    if (!isArray && _isObject(snapTo)) {
      radius = isArray = snapTo.radius || _bigNum;
      if (snapTo.values) {
        snapTo = toArray(snapTo.values);
        if (is2D = !_isNumber(snapTo[0])) {
          radius *= radius;
        }
      } else {
        snapTo = _roundModifier(snapTo.increment);
      }
    }
    return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function(raw) {
      is2D = snapTo(raw);
      return Math.abs(is2D - raw) <= radius ? is2D : raw;
    } : function(raw) {
      var x = parseFloat(is2D ? raw.x : raw), y = parseFloat(is2D ? raw.y : 0), min = _bigNum, closest = 0, i = snapTo.length, dx, dy;
      while (i--) {
        if (is2D) {
          dx = snapTo[i].x - x;
          dy = snapTo[i].y - y;
          dx = dx * dx + dy * dy;
        } else {
          dx = Math.abs(snapTo[i] - x);
        }
        if (dx < min) {
          min = dx;
          closest = i;
        }
      }
      closest = !radius || min <= radius ? snapTo[closest] : raw;
      return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);
    });
  };
  var random = function random2(min, max, roundingIncrement, returnFunction) {
    return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function() {
      return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + "").length - 2) : 1) && Math.floor(Math.round((min + Math.random() * (max - min)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;
    });
  };
  var pipe = function pipe2() {
    for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {
      functions[_key] = arguments[_key];
    }
    return function(value) {
      return functions.reduce(function(v, f) {
        return f(v);
      }, value);
    };
  };
  var unitize = function unitize2(func, unit) {
    return function(value) {
      return func(parseFloat(value)) + (unit || getUnit(value));
    };
  };
  var normalize = function normalize2(min, max, value) {
    return mapRange(min, max, 0, 1, value);
  };
  var _wrapArray = function _wrapArray2(a, wrapper, value) {
    return _conditionalReturn(value, function(index) {
      return a[~~wrapper(index)];
    });
  };
  var wrap = function wrap2(min, max, value) {
    var range = max - min;
    return _isArray(min) ? _wrapArray(min, wrap2(0, min.length), max) : _conditionalReturn(value, function(value2) {
      return (range + (value2 - min) % range) % range + min;
    });
  };
  var wrapYoyo = function wrapYoyo2(min, max, value) {
    var range = max - min, total = range * 2;
    return _isArray(min) ? _wrapArray(min, wrapYoyo2(0, min.length - 1), max) : _conditionalReturn(value, function(value2) {
      value2 = (total + (value2 - min) % total) % total || 0;
      return min + (value2 > range ? total - value2 : value2);
    });
  };
  var _replaceRandom = function _replaceRandom2(value) {
    var prev = 0, s = "", i, nums, end, isArray;
    while (~(i = value.indexOf("random(", prev))) {
      end = value.indexOf(")", i);
      isArray = value.charAt(i + 7) === "[";
      nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);
      s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], isArray ? 0 : +nums[1], +nums[2] || 1e-5);
      prev = end + 1;
    }
    return s + value.substr(prev, value.length - prev);
  };
  var mapRange = function mapRange2(inMin, inMax, outMin, outMax, value) {
    var inRange = inMax - inMin, outRange = outMax - outMin;
    return _conditionalReturn(value, function(value2) {
      return outMin + ((value2 - inMin) / inRange * outRange || 0);
    });
  };
  var interpolate = function interpolate2(start, end, progress, mutate) {
    var func = isNaN(start + end) ? 0 : function(p2) {
      return (1 - p2) * start + p2 * end;
    };
    if (!func) {
      var isString2 = _isString(start), master = {}, p, i, interpolators, l, il;
      progress === true && (mutate = 1) && (progress = null);
      if (isString2) {
        start = {
          p: start
        };
        end = {
          p: end
        };
      } else if (_isArray(start) && !_isArray(end)) {
        interpolators = [];
        l = start.length;
        il = l - 2;
        for (i = 1; i < l; i++) {
          interpolators.push(interpolate2(start[i - 1], start[i]));
        }
        l--;
        func = function func2(p2) {
          p2 *= l;
          var i2 = Math.min(il, ~~p2);
          return interpolators[i2](p2 - i2);
        };
        progress = end;
      } else if (!mutate) {
        start = _merge(_isArray(start) ? [] : {}, start);
      }
      if (!interpolators) {
        for (p in end) {
          _addPropTween.call(master, start, p, "get", end[p]);
        }
        func = function func2(p2) {
          return _renderPropTweens(p2, master) || (isString2 ? start.p : start);
        };
      }
    }
    return _conditionalReturn(progress, func);
  };
  var _getLabelInDirection = function _getLabelInDirection2(timeline2, fromTime, backward) {
    var labels = timeline2.labels, min = _bigNum, p, distance, label;
    for (p in labels) {
      distance = labels[p] - fromTime;
      if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {
        label = p;
        min = distance;
      }
    }
    return label;
  };
  var _callback = function _callback2(animation, type, executeLazyFirst) {
    var v = animation.vars, callback2 = v[type], params, scope;
    if (!callback2) {
      return;
    }
    params = v[type + "Params"];
    scope = v.callbackScope || animation;
    executeLazyFirst && _lazyTweens.length && _lazyRender();
    return params ? callback2.apply(scope, params) : callback2.call(scope);
  };
  var _interrupt = function _interrupt2(animation) {
    _removeFromParent(animation);
    animation.progress() < 1 && _callback(animation, "onInterrupt");
    return animation;
  };
  var _quickTween;
  var _createPlugin = function _createPlugin2(config3) {
    config3 = !config3.name && config3["default"] || config3;
    var name = config3.name, isFunc = _isFunction(config3), Plugin = name && !isFunc && config3.init ? function() {
      this._props = [];
    } : config3, instanceDefaults = {
      init: _emptyFunc,
      render: _renderPropTweens,
      add: _addPropTween,
      kill: _killPropTweensOf,
      modifier: _addPluginModifier,
      rawVars: 0
    }, statics = {
      targetTest: 0,
      get: 0,
      getSetter: _getSetter,
      aliases: {},
      register: 0
    };
    _wake();
    if (config3 !== Plugin) {
      if (_plugins[name]) {
        return;
      }
      _setDefaults(Plugin, _setDefaults(_copyExcluding(config3, instanceDefaults), statics));
      _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config3, statics)));
      _plugins[Plugin.prop = name] = Plugin;
      if (config3.targetTest) {
        _harnessPlugins.push(Plugin);
        _reservedProps[name] = 1;
      }
      name = (name === "css" ? "CSS" : name.charAt(0).toUpperCase() + name.substr(1)) + "Plugin";
    }
    _addGlobal(name, Plugin);
    config3.register && config3.register(gsap, Plugin, PropTween);
  };
  var _255 = 255;
  var _colorLookup = {
    aqua: [0, _255, _255],
    lime: [0, _255, 0],
    silver: [192, 192, 192],
    black: [0, 0, 0],
    maroon: [128, 0, 0],
    teal: [0, 128, 128],
    blue: [0, 0, _255],
    navy: [0, 0, 128],
    white: [_255, _255, _255],
    olive: [128, 128, 0],
    yellow: [_255, _255, 0],
    orange: [_255, 165, 0],
    gray: [128, 128, 128],
    purple: [128, 0, 128],
    green: [0, 128, 0],
    red: [_255, 0, 0],
    pink: [_255, 192, 203],
    cyan: [0, _255, _255],
    transparent: [_255, _255, _255, 0]
  };
  var _hue = function _hue2(h, m1, m2) {
    h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;
    return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < 0.5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + 0.5 | 0;
  };
  var splitColor = function splitColor2(v, toHSL, forceAlpha) {
    var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0, r, g, b, h, s, l, max, min, d, wasHSL;
    if (!a) {
      if (v.substr(-1) === ",") {
        v = v.substr(0, v.length - 1);
      }
      if (_colorLookup[v]) {
        a = _colorLookup[v];
      } else if (v.charAt(0) === "#") {
        if (v.length === 4) {
          r = v.charAt(1);
          g = v.charAt(2);
          b = v.charAt(3);
          v = "#" + r + r + g + g + b + b;
        }
        v = parseInt(v.substr(1), 16);
        a = [v >> 16, v >> 8 & _255, v & _255];
      } else if (v.substr(0, 3) === "hsl") {
        a = wasHSL = v.match(_strictNumExp);
        if (!toHSL) {
          h = +a[0] % 360 / 360;
          s = +a[1] / 100;
          l = +a[2] / 100;
          g = l <= 0.5 ? l * (s + 1) : l + s - l * s;
          r = l * 2 - g;
          a.length > 3 && (a[3] *= 1);
          a[0] = _hue(h + 1 / 3, r, g);
          a[1] = _hue(h, r, g);
          a[2] = _hue(h - 1 / 3, r, g);
        } else if (~v.indexOf("=")) {
          a = v.match(_numExp);
          forceAlpha && a.length < 4 && (a[3] = 1);
          return a;
        }
      } else {
        a = v.match(_strictNumExp) || _colorLookup.transparent;
      }
      a = a.map(Number);
    }
    if (toHSL && !wasHSL) {
      r = a[0] / _255;
      g = a[1] / _255;
      b = a[2] / _255;
      max = Math.max(r, g, b);
      min = Math.min(r, g, b);
      l = (max + min) / 2;
      if (max === min) {
        h = s = 0;
      } else {
        d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;
        h *= 60;
      }
      a[0] = ~~(h + 0.5);
      a[1] = ~~(s * 100 + 0.5);
      a[2] = ~~(l * 100 + 0.5);
    }
    forceAlpha && a.length < 4 && (a[3] = 1);
    return a;
  };
  var _colorOrderData = function _colorOrderData2(v) {
    var values = [], c = [], i = -1;
    v.split(_colorExp).forEach(function(v2) {
      var a = v2.match(_numWithUnitExp) || [];
      values.push.apply(values, a);
      c.push(i += a.length + 1);
    });
    values.c = c;
    return values;
  };
  var _formatColors = function _formatColors2(s, toHSL, orderMatchData) {
    var result = "", colors = (s + result).match(_colorExp), type = toHSL ? "hsla(" : "rgba(", i = 0, c, shell, d, l;
    if (!colors) {
      return s;
    }
    colors = colors.map(function(color) {
      return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + "," + color[1] + "%," + color[2] + "%," + color[3] : color.join(",")) + ")";
    });
    if (orderMatchData) {
      d = _colorOrderData(s);
      c = orderMatchData.c;
      if (c.join(result) !== d.c.join(result)) {
        shell = s.replace(_colorExp, "1").split(_numWithUnitExp);
        l = shell.length - 1;
        for (; i < l; i++) {
          result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + "0,0,0,0)" : (d.length ? d : colors.length ? colors : orderMatchData).shift());
        }
      }
    }
    if (!shell) {
      shell = s.split(_colorExp);
      l = shell.length - 1;
      for (; i < l; i++) {
        result += shell[i] + colors[i];
      }
    }
    return result + shell[l];
  };
  var _colorExp = function() {
    var s = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b", p;
    for (p in _colorLookup) {
      s += "|" + p + "\\b";
    }
    return new RegExp(s + ")", "gi");
  }();
  var _hslExp = /hsl[a]?\(/;
  var _colorStringFilter = function _colorStringFilter2(a) {
    var combined = a.join(" "), toHSL;
    _colorExp.lastIndex = 0;
    if (_colorExp.test(combined)) {
      toHSL = _hslExp.test(combined);
      a[1] = _formatColors(a[1], toHSL);
      a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1]));
      return true;
    }
  };
  var _tickerActive;
  var _ticker = function() {
    var _getTime2 = Date.now, _lagThreshold = 500, _adjustedLag = 33, _startTime = _getTime2(), _lastUpdate = _startTime, _gap = 1e3 / 240, _nextTime = _gap, _listeners2 = [], _id, _req, _raf2, _self, _delta, _i2, _tick = function _tick2(v) {
      var elapsed = _getTime2() - _lastUpdate, manual = v === true, overlap, dispatch, time, frame;
      elapsed > _lagThreshold && (_startTime += elapsed - _adjustedLag);
      _lastUpdate += elapsed;
      time = _lastUpdate - _startTime;
      overlap = time - _nextTime;
      if (overlap > 0 || manual) {
        frame = ++_self.frame;
        _delta = time - _self.time * 1e3;
        _self.time = time = time / 1e3;
        _nextTime += overlap + (overlap >= _gap ? 4 : _gap - overlap);
        dispatch = 1;
      }
      manual || (_id = _req(_tick2));
      if (dispatch) {
        for (_i2 = 0; _i2 < _listeners2.length; _i2++) {
          _listeners2[_i2](time, _delta, frame, v);
        }
      }
    };
    _self = {
      time: 0,
      frame: 0,
      tick: function tick() {
        _tick(true);
      },
      deltaRatio: function deltaRatio(fps) {
        return _delta / (1e3 / (fps || 60));
      },
      wake: function wake() {
        if (_coreReady) {
          if (!_coreInitted && _windowExists()) {
            _win = _coreInitted = window;
            _doc = _win.document || {};
            _globals.gsap = gsap;
            (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);
            _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});
            _raf2 = _win.requestAnimationFrame;
          }
          _id && _self.sleep();
          _req = _raf2 || function(f) {
            return setTimeout(f, _nextTime - _self.time * 1e3 + 1 | 0);
          };
          _tickerActive = 1;
          _tick(2);
        }
      },
      sleep: function sleep() {
        (_raf2 ? _win.cancelAnimationFrame : clearTimeout)(_id);
        _tickerActive = 0;
        _req = _emptyFunc;
      },
      lagSmoothing: function lagSmoothing(threshold, adjustedLag) {
        _lagThreshold = threshold || 1 / _tinyNum;
        _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);
      },
      fps: function fps(_fps) {
        _gap = 1e3 / (_fps || 240);
        _nextTime = _self.time * 1e3 + _gap;
      },
      add: function add(callback2) {
        _listeners2.indexOf(callback2) < 0 && _listeners2.push(callback2);
        _wake();
      },
      remove: function remove(callback2) {
        var i;
        ~(i = _listeners2.indexOf(callback2)) && _listeners2.splice(i, 1) && _i2 >= i && _i2--;
      },
      _listeners: _listeners2
    };
    return _self;
  }();
  var _wake = function _wake2() {
    return !_tickerActive && _ticker.wake();
  };
  var _easeMap = {};
  var _customEaseExp = /^[\d.\-M][\d.\-,\s]/;
  var _quotesExp = /["']/g;
  var _parseObjectInString = function _parseObjectInString2(value) {
    var obj = {}, split = value.substr(1, value.length - 3).split(":"), key = split[0], i = 1, l = split.length, index, val, parsedVal;
    for (; i < l; i++) {
      val = split[i];
      index = i !== l - 1 ? val.lastIndexOf(",") : val.length;
      parsedVal = val.substr(0, index);
      obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, "").trim() : +parsedVal;
      key = val.substr(index + 1).trim();
    }
    return obj;
  };
  var _valueInParentheses = function _valueInParentheses2(value) {
    var open = value.indexOf("(") + 1, close = value.indexOf(")"), nested = value.indexOf("(", open);
    return value.substring(open, ~nested && nested < close ? value.indexOf(")", close + 1) : close);
  };
  var _configEaseFromString = function _configEaseFromString2(name) {
    var split = (name + "").split("("), ease = _easeMap[split[0]];
    return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf("{") ? [_parseObjectInString(split[1])] : _valueInParentheses(name).split(",").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE("", name) : ease;
  };
  var _invertEase = function _invertEase2(ease) {
    return function(p) {
      return 1 - ease(1 - p);
    };
  };
  var _propagateYoyoEase = function _propagateYoyoEase2(timeline2, isYoyo) {
    var child = timeline2._first, ease;
    while (child) {
      if (child instanceof Timeline) {
        _propagateYoyoEase2(child, isYoyo);
      } else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {
        if (child.timeline) {
          _propagateYoyoEase2(child.timeline, isYoyo);
        } else {
          ease = child._ease;
          child._ease = child._yEase;
          child._yEase = ease;
          child._yoyo = isYoyo;
        }
      }
      child = child._next;
    }
  };
  var _parseEase = function _parseEase2(ease, defaultEase) {
    return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;
  };
  var _insertEase = function _insertEase2(names, easeIn, easeOut, easeInOut) {
    if (easeOut === void 0) {
      easeOut = function easeOut2(p) {
        return 1 - easeIn(1 - p);
      };
    }
    if (easeInOut === void 0) {
      easeInOut = function easeInOut2(p) {
        return p < 0.5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;
      };
    }
    var ease = {
      easeIn,
      easeOut,
      easeInOut
    }, lowercaseName;
    _forEachName(names, function(name) {
      _easeMap[name] = _globals[name] = ease;
      _easeMap[lowercaseName = name.toLowerCase()] = easeOut;
      for (var p in ease) {
        _easeMap[lowercaseName + (p === "easeIn" ? ".in" : p === "easeOut" ? ".out" : ".inOut")] = _easeMap[name + "." + p] = ease[p];
      }
    });
    return ease;
  };
  var _easeInOutFromOut = function _easeInOutFromOut2(easeOut) {
    return function(p) {
      return p < 0.5 ? (1 - easeOut(1 - p * 2)) / 2 : 0.5 + easeOut((p - 0.5) * 2) / 2;
    };
  };
  var _configElastic = function _configElastic2(type, amplitude, period) {
    var p1 = amplitude >= 1 ? amplitude : 1, p2 = (period || (type ? 0.3 : 0.45)) / (amplitude < 1 ? amplitude : 1), p3 = p2 / _2PI * (Math.asin(1 / p1) || 0), easeOut = function easeOut2(p) {
      return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;
    }, ease = type === "out" ? easeOut : type === "in" ? function(p) {
      return 1 - easeOut(1 - p);
    } : _easeInOutFromOut(easeOut);
    p2 = _2PI / p2;
    ease.config = function(amplitude2, period2) {
      return _configElastic2(type, amplitude2, period2);
    };
    return ease;
  };
  var _configBack = function _configBack2(type, overshoot) {
    if (overshoot === void 0) {
      overshoot = 1.70158;
    }
    var easeOut = function easeOut2(p) {
      return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;
    }, ease = type === "out" ? easeOut : type === "in" ? function(p) {
      return 1 - easeOut(1 - p);
    } : _easeInOutFromOut(easeOut);
    ease.config = function(overshoot2) {
      return _configBack2(type, overshoot2);
    };
    return ease;
  };
  _forEachName("Linear,Quad,Cubic,Quart,Quint,Strong", function(name, i) {
    var power = i < 5 ? i + 1 : i;
    _insertEase(name + ",Power" + (power - 1), i ? function(p) {
      return Math.pow(p, power);
    } : function(p) {
      return p;
    }, function(p) {
      return 1 - Math.pow(1 - p, power);
    }, function(p) {
      return p < 0.5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;
    });
  });
  _easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;
  _insertEase("Elastic", _configElastic("in"), _configElastic("out"), _configElastic());
  (function(n, c) {
    var n1 = 1 / c, n2 = 2 * n1, n3 = 2.5 * n1, easeOut = function easeOut2(p) {
      return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + 0.75 : p < n3 ? n * (p -= 2.25 / c) * p + 0.9375 : n * Math.pow(p - 2.625 / c, 2) + 0.984375;
    };
    _insertEase("Bounce", function(p) {
      return 1 - easeOut(1 - p);
    }, easeOut);
  })(7.5625, 2.75);
  _insertEase("Expo", function(p) {
    return p ? Math.pow(2, 10 * (p - 1)) : 0;
  });
  _insertEase("Circ", function(p) {
    return -(_sqrt(1 - p * p) - 1);
  });
  _insertEase("Sine", function(p) {
    return p === 1 ? 1 : -_cos(p * _HALF_PI) + 1;
  });
  _insertEase("Back", _configBack("in"), _configBack("out"), _configBack());
  _easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {
    config: function config(steps, immediateStart) {
      if (steps === void 0) {
        steps = 1;
      }
      var p1 = 1 / steps, p2 = steps + (immediateStart ? 0 : 1), p3 = immediateStart ? 1 : 0, max = 1 - _tinyNum;
      return function(p) {
        return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;
      };
    }
  };
  _defaults.ease = _easeMap["quad.out"];
  _forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt", function(name) {
    return _callbackNames += name + "," + name + "Params,";
  });
  var GSCache = function GSCache2(target, harness) {
    this.id = _gsID++;
    target._gsap = this;
    this.target = target;
    this.harness = harness;
    this.get = harness ? harness.get : _getProperty;
    this.set = harness ? harness.getSetter : _getSetter;
  };
  var Animation = /* @__PURE__ */ function() {
    function Animation2(vars, time) {
      var parent = vars.parent || _globalTimeline;
      this.vars = vars;
      this._delay = +vars.delay || 0;
      if (this._repeat = vars.repeat || 0) {
        this._rDelay = vars.repeatDelay || 0;
        this._yoyo = !!vars.yoyo || !!vars.yoyoEase;
      }
      this._ts = 1;
      _setDuration(this, +vars.duration, 1, 1);
      this.data = vars.data;
      _tickerActive || _ticker.wake();
      parent && _addToTimeline(parent, this, time || time === 0 ? time : parent._time, 1);
      vars.reversed && this.reverse();
      vars.paused && this.paused(true);
    }
    var _proto = Animation2.prototype;
    _proto.delay = function delay(value) {
      if (value || value === 0) {
        this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);
        this._delay = value;
        return this;
      }
      return this._delay;
    };
    _proto.duration = function duration(value) {
      return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;
    };
    _proto.totalDuration = function totalDuration(value) {
      if (!arguments.length) {
        return this._tDur;
      }
      this._dirty = 0;
      return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));
    };
    _proto.totalTime = function totalTime(_totalTime, suppressEvents) {
      _wake();
      if (!arguments.length) {
        return this._tTime;
      }
      var parent = this._dp;
      if (parent && parent.smoothChildTiming && this._ts) {
        _alignPlayhead(this, _totalTime);
        while (parent.parent) {
          if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {
            parent.totalTime(parent._tTime, true);
          }
          parent = parent.parent;
        }
        if (!this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && _totalTime < this._tDur || this._ts < 0 && _totalTime > 0 || !this._tDur && !_totalTime)) {
          _addToTimeline(this._dp, this, this._start - this._delay);
        }
      }
      if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum || !_totalTime && !this._initted && (this.add || this._ptLookup)) {
        this._ts || (this._pTime = _totalTime);
        _lazySafeRender(this, _totalTime, suppressEvents);
      }
      return this;
    };
    _proto.time = function time(value, suppressEvents) {
      return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % this._dur || (value ? this._dur : 0), suppressEvents) : this._time;
    };
    _proto.totalProgress = function totalProgress(value, suppressEvents) {
      return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;
    };
    _proto.progress = function progress(value, suppressEvents) {
      return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;
    };
    _proto.iteration = function iteration(value, suppressEvents) {
      var cycleDuration = this.duration() + this._rDelay;
      return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;
    };
    _proto.timeScale = function timeScale(value) {
      if (!arguments.length) {
        return this._rts === -_tinyNum ? 0 : this._rts;
      }
      if (this._rts === value) {
        return this;
      }
      var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime;
      this._rts = +value || 0;
      this._ts = this._ps || value === -_tinyNum ? 0 : this._rts;
      return _recacheAncestors(this.totalTime(_clamp(-this._delay, this._tDur, tTime), true));
    };
    _proto.paused = function paused(value) {
      if (!arguments.length) {
        return this._ps;
      }
      if (this._ps !== value) {
        this._ps = value;
        if (value) {
          this._pTime = this._tTime || Math.max(-this._delay, this.rawTime());
          this._ts = this._act = 0;
        } else {
          _wake();
          this._ts = this._rts;
          this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && (this._tTime -= _tinyNum) && Math.abs(this._zTime) !== _tinyNum);
        }
      }
      return this;
    };
    _proto.startTime = function startTime(value) {
      if (arguments.length) {
        this._start = value;
        var parent = this.parent || this._dp;
        parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);
        return this;
      }
      return this._start;
    };
    _proto.endTime = function endTime(includeRepeats) {
      return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);
    };
    _proto.rawTime = function rawTime(wrapRepeats) {
      var parent = this.parent || this._dp;
      return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);
    };
    _proto.globalTime = function globalTime(rawTime) {
      var animation = this, time = arguments.length ? rawTime : animation.rawTime();
      while (animation) {
        time = animation._start + time / (animation._ts || 1);
        animation = animation._dp;
      }
      return time;
    };
    _proto.repeat = function repeat(value) {
      if (arguments.length) {
        this._repeat = value;
        return _onUpdateTotalDuration(this);
      }
      return this._repeat;
    };
    _proto.repeatDelay = function repeatDelay(value) {
      if (arguments.length) {
        this._rDelay = value;
        return _onUpdateTotalDuration(this);
      }
      return this._rDelay;
    };
    _proto.yoyo = function yoyo(value) {
      if (arguments.length) {
        this._yoyo = value;
        return this;
      }
      return this._yoyo;
    };
    _proto.seek = function seek(position, suppressEvents) {
      return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));
    };
    _proto.restart = function restart(includeDelay, suppressEvents) {
      return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));
    };
    _proto.play = function play(from, suppressEvents) {
      from != null && this.seek(from, suppressEvents);
      return this.reversed(false).paused(false);
    };
    _proto.reverse = function reverse(from, suppressEvents) {
      from != null && this.seek(from || this.totalDuration(), suppressEvents);
      return this.reversed(true).paused(false);
    };
    _proto.pause = function pause(atTime, suppressEvents) {
      atTime != null && this.seek(atTime, suppressEvents);
      return this.paused(true);
    };
    _proto.resume = function resume() {
      return this.paused(false);
    };
    _proto.reversed = function reversed(value) {
      if (arguments.length) {
        !!value !== this.reversed() && this.timeScale(-this._rts || (value ? -_tinyNum : 0));
        return this;
      }
      return this._rts < 0;
    };
    _proto.invalidate = function invalidate() {
      this._initted = 0;
      this._zTime = -_tinyNum;
      return this;
    };
    _proto.isActive = function isActive() {
      var parent = this.parent || this._dp, start = this._start, rawTime;
      return !!(!parent || this._ts && this._initted && parent.isActive() && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);
    };
    _proto.eventCallback = function eventCallback(type, callback2, params) {
      var vars = this.vars;
      if (arguments.length > 1) {
        if (!callback2) {
          delete vars[type];
        } else {
          vars[type] = callback2;
          params && (vars[type + "Params"] = params);
          type === "onUpdate" && (this._onUpdate = callback2);
        }
        return this;
      }
      return vars[type];
    };
    _proto.then = function then(onFulfilled) {
      var self = this;
      return new Promise(function(resolve) {
        var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough, _resolve = function _resolve2() {
          var _then = self.then;
          self.then = null;
          _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);
          resolve(f);
          self.then = _then;
        };
        if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {
          _resolve();
        } else {
          self._prom = _resolve;
        }
      });
    };
    _proto.kill = function kill() {
      _interrupt(this);
    };
    return Animation2;
  }();
  _setDefaults(Animation.prototype, {
    _time: 0,
    _start: 0,
    _end: 0,
    _tTime: 0,
    _tDur: 0,
    _dirty: 0,
    _repeat: 0,
    _yoyo: false,
    parent: null,
    _initted: false,
    _rDelay: 0,
    _ts: 1,
    _dp: 0,
    ratio: 0,
    _zTime: -_tinyNum,
    _prom: 0,
    _ps: false,
    _rts: 1
  });
  var Timeline = /* @__PURE__ */ function(_Animation) {
    _inheritsLoose(Timeline2, _Animation);
    function Timeline2(vars, time) {
      var _this;
      if (vars === void 0) {
        vars = {};
      }
      _this = _Animation.call(this, vars, time) || this;
      _this.labels = {};
      _this.smoothChildTiming = !!vars.smoothChildTiming;
      _this.autoRemoveChildren = !!vars.autoRemoveChildren;
      _this._sort = _isNotFalse(vars.sortChildren);
      _this.parent && _postAddChecks(_this.parent, _assertThisInitialized(_this));
      vars.scrollTrigger && _scrollTrigger(_assertThisInitialized(_this), vars.scrollTrigger);
      return _this;
    }
    var _proto2 = Timeline2.prototype;
    _proto2.to = function to(targets, vars, position) {
      new Tween(targets, _parseVars(arguments, 0, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));
      return this;
    };
    _proto2.from = function from(targets, vars, position) {
      new Tween(targets, _parseVars(arguments, 1, this), _parsePosition(this, _isNumber(vars) ? arguments[3] : position));
      return this;
    };
    _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {
      new Tween(targets, _parseVars(arguments, 2, this), _parsePosition(this, _isNumber(fromVars) ? arguments[4] : position));
      return this;
    };
    _proto2.set = function set(targets, vars, position) {
      vars.duration = 0;
      vars.parent = this;
      _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);
      vars.immediateRender = !!vars.immediateRender;
      new Tween(targets, vars, _parsePosition(this, position), 1);
      return this;
    };
    _proto2.call = function call(callback2, params, position) {
      return _addToTimeline(this, Tween.delayedCall(0, callback2, params), _parsePosition(this, position));
    };
    _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {
      vars.duration = duration;
      vars.stagger = vars.stagger || stagger;
      vars.onComplete = onCompleteAll;
      vars.onCompleteParams = onCompleteAllParams;
      vars.parent = this;
      new Tween(targets, vars, _parsePosition(this, position));
      return this;
    };
    _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {
      vars.runBackwards = 1;
      _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);
      return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);
    };
    _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {
      toVars.startAt = fromVars;
      _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);
      return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);
    };
    _proto2.render = function render(totalTime, suppressEvents, force) {
      var prevTime = this._time, tDur = this._dirty ? this.totalDuration() : this._tDur, dur = this._dur, tTime = this !== _globalTimeline && totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime, crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur), time, child, next, iteration, cycleDuration, prevPaused, pauseTween, timeScale, prevStart, prevIteration, yoyo, isYoyo;
      if (tTime !== this._tTime || force || crossingStart) {
        if (prevTime !== this._time && dur) {
          tTime += this._time - prevTime;
          totalTime += this._time - prevTime;
        }
        time = tTime;
        prevStart = this._start;
        timeScale = this._ts;
        prevPaused = !timeScale;
        if (crossingStart) {
          dur || (prevTime = this._zTime);
          (totalTime || !suppressEvents) && (this._zTime = totalTime);
        }
        if (this._repeat) {
          yoyo = this._yoyo;
          cycleDuration = dur + this._rDelay;
          time = _round(tTime % cycleDuration);
          if (tTime === tDur) {
            iteration = this._repeat;
            time = dur;
          } else {
            iteration = ~~(tTime / cycleDuration);
            if (iteration && iteration === tTime / cycleDuration) {
              time = dur;
              iteration--;
            }
            time > dur && (time = dur);
          }
          prevIteration = _animationCycle(this._tTime, cycleDuration);
          !prevTime && this._tTime && prevIteration !== iteration && (prevIteration = iteration);
          if (yoyo && iteration & 1) {
            time = dur - time;
            isYoyo = 1;
          }
          if (iteration !== prevIteration && !this._lock) {
            var rewinding = yoyo && prevIteration & 1, doesWrap = rewinding === (yoyo && iteration & 1);
            iteration < prevIteration && (rewinding = !rewinding);
            prevTime = rewinding ? 0 : dur;
            this._lock = 1;
            this.render(prevTime || (isYoyo ? 0 : _round(iteration * cycleDuration)), suppressEvents, !dur)._lock = 0;
            !suppressEvents && this.parent && _callback(this, "onRepeat");
            this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);
            if (prevTime !== this._time || prevPaused !== !this._ts) {
              return this;
            }
            dur = this._dur;
            tDur = this._tDur;
            if (doesWrap) {
              this._lock = 2;
              prevTime = rewinding ? dur : -1e-4;
              this.render(prevTime, true);
              this.vars.repeatRefresh && !isYoyo && this.invalidate();
            }
            this._lock = 0;
            if (!this._ts && !prevPaused) {
              return this;
            }
            _propagateYoyoEase(this, isYoyo);
          }
        }
        if (this._hasPause && !this._forcing && this._lock < 2) {
          pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));
          if (pauseTween) {
            tTime -= time - (time = pauseTween._start);
          }
        }
        this._tTime = tTime;
        this._time = time;
        this._act = !timeScale;
        if (!this._initted) {
          this._onUpdate = this.vars.onUpdate;
          this._initted = 1;
          this._zTime = totalTime;
        }
        !prevTime && time && !suppressEvents && _callback(this, "onStart");
        if (time >= prevTime && totalTime >= 0) {
          child = this._first;
          while (child) {
            next = child._next;
            if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {
              if (child.parent !== this) {
                return this.render(totalTime, suppressEvents, force);
              }
              child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);
              if (time !== this._time || !this._ts && !prevPaused) {
                pauseTween = 0;
                next && (tTime += this._zTime = -_tinyNum);
                break;
              }
            }
            child = next;
          }
        } else {
          child = this._last;
          var adjustedTime = totalTime < 0 ? totalTime : time;
          while (child) {
            next = child._prev;
            if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {
              if (child.parent !== this) {
                return this.render(totalTime, suppressEvents, force);
              }
              child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);
              if (time !== this._time || !this._ts && !prevPaused) {
                pauseTween = 0;
                next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum);
                break;
              }
            }
            child = next;
          }
        }
        if (pauseTween && !suppressEvents) {
          this.pause();
          pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;
          if (this._ts) {
            this._start = prevStart;
            _setEnd(this);
            return this.render(totalTime, suppressEvents, force);
          }
        }
        this._onUpdate && !suppressEvents && _callback(this, "onUpdate", true);
        if (tTime === tDur && tDur >= this.totalDuration() || !tTime && prevTime) {
          if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) {
            if (!this._lock) {
              (totalTime || !dur) && (tTime === tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1);
              if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {
                _callback(this, tTime === tDur ? "onComplete" : "onReverseComplete", true);
                this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();
              }
            }
          }
        }
      }
      return this;
    };
    _proto2.add = function add(child, position) {
      var _this2 = this;
      if (!_isNumber(position)) {
        position = _parsePosition(this, position);
      }
      if (!(child instanceof Animation)) {
        if (_isArray(child)) {
          child.forEach(function(obj) {
            return _this2.add(obj, position);
          });
          return this;
        }
        if (_isString(child)) {
          return this.addLabel(child, position);
        }
        if (_isFunction(child)) {
          child = Tween.delayedCall(0, child);
        } else {
          return this;
        }
      }
      return this !== child ? _addToTimeline(this, child, position) : this;
    };
    _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {
      if (nested === void 0) {
        nested = true;
      }
      if (tweens === void 0) {
        tweens = true;
      }
      if (timelines === void 0) {
        timelines = true;
      }
      if (ignoreBeforeTime === void 0) {
        ignoreBeforeTime = -_bigNum;
      }
      var a = [], child = this._first;
      while (child) {
        if (child._start >= ignoreBeforeTime) {
          if (child instanceof Tween) {
            tweens && a.push(child);
          } else {
            timelines && a.push(child);
            nested && a.push.apply(a, child.getChildren(true, tweens, timelines));
          }
        }
        child = child._next;
      }
      return a;
    };
    _proto2.getById = function getById2(id) {
      var animations = this.getChildren(1, 1, 1), i = animations.length;
      while (i--) {
        if (animations[i].vars.id === id) {
          return animations[i];
        }
      }
    };
    _proto2.remove = function remove(child) {
      if (_isString(child)) {
        return this.removeLabel(child);
      }
      if (_isFunction(child)) {
        return this.killTweensOf(child);
      }
      _removeLinkedListItem(this, child);
      if (child === this._recent) {
        this._recent = this._last;
      }
      return _uncache(this);
    };
    _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {
      if (!arguments.length) {
        return this._tTime;
      }
      this._forcing = 1;
      if (!this._dp && this._ts) {
        this._start = _round(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));
      }
      _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);
      this._forcing = 0;
      return this;
    };
    _proto2.addLabel = function addLabel(label, position) {
      this.labels[label] = _parsePosition(this, position);
      return this;
    };
    _proto2.removeLabel = function removeLabel(label) {
      delete this.labels[label];
      return this;
    };
    _proto2.addPause = function addPause(position, callback2, params) {
      var t = Tween.delayedCall(0, callback2 || _emptyFunc, params);
      t.data = "isPause";
      this._hasPause = 1;
      return _addToTimeline(this, t, _parsePosition(this, position));
    };
    _proto2.removePause = function removePause(position) {
      var child = this._first;
      position = _parsePosition(this, position);
      while (child) {
        if (child._start === position && child.data === "isPause") {
          _removeFromParent(child);
        }
        child = child._next;
      }
    };
    _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {
      var tweens = this.getTweensOf(targets, onlyActive), i = tweens.length;
      while (i--) {
        _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);
      }
      return this;
    };
    _proto2.getTweensOf = function getTweensOf2(targets, onlyActive) {
      var a = [], parsedTargets = toArray(targets), child = this._first, isGlobalTime = _isNumber(onlyActive), children;
      while (child) {
        if (child instanceof Tween) {
          if (_arrayContainsAny(child._targets, parsedTargets) && (isGlobalTime ? (!_overwritingTween || child._initted && child._ts) && child.globalTime(0) <= onlyActive && child.globalTime(child.totalDuration()) > onlyActive : !onlyActive || child.isActive())) {
            a.push(child);
          }
        } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {
          a.push.apply(a, children);
        }
        child = child._next;
      }
      return a;
    };
    _proto2.tweenTo = function tweenTo(position, vars) {
      vars = vars || {};
      var tl = this, endTime = _parsePosition(tl, position), _vars = vars, startAt = _vars.startAt, _onStart = _vars.onStart, onStartParams = _vars.onStartParams, tween = Tween.to(tl, _setDefaults(vars, {
        ease: "none",
        lazy: false,
        time: endTime,
        overwrite: "auto",
        duration: vars.duration || Math.abs((endTime - (startAt && "time" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,
        onStart: function onStart() {
          tl.pause();
          var duration = vars.duration || Math.abs((endTime - tl._time) / tl.timeScale());
          tween._dur !== duration && _setDuration(tween, duration, 0, 1).render(tween._time, true, true);
          _onStart && _onStart.apply(tween, onStartParams || []);
        }
      }));
      return tween;
    };
    _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {
      return this.tweenTo(toPosition, _setDefaults({
        startAt: {
          time: _parsePosition(this, fromPosition)
        }
      }, vars));
    };
    _proto2.recent = function recent() {
      return this._recent;
    };
    _proto2.nextLabel = function nextLabel(afterTime) {
      if (afterTime === void 0) {
        afterTime = this._time;
      }
      return _getLabelInDirection(this, _parsePosition(this, afterTime));
    };
    _proto2.previousLabel = function previousLabel(beforeTime) {
      if (beforeTime === void 0) {
        beforeTime = this._time;
      }
      return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);
    };
    _proto2.currentLabel = function currentLabel(value) {
      return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);
    };
    _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {
      if (ignoreBeforeTime === void 0) {
        ignoreBeforeTime = 0;
      }
      var child = this._first, labels = this.labels, p;
      while (child) {
        if (child._start >= ignoreBeforeTime) {
          child._start += amount;
          child._end += amount;
        }
        child = child._next;
      }
      if (adjustLabels) {
        for (p in labels) {
          if (labels[p] >= ignoreBeforeTime) {
            labels[p] += amount;
          }
        }
      }
      return _uncache(this);
    };
    _proto2.invalidate = function invalidate() {
      var child = this._first;
      this._lock = 0;
      while (child) {
        child.invalidate();
        child = child._next;
      }
      return _Animation.prototype.invalidate.call(this);
    };
    _proto2.clear = function clear(includeLabels) {
      if (includeLabels === void 0) {
        includeLabels = true;
      }
      var child = this._first, next;
      while (child) {
        next = child._next;
        this.remove(child);
        child = next;
      }
      this._time = this._tTime = this._pTime = 0;
      includeLabels && (this.labels = {});
      return _uncache(this);
    };
    _proto2.totalDuration = function totalDuration(value) {
      var max = 0, self = this, child = self._last, prevStart = _bigNum, prev, start, parent;
      if (arguments.length) {
        return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));
      }
      if (self._dirty) {
        parent = self.parent;
        while (child) {
          prev = child._prev;
          child._dirty && child.totalDuration();
          start = child._start;
          if (start > prevStart && self._sort && child._ts && !self._lock) {
            self._lock = 1;
            _addToTimeline(self, child, start - child._delay, 1)._lock = 0;
          } else {
            prevStart = start;
          }
          if (start < 0 && child._ts) {
            max -= start;
            if (!parent && !self._dp || parent && parent.smoothChildTiming) {
              self._start += start / self._ts;
              self._time -= start;
              self._tTime -= start;
            }
            self.shiftChildren(-start, false, -Infinity);
            prevStart = 0;
          }
          child._end > max && child._ts && (max = child._end);
          child = prev;
        }
        _setDuration(self, self === _globalTimeline && self._time > max ? self._time : max, 1, 1);
        self._dirty = 0;
      }
      return self._tDur;
    };
    Timeline2.updateRoot = function updateRoot(time) {
      if (_globalTimeline._ts) {
        _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));
        _lastRenderedFrame = _ticker.frame;
      }
      if (_ticker.frame >= _nextGCFrame) {
        _nextGCFrame += _config.autoSleep || 120;
        var child = _globalTimeline._first;
        if (!child || !child._ts) {
          if (_config.autoSleep && _ticker._listeners.length < 2) {
            while (child && !child._ts) {
              child = child._next;
            }
            child || _ticker.sleep();
          }
        }
      }
    };
    return Timeline2;
  }(Animation);
  _setDefaults(Timeline.prototype, {
    _lock: 0,
    _hasPause: 0,
    _forcing: 0
  });
  var _addComplexStringPropTween = function _addComplexStringPropTween2(target, prop2, start, end, setter, stringFilter, funcParam) {
    var pt = new PropTween(this._pt, target, prop2, 0, 1, _renderComplexString, null, setter), index = 0, matchIndex = 0, result, startNums, color, endNum, chunk, startNum, hasRandom, a;
    pt.b = start;
    pt.e = end;
    start += "";
    end += "";
    if (hasRandom = ~end.indexOf("random(")) {
      end = _replaceRandom(end);
    }
    if (stringFilter) {
      a = [start, end];
      stringFilter(a, target, prop2);
      start = a[0];
      end = a[1];
    }
    startNums = start.match(_complexStringNumExp) || [];
    while (result = _complexStringNumExp.exec(end)) {
      endNum = result[0];
      chunk = end.substring(index, result.index);
      if (color) {
        color = (color + 1) % 5;
      } else if (chunk.substr(-5) === "rgba(") {
        color = 1;
      }
      if (endNum !== startNums[matchIndex++]) {
        startNum = parseFloat(startNums[matchIndex - 1]) || 0;
        pt._pt = {
          _next: pt._pt,
          p: chunk || matchIndex === 1 ? chunk : ",",
          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.
          s: startNum,
          c: endNum.charAt(1) === "=" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === "-" ? -1 : 1) : parseFloat(endNum) - startNum,
          m: color && color < 4 ? Math.round : 0
        };
        index = _complexStringNumExp.lastIndex;
      }
    }
    pt.c = index < end.length ? end.substring(index, end.length) : "";
    pt.fp = funcParam;
    if (_relExp.test(end) || hasRandom) {
      pt.e = 0;
    }
    this._pt = pt;
    return pt;
  };
  var _addPropTween = function _addPropTween2(target, prop2, start, end, index, targets, modifier, stringFilter, funcParam) {
    _isFunction(end) && (end = end(index || 0, target, targets));
    var currentValue = target[prop2], parsedStart = start !== "get" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop2.indexOf("set") || !_isFunction(target["get" + prop2.substr(3)]) ? prop2 : "get" + prop2.substr(3)](funcParam) : target[prop2](), setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc, pt;
    if (_isString(end)) {
      if (~end.indexOf("random(")) {
        end = _replaceRandom(end);
      }
      if (end.charAt(1) === "=") {
        end = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === "-" ? -1 : 1) + (getUnit(parsedStart) || 0);
      }
    }
    if (parsedStart !== end) {
      if (!isNaN(parsedStart * end)) {
        pt = new PropTween(this._pt, target, prop2, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === "boolean" ? _renderBoolean : _renderPlain, 0, setter);
        funcParam && (pt.fp = funcParam);
        modifier && pt.modifier(modifier, this, target);
        return this._pt = pt;
      }
      !currentValue && !(prop2 in target) && _missingPlugin(prop2, end);
      return _addComplexStringPropTween.call(this, target, prop2, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);
    }
  };
  var _processVars = function _processVars2(vars, index, target, targets, tween) {
    _isFunction(vars) && (vars = _parseFuncOrString(vars, tween, index, target, targets));
    if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars) || _isTypedArray(vars)) {
      return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;
    }
    var copy = {}, p;
    for (p in vars) {
      copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);
    }
    return copy;
  };
  var _checkPlugin = function _checkPlugin2(property, vars, tween, index, target, targets) {
    var plugin, pt, ptLookup, i;
    if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {
      tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);
      if (tween !== _quickTween) {
        ptLookup = tween._ptLookup[tween._targets.indexOf(target)];
        i = plugin._props.length;
        while (i--) {
          ptLookup[plugin._props[i]] = pt;
        }
      }
    }
    return plugin;
  };
  var _overwritingTween;
  var _initTween = function _initTween2(tween, time) {
    var vars = tween.vars, ease = vars.ease, startAt = vars.startAt, immediateRender = vars.immediateRender, lazy = vars.lazy, onUpdate = vars.onUpdate, onUpdateParams = vars.onUpdateParams, callbackScope = vars.callbackScope, runBackwards = vars.runBackwards, yoyoEase = vars.yoyoEase, keyframes = vars.keyframes, autoRevert = vars.autoRevert, dur = tween._dur, prevStartAt = tween._startAt, targets = tween._targets, parent = tween.parent, fullTargets = parent && parent.data === "nested" ? parent.parent._targets : targets, autoOverwrite = tween._overwrite === "auto", tl = tween.timeline, cleanVars, i, p, pt, target, hasPriority, gsData, harness, plugin, ptLookup, index, harnessVars, overwritten;
    tl && (!keyframes || !ease) && (ease = "none");
    tween._ease = _parseEase(ease, _defaults.ease);
    tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;
    if (yoyoEase && tween._yoyo && !tween._repeat) {
      yoyoEase = tween._yEase;
      tween._yEase = tween._ease;
      tween._ease = yoyoEase;
    }
    if (!tl) {
      harness = targets[0] ? _getCache(targets[0]).harness : 0;
      harnessVars = harness && vars[harness.prop];
      cleanVars = _copyExcluding(vars, _reservedProps);
      prevStartAt && prevStartAt.render(-1, true).kill();
      if (startAt) {
        _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({
          data: "isStart",
          overwrite: false,
          parent,
          immediateRender: true,
          lazy: _isNotFalse(lazy),
          startAt: null,
          delay: 0,
          onUpdate,
          onUpdateParams,
          callbackScope,
          stagger: 0
        }, startAt)));
        if (immediateRender) {
          if (time > 0) {
            autoRevert || (tween._startAt = 0);
          } else if (dur && !(time < 0 && prevStartAt)) {
            time && (tween._zTime = time);
            return;
          }
        }
      } else if (runBackwards && dur) {
        if (prevStartAt) {
          !autoRevert && (tween._startAt = 0);
        } else {
          time && (immediateRender = false);
          p = _setDefaults({
            overwrite: false,
            data: "isFromStart",
            //we tag the tween with as "isFromStart" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a "from()" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:"height", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.
            lazy: immediateRender && _isNotFalse(lazy),
            immediateRender,
            //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)
            stagger: 0,
            parent
            //ensures that nested tweens that had a stagger are handled properly, like gsap.from(".class", {y:gsap.utils.wrap([-100,100])})
          }, cleanVars);
          harnessVars && (p[harness.prop] = harnessVars);
          _removeFromParent(tween._startAt = Tween.set(targets, p));
          if (!immediateRender) {
            _initTween2(tween._startAt, _tinyNum);
          } else if (!time) {
            return;
          }
        }
      }
      tween._pt = 0;
      lazy = dur && _isNotFalse(lazy) || lazy && !dur;
      for (i = 0; i < targets.length; i++) {
        target = targets[i];
        gsData = target._gsap || _harness(targets)[i]._gsap;
        tween._ptLookup[i] = ptLookup = {};
        _lazyLookup[gsData.id] && _lazyTweens.length && _lazyRender();
        index = fullTargets === targets ? i : fullTargets.indexOf(target);
        if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {
          tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);
          plugin._props.forEach(function(name) {
            ptLookup[name] = pt;
          });
          plugin.priority && (hasPriority = 1);
        }
        if (!harness || harnessVars) {
          for (p in cleanVars) {
            if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {
              plugin.priority && (hasPriority = 1);
            } else {
              ptLookup[p] = pt = _addPropTween.call(tween, target, p, "get", cleanVars[p], index, fullTargets, 0, vars.stringFilter);
            }
          }
        }
        tween._op && tween._op[i] && tween.kill(target, tween._op[i]);
        if (autoOverwrite && tween._pt) {
          _overwritingTween = tween;
          _globalTimeline.killTweensOf(target, ptLookup, tween.globalTime(0));
          overwritten = !tween.parent;
          _overwritingTween = 0;
        }
        tween._pt && lazy && (_lazyLookup[gsData.id] = 1);
      }
      hasPriority && _sortPropTweensByPriority(tween);
      tween._onInit && tween._onInit(tween);
    }
    tween._from = !tl && !!vars.runBackwards;
    tween._onUpdate = onUpdate;
    tween._initted = (!tween._op || tween._pt) && !overwritten;
  };
  var _addAliasesToVars = function _addAliasesToVars2(targets, vars) {
    var harness = targets[0] ? _getCache(targets[0]).harness : 0, propertyAliases = harness && harness.aliases, copy, p, i, aliases;
    if (!propertyAliases) {
      return vars;
    }
    copy = _merge({}, vars);
    for (p in propertyAliases) {
      if (p in copy) {
        aliases = propertyAliases[p].split(",");
        i = aliases.length;
        while (i--) {
          copy[aliases[i]] = copy[p];
        }
      }
    }
    return copy;
  };
  var _parseFuncOrString = function _parseFuncOrString2(value, tween, i, target, targets) {
    return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf("random(") ? _replaceRandom(value) : value;
  };
  var _staggerTweenProps = _callbackNames + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase";
  var _staggerPropsToSkip = (_staggerTweenProps + ",id,stagger,delay,duration,paused,scrollTrigger").split(",");
  var Tween = /* @__PURE__ */ function(_Animation2) {
    _inheritsLoose(Tween2, _Animation2);
    function Tween2(targets, vars, time, skipInherit) {
      var _this3;
      if (typeof vars === "number") {
        time.duration = vars;
        vars = time;
        time = null;
      }
      _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars), time) || this;
      var _this3$vars = _this3.vars, duration = _this3$vars.duration, delay = _this3$vars.delay, immediateRender = _this3$vars.immediateRender, stagger = _this3$vars.stagger, overwrite = _this3$vars.overwrite, keyframes = _this3$vars.keyframes, defaults2 = _this3$vars.defaults, scrollTrigger = _this3$vars.scrollTrigger, yoyoEase = _this3$vars.yoyoEase, parent = _this3.parent, parsedTargets = (_isArray(targets) || _isTypedArray(targets) ? _isNumber(targets[0]) : "length" in vars) ? [targets] : toArray(targets), tl, i, copy, l, p, curTarget, staggerFunc, staggerVarsToMerge;
      _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn("GSAP target " + targets + " not found. https://greensock.com", !_config.nullTargetWarn) || [];
      _this3._ptLookup = [];
      _this3._overwrite = overwrite;
      if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {
        vars = _this3.vars;
        tl = _this3.timeline = new Timeline({
          data: "nested",
          defaults: defaults2 || {}
        });
        tl.kill();
        tl.parent = _assertThisInitialized(_this3);
        if (keyframes) {
          _setDefaults(tl.vars.defaults, {
            ease: "none"
          });
          keyframes.forEach(function(frame) {
            return tl.to(parsedTargets, frame, ">");
          });
        } else {
          l = parsedTargets.length;
          staggerFunc = stagger ? distribute(stagger) : _emptyFunc;
          if (_isObject(stagger)) {
            for (p in stagger) {
              if (~_staggerTweenProps.indexOf(p)) {
                staggerVarsToMerge || (staggerVarsToMerge = {});
                staggerVarsToMerge[p] = stagger[p];
              }
            }
          }
          for (i = 0; i < l; i++) {
            copy = {};
            for (p in vars) {
              if (_staggerPropsToSkip.indexOf(p) < 0) {
                copy[p] = vars[p];
              }
            }
            copy.stagger = 0;
            yoyoEase && (copy.yoyoEase = yoyoEase);
            staggerVarsToMerge && _merge(copy, staggerVarsToMerge);
            curTarget = parsedTargets[i];
            copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);
            copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;
            if (!stagger && l === 1 && copy.delay) {
              _this3._delay = delay = copy.delay;
              _this3._start += delay;
              copy.delay = 0;
            }
            tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));
          }
          tl.duration() ? duration = delay = 0 : _this3.timeline = 0;
        }
        duration || _this3.duration(duration = tl.duration());
      } else {
        _this3.timeline = 0;
      }
      if (overwrite === true) {
        _overwritingTween = _assertThisInitialized(_this3);
        _globalTimeline.killTweensOf(parsedTargets);
        _overwritingTween = 0;
      }
      parent && _postAddChecks(parent, _assertThisInitialized(_this3));
      if (immediateRender || !duration && !keyframes && _this3._start === _round(parent._time) && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== "nested") {
        _this3._tTime = -_tinyNum;
        _this3.render(Math.max(0, -delay));
      }
      scrollTrigger && _scrollTrigger(_assertThisInitialized(_this3), scrollTrigger);
      return _this3;
    }
    var _proto3 = Tween2.prototype;
    _proto3.render = function render(totalTime, suppressEvents, force) {
      var prevTime = this._time, tDur = this._tDur, dur = this._dur, tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime, time, pt, iteration, cycleDuration, prevIteration, isYoyo, ratio, timeline2, yoyoEase;
      if (!dur) {
        _renderZeroDurationTween(this, totalTime, suppressEvents, force);
      } else if (tTime !== this._tTime || !totalTime || force || this._startAt && this._zTime < 0 !== totalTime < 0) {
        time = tTime;
        timeline2 = this.timeline;
        if (this._repeat) {
          cycleDuration = dur + this._rDelay;
          time = _round(tTime % cycleDuration);
          if (tTime === tDur) {
            iteration = this._repeat;
            time = dur;
          } else {
            iteration = ~~(tTime / cycleDuration);
            if (iteration && iteration === tTime / cycleDuration) {
              time = dur;
              iteration--;
            }
            time > dur && (time = dur);
          }
          isYoyo = this._yoyo && iteration & 1;
          if (isYoyo) {
            yoyoEase = this._yEase;
            time = dur - time;
          }
          prevIteration = _animationCycle(this._tTime, cycleDuration);
          if (time === prevTime && !force && this._initted) {
            return this;
          }
          if (iteration !== prevIteration) {
            timeline2 && this._yEase && _propagateYoyoEase(timeline2, isYoyo);
            if (this.vars.repeatRefresh && !isYoyo && !this._lock) {
              this._lock = force = 1;
              this.render(_round(cycleDuration * iteration), true).invalidate()._lock = 0;
            }
          }
        }
        if (!this._initted) {
          if (_attemptInitTween(this, totalTime < 0 ? totalTime : time, force, suppressEvents)) {
            this._tTime = 0;
            return this;
          }
          if (dur !== this._dur) {
            return this.render(totalTime, suppressEvents, force);
          }
        }
        this._tTime = tTime;
        this._time = time;
        if (!this._act && this._ts) {
          this._act = 1;
          this._lazy = 0;
        }
        this.ratio = ratio = (yoyoEase || this._ease)(time / dur);
        if (this._from) {
          this.ratio = ratio = 1 - ratio;
        }
        time && !prevTime && !suppressEvents && _callback(this, "onStart");
        pt = this._pt;
        while (pt) {
          pt.r(ratio, pt.d);
          pt = pt._next;
        }
        timeline2 && timeline2.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline2._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);
        if (this._onUpdate && !suppressEvents) {
          totalTime < 0 && this._startAt && this._startAt.render(totalTime, true, force);
          _callback(this, "onUpdate");
        }
        this._repeat && iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent && _callback(this, "onRepeat");
        if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {
          totalTime < 0 && this._startAt && !this._onUpdate && this._startAt.render(totalTime, true, true);
          (totalTime || !dur) && (tTime === this._tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1);
          if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {
            _callback(this, tTime === tDur ? "onComplete" : "onReverseComplete", true);
            this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();
          }
        }
      }
      return this;
    };
    _proto3.targets = function targets() {
      return this._targets;
    };
    _proto3.invalidate = function invalidate() {
      this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0;
      this._ptLookup = [];
      this.timeline && this.timeline.invalidate();
      return _Animation2.prototype.invalidate.call(this);
    };
    _proto3.kill = function kill(targets, vars) {
      if (vars === void 0) {
        vars = "all";
      }
      if (!targets && (!vars || vars === "all")) {
        this._lazy = 0;
        if (this.parent) {
          return _interrupt(this);
        }
      }
      if (this.timeline) {
        var tDur = this.timeline.totalDuration();
        this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true)._first || _interrupt(this);
        this.parent && tDur !== this.timeline.totalDuration() && _setDuration(this, this._dur * this.timeline._tDur / tDur, 0, 1);
        return this;
      }
      var parsedTargets = this._targets, killingTargets = targets ? toArray(targets) : parsedTargets, propTweenLookup = this._ptLookup, firstPT = this._pt, overwrittenProps, curLookup, curOverwriteProps, props, p, pt, i;
      if ((!vars || vars === "all") && _arraysMatch(parsedTargets, killingTargets)) {
        vars === "all" && (this._pt = 0);
        return _interrupt(this);
      }
      overwrittenProps = this._op = this._op || [];
      if (vars !== "all") {
        if (_isString(vars)) {
          p = {};
          _forEachName(vars, function(name) {
            return p[name] = 1;
          });
          vars = p;
        }
        vars = _addAliasesToVars(parsedTargets, vars);
      }
      i = parsedTargets.length;
      while (i--) {
        if (~killingTargets.indexOf(parsedTargets[i])) {
          curLookup = propTweenLookup[i];
          if (vars === "all") {
            overwrittenProps[i] = vars;
            props = curLookup;
            curOverwriteProps = {};
          } else {
            curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};
            props = vars;
          }
          for (p in props) {
            pt = curLookup && curLookup[p];
            if (pt) {
              if (!("kill" in pt.d) || pt.d.kill(p) === true) {
                _removeLinkedListItem(this, pt, "_pt");
              }
              delete curLookup[p];
            }
            if (curOverwriteProps !== "all") {
              curOverwriteProps[p] = 1;
            }
          }
        }
      }
      this._initted && !this._pt && firstPT && _interrupt(this);
      return this;
    };
    Tween2.to = function to(targets, vars) {
      return new Tween2(targets, vars, arguments[2]);
    };
    Tween2.from = function from(targets, vars) {
      return new Tween2(targets, _parseVars(arguments, 1));
    };
    Tween2.delayedCall = function delayedCall(delay, callback2, params, scope) {
      return new Tween2(callback2, 0, {
        immediateRender: false,
        lazy: false,
        overwrite: false,
        delay,
        onComplete: callback2,
        onReverseComplete: callback2,
        onCompleteParams: params,
        onReverseCompleteParams: params,
        callbackScope: scope
      });
    };
    Tween2.fromTo = function fromTo(targets, fromVars, toVars) {
      return new Tween2(targets, _parseVars(arguments, 2));
    };
    Tween2.set = function set(targets, vars) {
      vars.duration = 0;
      vars.repeatDelay || (vars.repeat = 0);
      return new Tween2(targets, vars);
    };
    Tween2.killTweensOf = function killTweensOf(targets, props, onlyActive) {
      return _globalTimeline.killTweensOf(targets, props, onlyActive);
    };
    return Tween2;
  }(Animation);
  _setDefaults(Tween.prototype, {
    _targets: [],
    _lazy: 0,
    _startAt: 0,
    _op: 0,
    _onInit: 0
  });
  _forEachName("staggerTo,staggerFrom,staggerFromTo", function(name) {
    Tween[name] = function() {
      var tl = new Timeline(), params = _slice.call(arguments, 0);
      params.splice(name === "staggerFromTo" ? 5 : 4, 0, 0);
      return tl[name].apply(tl, params);
    };
  });
  var _setterPlain = function _setterPlain2(target, property, value) {
    return target[property] = value;
  };
  var _setterFunc = function _setterFunc2(target, property, value) {
    return target[property](value);
  };
  var _setterFuncWithParam = function _setterFuncWithParam2(target, property, value, data) {
    return target[property](data.fp, value);
  };
  var _setterAttribute = function _setterAttribute2(target, property, value) {
    return target.setAttribute(property, value);
  };
  var _getSetter = function _getSetter2(target, property) {
    return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;
  };
  var _renderPlain = function _renderPlain2(ratio, data) {
    return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 1e4) / 1e4, data);
  };
  var _renderBoolean = function _renderBoolean2(ratio, data) {
    return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);
  };
  var _renderComplexString = function _renderComplexString2(ratio, data) {
    var pt = data._pt, s = "";
    if (!ratio && data.b) {
      s = data.b;
    } else if (ratio === 1 && data.e) {
      s = data.e;
    } else {
      while (pt) {
        s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 1e4) / 1e4) + s;
        pt = pt._next;
      }
      s += data.c;
    }
    data.set(data.t, data.p, s, data);
  };
  var _renderPropTweens = function _renderPropTweens2(ratio, data) {
    var pt = data._pt;
    while (pt) {
      pt.r(ratio, pt.d);
      pt = pt._next;
    }
  };
  var _addPluginModifier = function _addPluginModifier2(modifier, tween, target, property) {
    var pt = this._pt, next;
    while (pt) {
      next = pt._next;
      pt.p === property && pt.modifier(modifier, tween, target);
      pt = next;
    }
  };
  var _killPropTweensOf = function _killPropTweensOf2(property) {
    var pt = this._pt, hasNonDependentRemaining, next;
    while (pt) {
      next = pt._next;
      if (pt.p === property && !pt.op || pt.op === property) {
        _removeLinkedListItem(this, pt, "_pt");
      } else if (!pt.dep) {
        hasNonDependentRemaining = 1;
      }
      pt = next;
    }
    return !hasNonDependentRemaining;
  };
  var _setterWithModifier = function _setterWithModifier2(target, property, value, data) {
    data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);
  };
  var _sortPropTweensByPriority = function _sortPropTweensByPriority2(parent) {
    var pt = parent._pt, next, pt2, first, last;
    while (pt) {
      next = pt._next;
      pt2 = first;
      while (pt2 && pt2.pr > pt.pr) {
        pt2 = pt2._next;
      }
      if (pt._prev = pt2 ? pt2._prev : last) {
        pt._prev._next = pt;
      } else {
        first = pt;
      }
      if (pt._next = pt2) {
        pt2._prev = pt;
      } else {
        last = pt;
      }
      pt = next;
    }
    parent._pt = first;
  };
  var PropTween = /* @__PURE__ */ function() {
    function PropTween2(next, target, prop2, start, change, renderer, data, setter, priority) {
      this.t = target;
      this.s = start;
      this.c = change;
      this.p = prop2;
      this.r = renderer || _renderPlain;
      this.d = data || this;
      this.set = setter || _setterPlain;
      this.pr = priority || 0;
      this._next = next;
      if (next) {
        next._prev = this;
      }
    }
    var _proto4 = PropTween2.prototype;
    _proto4.modifier = function modifier(func, tween, target) {
      this.mSet = this.mSet || this.set;
      this.set = _setterWithModifier;
      this.m = func;
      this.mt = target;
      this.tween = tween;
    };
    return PropTween2;
  }();
  _forEachName(_callbackNames + "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger", function(name) {
    return _reservedProps[name] = 1;
  });
  _globals.TweenMax = _globals.TweenLite = Tween;
  _globals.TimelineLite = _globals.TimelineMax = Timeline;
  _globalTimeline = new Timeline({
    sortChildren: false,
    defaults: _defaults,
    autoRemoveChildren: true,
    id: "root",
    smoothChildTiming: true
  });
  _config.stringFilter = _colorStringFilter;
  var _gsap = {
    registerPlugin: function registerPlugin() {
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }
      args.forEach(function(config3) {
        return _createPlugin(config3);
      });
    },
    timeline: function timeline(vars) {
      return new Timeline(vars);
    },
    getTweensOf: function getTweensOf(targets, onlyActive) {
      return _globalTimeline.getTweensOf(targets, onlyActive);
    },
    getProperty: function getProperty(target, property, unit, uncache) {
      _isString(target) && (target = toArray(target)[0]);
      var getter = _getCache(target || {}).get, format = unit ? _passThrough : _numericIfPossible;
      unit === "native" && (unit = "");
      return !target ? target : !property ? function(property2, unit2, uncache2) {
        return format((_plugins[property2] && _plugins[property2].get || getter)(target, property2, unit2, uncache2));
      } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));
    },
    quickSetter: function quickSetter(target, property, unit) {
      target = toArray(target);
      if (target.length > 1) {
        var setters = target.map(function(t) {
          return gsap.quickSetter(t, property, unit);
        }), l = setters.length;
        return function(value) {
          var i = l;
          while (i--) {
            setters[i](value);
          }
        };
      }
      target = target[0] || {};
      var Plugin = _plugins[property], cache = _getCache(target), p = cache.harness && (cache.harness.aliases || {})[property] || property, setter = Plugin ? function(value) {
        var p2 = new Plugin();
        _quickTween._pt = 0;
        p2.init(target, unit ? value + unit : value, _quickTween, 0, [target]);
        p2.render(1, p2);
        _quickTween._pt && _renderPropTweens(1, _quickTween);
      } : cache.set(target, p);
      return Plugin ? setter : function(value) {
        return setter(target, p, unit ? value + unit : value, cache, 1);
      };
    },
    isTweening: function isTweening(targets) {
      return _globalTimeline.getTweensOf(targets, true).length > 0;
    },
    defaults: function defaults(value) {
      value && value.ease && (value.ease = _parseEase(value.ease, _defaults.ease));
      return _mergeDeep(_defaults, value || {});
    },
    config: function config2(value) {
      return _mergeDeep(_config, value || {});
    },
    registerEffect: function registerEffect(_ref) {
      var name = _ref.name, effect = _ref.effect, plugins = _ref.plugins, defaults2 = _ref.defaults, extendTimeline = _ref.extendTimeline;
      (plugins || "").split(",").forEach(function(pluginName) {
        return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + " effect requires " + pluginName + " plugin.");
      });
      _effects[name] = function(targets, vars, tl) {
        return effect(toArray(targets), _setDefaults(vars || {}, defaults2), tl);
      };
      if (extendTimeline) {
        Timeline.prototype[name] = function(targets, vars, position) {
          return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);
        };
      }
    },
    registerEase: function registerEase(name, ease) {
      _easeMap[name] = _parseEase(ease);
    },
    parseEase: function parseEase(ease, defaultEase) {
      return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;
    },
    getById: function getById(id) {
      return _globalTimeline.getById(id);
    },
    exportRoot: function exportRoot(vars, includeDelayedCalls) {
      if (vars === void 0) {
        vars = {};
      }
      var tl = new Timeline(vars), child, next;
      tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);
      _globalTimeline.remove(tl);
      tl._dp = 0;
      tl._time = tl._tTime = _globalTimeline._time;
      child = _globalTimeline._first;
      while (child) {
        next = child._next;
        if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {
          _addToTimeline(tl, child, child._start - child._delay);
        }
        child = next;
      }
      _addToTimeline(_globalTimeline, tl, 0);
      return tl;
    },
    utils: {
      wrap,
      wrapYoyo,
      distribute,
      random,
      snap,
      normalize,
      getUnit,
      clamp,
      splitColor,
      toArray,
      mapRange,
      pipe,
      unitize,
      interpolate,
      shuffle
    },
    install: _install,
    effects: _effects,
    ticker: _ticker,
    updateRoot: Timeline.updateRoot,
    plugins: _plugins,
    globalTimeline: _globalTimeline,
    core: {
      PropTween,
      globals: _addGlobal,
      Tween,
      Timeline,
      Animation,
      getCache: _getCache,
      _removeLinkedListItem
    }
  };
  _forEachName("to,from,fromTo,delayedCall,set,killTweensOf", function(name) {
    return _gsap[name] = Tween[name];
  });
  _ticker.add(Timeline.updateRoot);
  _quickTween = _gsap.to({}, {
    duration: 0
  });
  var _getPluginPropTween = function _getPluginPropTween2(plugin, prop2) {
    var pt = plugin._pt;
    while (pt && pt.p !== prop2 && pt.op !== prop2 && pt.fp !== prop2) {
      pt = pt._next;
    }
    return pt;
  };
  var _addModifiers = function _addModifiers2(tween, modifiers) {
    var targets = tween._targets, p, i, pt;
    for (p in modifiers) {
      i = targets.length;
      while (i--) {
        pt = tween._ptLookup[i][p];
        if (pt && (pt = pt.d)) {
          if (pt._pt) {
            pt = _getPluginPropTween(pt, p);
          }
          pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);
        }
      }
    }
  };
  var _buildModifierPlugin = function _buildModifierPlugin2(name, modifier) {
    return {
      name,
      rawVars: 1,
      //don't pre-process function-based values or "random()" strings.
      init: function init5(target, vars, tween) {
        tween._onInit = function(tween2) {
          var temp, p;
          if (_isString(vars)) {
            temp = {};
            _forEachName(vars, function(name2) {
              return temp[name2] = 1;
            });
            vars = temp;
          }
          if (modifier) {
            temp = {};
            for (p in vars) {
              temp[p] = modifier(vars[p]);
            }
            vars = temp;
          }
          _addModifiers(tween2, vars);
        };
      }
    };
  };
  var gsap = _gsap.registerPlugin({
    name: "attr",
    init: function init(target, vars, tween, index, targets) {
      var p, pt;
      for (p in vars) {
        pt = this.add(target, "setAttribute", (target.getAttribute(p) || 0) + "", vars[p], index, targets, 0, 0, p);
        pt && (pt.op = p);
        this._props.push(p);
      }
    }
  }, {
    name: "endArray",
    init: function init2(target, value) {
      var i = value.length;
      while (i--) {
        this.add(target, i, target[i] || 0, value[i]);
      }
    }
  }, _buildModifierPlugin("roundProps", _roundModifier), _buildModifierPlugin("modifiers"), _buildModifierPlugin("snap", snap)) || _gsap;
  Tween.version = Timeline.version = gsap.version = "3.5.1";
  _coreReady = 1;
  if (_windowExists()) {
    _wake();
  }
  var Power0 = _easeMap.Power0;
  var Power1 = _easeMap.Power1;
  var Power2 = _easeMap.Power2;
  var Power3 = _easeMap.Power3;
  var Power4 = _easeMap.Power4;
  var Linear = _easeMap.Linear;
  var Quad = _easeMap.Quad;
  var Cubic = _easeMap.Cubic;
  var Quart = _easeMap.Quart;
  var Quint = _easeMap.Quint;
  var Strong = _easeMap.Strong;
  var Elastic = _easeMap.Elastic;
  var Back = _easeMap.Back;
  var SteppedEase = _easeMap.SteppedEase;
  var Bounce = _easeMap.Bounce;
  var Sine = _easeMap.Sine;
  var Expo = _easeMap.Expo;
  var Circ = _easeMap.Circ;

  // node_modules/gsap/CSSPlugin.js
  var _win2;
  var _doc2;
  var _docElement;
  var _pluginInitted;
  var _tempDiv;
  var _tempDivStyler;
  var _recentSetterPlugin;
  var _windowExists3 = function _windowExists4() {
    return typeof window !== "undefined";
  };
  var _transformProps = {};
  var _RAD2DEG = 180 / Math.PI;
  var _DEG2RAD = Math.PI / 180;
  var _atan2 = Math.atan2;
  var _bigNum2 = 1e8;
  var _capsExp = /([A-Z])/g;
  var _horizontalExp = /(?:left|right|width|margin|padding|x)/i;
  var _complexExp = /[\s,\(]\S/;
  var _propertyAliases = {
    autoAlpha: "opacity,visibility",
    scale: "scaleX,scaleY",
    alpha: "opacity"
  };
  var _renderCSSProp = function _renderCSSProp2(ratio, data) {
    return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 1e4) / 1e4 + data.u, data);
  };
  var _renderPropWithEnd = function _renderPropWithEnd2(ratio, data) {
    return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 1e4) / 1e4 + data.u, data);
  };
  var _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning2(ratio, data) {
    return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 1e4) / 1e4 + data.u : data.b, data);
  };
  var _renderRoundedCSSProp = function _renderRoundedCSSProp2(ratio, data) {
    var value = data.s + data.c * ratio;
    data.set(data.t, data.p, ~~(value + (value < 0 ? -0.5 : 0.5)) + data.u, data);
  };
  var _renderNonTweeningValue = function _renderNonTweeningValue2(ratio, data) {
    return data.set(data.t, data.p, ratio ? data.e : data.b, data);
  };
  var _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd2(ratio, data) {
    return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);
  };
  var _setterCSSStyle = function _setterCSSStyle2(target, property, value) {
    return target.style[property] = value;
  };
  var _setterCSSProp = function _setterCSSProp2(target, property, value) {
    return target.style.setProperty(property, value);
  };
  var _setterTransform = function _setterTransform2(target, property, value) {
    return target._gsap[property] = value;
  };
  var _setterScale = function _setterScale2(target, property, value) {
    return target._gsap.scaleX = target._gsap.scaleY = value;
  };
  var _setterScaleWithRender = function _setterScaleWithRender2(target, property, value, data, ratio) {
    var cache = target._gsap;
    cache.scaleX = cache.scaleY = value;
    cache.renderTransform(ratio, cache);
  };
  var _setterTransformWithRender = function _setterTransformWithRender2(target, property, value, data, ratio) {
    var cache = target._gsap;
    cache[property] = value;
    cache.renderTransform(ratio, cache);
  };
  var _transformProp = "transform";
  var _transformOriginProp = _transformProp + "Origin";
  var _supports3D;
  var _createElement = function _createElement2(type, ns) {
    var e = _doc2.createElementNS ? _doc2.createElementNS((ns || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"), type) : _doc2.createElement(type);
    return e.style ? e : _doc2.createElement(type);
  };
  var _getComputedProperty = function _getComputedProperty2(target, property, skipPrefixFallback) {
    var cs = getComputedStyle(target);
    return cs[property] || cs.getPropertyValue(property.replace(_capsExp, "-$1").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty2(target, _checkPropPrefix(property) || property, 1) || "";
  };
  var _prefixes = "O,Moz,ms,Ms,Webkit".split(",");
  var _checkPropPrefix = function _checkPropPrefix2(property, element, preferPrefix) {
    var e = element || _tempDiv, s = e.style, i = 5;
    if (property in s && !preferPrefix) {
      return property;
    }
    property = property.charAt(0).toUpperCase() + property.substr(1);
    while (i-- && !(_prefixes[i] + property in s)) {
    }
    return i < 0 ? null : (i === 3 ? "ms" : i >= 0 ? _prefixes[i] : "") + property;
  };
  var _initCore = function _initCore2() {
    if (_windowExists3() && window.document) {
      _win2 = window;
      _doc2 = _win2.document;
      _docElement = _doc2.documentElement;
      _tempDiv = _createElement("div") || {
        style: {}
      };
      _tempDivStyler = _createElement("div");
      _transformProp = _checkPropPrefix(_transformProp);
      _transformOriginProp = _transformProp + "Origin";
      _tempDiv.style.cssText = "border-width:0;line-height:0;position:absolute;padding:0";
      _supports3D = !!_checkPropPrefix("perspective");
      _pluginInitted = 1;
    }
  };
  var _getBBoxHack = function _getBBoxHack2(swapIfPossible) {
    var svg2 = _createElement("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"), oldParent = this.parentNode, oldSibling = this.nextSibling, oldCSS = this.style.cssText, bbox;
    _docElement.appendChild(svg2);
    svg2.appendChild(this);
    this.style.display = "block";
    if (swapIfPossible) {
      try {
        bbox = this.getBBox();
        this._gsapBBox = this.getBBox;
        this.getBBox = _getBBoxHack2;
      } catch (e) {
      }
    } else if (this._gsapBBox) {
      bbox = this._gsapBBox();
    }
    if (oldParent) {
      if (oldSibling) {
        oldParent.insertBefore(this, oldSibling);
      } else {
        oldParent.appendChild(this);
      }
    }
    _docElement.removeChild(svg2);
    this.style.cssText = oldCSS;
    return bbox;
  };
  var _getAttributeFallbacks = function _getAttributeFallbacks2(target, attributesArray) {
    var i = attributesArray.length;
    while (i--) {
      if (target.hasAttribute(attributesArray[i])) {
        return target.getAttribute(attributesArray[i]);
      }
    }
  };
  var _getBBox = function _getBBox2(target) {
    var bounds;
    try {
      bounds = target.getBBox();
    } catch (error) {
      bounds = _getBBoxHack.call(target, true);
    }
    bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true));
    return bounds && !bounds.width && !bounds.x && !bounds.y ? {
      x: +_getAttributeFallbacks(target, ["x", "cx", "x1"]) || 0,
      y: +_getAttributeFallbacks(target, ["y", "cy", "y1"]) || 0,
      width: 0,
      height: 0
    } : bounds;
  };
  var _isSVG = function _isSVG2(e) {
    return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));
  };
  var _removeProperty = function _removeProperty2(target, property) {
    if (property) {
      var style = target.style;
      if (property in _transformProps && property !== _transformOriginProp) {
        property = _transformProp;
      }
      if (style.removeProperty) {
        if (property.substr(0, 2) === "ms" || property.substr(0, 6) === "webkit") {
          property = "-" + property;
        }
        style.removeProperty(property.replace(_capsExp, "-$1").toLowerCase());
      } else {
        style.removeAttribute(property);
      }
    }
  };
  var _addNonTweeningPT = function _addNonTweeningPT2(plugin, target, property, beginning, end, onlySetAtEnd) {
    var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);
    plugin._pt = pt;
    pt.b = beginning;
    pt.e = end;
    plugin._props.push(property);
    return pt;
  };
  var _nonConvertibleUnits = {
    deg: 1,
    rad: 1,
    turn: 1
  };
  var _convertToUnit = function _convertToUnit2(target, property, value, unit) {
    var curValue = parseFloat(value) || 0, curUnit = (value + "").trim().substr((curValue + "").length) || "px", style = _tempDiv.style, horizontal = _horizontalExp.test(property), isRootSVG = target.tagName.toLowerCase() === "svg", measureProperty = (isRootSVG ? "client" : "offset") + (horizontal ? "Width" : "Height"), amount = 100, toPixels = unit === "px", toPercent = unit === "%", px, parent, cache, isSVG;
    if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {
      return curValue;
    }
    curUnit !== "px" && !toPixels && (curValue = _convertToUnit2(target, property, value, "px"));
    isSVG = target.getCTM && _isSVG(target);
    if (toPercent && (_transformProps[property] || ~property.indexOf("adius"))) {
      return _round(curValue / (isSVG ? target.getBBox()[horizontal ? "width" : "height"] : target[measureProperty]) * amount);
    }
    style[horizontal ? "width" : "height"] = amount + (toPixels ? curUnit : unit);
    parent = ~property.indexOf("adius") || unit === "em" && target.appendChild && !isRootSVG ? target : target.parentNode;
    if (isSVG) {
      parent = (target.ownerSVGElement || {}).parentNode;
    }
    if (!parent || parent === _doc2 || !parent.appendChild) {
      parent = _doc2.body;
    }
    cache = parent._gsap;
    if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time) {
      return _round(curValue / cache.width * amount);
    } else {
      (toPercent || curUnit === "%") && (style.position = _getComputedProperty(target, "position"));
      parent === target && (style.position = "static");
      parent.appendChild(_tempDiv);
      px = _tempDiv[measureProperty];
      parent.removeChild(_tempDiv);
      style.position = "absolute";
      if (horizontal && toPercent) {
        cache = _getCache(parent);
        cache.time = _ticker.time;
        cache.width = parent[measureProperty];
      }
    }
    return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);
  };
  var _get = function _get2(target, property, unit, uncache) {
    var value;
    _pluginInitted || _initCore();
    if (property in _propertyAliases && property !== "transform") {
      property = _propertyAliases[property];
      if (~property.indexOf(",")) {
        property = property.split(",")[0];
      }
    }
    if (_transformProps[property] && property !== "transform") {
      value = _parseTransform(target, uncache);
      value = property !== "transformOrigin" ? value[property] : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + " " + value.zOrigin + "px";
    } else {
      value = target.style[property];
      if (!value || value === "auto" || uncache || ~(value + "").indexOf("calc(")) {
        value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === "opacity" ? 1 : 0);
      }
    }
    return unit && !~(value + "").indexOf(" ") ? _convertToUnit(target, property, value, unit) + unit : value;
  };
  var _tweenComplexCSSString = function _tweenComplexCSSString2(target, prop2, start, end) {
    if (!start || start === "none") {
      var p = _checkPropPrefix(prop2, target, 1), s = p && _getComputedProperty(target, p, 1);
      if (s && s !== start) {
        prop2 = p;
        start = s;
      } else if (prop2 === "borderColor") {
        start = _getComputedProperty(target, "borderTopColor");
      }
    }
    var pt = new PropTween(this._pt, target.style, prop2, 0, 1, _renderComplexString), index = 0, matchIndex = 0, a, result, startValues, startNum, color, startValue, endValue, endNum, chunk, endUnit, startUnit, relative, endValues;
    pt.b = start;
    pt.e = end;
    start += "";
    end += "";
    if (end === "auto") {
      target.style[prop2] = end;
      end = _getComputedProperty(target, prop2) || end;
      target.style[prop2] = start;
    }
    a = [start, end];
    _colorStringFilter(a);
    start = a[0];
    end = a[1];
    startValues = start.match(_numWithUnitExp) || [];
    endValues = end.match(_numWithUnitExp) || [];
    if (endValues.length) {
      while (result = _numWithUnitExp.exec(end)) {
        endValue = result[0];
        chunk = end.substring(index, result.index);
        if (color) {
          color = (color + 1) % 5;
        } else if (chunk.substr(-5) === "rgba(" || chunk.substr(-5) === "hsla(") {
          color = 1;
        }
        if (endValue !== (startValue = startValues[matchIndex++] || "")) {
          startNum = parseFloat(startValue) || 0;
          startUnit = startValue.substr((startNum + "").length);
          relative = endValue.charAt(1) === "=" ? +(endValue.charAt(0) + "1") : 0;
          if (relative) {
            endValue = endValue.substr(2);
          }
          endNum = parseFloat(endValue);
          endUnit = endValue.substr((endNum + "").length);
          index = _numWithUnitExp.lastIndex - endUnit.length;
          if (!endUnit) {
            endUnit = endUnit || _config.units[prop2] || startUnit;
            if (index === end.length) {
              end += endUnit;
              pt.e += endUnit;
            }
          }
          if (startUnit !== endUnit) {
            startNum = _convertToUnit(target, prop2, startValue, endUnit) || 0;
          }
          pt._pt = {
            _next: pt._pt,
            p: chunk || matchIndex === 1 ? chunk : ",",
            //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.
            s: startNum,
            c: relative ? relative * endNum : endNum - startNum,
            m: color && color < 4 ? Math.round : 0
          };
        }
      }
      pt.c = index < end.length ? end.substring(index, end.length) : "";
    } else {
      pt.r = prop2 === "display" && end === "none" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;
    }
    if (_relExp.test(end)) {
      pt.e = 0;
    }
    this._pt = pt;
    return pt;
  };
  var _keywordToPercent = {
    top: "0%",
    bottom: "100%",
    left: "0%",
    right: "100%",
    center: "50%"
  };
  var _convertKeywordsToPercentages = function _convertKeywordsToPercentages2(value) {
    var split = value.split(" "), x = split[0], y = split[1] || "50%";
    if (x === "top" || x === "bottom" || y === "left" || y === "right") {
      value = x;
      x = y;
      y = value;
    }
    split[0] = _keywordToPercent[x] || x;
    split[1] = _keywordToPercent[y] || y;
    return split.join(" ");
  };
  var _renderClearProps = function _renderClearProps2(ratio, data) {
    if (data.tween && data.tween._time === data.tween._dur) {
      var target = data.t, style = target.style, props = data.u, cache = target._gsap, prop2, clearTransforms, i;
      if (props === "all" || props === true) {
        style.cssText = "";
        clearTransforms = 1;
      } else {
        props = props.split(",");
        i = props.length;
        while (--i > -1) {
          prop2 = props[i];
          if (_transformProps[prop2]) {
            clearTransforms = 1;
            prop2 = prop2 === "transformOrigin" ? _transformOriginProp : _transformProp;
          }
          _removeProperty(target, prop2);
        }
      }
      if (clearTransforms) {
        _removeProperty(target, _transformProp);
        if (cache) {
          cache.svg && target.removeAttribute("transform");
          _parseTransform(target, 1);
          cache.uncache = 1;
        }
      }
    }
  };
  var _specialProps = {
    clearProps: function clearProps(plugin, target, property, endValue, tween) {
      if (tween.data !== "isFromStart") {
        var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);
        pt.u = endValue;
        pt.pr = -10;
        pt.tween = tween;
        plugin._props.push(property);
        return 1;
      }
    }
    /* className feature (about 0.4kb gzipped).
    , className(plugin, target, property, endValue, tween) {
    	let _renderClassName = (ratio, data) => {
    			data.css.render(ratio, data.css);
    			if (!ratio || ratio === 1) {
    				let inline = data.rmv,
    					target = data.t,
    					p;
    				target.setAttribute("class", ratio ? data.e : data.b);
    				for (p in inline) {
    					_removeProperty(target, p);
    				}
    			}
    		},
    		_getAllStyles = (target) => {
    			let styles = {},
    				computed = getComputedStyle(target),
    				p;
    			for (p in computed) {
    				if (isNaN(p) && p !== "cssText" && p !== "length") {
    					styles[p] = computed[p];
    				}
    			}
    			_setDefaults(styles, _parseTransform(target, 1));
    			return styles;
    		},
    		startClassList = target.getAttribute("class"),
    		style = target.style,
    		cssText = style.cssText,
    		cache = target._gsap,
    		classPT = cache.classPT,
    		inlineToRemoveAtEnd = {},
    		data = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== "=") ? endValue : startClassList.replace(new RegExp("(?:\\s|^)" + endValue.substr(2) + "(?![\\w-])"), "") + ((endValue.charAt(0) === "+") ? " " + endValue.substr(2) : "")},
    		changingVars = {},
    		startVars = _getAllStyles(target),
    		transformRelated = /(transform|perspective)/i,
    		endVars, p;
    	if (classPT) {
    		classPT.r(1, classPT.d);
    		_removeLinkedListItem(classPT.d.plugin, classPT, "_pt");
    	}
    	target.setAttribute("class", data.e);
    	endVars = _getAllStyles(target, true);
    	target.setAttribute("class", startClassList);
    	for (p in endVars) {
    		if (endVars[p] !== startVars[p] && !transformRelated.test(p)) {
    			changingVars[p] = endVars[p];
    			if (!style[p] && style[p] !== "0") {
    				inlineToRemoveAtEnd[p] = 1;
    			}
    		}
    	}
    	cache.classPT = plugin._pt = new PropTween(plugin._pt, target, "className", 0, 0, _renderClassName, data, 0, -11);
    	if (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.
    		style.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).
    	}
    	_parseTransform(target, true); //to clear the caching of transforms
    	data.css = new gsap.plugins.css();
    	data.css.init(target, changingVars, tween);
    	plugin._props.push(...data.css._props);
    	return 1;
    }
    */
  };
  var _identity2DMatrix = [1, 0, 0, 1, 0, 0];
  var _rotationalProperties = {};
  var _isNullTransform = function _isNullTransform2(value) {
    return value === "matrix(1, 0, 0, 1, 0, 0)" || value === "none" || !value;
  };
  var _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray2(target) {
    var matrixString = _getComputedProperty(target, _transformProp);
    return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);
  };
  var _getMatrix = function _getMatrix2(target, force2D) {
    var cache = target._gsap || _getCache(target), style = target.style, matrix = _getComputedTransformMatrixAsArray(target), parent, nextSibling, temp, addedToDOM;
    if (cache.svg && target.getAttribute("transform")) {
      temp = target.transform.baseVal.consolidate().matrix;
      matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];
      return matrix.join(",") === "1,0,0,1,0,0" ? _identity2DMatrix : matrix;
    } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {
      temp = style.display;
      style.display = "block";
      parent = target.parentNode;
      if (!parent || !target.offsetParent) {
        addedToDOM = 1;
        nextSibling = target.nextSibling;
        _docElement.appendChild(target);
      }
      matrix = _getComputedTransformMatrixAsArray(target);
      temp ? style.display = temp : _removeProperty(target, "display");
      if (addedToDOM) {
        nextSibling ? parent.insertBefore(target, nextSibling) : parent ? parent.appendChild(target) : _docElement.removeChild(target);
      }
    }
    return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;
  };
  var _applySVGOrigin = function _applySVGOrigin2(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {
    var cache = target._gsap, matrix = matrixArray || _getMatrix(target, true), xOriginOld = cache.xOrigin || 0, yOriginOld = cache.yOrigin || 0, xOffsetOld = cache.xOffset || 0, yOffsetOld = cache.yOffset || 0, a = matrix[0], b = matrix[1], c = matrix[2], d = matrix[3], tx = matrix[4], ty = matrix[5], originSplit = origin.split(" "), xOrigin = parseFloat(originSplit[0]) || 0, yOrigin = parseFloat(originSplit[1]) || 0, bounds, determinant, x, y;
    if (!originIsAbsolute) {
      bounds = _getBBox(target);
      xOrigin = bounds.x + (~originSplit[0].indexOf("%") ? xOrigin / 100 * bounds.width : xOrigin);
      yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf("%") ? yOrigin / 100 * bounds.height : yOrigin);
    } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {
      x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;
      y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;
      xOrigin = x;
      yOrigin = y;
    }
    if (smooth || smooth !== false && cache.smooth) {
      tx = xOrigin - xOriginOld;
      ty = yOrigin - yOriginOld;
      cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;
      cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;
    } else {
      cache.xOffset = cache.yOffset = 0;
    }
    cache.xOrigin = xOrigin;
    cache.yOrigin = yOrigin;
    cache.smooth = !!smooth;
    cache.origin = origin;
    cache.originIsAbsolute = !!originIsAbsolute;
    target.style[_transformOriginProp] = "0px 0px";
    if (pluginToAddPropTweensTo) {
      _addNonTweeningPT(pluginToAddPropTweensTo, cache, "xOrigin", xOriginOld, xOrigin);
      _addNonTweeningPT(pluginToAddPropTweensTo, cache, "yOrigin", yOriginOld, yOrigin);
      _addNonTweeningPT(pluginToAddPropTweensTo, cache, "xOffset", xOffsetOld, cache.xOffset);
      _addNonTweeningPT(pluginToAddPropTweensTo, cache, "yOffset", yOffsetOld, cache.yOffset);
    }
    target.setAttribute("data-svg-origin", xOrigin + " " + yOrigin);
  };
  var _parseTransform = function _parseTransform2(target, uncache) {
    var cache = target._gsap || new GSCache(target);
    if ("x" in cache && !uncache && !cache.uncache) {
      return cache;
    }
    var style = target.style, invertedScaleX = cache.scaleX < 0, px = "px", deg = "deg", origin = _getComputedProperty(target, _transformOriginProp) || "0", x, y, z, scaleX, scaleY, rotation, rotationX, rotationY, skewX, skewY, perspective, xOrigin, yOrigin, matrix, angle, cos, sin, a, b, c, d, a12, a22, t1, t2, t3, a13, a23, a33, a42, a43, a32;
    x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;
    scaleX = scaleY = 1;
    cache.svg = !!(target.getCTM && _isSVG(target));
    matrix = _getMatrix(target, cache.svg);
    if (cache.svg) {
      t1 = !cache.uncache && target.getAttribute("data-svg-origin");
      _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);
    }
    xOrigin = cache.xOrigin || 0;
    yOrigin = cache.yOrigin || 0;
    if (matrix !== _identity2DMatrix) {
      a = matrix[0];
      b = matrix[1];
      c = matrix[2];
      d = matrix[3];
      x = a12 = matrix[4];
      y = a22 = matrix[5];
      if (matrix.length === 6) {
        scaleX = Math.sqrt(a * a + b * b);
        scaleY = Math.sqrt(d * d + c * c);
        rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0;
        skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;
        skewX && (scaleY *= Math.cos(skewX * _DEG2RAD));
        if (cache.svg) {
          x -= xOrigin - (xOrigin * a + yOrigin * c);
          y -= yOrigin - (xOrigin * b + yOrigin * d);
        }
      } else {
        a32 = matrix[6];
        a42 = matrix[7];
        a13 = matrix[8];
        a23 = matrix[9];
        a33 = matrix[10];
        a43 = matrix[11];
        x = matrix[12];
        y = matrix[13];
        z = matrix[14];
        angle = _atan2(a32, a33);
        rotationX = angle * _RAD2DEG;
        if (angle) {
          cos = Math.cos(-angle);
          sin = Math.sin(-angle);
          t1 = a12 * cos + a13 * sin;
          t2 = a22 * cos + a23 * sin;
          t3 = a32 * cos + a33 * sin;
          a13 = a12 * -sin + a13 * cos;
          a23 = a22 * -sin + a23 * cos;
          a33 = a32 * -sin + a33 * cos;
          a43 = a42 * -sin + a43 * cos;
          a12 = t1;
          a22 = t2;
          a32 = t3;
        }
        angle = _atan2(-c, a33);
        rotationY = angle * _RAD2DEG;
        if (angle) {
          cos = Math.cos(-angle);
          sin = Math.sin(-angle);
          t1 = a * cos - a13 * sin;
          t2 = b * cos - a23 * sin;
          t3 = c * cos - a33 * sin;
          a43 = d * sin + a43 * cos;
          a = t1;
          b = t2;
          c = t3;
        }
        angle = _atan2(b, a);
        rotation = angle * _RAD2DEG;
        if (angle) {
          cos = Math.cos(angle);
          sin = Math.sin(angle);
          t1 = a * cos + b * sin;
          t2 = a12 * cos + a22 * sin;
          b = b * cos - a * sin;
          a22 = a22 * cos - a12 * sin;
          a = t1;
          a12 = t2;
        }
        if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {
          rotationX = rotation = 0;
          rotationY = 180 - rotationY;
        }
        scaleX = _round(Math.sqrt(a * a + b * b + c * c));
        scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));
        angle = _atan2(a12, a22);
        skewX = Math.abs(angle) > 2e-4 ? angle * _RAD2DEG : 0;
        perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;
      }
      if (cache.svg) {
        t1 = target.getAttribute("transform");
        cache.forceCSS = target.setAttribute("transform", "") || !_isNullTransform(_getComputedProperty(target, _transformProp));
        t1 && target.setAttribute("transform", t1);
      }
    }
    if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {
      if (invertedScaleX) {
        scaleX *= -1;
        skewX += rotation <= 0 ? 180 : -180;
        rotation += rotation <= 0 ? 180 : -180;
      } else {
        scaleY *= -1;
        skewX += skewX <= 0 ? 180 : -180;
      }
    }
    cache.x = ((cache.xPercent = x && Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0) ? 0 : x) + px;
    cache.y = ((cache.yPercent = y && Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0) ? 0 : y) + px;
    cache.z = z + px;
    cache.scaleX = _round(scaleX);
    cache.scaleY = _round(scaleY);
    cache.rotation = _round(rotation) + deg;
    cache.rotationX = _round(rotationX) + deg;
    cache.rotationY = _round(rotationY) + deg;
    cache.skewX = skewX + deg;
    cache.skewY = skewY + deg;
    cache.transformPerspective = perspective + px;
    if (cache.zOrigin = parseFloat(origin.split(" ")[2]) || 0) {
      style[_transformOriginProp] = _firstTwoOnly(origin);
    }
    cache.xOffset = cache.yOffset = 0;
    cache.force3D = _config.force3D;
    cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;
    cache.uncache = 0;
    return cache;
  };
  var _firstTwoOnly = function _firstTwoOnly2(value) {
    return (value = value.split(" "))[0] + " " + value[1];
  };
  var _addPxTranslate = function _addPxTranslate2(target, start, value) {
    var unit = getUnit(start);
    return _round(parseFloat(start) + parseFloat(_convertToUnit(target, "x", value + "px", unit))) + unit;
  };
  var _renderNon3DTransforms = function _renderNon3DTransforms2(ratio, cache) {
    cache.z = "0px";
    cache.rotationY = cache.rotationX = "0deg";
    cache.force3D = 0;
    _renderCSSTransforms(ratio, cache);
  };
  var _zeroDeg = "0deg";
  var _zeroPx = "0px";
  var _endParenthesis = ") ";
  var _renderCSSTransforms = function _renderCSSTransforms2(ratio, cache) {
    var _ref = cache || this, xPercent = _ref.xPercent, yPercent = _ref.yPercent, x = _ref.x, y = _ref.y, z = _ref.z, rotation = _ref.rotation, rotationY = _ref.rotationY, rotationX = _ref.rotationX, skewX = _ref.skewX, skewY = _ref.skewY, scaleX = _ref.scaleX, scaleY = _ref.scaleY, transformPerspective = _ref.transformPerspective, force3D = _ref.force3D, target = _ref.target, zOrigin = _ref.zOrigin, transforms = "", use3D = force3D === "auto" && ratio && ratio !== 1 || force3D === true;
    if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {
      var angle = parseFloat(rotationY) * _DEG2RAD, a13 = Math.sin(angle), a33 = Math.cos(angle), cos;
      angle = parseFloat(rotationX) * _DEG2RAD;
      cos = Math.cos(angle);
      x = _addPxTranslate(target, x, a13 * cos * -zOrigin);
      y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);
      z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);
    }
    if (transformPerspective !== _zeroPx) {
      transforms += "perspective(" + transformPerspective + _endParenthesis;
    }
    if (xPercent || yPercent) {
      transforms += "translate(" + xPercent + "%, " + yPercent + "%) ";
    }
    if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {
      transforms += z !== _zeroPx || use3D ? "translate3d(" + x + ", " + y + ", " + z + ") " : "translate(" + x + ", " + y + _endParenthesis;
    }
    if (rotation !== _zeroDeg) {
      transforms += "rotate(" + rotation + _endParenthesis;
    }
    if (rotationY !== _zeroDeg) {
      transforms += "rotateY(" + rotationY + _endParenthesis;
    }
    if (rotationX !== _zeroDeg) {
      transforms += "rotateX(" + rotationX + _endParenthesis;
    }
    if (skewX !== _zeroDeg || skewY !== _zeroDeg) {
      transforms += "skew(" + skewX + ", " + skewY + _endParenthesis;
    }
    if (scaleX !== 1 || scaleY !== 1) {
      transforms += "scale(" + scaleX + ", " + scaleY + _endParenthesis;
    }
    target.style[_transformProp] = transforms || "translate(0, 0)";
  };
  var _renderSVGTransforms = function _renderSVGTransforms2(ratio, cache) {
    var _ref2 = cache || this, xPercent = _ref2.xPercent, yPercent = _ref2.yPercent, x = _ref2.x, y = _ref2.y, rotation = _ref2.rotation, skewX = _ref2.skewX, skewY = _ref2.skewY, scaleX = _ref2.scaleX, scaleY = _ref2.scaleY, target = _ref2.target, xOrigin = _ref2.xOrigin, yOrigin = _ref2.yOrigin, xOffset = _ref2.xOffset, yOffset = _ref2.yOffset, forceCSS = _ref2.forceCSS, tx = parseFloat(x), ty = parseFloat(y), a11, a21, a12, a22, temp;
    rotation = parseFloat(rotation);
    skewX = parseFloat(skewX);
    skewY = parseFloat(skewY);
    if (skewY) {
      skewY = parseFloat(skewY);
      skewX += skewY;
      rotation += skewY;
    }
    if (rotation || skewX) {
      rotation *= _DEG2RAD;
      skewX *= _DEG2RAD;
      a11 = Math.cos(rotation) * scaleX;
      a21 = Math.sin(rotation) * scaleX;
      a12 = Math.sin(rotation - skewX) * -scaleY;
      a22 = Math.cos(rotation - skewX) * scaleY;
      if (skewX) {
        skewY *= _DEG2RAD;
        temp = Math.tan(skewX - skewY);
        temp = Math.sqrt(1 + temp * temp);
        a12 *= temp;
        a22 *= temp;
        if (skewY) {
          temp = Math.tan(skewY);
          temp = Math.sqrt(1 + temp * temp);
          a11 *= temp;
          a21 *= temp;
        }
      }
      a11 = _round(a11);
      a21 = _round(a21);
      a12 = _round(a12);
      a22 = _round(a22);
    } else {
      a11 = scaleX;
      a22 = scaleY;
      a21 = a12 = 0;
    }
    if (tx && !~(x + "").indexOf("px") || ty && !~(y + "").indexOf("px")) {
      tx = _convertToUnit(target, "x", x, "px");
      ty = _convertToUnit(target, "y", y, "px");
    }
    if (xOrigin || yOrigin || xOffset || yOffset) {
      tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);
      ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);
    }
    if (xPercent || yPercent) {
      temp = target.getBBox();
      tx = _round(tx + xPercent / 100 * temp.width);
      ty = _round(ty + yPercent / 100 * temp.height);
    }
    temp = "matrix(" + a11 + "," + a21 + "," + a12 + "," + a22 + "," + tx + "," + ty + ")";
    target.setAttribute("transform", temp);
    if (forceCSS) {
      target.style[_transformProp] = temp;
    }
  };
  var _addRotationalPropTween = function _addRotationalPropTween2(plugin, target, property, startNum, endValue, relative) {
    var cap = 360, isString2 = _isString(endValue), endNum = parseFloat(endValue) * (isString2 && ~endValue.indexOf("rad") ? _RAD2DEG : 1), change = relative ? endNum * relative : endNum - startNum, finalValue = startNum + change + "deg", direction, pt;
    if (isString2) {
      direction = endValue.split("_")[1];
      if (direction === "short") {
        change %= cap;
        if (change !== change % (cap / 2)) {
          change += change < 0 ? cap : -cap;
        }
      }
      if (direction === "cw" && change < 0) {
        change = (change + cap * _bigNum2) % cap - ~~(change / cap) * cap;
      } else if (direction === "ccw" && change > 0) {
        change = (change - cap * _bigNum2) % cap - ~~(change / cap) * cap;
      }
    }
    plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);
    pt.e = finalValue;
    pt.u = "deg";
    plugin._props.push(property);
    return pt;
  };
  var _addRawTransformPTs = function _addRawTransformPTs2(plugin, transforms, target) {
    var style = _tempDivStyler.style, startCache = target._gsap, exclude = "perspective,force3D,transformOrigin,svgOrigin", endCache, p, startValue, endValue, startNum, endNum, startUnit, endUnit;
    style.cssText = getComputedStyle(target).cssText + ";position:absolute;display:block;";
    style[_transformProp] = transforms;
    _doc2.body.appendChild(_tempDivStyler);
    endCache = _parseTransform(_tempDivStyler, 1);
    for (p in _transformProps) {
      startValue = startCache[p];
      endValue = endCache[p];
      if (startValue !== endValue && exclude.indexOf(p) < 0) {
        startUnit = getUnit(startValue);
        endUnit = getUnit(endValue);
        startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);
        endNum = parseFloat(endValue);
        plugin._pt = new PropTween(plugin._pt, startCache, p, startNum, endNum - startNum, _renderCSSProp);
        plugin._pt.u = endUnit || 0;
        plugin._props.push(p);
      }
    }
    _doc2.body.removeChild(_tempDivStyler);
  };
  _forEachName("padding,margin,Width,Radius", function(name, index) {
    var t = "Top", r = "Right", b = "Bottom", l = "Left", props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function(side) {
      return index < 2 ? name + side : "border" + side + name;
    });
    _specialProps[index > 1 ? "border" + name : name] = function(plugin, target, property, endValue, tween) {
      var a, vars;
      if (arguments.length < 4) {
        a = props.map(function(prop2) {
          return _get(plugin, prop2, property);
        });
        vars = a.join(" ");
        return vars.split(a[0]).length === 5 ? a[0] : vars;
      }
      a = (endValue + "").split(" ");
      vars = {};
      props.forEach(function(prop2, i) {
        return vars[prop2] = a[i] = a[i] || a[(i - 1) / 2 | 0];
      });
      plugin.init(target, vars, tween);
    };
  });
  var CSSPlugin = {
    name: "css",
    register: _initCore,
    targetTest: function targetTest(target) {
      return target.style && target.nodeType;
    },
    init: function init3(target, vars, tween, index, targets) {
      var props = this._props, style = target.style, startValue, endValue, endNum, startNum, type, specialProp, p, startUnit, endUnit, relative, isTransformRelated, transformPropTween, cache, smooth, hasPriority;
      _pluginInitted || _initCore();
      for (p in vars) {
        if (p === "autoRound") {
          continue;
        }
        endValue = vars[p];
        if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {
          continue;
        }
        type = typeof endValue;
        specialProp = _specialProps[p];
        if (type === "function") {
          endValue = endValue.call(tween, index, target, targets);
          type = typeof endValue;
        }
        if (type === "string" && ~endValue.indexOf("random(")) {
          endValue = _replaceRandom(endValue);
        }
        if (specialProp) {
          if (specialProp(this, target, p, endValue, tween)) {
            hasPriority = 1;
          }
        } else if (p.substr(0, 2) === "--") {
          this.add(style, "setProperty", getComputedStyle(target).getPropertyValue(p) + "", endValue + "", index, targets, 0, 0, p);
        } else if (type !== "undefined") {
          startValue = _get(target, p);
          startNum = parseFloat(startValue);
          relative = type === "string" && endValue.charAt(1) === "=" ? +(endValue.charAt(0) + "1") : 0;
          if (relative) {
            endValue = endValue.substr(2);
          }
          endNum = parseFloat(endValue);
          if (p in _propertyAliases) {
            if (p === "autoAlpha") {
              if (startNum === 1 && _get(target, "visibility") === "hidden" && endNum) {
                startNum = 0;
              }
              _addNonTweeningPT(this, style, "visibility", startNum ? "inherit" : "hidden", endNum ? "inherit" : "hidden", !endNum);
            }
            if (p !== "scale" && p !== "transform") {
              p = _propertyAliases[p];
              ~p.indexOf(",") && (p = p.split(",")[0]);
            }
          }
          isTransformRelated = p in _transformProps;
          if (isTransformRelated) {
            if (!transformPropTween) {
              cache = target._gsap;
              cache.renderTransform || _parseTransform(target);
              smooth = vars.smoothOrigin !== false && cache.smooth;
              transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1);
              transformPropTween.dep = 1;
            }
            if (p === "scale") {
              this._pt = new PropTween(this._pt, cache, "scaleY", cache.scaleY, relative ? relative * endNum : endNum - cache.scaleY);
              props.push("scaleY", p);
              p += "X";
            } else if (p === "transformOrigin") {
              endValue = _convertKeywordsToPercentages(endValue);
              if (cache.svg) {
                _applySVGOrigin(target, endValue, 0, smooth, 0, this);
              } else {
                endUnit = parseFloat(endValue.split(" ")[2]) || 0;
                endUnit !== cache.zOrigin && _addNonTweeningPT(this, cache, "zOrigin", cache.zOrigin, endUnit);
                _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));
              }
              continue;
            } else if (p === "svgOrigin") {
              _applySVGOrigin(target, endValue, 1, smooth, 0, this);
              continue;
            } else if (p in _rotationalProperties) {
              _addRotationalPropTween(this, cache, p, startNum, endValue, relative);
              continue;
            } else if (p === "smoothOrigin") {
              _addNonTweeningPT(this, cache, "smooth", cache.smooth, endValue);
              continue;
            } else if (p === "force3D") {
              cache[p] = endValue;
              continue;
            } else if (p === "transform") {
              _addRawTransformPTs(this, endValue, target);
              continue;
            }
          } else if (!(p in style)) {
            p = _checkPropPrefix(p) || p;
          }
          if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {
            startUnit = (startValue + "").substr((startNum + "").length);
            endNum || (endNum = 0);
            endUnit = getUnit(endValue) || (p in _config.units ? _config.units[p] : startUnit);
            startUnit !== endUnit && (startNum = _convertToUnit(target, p, startValue, endUnit));
            this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, endUnit === "px" && vars.autoRound !== false && !isTransformRelated ? _renderRoundedCSSProp : _renderCSSProp);
            this._pt.u = endUnit || 0;
            if (startUnit !== endUnit) {
              this._pt.b = startValue;
              this._pt.r = _renderCSSPropWithBeginning;
            }
          } else if (!(p in style)) {
            if (p in target) {
              this.add(target, p, target[p], endValue, index, targets);
            } else {
              _missingPlugin(p, endValue);
              continue;
            }
          } else {
            _tweenComplexCSSString.call(this, target, p, startValue, endValue);
          }
          props.push(p);
        }
      }
      hasPriority && _sortPropTweensByPriority(this);
    },
    get: _get,
    aliases: _propertyAliases,
    getSetter: function getSetter(target, property, plugin) {
      var p = _propertyAliases[property];
      p && p.indexOf(",") < 0 && (property = p);
      return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, "x")) ? plugin && _recentSetterPlugin === plugin ? property === "scale" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === "scale" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf("-") ? _setterCSSProp : _getSetter(target, property);
    },
    core: {
      _removeProperty,
      _getMatrix
    }
  };
  gsap.utils.checkPrefix = _checkPropPrefix;
  (function(positionAndScale, rotation, others, aliases) {
    var all = _forEachName(positionAndScale + "," + rotation + "," + others, function(name) {
      _transformProps[name] = 1;
    });
    _forEachName(rotation, function(name) {
      _config.units[name] = "deg";
      _rotationalProperties[name] = 1;
    });
    _propertyAliases[all[13]] = positionAndScale + "," + rotation;
    _forEachName(aliases, function(name) {
      var split = name.split(":");
      _propertyAliases[split[1]] = all[split[0]];
    });
  })("x,y,z,scale,scaleX,scaleY,xPercent,yPercent", "rotation,rotationX,rotationY,skewX,skewY", "transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective", "0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");
  _forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective", function(name) {
    _config.units[name] = "px";
  });
  gsap.registerPlugin(CSSPlugin);

  // node_modules/gsap/index.js
  var gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap;
  var TweenMaxWithCSS = gsapWithCSS.core.Tween;

  // node_modules/gsap/ScrollTrigger.js
  var gsap2;
  var _coreInitted2;
  var _win3;
  var _doc3;
  var _docEl;
  var _body;
  var _root;
  var _resizeDelay;
  var _raf;
  var _request;
  var _toArray;
  var _clamp3;
  var _time2;
  var _syncInterval;
  var _refreshing;
  var _pointerIsDown;
  var _transformProp2;
  var _i;
  var _prevWidth;
  var _prevHeight;
  var _autoRefresh;
  var _sort;
  var _limitCallbacks;
  var _startup = 1;
  var _proxies = [];
  var _scrollers = [];
  var _getTime = Date.now;
  var _time1 = _getTime();
  var _lastScrollTime = 0;
  var _enabled = 1;
  var _passThrough3 = function _passThrough4(v) {
    return v;
  };
  var _windowExists5 = function _windowExists6() {
    return typeof window !== "undefined";
  };
  var _getGSAP = function _getGSAP2() {
    return gsap2 || _windowExists5() && (gsap2 = window.gsap) && gsap2.registerPlugin && gsap2;
  };
  var _isViewport = function _isViewport2(e) {
    return !!~_root.indexOf(e);
  };
  var _getProxyProp = function _getProxyProp2(element, property) {
    return ~_proxies.indexOf(element) && _proxies[_proxies.indexOf(element) + 1][property];
  };
  var _getScrollFunc = function _getScrollFunc2(element, _ref) {
    var s = _ref.s, sc3 = _ref.sc;
    var i = _scrollers.indexOf(element), offset = sc3 === _vertical.sc ? 1 : 2;
    !~i && (i = _scrollers.push(element) - 1);
    return _scrollers[i + offset] || (_scrollers[i + offset] = _getProxyProp(element, s) || (_isViewport(element) ? sc3 : function(value) {
      return arguments.length ? element[s] = value : element[s];
    }));
  };
  var _getBoundsFunc = function _getBoundsFunc2(element) {
    return _getProxyProp(element, "getBoundingClientRect") || (_isViewport(element) ? function() {
      _winOffsets.width = _win3.innerWidth;
      _winOffsets.height = _win3.innerHeight;
      return _winOffsets;
    } : function() {
      return _getBounds(element);
    });
  };
  var _getSizeFunc = function _getSizeFunc2(scroller, isViewport, _ref2) {
    var d = _ref2.d, d2 = _ref2.d2, a = _ref2.a;
    return (a = _getProxyProp(scroller, "getBoundingClientRect")) ? function() {
      return a()[d];
    } : function() {
      return (isViewport ? _win3["inner" + d2] : scroller["client" + d2]) || 0;
    };
  };
  var _getOffsetsFunc = function _getOffsetsFunc2(element, isViewport) {
    return !isViewport || ~_proxies.indexOf(element) ? _getBoundsFunc(element) : function() {
      return _winOffsets;
    };
  };
  var _maxScroll = function _maxScroll2(element, _ref3) {
    var s = _ref3.s, d2 = _ref3.d2, d = _ref3.d, a = _ref3.a;
    return (s = "scroll" + d2) && (a = _getProxyProp(element, s)) ? a() - _getBoundsFunc(element)()[d] : _isViewport(element) ? Math.max(_docEl[s], _body[s]) - (_win3["inner" + d2] || _docEl["client" + d2] || _body["client" + d2]) : element[s] - element["offset" + d2];
  };
  var _iterateAutoRefresh = function _iterateAutoRefresh2(func, events) {
    for (var i = 0; i < _autoRefresh.length; i += 3) {
      (!events || ~events.indexOf(_autoRefresh[i + 1])) && func(_autoRefresh[i], _autoRefresh[i + 1], _autoRefresh[i + 2]);
    }
  };
  var _isString3 = function _isString4(value) {
    return typeof value === "string";
  };
  var _isFunction3 = function _isFunction4(value) {
    return typeof value === "function";
  };
  var _isNumber3 = function _isNumber4(value) {
    return typeof value === "number";
  };
  var _isObject3 = function _isObject4(value) {
    return typeof value === "object";
  };
  var _callIfFunc = function _callIfFunc2(value) {
    return _isFunction3(value) && value();
  };
  var _combineFunc = function _combineFunc2(f1, f2) {
    return function() {
      var result1 = _callIfFunc(f1), result2 = _callIfFunc(f2);
      return function() {
        _callIfFunc(result1);
        _callIfFunc(result2);
      };
    };
  };
  var _abs = Math.abs;
  var _scrollLeft = "scrollLeft";
  var _scrollTop = "scrollTop";
  var _left = "left";
  var _top = "top";
  var _right = "right";
  var _bottom = "bottom";
  var _width = "width";
  var _height = "height";
  var _Right = "Right";
  var _Left = "Left";
  var _Top = "Top";
  var _Bottom = "Bottom";
  var _padding = "padding";
  var _margin = "margin";
  var _Width = "Width";
  var _Height = "Height";
  var _px = "px";
  var _horizontal = {
    s: _scrollLeft,
    p: _left,
    p2: _Left,
    os: _right,
    os2: _Right,
    d: _width,
    d2: _Width,
    a: "x",
    sc: function sc(value) {
      return arguments.length ? _win3.scrollTo(value, _vertical.sc()) : _win3.pageXOffset || _doc3[_scrollLeft] || _docEl[_scrollLeft] || _body[_scrollLeft] || 0;
    }
  };
  var _vertical = {
    s: _scrollTop,
    p: _top,
    p2: _Top,
    os: _bottom,
    os2: _Bottom,
    d: _height,
    d2: _Height,
    a: "y",
    op: _horizontal,
    sc: function sc2(value) {
      return arguments.length ? _win3.scrollTo(_horizontal.sc(), value) : _win3.pageYOffset || _doc3[_scrollTop] || _docEl[_scrollTop] || _body[_scrollTop] || 0;
    }
  };
  var _getComputedStyle = function _getComputedStyle2(element) {
    return _win3.getComputedStyle(element);
  };
  var _makePositionable = function _makePositionable2(element) {
    return element.style.position = _getComputedStyle(element).position === "absolute" ? "absolute" : "relative";
  };
  var _setDefaults3 = function _setDefaults4(obj, defaults2) {
    for (var p in defaults2) {
      p in obj || (obj[p] = defaults2[p]);
    }
    return obj;
  };
  var _getBounds = function _getBounds2(element, withoutTransforms) {
    var tween = withoutTransforms && _getComputedStyle(element)[_transformProp2] !== "matrix(1, 0, 0, 1, 0, 0)" && gsap2.to(element, {
      x: 0,
      y: 0,
      xPercent: 0,
      yPercent: 0,
      rotation: 0,
      rotationX: 0,
      rotationY: 0,
      scale: 1,
      skewX: 0,
      skewY: 0
    }).progress(1), bounds = element.getBoundingClientRect();
    tween && tween.progress(0).kill();
    return bounds;
  };
  var _getSize = function _getSize2(element, _ref4) {
    var d2 = _ref4.d2;
    return element["offset" + d2] || element["client" + d2] || 0;
  };
  var _getLabels = function _getLabels2(animation) {
    return function(value) {
      var a = [], labels = animation.labels, duration = animation.duration(), p;
      for (p in labels) {
        a.push(labels[p] / duration);
      }
      return gsap2.utils.snap(a, value);
    };
  };
  var _multiListener = function _multiListener2(func, element, types, callback2) {
    return types.split(",").forEach(function(type) {
      return func(element, type, callback2);
    });
  };
  var _addListener = function _addListener2(element, type, func) {
    return element.addEventListener(type, func, {
      passive: true
    });
  };
  var _removeListener = function _removeListener2(element, type, func) {
    return element.removeEventListener(type, func);
  };
  var _markerDefaults = {
    startColor: "green",
    endColor: "red",
    indent: 0,
    fontSize: "16px",
    fontWeight: "normal"
  };
  var _defaults2 = {
    toggleActions: "play",
    anticipatePin: 0
  };
  var _keywords = {
    top: 0,
    left: 0,
    center: 0.5,
    bottom: 1,
    right: 1
  };
  var _offsetToPx = function _offsetToPx2(value, size) {
    if (_isString3(value)) {
      var eqIndex = value.indexOf("="), relative = ~eqIndex ? +(value.charAt(eqIndex - 1) + 1) * parseFloat(value.substr(eqIndex + 1)) : 0;
      if (relative) {
        value.indexOf("%") > eqIndex && (relative *= size / 100);
        value = value.substr(0, eqIndex - 1);
      }
      value = relative + (value in _keywords ? _keywords[value] * size : ~value.indexOf("%") ? parseFloat(value) * size / 100 : parseFloat(value) || 0);
    }
    return value;
  };
  var _createMarker = function _createMarker2(type, name, container, direction, _ref5, offset, matchWidthEl) {
    var startColor = _ref5.startColor, endColor = _ref5.endColor, fontSize = _ref5.fontSize, indent = _ref5.indent, fontWeight = _ref5.fontWeight;
    var e = _doc3.createElement("div"), useFixedPosition = _isViewport(container) || _getProxyProp(container, "pinType") === "fixed", isScroller = type.indexOf("scroller") !== -1, parent = useFixedPosition ? _body : container, isStart = type.indexOf("start") !== -1, color = isStart ? startColor : endColor, css = "border-color:" + color + ";font-size:" + fontSize + ";color:" + color + ";font-weight:" + fontWeight + ";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";
    css += "position:" + (isScroller && useFixedPosition ? "fixed;" : "absolute;");
    (isScroller || !useFixedPosition) && (css += (direction === _vertical ? _right : _bottom) + ":" + (offset + parseFloat(indent)) + "px;");
    matchWidthEl && (css += "box-sizing:border-box;text-align:left;width:" + matchWidthEl.offsetWidth + "px;");
    e._isStart = isStart;
    e.setAttribute("class", "gsap-marker-" + type);
    e.style.cssText = css;
    e.innerText = name || name === 0 ? type + "-" + name : type;
    parent.insertBefore(e, parent.children[0]);
    e._offset = e["offset" + direction.op.d2];
    _positionMarker(e, 0, direction, isStart);
    return e;
  };
  var _positionMarker = function _positionMarker2(marker, start, direction, flipped) {
    var vars = {
      display: "block"
    }, side = direction[flipped ? "os2" : "p2"], oppositeSide = direction[flipped ? "p2" : "os2"];
    marker._isFlipped = flipped;
    vars[direction.a + "Percent"] = flipped ? -100 : 0;
    vars[direction.a] = flipped ? 1 : 0;
    vars["border" + side + _Width] = 1;
    vars["border" + oppositeSide + _Width] = 0;
    vars[direction.p] = start;
    gsap2.set(marker, vars);
  };
  var _triggers = [];
  var _ids = {};
  var _sync = function _sync2() {
    return _request || (_request = _raf(_updateAll));
  };
  var _onScroll = function _onScroll2() {
    if (!_request) {
      _request = _raf(_updateAll);
      _lastScrollTime || _dispatch("scrollStart");
      _lastScrollTime = _getTime();
    }
  };
  var _onResize = function _onResize2() {
    return !_refreshing && _resizeDelay.restart(true);
  };
  var _listeners = {};
  var _emptyArray = [];
  var _media = [];
  var _creatingMedia;
  var _lastMediaTick;
  var _onMediaChange = function _onMediaChange2(e) {
    var tick = gsap2.ticker.frame, matches = [], i = 0, index;
    if (_lastMediaTick !== tick || _startup) {
      _revertAll();
      for (; i < _media.length; i += 4) {
        index = _win3.matchMedia(_media[i]).matches;
        if (index !== _media[i + 3]) {
          _media[i + 3] = index;
          index ? matches.push(i) : _revertAll(1, _media[i]) || _isFunction3(_media[i + 2]) && _media[i + 2]();
        }
      }
      _revertRecorded();
      for (i = 0; i < matches.length; i++) {
        index = matches[i];
        _creatingMedia = _media[index];
        _media[index + 2] = _media[index + 1](e);
      }
      _creatingMedia = 0;
      _refreshAll(0, 1);
      _lastMediaTick = tick;
      _dispatch("matchMedia");
    }
  };
  var _softRefresh = function _softRefresh2() {
    return _removeListener(ScrollTrigger, "scrollEnd", _softRefresh2) || _refreshAll(true);
  };
  var _dispatch = function _dispatch2(type) {
    return _listeners[type] && _listeners[type].map(function(f) {
      return f();
    }) || _emptyArray;
  };
  var _savedStyles = [];
  var _revertRecorded = function _revertRecorded2(media) {
    for (var i = 0; i < _savedStyles.length; i += 4) {
      if (!media || _savedStyles[i + 3] === media) {
        _savedStyles[i].style.cssText = _savedStyles[i + 1];
        _savedStyles[i + 2].uncache = 1;
      }
    }
  };
  var _revertAll = function _revertAll2(kill, media) {
    var trigger;
    for (_i = 0; _i < _triggers.length; _i++) {
      trigger = _triggers[_i];
      if (!media || trigger.media === media) {
        if (kill) {
          trigger.kill(1);
        } else {
          trigger.scroll.rec || (trigger.scroll.rec = trigger.scroll());
          trigger.revert();
        }
      }
    }
    _revertRecorded(media);
    media || _dispatch("revert");
  };
  var _refreshAll = function _refreshAll2(force, skipRevert) {
    if (_lastScrollTime && !force) {
      _addListener(ScrollTrigger, "scrollEnd", _softRefresh);
      return;
    }
    var refreshInits = _dispatch("refreshInit");
    _sort && ScrollTrigger.sort();
    skipRevert || _revertAll();
    for (_i = 0; _i < _triggers.length; _i++) {
      _triggers[_i].refresh();
    }
    refreshInits.forEach(function(result) {
      return result && result.render && result.render(-1);
    });
    _i = _triggers.length;
    while (_i--) {
      _triggers[_i].scroll.rec = 0;
    }
    _resizeDelay.pause();
    _dispatch("refresh");
  };
  var _lastScroll = 0;
  var _direction = 1;
  var _updateAll = function _updateAll2() {
    var l = _triggers.length, time = _getTime(), recordVelocity = time - _time1 >= 50, scroll = l && _triggers[0].scroll();
    _direction = _lastScroll > scroll ? -1 : 1;
    _lastScroll = scroll;
    if (recordVelocity) {
      if (_lastScrollTime && !_pointerIsDown && time - _lastScrollTime > 200) {
        _lastScrollTime = 0;
        _dispatch("scrollEnd");
      }
      _time2 = _time1;
      _time1 = time;
    }
    if (_direction < 0) {
      _i = l;
      while (_i--) {
        _triggers[_i] && _triggers[_i].update(0, recordVelocity);
      }
      _direction = 1;
    } else {
      for (_i = 0; _i < l; _i++) {
        _triggers[_i] && _triggers[_i].update(0, recordVelocity);
      }
    }
    _request = 0;
  };
  var _propNamesToCopy = [_left, _top, _bottom, _right, _margin + _Bottom, _margin + _Right, _margin + _Top, _margin + _Left, "display", "flexShrink", "float"];
  var _stateProps = _propNamesToCopy.concat([_width, _height, "boxSizing", "max" + _Width, "max" + _Height, "position", _margin, _padding, _padding + _Top, _padding + _Right, _padding + _Bottom, _padding + _Left]);
  var _swapPinOut = function _swapPinOut2(pin, spacer, state) {
    _setState(state);
    if (pin.parentNode === spacer) {
      var parent = spacer.parentNode;
      if (parent) {
        parent.insertBefore(pin, spacer);
        parent.removeChild(spacer);
      }
    }
  };
  var _swapPinIn = function _swapPinIn2(pin, spacer, cs, spacerState) {
    if (pin.parentNode !== spacer) {
      var i = _propNamesToCopy.length, spacerStyle = spacer.style, pinStyle = pin.style, p;
      while (i--) {
        p = _propNamesToCopy[i];
        spacerStyle[p] = cs[p];
      }
      spacerStyle.position = cs.position === "absolute" ? "absolute" : "relative";
      cs.display === "inline" && (spacerStyle.display = "inline-block");
      pinStyle[_bottom] = pinStyle[_right] = "auto";
      spacerStyle.overflow = "visible";
      spacerStyle.boxSizing = "border-box";
      spacerStyle[_width] = _getSize(pin, _horizontal) + _px;
      spacerStyle[_height] = _getSize(pin, _vertical) + _px;
      spacerStyle[_padding] = pinStyle[_margin] = pinStyle[_top] = pinStyle[_left] = "0";
      _setState(spacerState);
      pinStyle[_width] = pinStyle["max" + _Width] = cs[_width];
      pinStyle[_height] = pinStyle["max" + _Height] = cs[_height];
      pinStyle[_padding] = cs[_padding];
      pin.parentNode.insertBefore(spacer, pin);
      spacer.appendChild(pin);
    }
  };
  var _capsExp2 = /([A-Z])/g;
  var _setState = function _setState2(state) {
    if (state) {
      var style = state.t.style, l = state.length, i = 0, p, value;
      for (; i < l; i += 2) {
        value = state[i + 1];
        p = state[i];
        if (value) {
          style[p] = value;
        } else if (style[p]) {
          style.removeProperty(p.replace(_capsExp2, "-$1").toLowerCase());
        }
      }
    }
  };
  var _getState = function _getState2(element) {
    var l = _stateProps.length, style = element.style, state = [], i = 0;
    for (; i < l; i++) {
      state.push(_stateProps[i], style[_stateProps[i]]);
    }
    state.t = element;
    return state;
  };
  var _copyState = function _copyState2(state, override, omitOffsets) {
    var result = [], l = state.length, i = omitOffsets ? 8 : 0, p;
    for (; i < l; i += 2) {
      p = state[i];
      result.push(p, p in override ? override[p] : state[i + 1]);
    }
    result.t = state.t;
    return result;
  };
  var _winOffsets = {
    left: 0,
    top: 0
  };
  var _parsePosition3 = function _parsePosition4(value, trigger, scrollerSize, direction, scroll, marker, markerScroller, self, scrollerBounds, borderWidth, useFixedPosition, scrollerMax) {
    _isFunction3(value) && (value = value(self));
    if (_isString3(value) && value.substr(0, 3) === "max") {
      value = scrollerMax + (value.charAt(4) === "=" ? _offsetToPx("0" + value.substr(3), scrollerSize) : 0);
    }
    if (!_isNumber3(value)) {
      _isFunction3(trigger) && (trigger = trigger(self));
      var element = _toArray(trigger)[0] || _body, bounds = _getBounds(element) || {}, offsets = value.split(" "), localOffset, globalOffset, display;
      if ((!bounds || !bounds.left && !bounds.top) && _getComputedStyle(element).display === "none") {
        display = element.style.display;
        element.style.display = "block";
        bounds = _getBounds(element);
        display ? element.style.display = display : element.style.removeProperty("display");
      }
      localOffset = _offsetToPx(offsets[0], bounds[direction.d]);
      globalOffset = _offsetToPx(offsets[1] || "0", scrollerSize);
      value = bounds[direction.p] - scrollerBounds[direction.p] - borderWidth + localOffset + scroll - globalOffset;
      markerScroller && _positionMarker(markerScroller, globalOffset, direction, scrollerSize - globalOffset < 20 || markerScroller._isStart && globalOffset > 20);
      scrollerSize -= scrollerSize - globalOffset;
    } else if (markerScroller) {
      _positionMarker(markerScroller, scrollerSize, direction, true);
    }
    if (marker) {
      var position = value + scrollerSize, isStart = marker._isStart;
      scrollerMax = "scroll" + direction.d2;
      _positionMarker(marker, position, direction, isStart && position > 20 || !isStart && (useFixedPosition ? Math.max(_body[scrollerMax], _docEl[scrollerMax]) : marker.parentNode[scrollerMax]) <= position + 1);
      if (useFixedPosition) {
        scrollerBounds = _getBounds(markerScroller);
        useFixedPosition && (marker.style[direction.op.p] = scrollerBounds[direction.op.p] - direction.op.m - marker._offset + _px);
      }
    }
    return Math.round(value);
  };
  var _prefixExp = /(?:webkit|moz|length|cssText)/i;
  var _reparent = function _reparent2(element, parent, top, left) {
    if (element.parentNode !== parent) {
      var style = element.style, p, cs;
      if (parent === _body) {
        element._stOrig = style.cssText;
        cs = _getComputedStyle(element);
        for (p in cs) {
          if (!+p && !_prefixExp.test(p) && cs[p] && typeof style[p] === "string" && p !== "0") {
            style[p] = cs[p];
          }
        }
        style.top = top;
        style.left = left;
      } else {
        style.cssText = element._stOrig;
      }
      gsap2.core.getCache(element).uncache = 1;
      parent.appendChild(element);
    }
  };
  var _getTweenCreator = function _getTweenCreator2(scroller, direction) {
    var getScroll = _getScrollFunc(scroller, direction), prop2 = "_scroll" + direction.p2, lastScroll1, lastScroll2, getTween = function getTween2(scrollTo, vars, initialValue, change1, change2) {
      var tween = getTween2.tween, onComplete = vars.onComplete, modifiers = {};
      tween && tween.kill();
      lastScroll1 = Math.round(initialValue);
      vars[prop2] = scrollTo;
      vars.modifiers = modifiers;
      modifiers[prop2] = function(value) {
        value = Math.round(getScroll());
        if (value !== lastScroll1 && value !== lastScroll2) {
          tween.kill();
          getTween2.tween = 0;
        } else {
          value = initialValue + change1 * tween.ratio + change2 * tween.ratio * tween.ratio;
        }
        lastScroll2 = lastScroll1;
        return lastScroll1 = Math.round(value);
      };
      vars.onComplete = function() {
        getTween2.tween = 0;
        onComplete && onComplete.call(tween);
      };
      tween = getTween2.tween = gsap2.to(scroller, vars);
      return tween;
    };
    scroller[prop2] = getScroll;
    return getTween;
  };
  _horizontal.op = _vertical;
  var ScrollTrigger = /* @__PURE__ */ function() {
    function ScrollTrigger2(vars, animation) {
      _coreInitted2 || ScrollTrigger2.register(gsap2) || console.warn("Please gsap.registerPlugin(ScrollTrigger)");
      this.init(vars, animation);
    }
    var _proto = ScrollTrigger2.prototype;
    _proto.init = function init5(vars, animation) {
      this.progress = 0;
      this.vars && this.kill(1);
      if (!_enabled) {
        this.update = this.refresh = this.kill = _passThrough3;
        return;
      }
      vars = _setDefaults3(_isString3(vars) || _isNumber3(vars) || vars.nodeType ? {
        trigger: vars
      } : vars, _defaults2);
      var direction = vars.horizontal ? _horizontal : _vertical, _vars = vars, onUpdate = _vars.onUpdate, toggleClass = _vars.toggleClass, id = _vars.id, onToggle = _vars.onToggle, onRefresh = _vars.onRefresh, scrub = _vars.scrub, trigger = _vars.trigger, pin = _vars.pin, pinSpacing = _vars.pinSpacing, invalidateOnRefresh = _vars.invalidateOnRefresh, anticipatePin = _vars.anticipatePin, onScrubComplete = _vars.onScrubComplete, onSnapComplete = _vars.onSnapComplete, once = _vars.once, snap3 = _vars.snap, pinReparent = _vars.pinReparent, isToggle = !scrub && scrub !== 0, scroller = _toArray(vars.scroller || _win3)[0], scrollerCache = gsap2.core.getCache(scroller), isViewport = _isViewport(scroller), useFixedPosition = "pinType" in vars ? vars.pinType === "fixed" : isViewport || _getProxyProp(scroller, "pinType") === "fixed", callbacks = [vars.onEnter, vars.onLeave, vars.onEnterBack, vars.onLeaveBack], toggleActions = isToggle && vars.toggleActions.split(" "), markers = "markers" in vars ? vars.markers : _defaults2.markers, borderWidth = isViewport ? 0 : parseFloat(_getComputedStyle(scroller)["border" + direction.p2 + _Width]) || 0, self = this, onRefreshInit = vars.onRefreshInit && function() {
        return vars.onRefreshInit(self);
      }, getScrollerSize = _getSizeFunc(scroller, isViewport, direction), getScrollerOffsets = _getOffsetsFunc(scroller, isViewport), tweenTo, pinCache, snapFunc, isReverted, scroll1, scroll2, start, end, markerStart, markerEnd, markerStartTrigger, markerEndTrigger, markerVars, change, pinOriginalState, pinActiveState, pinState, spacer, offset, pinGetter, pinSetter, pinStart, pinChange, spacingStart, spacerState, markerStartSetter, markerEndSetter, cs, snap1, snap22, scrubTween, scrubSmooth, snapDurClamp, snapDelayedCall, prevProgress, prevScroll, prevAnimProgress;
      self.media = _creatingMedia;
      anticipatePin *= 45;
      _triggers.push(self);
      self.scroller = scroller;
      self.scroll = _getScrollFunc(scroller, direction);
      scroll1 = self.scroll();
      self.vars = vars;
      animation = animation || vars.animation;
      "refreshPriority" in vars && (_sort = 1);
      scrollerCache.tweenScroll = scrollerCache.tweenScroll || {
        top: _getTweenCreator(scroller, _vertical),
        left: _getTweenCreator(scroller, _horizontal)
      };
      self.tweenTo = tweenTo = scrollerCache.tweenScroll[direction.p];
      if (animation) {
        animation.vars.lazy = false;
        animation._initted || animation.vars.immediateRender !== false && vars.immediateRender !== false && animation.render(0, true, true);
        self.animation = animation.pause();
        animation.scrollTrigger = self;
        scrubSmooth = _isNumber3(scrub) && scrub;
        scrubSmooth && (scrubTween = gsap2.to(animation, {
          ease: "power3",
          duration: scrubSmooth,
          onComplete: function onComplete() {
            return onScrubComplete && onScrubComplete(self);
          }
        }));
        snap1 = 0;
        id || (id = animation.vars.id);
      }
      if (snap3) {
        _isObject3(snap3) || (snap3 = {
          snapTo: snap3
        });
        gsap2.set(isViewport ? [_body, _docEl] : scroller, {
          scrollBehavior: "auto"
        });
        snapFunc = _isFunction3(snap3.snapTo) ? snap3.snapTo : snap3.snapTo === "labels" ? _getLabels(animation) : gsap2.utils.snap(snap3.snapTo);
        snapDurClamp = snap3.duration || {
          min: 0.1,
          max: 2
        };
        snapDurClamp = _isObject3(snapDurClamp) ? _clamp3(snapDurClamp.min, snapDurClamp.max) : _clamp3(snapDurClamp, snapDurClamp);
        snapDelayedCall = gsap2.delayedCall(snap3.delay || scrubSmooth / 2 || 0.1, function() {
          if (Math.abs(self.getVelocity()) < 10 && !_pointerIsDown) {
            var totalProgress = animation && !isToggle ? animation.totalProgress() : self.progress, velocity = (totalProgress - snap22) / (_getTime() - _time2) * 1e3 || 0, change1 = _abs(velocity / 2) * velocity / 0.185, naturalEnd = totalProgress + change1, endValue = _clamp3(0, 1, snapFunc(naturalEnd, self)), scroll = self.scroll(), endScroll = Math.round(start + endValue * change), tween = tweenTo.tween;
            if (scroll <= end && scroll >= start && endScroll !== scroll) {
              if (tween && !tween._initted && tween.data <= Math.abs(endScroll - scroll)) {
                return;
              }
              tweenTo(endScroll, {
                duration: snapDurClamp(_abs(Math.max(_abs(naturalEnd - totalProgress), _abs(endValue - totalProgress)) * 0.185 / velocity / 0.05 || 0)),
                ease: snap3.ease || "power3",
                data: Math.abs(endScroll - scroll),
                // record the distance so that if another snap tween occurs (conflict) we can prioritize the closest snap.
                onComplete: function onComplete() {
                  snap1 = snap22 = animation && !isToggle ? animation.totalProgress() : self.progress;
                  onSnapComplete && onSnapComplete(self);
                }
              }, scroll, change1 * change, endScroll - scroll - change1 * change);
            }
          } else if (self.isActive) {
            snapDelayedCall.restart(true);
          }
        }).pause();
      }
      id && (_ids[id] = self);
      trigger = self.trigger = _toArray(trigger || pin)[0];
      pin = pin === true ? trigger : _toArray(pin)[0];
      _isString3(toggleClass) && (toggleClass = {
        targets: trigger,
        className: toggleClass
      });
      if (pin) {
        pinSpacing === false || pinSpacing === _margin || (pinSpacing = !pinSpacing && _getComputedStyle(pin.parentNode).display === "flex" ? false : _padding);
        self.pin = pin;
        vars.force3D !== false && gsap2.set(pin, {
          force3D: true
        });
        pinCache = gsap2.core.getCache(pin);
        if (!pinCache.spacer) {
          pinCache.spacer = spacer = _doc3.createElement("div");
          spacer.setAttribute("class", "pin-spacer" + (id ? " pin-spacer-" + id : ""));
          pinCache.pinState = pinOriginalState = _getState(pin);
        } else {
          pinOriginalState = pinCache.pinState;
        }
        self.spacer = spacer = pinCache.spacer;
        cs = _getComputedStyle(pin);
        spacingStart = cs[pinSpacing + direction.os2];
        pinGetter = gsap2.getProperty(pin);
        pinSetter = gsap2.quickSetter(pin, direction.a, _px);
        _swapPinIn(pin, spacer, cs);
        pinState = _getState(pin);
      }
      if (markers) {
        markerVars = _isObject3(markers) ? _setDefaults3(markers, _markerDefaults) : _markerDefaults;
        markerStartTrigger = _createMarker("scroller-start", id, scroller, direction, markerVars, 0);
        markerEndTrigger = _createMarker("scroller-end", id, scroller, direction, markerVars, 0, markerStartTrigger);
        offset = markerStartTrigger["offset" + direction.op.d2];
        markerStart = _createMarker("start", id, scroller, direction, markerVars, offset);
        markerEnd = _createMarker("end", id, scroller, direction, markerVars, offset);
        if (!useFixedPosition) {
          _makePositionable(scroller);
          gsap2.set([markerStartTrigger, markerEndTrigger], {
            force3D: true
          });
          markerStartSetter = gsap2.quickSetter(markerStartTrigger, direction.a, _px);
          markerEndSetter = gsap2.quickSetter(markerEndTrigger, direction.a, _px);
        }
      }
      self.revert = function(revert) {
        var r = revert !== false || !self.enabled, prevRefreshing = _refreshing;
        if (r !== isReverted) {
          if (r) {
            prevScroll = Math.max(self.scroll(), self.scroll.rec || 0);
            prevProgress = self.progress;
            prevAnimProgress = animation && animation.progress();
          }
          markerStart && [markerStart, markerEnd, markerStartTrigger, markerEndTrigger].forEach(function(m) {
            return m.style.display = r ? "none" : "block";
          });
          r && (_refreshing = 1);
          self.update(r);
          _refreshing = prevRefreshing;
          pin && (r ? _swapPinOut(pin, spacer, pinOriginalState) : (!pinReparent || !self.isActive) && _swapPinIn(pin, spacer, _getComputedStyle(pin), spacerState));
          isReverted = r;
        }
      };
      self.refresh = function(soft) {
        if (_refreshing || !self.enabled) {
          return;
        }
        if (pin && soft && _lastScrollTime) {
          _addListener(ScrollTrigger2, "scrollEnd", _softRefresh);
          return;
        }
        _refreshing = 1;
        scrubTween && scrubTween.kill();
        invalidateOnRefresh && animation && animation.progress(0).invalidate();
        isReverted || self.revert();
        var size = getScrollerSize(), scrollerBounds = getScrollerOffsets(), max = _maxScroll(scroller, direction), offset2 = 0, otherPinOffset = 0, parsedEnd = vars.end, parsedEndTrigger = vars.endTrigger || trigger, parsedStart = vars.start || (vars.start === 0 ? 0 : pin || !trigger ? "0 0" : "0 100%"), triggerIndex = trigger && Math.max(0, _triggers.indexOf(self)) || 0, i = triggerIndex, cs2, bounds, scroll, isVertical, override, curTrigger, curPin, oppositeScroll;
        while (i--) {
          curPin = _triggers[i].pin;
          curPin && (curPin === trigger || curPin === pin) && _triggers[i].revert();
        }
        start = _parsePosition3(parsedStart, trigger, size, direction, self.scroll(), markerStart, markerStartTrigger, self, scrollerBounds, borderWidth, useFixedPosition, max) || (pin ? -1e-3 : 0);
        _isFunction3(parsedEnd) && (parsedEnd = parsedEnd(self));
        if (_isString3(parsedEnd) && !parsedEnd.indexOf("+=")) {
          if (~parsedEnd.indexOf(" ")) {
            parsedEnd = (_isString3(parsedStart) ? parsedStart.split(" ")[0] : "") + parsedEnd;
          } else {
            offset2 = _offsetToPx(parsedEnd.substr(2), size);
            parsedEnd = _isString3(parsedStart) ? parsedStart : start + offset2;
            parsedEndTrigger = trigger;
          }
        }
        end = Math.max(start, _parsePosition3(parsedEnd || (parsedEndTrigger ? "100% 0" : max), parsedEndTrigger, size, direction, self.scroll() + offset2, markerEnd, markerEndTrigger, self, scrollerBounds, borderWidth, useFixedPosition, max)) || -1e-3;
        change = end - start || (start -= 0.01) && 1e-3;
        offset2 = 0;
        i = triggerIndex;
        while (i--) {
          curTrigger = _triggers[i];
          curPin = curTrigger.pin;
          if (curPin && curTrigger.start - curTrigger._pinPush < start) {
            cs2 = curTrigger.end - curTrigger.start;
            curPin === trigger && (offset2 += cs2);
            curPin === pin && (otherPinOffset += cs2);
          }
        }
        start += offset2;
        end += offset2;
        self._pinPush = otherPinOffset;
        if (markerStart && offset2) {
          cs2 = {};
          cs2[direction.a] = "+=" + offset2;
          gsap2.set([markerStart, markerEnd], cs2);
        }
        if (pin) {
          cs2 = _getComputedStyle(pin);
          isVertical = direction === _vertical;
          scroll = self.scroll();
          pinStart = parseFloat(pinGetter(direction.a)) + otherPinOffset;
          !max && end > 1 && ((isViewport ? _body : scroller).style["overflow-" + direction.a] = "scroll");
          _swapPinIn(pin, spacer, cs2);
          pinState = _getState(pin);
          bounds = _getBounds(pin, true);
          oppositeScroll = useFixedPosition && _getScrollFunc(scroller, isVertical ? _horizontal : _vertical)();
          if (pinSpacing) {
            spacerState = [pinSpacing + direction.os2, change + otherPinOffset + _px];
            spacerState.t = spacer;
            i = pinSpacing === _padding ? _getSize(pin, direction) + change + otherPinOffset : 0;
            i && spacerState.push(direction.d, i + _px);
            _setState(spacerState);
            useFixedPosition && self.scroll(prevScroll);
          }
          if (useFixedPosition) {
            override = {
              top: bounds.top + (isVertical ? scroll - start : oppositeScroll) + _px,
              left: bounds.left + (isVertical ? oppositeScroll : scroll - start) + _px,
              boxSizing: "border-box",
              position: "fixed"
            };
            override[_width] = override["max" + _Width] = Math.ceil(bounds.width) + _px;
            override[_height] = override["max" + _Height] = Math.ceil(bounds.height) + _px;
            override[_margin] = override[_margin + _Top] = override[_margin + _Right] = override[_margin + _Bottom] = override[_margin + _Left] = "0";
            override[_padding] = cs2[_padding];
            override[_padding + _Top] = cs2[_padding + _Top];
            override[_padding + _Right] = cs2[_padding + _Right];
            override[_padding + _Bottom] = cs2[_padding + _Bottom];
            override[_padding + _Left] = cs2[_padding + _Left];
            pinActiveState = _copyState(pinOriginalState, override, pinReparent);
          }
          if (animation) {
            animation.progress(1, true);
            pinChange = pinGetter(direction.a) - pinStart + change + otherPinOffset;
            change !== pinChange && pinActiveState.splice(pinActiveState.length - 2, 2);
            animation.progress(0, true);
          } else {
            pinChange = change;
          }
        } else if (trigger && self.scroll()) {
          bounds = trigger.parentNode;
          while (bounds && bounds !== _body) {
            if (bounds._pinOffset) {
              start -= bounds._pinOffset;
              end -= bounds._pinOffset;
            }
            bounds = bounds.parentNode;
          }
        }
        for (i = 0; i < triggerIndex; i++) {
          curTrigger = _triggers[i].pin;
          curTrigger && (curTrigger === trigger || curTrigger === pin) && _triggers[i].revert(false);
        }
        self.start = start;
        self.end = end;
        scroll1 = scroll2 = self.scroll();
        scroll1 < prevScroll && self.scroll(prevScroll);
        self.revert(false);
        _refreshing = 0;
        prevAnimProgress && isToggle && animation.progress(prevAnimProgress, true);
        if (prevProgress !== self.progress) {
          scrubTween && animation.totalProgress(prevProgress, true);
          self.progress = prevProgress;
          self.update();
        }
        pin && pinSpacing && (spacer._pinOffset = Math.round(self.progress * pinChange));
        onRefresh && onRefresh(self);
      };
      self.getVelocity = function() {
        return (self.scroll() - scroll2) / (_getTime() - _time2) * 1e3 || 0;
      };
      self.update = function(reset, recordVelocity) {
        var scroll = self.scroll(), p = reset ? 0 : (scroll - start) / change, clipped = p < 0 ? 0 : p > 1 ? 1 : p || 0, prevProgress2 = self.progress, isActive, wasActive, toggleState, action, stateChanged, toggled;
        if (recordVelocity) {
          scroll2 = scroll1;
          scroll1 = scroll;
          if (snap3) {
            snap22 = snap1;
            snap1 = animation && !isToggle ? animation.totalProgress() : clipped;
          }
        }
        anticipatePin && !clipped && pin && !_refreshing && !_startup && _lastScrollTime && start < scroll + (scroll - scroll2) / (_getTime() - _time2) * anticipatePin && (clipped = 1e-4);
        if (clipped !== prevProgress2 && self.enabled) {
          isActive = self.isActive = !!clipped && clipped < 1;
          wasActive = !!prevProgress2 && prevProgress2 < 1;
          toggled = isActive !== wasActive;
          stateChanged = toggled || !!clipped !== !!prevProgress2;
          self.direction = clipped > prevProgress2 ? 1 : -1;
          self.progress = clipped;
          if (!isToggle) {
            if (scrubTween && !_refreshing && !_startup) {
              scrubTween.vars.totalProgress = clipped;
              scrubTween.invalidate().restart();
            } else if (animation) {
              animation.totalProgress(clipped, !!_refreshing);
            }
          }
          if (pin) {
            reset && pinSpacing && (spacer.style[pinSpacing + direction.os2] = spacingStart);
            if (!useFixedPosition) {
              pinSetter(pinStart + pinChange * clipped);
            } else if (stateChanged) {
              action = !reset && clipped > prevProgress2 && end + 1 > scroll && scroll + 1 >= _maxScroll(scroller, direction);
              if (pinReparent) {
                if (!reset && (isActive || action)) {
                  var bounds = _getBounds(pin, true), _offset = scroll - start;
                  _reparent(pin, _body, bounds.top + (direction === _vertical ? _offset : 0) + _px, bounds.left + (direction === _vertical ? 0 : _offset) + _px);
                } else {
                  _reparent(pin, spacer);
                }
              }
              _setState(isActive || action ? pinActiveState : pinState);
              pinChange !== change && clipped < 1 && isActive || pinSetter(pinStart + (clipped === 1 && !action ? pinChange : 0));
            }
          }
          snap3 && !tweenTo.tween && !_refreshing && !_startup && snapDelayedCall.restart(true);
          toggleClass && (toggled || once && clipped && (clipped < 1 || !_limitCallbacks)) && _toArray(toggleClass.targets).forEach(function(el) {
            return el.classList[isActive || once ? "add" : "remove"](toggleClass.className);
          });
          onUpdate && !isToggle && !reset && onUpdate(self);
          if (stateChanged && !_refreshing) {
            toggleState = clipped && !prevProgress2 ? 0 : clipped === 1 ? 1 : prevProgress2 === 1 ? 2 : 3;
            if (isToggle) {
              action = !toggled && toggleActions[toggleState + 1] !== "none" && toggleActions[toggleState + 1] || toggleActions[toggleState];
              if (animation && (action === "complete" || action === "reset" || action in animation)) {
                if (action === "complete") {
                  animation.pause().totalProgress(1);
                } else if (action === "reset") {
                  animation.restart(true).pause();
                } else {
                  animation[action]();
                }
              }
              onUpdate && onUpdate(self);
            }
            if (toggled || !_limitCallbacks) {
              onToggle && toggled && onToggle(self);
              callbacks[toggleState] && callbacks[toggleState](self);
              once && (clipped === 1 ? self.kill(false, 1) : callbacks[toggleState] = 0);
              if (!toggled) {
                toggleState = clipped === 1 ? 1 : 3;
                callbacks[toggleState] && callbacks[toggleState](self);
              }
            }
          } else if (isToggle && onUpdate && !_refreshing) {
            onUpdate(self);
          }
        }
        if (markerEndSetter) {
          markerStartSetter(scroll + (markerStartTrigger._isFlipped ? 1 : 0));
          markerEndSetter(scroll);
        }
      };
      self.enable = function() {
        if (!self.enabled) {
          self.enabled = true;
          _addListener(scroller, "resize", _onResize);
          _addListener(scroller, "scroll", _onScroll);
          onRefreshInit && _addListener(ScrollTrigger2, "refreshInit", onRefreshInit);
          !animation || !animation.add ? self.refresh() : gsap2.delayedCall(0.01, function() {
            return start || end || self.refresh();
          }) && (change = 0.01) && (start = end = 0);
        }
      };
      self.disable = function(reset, allowAnimation) {
        if (self.enabled) {
          reset !== false && self.revert();
          self.enabled = self.isActive = false;
          allowAnimation || scrubTween && scrubTween.pause();
          prevScroll = 0;
          pinCache && (pinCache.uncache = 1);
          onRefreshInit && _removeListener(ScrollTrigger2, "refreshInit", onRefreshInit);
          if (snapDelayedCall) {
            snapDelayedCall.pause();
            tweenTo.tween && tweenTo.tween.kill() && (tweenTo.tween = 0);
          }
          if (!isViewport) {
            var i = _triggers.length;
            while (i--) {
              if (_triggers[i].scroller === scroller && _triggers[i] !== self) {
                return;
              }
            }
            _removeListener(scroller, "resize", _onResize);
            _removeListener(scroller, "scroll", _onScroll);
          }
        }
      };
      self.kill = function(revert, allowAnimation) {
        self.disable(revert, allowAnimation);
        id && delete _ids[id];
        var i = _triggers.indexOf(self);
        _triggers.splice(i, 1);
        i === _i && _direction > 0 && _i--;
        if (animation) {
          animation.scrollTrigger = null;
          revert && animation.render(-1);
          allowAnimation || animation.kill();
        }
        markerStart && [markerStart, markerEnd, markerStartTrigger, markerEndTrigger].forEach(function(m) {
          return m.parentNode.removeChild(m);
        });
        pinCache && (pinCache.uncache = 1);
      };
      self.enable();
    };
    ScrollTrigger2.register = function register(core) {
      if (!_coreInitted2) {
        gsap2 = core || _getGSAP();
        if (_windowExists5() && window.document) {
          _win3 = window;
          _doc3 = document;
          _docEl = _doc3.documentElement;
          _body = _doc3.body;
        }
        if (gsap2) {
          _toArray = gsap2.utils.toArray;
          _clamp3 = gsap2.utils.clamp;
          gsap2.core.globals("ScrollTrigger", ScrollTrigger2);
          if (_body) {
            _raf = _win3.requestAnimationFrame || function(f) {
              return setTimeout(f, 16);
            };
            _addListener(_win3, "mousewheel", _onScroll);
            _root = [_win3, _doc3, _docEl, _body];
            _addListener(_doc3, "scroll", _onScroll);
            var bodyStyle = _body.style, border = bodyStyle.borderTop, bounds;
            bodyStyle.borderTop = "1px solid #000";
            bounds = _getBounds(_body);
            _vertical.m = Math.round(bounds.top + _vertical.sc()) || 0;
            _horizontal.m = Math.round(bounds.left + _horizontal.sc()) || 0;
            border ? bodyStyle.borderTop = border : bodyStyle.removeProperty("border-top");
            _syncInterval = setInterval(_sync, 200);
            gsap2.delayedCall(0.5, function() {
              return _startup = 0;
            });
            _addListener(_doc3, "touchcancel", _passThrough3);
            _addListener(_body, "touchstart", _passThrough3);
            _multiListener(_addListener, _doc3, "pointerdown,touchstart,mousedown", function() {
              return _pointerIsDown = 1;
            });
            _multiListener(_addListener, _doc3, "pointerup,touchend,mouseup", function() {
              return _pointerIsDown = 0;
            });
            _transformProp2 = gsap2.utils.checkPrefix("transform");
            _stateProps.push(_transformProp2);
            _coreInitted2 = _getTime();
            _resizeDelay = gsap2.delayedCall(0.2, _refreshAll).pause();
            _autoRefresh = [_doc3, "visibilitychange", function() {
              var w = _win3.innerWidth, h = _win3.innerHeight;
              if (_doc3.hidden) {
                _prevWidth = w;
                _prevHeight = h;
              } else if (_prevWidth !== w || _prevHeight !== h) {
                _onResize();
              }
            }, _doc3, "DOMContentLoaded", _refreshAll, _win3, "load", function() {
              return _lastScrollTime || _refreshAll();
            }, _win3, "resize", _onResize];
            _iterateAutoRefresh(_addListener);
          }
        }
      }
      return _coreInitted2;
    };
    ScrollTrigger2.defaults = function defaults2(config3) {
      for (var p in config3) {
        _defaults2[p] = config3[p];
      }
    };
    ScrollTrigger2.kill = function kill() {
      _enabled = 0;
      _triggers.slice(0).forEach(function(trigger) {
        return trigger.kill(1);
      });
    };
    ScrollTrigger2.config = function config3(vars) {
      "limitCallbacks" in vars && (_limitCallbacks = !!vars.limitCallbacks);
      var ms = vars.syncInterval;
      ms && clearInterval(_syncInterval) || (_syncInterval = ms) && setInterval(_sync, ms);
      "autoRefreshEvents" in vars && (_iterateAutoRefresh(_removeListener) || _iterateAutoRefresh(_addListener, vars.autoRefreshEvents || "none"));
    };
    ScrollTrigger2.scrollerProxy = function scrollerProxy(target, vars) {
      var t = _toArray(target)[0];
      _isViewport(t) ? _proxies.unshift(_win3, vars, _body, vars, _docEl, vars) : _proxies.unshift(t, vars);
    };
    ScrollTrigger2.matchMedia = function matchMedia(vars) {
      var mq, p, i, func, result;
      for (p in vars) {
        i = _media.indexOf(p);
        func = vars[p];
        _creatingMedia = p;
        if (p === "all") {
          func();
        } else {
          mq = _win3.matchMedia(p);
          if (mq) {
            mq.matches && (result = func());
            if (~i) {
              _media[i + 1] = _combineFunc(_media[i + 1], func);
              _media[i + 2] = _combineFunc(_media[i + 2], result);
            } else {
              i = _media.length;
              _media.push(p, func, result);
              mq.addListener ? mq.addListener(_onMediaChange) : mq.addEventListener("change", _onMediaChange);
            }
            _media[i + 3] = mq.matches;
          }
        }
        _creatingMedia = 0;
      }
      return _media;
    };
    ScrollTrigger2.clearMatchMedia = function clearMatchMedia(query) {
      query || (_media.length = 0);
      query = _media.indexOf(query);
      query >= 0 && _media.splice(query, 4);
    };
    return ScrollTrigger2;
  }();
  ScrollTrigger.version = "3.5.1";
  ScrollTrigger.saveStyles = function(targets) {
    return targets ? _toArray(targets).forEach(function(target) {
      var i = _savedStyles.indexOf(target);
      i >= 0 && _savedStyles.splice(i, 4);
      _savedStyles.push(target, target.style.cssText, gsap2.core.getCache(target), _creatingMedia);
    }) : _savedStyles;
  };
  ScrollTrigger.revert = function(soft, media) {
    return _revertAll(!soft, media);
  };
  ScrollTrigger.create = function(vars, animation) {
    return new ScrollTrigger(vars, animation);
  };
  ScrollTrigger.refresh = function(safe) {
    return safe ? _onResize() : _refreshAll(true);
  };
  ScrollTrigger.update = _updateAll;
  ScrollTrigger.maxScroll = function(element, horizontal) {
    return _maxScroll(element, horizontal ? _horizontal : _vertical);
  };
  ScrollTrigger.getScrollFunc = function(element, horizontal) {
    return _getScrollFunc(_toArray(element)[0], horizontal ? _horizontal : _vertical);
  };
  ScrollTrigger.getById = function(id) {
    return _ids[id];
  };
  ScrollTrigger.getAll = function() {
    return _triggers.slice(0);
  };
  ScrollTrigger.isScrolling = function() {
    return !!_lastScrollTime;
  };
  ScrollTrigger.addEventListener = function(type, callback2) {
    var a = _listeners[type] || (_listeners[type] = []);
    ~a.indexOf(callback2) || a.push(callback2);
  };
  ScrollTrigger.removeEventListener = function(type, callback2) {
    var a = _listeners[type], i = a && a.indexOf(callback2);
    i >= 0 && a.splice(i, 1);
  };
  ScrollTrigger.batch = function(targets, vars) {
    var result = [], varsCopy = {}, interval = vars.interval || 0.016, batchMax = vars.batchMax || 1e9, proxyCallback = function proxyCallback2(type, callback2) {
      var elements = [], triggers = [], delay = gsap2.delayedCall(interval, function() {
        callback2(elements, triggers);
        elements = [];
        triggers = [];
      }).pause();
      return function(self) {
        elements.length || delay.restart(true);
        elements.push(self.trigger);
        triggers.push(self);
        batchMax <= elements.length && delay.progress(1);
      };
    }, p;
    for (p in vars) {
      varsCopy[p] = p.substr(0, 2) === "on" && _isFunction3(vars[p]) && p !== "onRefreshInit" ? proxyCallback(p, vars[p]) : vars[p];
    }
    if (_isFunction3(batchMax)) {
      batchMax = batchMax();
      _addListener(ScrollTrigger, "refresh", function() {
        return batchMax = vars.batchMax();
      });
    }
    _toArray(targets).forEach(function(target) {
      var config3 = {};
      for (p in varsCopy) {
        config3[p] = varsCopy[p];
      }
      config3.trigger = target;
      result.push(ScrollTrigger.create(config3));
    });
    return result;
  };
  ScrollTrigger.sort = function(func) {
    return _triggers.sort(func || function(a, b) {
      return (a.vars.refreshPriority || 0) * -1e6 + a.start - (b.start + (b.vars.refreshPriority || 0) * -1e6);
    });
  };
  _getGSAP() && gsap2.registerPlugin(ScrollTrigger);

  // src/lib/polyfills.js
  var polyfills = [];
  "fetch" in window || polyfills.push("fetch");
  "Promise" in window || polyfills.push("Promise");
  "IntersectionObserver" in window || polyfills.push("IntersectionObserver");
  "IntersectionObserverEntry" in window || polyfills.push("IntersectionObserverEntry");
  "ResizeObserver" in window || polyfills.push("ResizeObserver");
  "URLSearchParams" in window || polyfills.push("URLSearchParams");
  "requestIdleCallback" in window || polyfills.push("requestIdleCallback");
  "assign" in Object || polyfills.push("Object.assign");
  "from" in Array || polyfills.push("Array.from");
  "find" in Array.prototype || polyfills.push("Array.prototype.find");
  "includes" in Array.prototype || polyfills.push("Array.prototype.includes");
  "forEach" in NodeList.prototype || polyfills.push("NodeList.prototype.forEach");
  "closest" in Element.prototype || polyfills.push("Element.prototype.closest");
  "prepend" in Element.prototype || polyfills.push("Element.prototype.prepend");
  "append" in Element.prototype || polyfills.push("Element.prototype.append");
  "remove" in Element.prototype || polyfills.push("Element.prototype.remove");
  var polyfills_default = polyfills;

  // src/modules/accordion.js
  function accordion_default(node) {
    const props = toJSON(node.dataset.props || "");
    const items = findAll(".accordion-heading", node).map((el) => {
      const trigger = el.firstElementChild;
      const content = el.nextElementSibling;
      return { trigger, content, expanded: false };
    });
    function expand(item) {
      attr(item.trigger, "aria-expanded", "true");
      attr(item.content, "aria-hidden", "false");
      item.expanded = true;
    }
    function collapse(item) {
      attr(item.trigger, "aria-expanded", "false");
      attr(item.content, "aria-hidden", "true");
      item.expanded = false;
    }
    function click(event) {
      const item = items.find((item2) => item2.trigger === event.target);
      if (!item)
        return;
      if (!props.multiple)
        items.filter((o) => o.expanded && o !== item).forEach(collapse);
      item.expanded ? collapse(item) : expand(item);
      resize();
    }
    function resize() {
      items.forEach(({ expanded, content }) => {
        content.style.maxHeight = expanded ? `${content.scrollHeight}px` : null;
      });
    }
    if (items[props.initial]) {
      expand(items[props.initial]);
    }
    node.addEventListener("click", click);
    window.addEventListener("resize", resize);
    resize();
    return () => {
      node.removeEventListener("click", click);
      window.removeEventListener("resize", resize);
    };
  }

  // src/modules/lazyload.js
  var io;
  function lazyload_default(node) {
    io != null ? io : io = new IntersectionObserver(callback, { rootMargin: "100%" });
    io.observe(node);
    return () => io.unobserve(node);
  }
  function callback(entries) {
    entries.forEach((e) => e.isIntersecting && load(e.target));
  }
  function load(el) {
    const { src, srcset, sizes } = el.dataset;
    el.removeAttribute("data-src");
    io.unobserve(el);
    switch (el.tagName.toLowerCase()) {
      case "img":
      case "video":
      case "iframe":
        el.src = src;
        if (srcset) {
          el.srcset = srcset;
          el.removeAttribute("data-srcset");
        }
        if (sizes) {
          el.sizes = sizes;
          el.removeAttribute("data-sizes");
        }
        break;
      default:
        el.style.backgroundImage = `url(${src})`;
    }
  }

  // src/lib/Component.js
  var Component_default = class {
    constructor(el) {
      bind(this);
      this.el = isString(el) ? findOne(el) : el;
      this.ui = {};
      const props = this.el.dataset.props;
      this.props = props ? toJSON(props) : {};
    }
    get width() {
      return this.el.offsetWidth;
    }
    get height() {
      return this.el.offsetHeight;
    }
    findOne(s) {
      return findOne(s, this.el);
    }
    findAll(s) {
      return findAll(s, this.el);
    }
    destroy() {
    }
  };

  // src/modules/Hero.js
  var Hero_default = class extends Component_default {
    constructor(el) {
      super(el);
      console.log("Hero", this.props);
      const video = html`<video src="${this.props.video}" class="fill pin fit-cover" loop muted autoplay playsinline></video>`;
      this.el.prepend(video);
    }
    destroy() {
    }
  };

  // src/modules/Nav.js
  var Nav_default = class extends Component_default {
    constructor(el) {
      super(el);
      on("click", ".nav-toggle", this.onToggleClick);
      on("click", ".nav-item.has-submenu > :where(a, button)", this.onItemClick);
      document.addEventListener("click", this.onClickOutside);
    }
    onItemClick(event) {
      event.preventDefault();
      const button = event.target;
      const active = attr(button, "aria-expanded") === "true";
      attr(button, "aria-expanded", active ? "false" : "true");
      this.current && attr(this.current, "aria-expanded", "false");
      this.current = active ? null : button;
    }
    onToggleClick(event) {
      const expanded = attr(event.target, "aria-expanded") === "true";
      attr(event.target, "aria-expanded", expanded ? "false" : "true");
    }
    onClickOutside(event) {
      if (!this.current || event.target.closest(".nav-item"))
        return;
      attr(this.current, "aria-expanded", "false");
      this.current = null;
    }
  };

  // src/modules/index.js
  var modules_default = {
    ".nav": Nav_default,
    ".hero": Hero_default,
    ".accordion": accordion_default,
    "[data-src]": lazyload_default
  };

  // src/lib/mount.js
  function mount_default(modules, parent = document) {
    Object.entries(modules).forEach(([selector, module]) => {
      const invoke = isClass(module) ? (node) => new module(node) : (node) => module.call(node, node);
      findAll(selector, parent).forEach(invoke);
    });
  }

  // src/index.js
  var import_isotope_layout = __toESM(require_isotope());

  // src/lib/hello.js
  navigator.userAgent.toLowerCase().match(/chrome|firefox/) ? console.log.apply(console, [
    "\n%c  Site by TMBR  %c  https://wearetmbr.com  \n",
    "display: inline-block; color: #FFFFFF; background: #FF6600; font-size: 11px; line-height: 25px; font-weight: bold;",
    "display: inline-block; color: #FFFFFF; background: #23221F; font-size: 11px; line-height: 25px;"
  ]) : console.log("Site by TMBR \u2022 https://wearetmbr.com");

  // src/lib/icons.js
  var svg = findOne("svg[data-icons]");
  var ids = svg.innerHTML.match(/id="icon:[a-z0-9-]+/g).map((s) => s.replace('id="icon:', ""));
  window.site.icons = ids.reduce((result, key) => {
    result[key] = `<svg class="icon icon:${key}"><use xlink:href="#icon:${key}"></use></svg>`;
    return result;
  }, {});

  // src/modules/sliders.js
  jQuery(function($2) {
    $2(".js-hero-slider").each(function(elem) {
      $2(this).slick({
        autoplay: true,
        fade: true,
        autoplaySpeed: 1e4,
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false,
        dots: false
      });
    });
    $2(".js-carousel").each(function(elem) {
      $2(this).slick({
        autoplay: true,
        autoplaySpeed: 6e3,
        arrows: false,
        dots: false,
        slidesToShow: 1,
        centerMode: true,
        centerPadding: "300px",
        responsive: [
          {
            breakpoint: 968,
            settings: {
              slidesToShow: 1,
              centerPadding: "20px"
            }
          }
        ]
      });
    });
  });

  // src/index.js
  gsapWithCSS.registerPlugin(ScrollTrigger);
  console.log("jQuery", window.jQuery === window.$);
  jQuery(function($2) {
    console.log("jQuery", $2.fn.jquery);
  });
  var html2 = document.documentElement;
  var body = document.body;
  function init4() {
    const mq = window.matchMedia("(hover: none), (pointer: coarse)");
    html2.classList.add(mq.matches ? "has-touch" : "has-hover");
    html2.classList.replace("loading", "loaded");
    const banner = findOne(".site-banner");
    const header = findOne(".site-header");
    ro(body, () => {
      prop(html2, "--vh", `${window.innerHeight * 0.01}px`);
      prop(html2, "--banner-height", `${banner ? banner.offsetHeight : 0}px`);
      prop(html2, "--header-height", `${header ? header.offsetHeight : 0}px`);
    });
    mount_default(modules_default);
  }
  if (polyfills_default.length) {
    const script = document.createElement("script");
    script.src = `https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=${polyfills_default.join(",")}&flags=gated&ua=${window.navigator.userAgent}`;
    script.onload = init4;
    body.appendChild(script);
  } else {
    init4();
  }
  jQuery(document).ready(function($2) {
    $2(".internal-template").scroll(function() {
      if ($2(".internal-template").scrollTop() > 30) {
        $2(".js-nav-scroll").addClass("scrolled");
      } else {
        $2(".js-nav-scroll").removeClass("scrolled");
      }
    });
    $2('.content iframe[src*="youtube"],iframe[src*="vimeo"]').wrap("<div class='video-frame'/>");
    $2(".js-hamburger-toggle").on("click", function(e) {
      e.preventDefault();
      $2(".navbar-hamburger").toggleClass("-collapsed");
      $2(".navbar-menu").toggleClass("-open");
    });
    if ($2(window).width() > 992) {
      $2(".parent-menu > .menu-item-has-children > a").on("click", function(e) {
        if ($2(this).parent().hasClass("-open")) {
        } else {
          e.preventDefault();
          $2(".sub-menu").removeClass("-open");
          $2(".menu-item-has-children").removeClass("-open");
          $2(this).toggleClass("-open");
          $2(this).parent().toggleClass("-open");
          $2(this).parent().children("ul").toggleClass("-open");
        }
      });
    }
    $2(".js-flex-gallery-img").magnificPopup({
      type: "image",
      gallery: {
        enabled: true
      },
      titleSrc: function(item) {
        return item.el.attr("title");
      }
    });
    $2("a").each(function() {
      var a = new RegExp("/" + window.location.host + "/");
      if (!a.test(this.href)) {
        $2(this).attr("target", "_blank");
      }
    });
    var warp = $2("#image-warp");
    if (warp.length > 0) {
      let hoverImage = function() {
        let parent = document.getElementById("image-warp");
        let overlay = document.getElementById("overlay");
        let background = document.getElementById("background");
        const overlayH = overlay.clientHeight;
        const overlayW = overlay.clientWidth;
        const bgH = background.clientHeight;
        const bgW = background.clientWidth;
        parent.addEventListener("mousemove", handleOverlay);
        parent.addEventListener("mousemove", handleBackground);
        function handleOverlay(e) {
          const oxVal = e.layerX;
          const oyVal = e.layerY;
          const oyRotation = 6 * ((oxVal - overlayW / 2) / overlayW);
          const oxRotation = -6 * ((oyVal - overlayH / 2) / overlayH);
          const ostring = "perspective(500px) scale(1.1) rotateX(" + oxRotation + "deg) rotateY(" + oyRotation + "deg)";
          overlay.style.transform = ostring;
        }
        function handleBackground(e) {
          const bxVal = e.layerX;
          const byVal = e.layerY;
          const byRotation = 3 * ((bxVal - bgW / 2) / bgW);
          const bxRotation = -3 * ((byVal - bgH / 2) / bgH);
          const bstring = "perspective(500px) scale(1.1) rotateX(" + bxRotation + "deg) rotateY(" + byRotation + "deg)";
          background.style.transform = bstring;
        }
        parent.addEventListener("mouseout", function() {
          overlay.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
          background.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
        });
        parent.addEventListener("mousedown", function() {
          overlay.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
          background.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
        });
        parent.addEventListener("mouseup", function() {
          overlay.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
          background.style.transform = "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
        });
      };
      ;
      hoverImage();
    }
  });
  $(window).on("load", function() {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        entry.isIntersecting && requestAnimationFrame(() => {
          entry.target.classList.add("animate");
          observer.unobserve(entry.target);
        });
      });
    });
    findAll("[data-animate]").forEach((el) => {
      observer.observe(el);
    });
    setTimeout(function() {
      $("#site-loader").addClass("-loaded");
    });
    $(".js-mosaic-gallery").each((i, item) => {
      new import_isotope_layout.default(item, {
        itemSelector: ".mosaic-image"
      });
    });
  });
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL2V2LWVtaXR0ZXIvZXYtZW1pdHRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvZ2V0LXNpemUvZ2V0LXNpemUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2Rlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3Rvci5qcyIsICIuLi9ub2RlX21vZHVsZXMvZml6enktdWktdXRpbHMvdXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL291dGxheWVyL2l0ZW0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL291dGxheWVyL291dGxheWVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pc290b3BlLWxheW91dC9qcy9pdGVtLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pc290b3BlLWxheW91dC9qcy9sYXlvdXQtbW9kZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWFzb25yeS1sYXlvdXQvbWFzb25yeS5qcyIsICIuLi9ub2RlX21vZHVsZXMvaXNvdG9wZS1sYXlvdXQvanMvbGF5b3V0LW1vZGVzL21hc29ucnkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2lzb3RvcGUtbGF5b3V0L2pzL2xheW91dC1tb2Rlcy9maXQtcm93cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvaXNvdG9wZS1sYXlvdXQvanMvbGF5b3V0LW1vZGVzL3ZlcnRpY2FsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pc290b3BlLWxheW91dC9qcy9pc290b3BlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvcHJvcC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL3RvSlNPTi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL2lzQm9vbGVhbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL2F0dHIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B0bWJyL3V0aWxzL2xpYi9pc0Z1bmN0aW9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvYmluZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL2lzU3RyaW5nLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvZmluZEFsbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL2ZpbmRPbmUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B0bWJyL3V0aWxzL2xpYi9odG1sLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvaXNDbGFzcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHRtYnIvdXRpbHMvbGliL29uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AdG1ici91dGlscy9saWIvcm8uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2dzYXAvZ3NhcC1jb3JlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9nc2FwL0NTU1BsdWdpbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvZ3NhcC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZ3NhcC9TY3JvbGxUcmlnZ2VyLmpzIiwgIi4uL3NyYy9saWIvcG9seWZpbGxzLmpzIiwgIi4uL3NyYy9tb2R1bGVzL2FjY29yZGlvbi5qcyIsICIuLi9zcmMvbW9kdWxlcy9sYXp5bG9hZC5qcyIsICIuLi9zcmMvbGliL0NvbXBvbmVudC5qcyIsICIuLi9zcmMvbW9kdWxlcy9IZXJvLmpzIiwgIi4uL3NyYy9tb2R1bGVzL05hdi5qcyIsICIuLi9zcmMvbW9kdWxlcy9pbmRleC5qcyIsICIuLi9zcmMvbGliL21vdW50LmpzIiwgIi4uL3NyYy9pbmRleC5qcyIsICIuLi9zcmMvbGliL2hlbGxvLmpzIiwgIi4uL3NyYy9saWIvaWNvbnMuanMiLCAiLi4vc3JjL21vZHVsZXMvc2xpZGVycy5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyoqXG4gKiBFdkVtaXR0ZXIgdjEuMS4wXG4gKiBMaWwnIGV2ZW50IGVtaXR0ZXJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuLyoganNoaW50IHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCB3aW5kb3cgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgLSBSZXF1aXJlSlNcbiAgICBkZWZpbmUoIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBnbG9iYWwuRXZFbWl0dGVyID0gZmFjdG9yeSgpO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbigpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIEV2RW1pdHRlcigpIHt9XG5cbnZhciBwcm90byA9IEV2RW1pdHRlci5wcm90b3R5cGU7XG5cbnByb3RvLm9uID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNldCBldmVudHMgaGFzaFxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgbGlzdGVuZXJzIGFycmF5XG4gIHZhciBsaXN0ZW5lcnMgPSBldmVudHNbIGV2ZW50TmFtZSBdID0gZXZlbnRzWyBldmVudE5hbWUgXSB8fCBbXTtcbiAgLy8gb25seSBhZGQgb25jZVxuICBpZiAoIGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApID09IC0xICkge1xuICAgIGxpc3RlbmVycy5wdXNoKCBsaXN0ZW5lciApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5vbmNlID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGFkZCBldmVudFxuICB0aGlzLm9uKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gIC8vIHNldCBvbmNlIGZsYWdcbiAgLy8gc2V0IG9uY2VFdmVudHMgaGFzaFxuICB2YXIgb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgb25jZUxpc3RlbmVycyBvYmplY3RcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdIHx8IHt9O1xuICAvLyBzZXQgZmxhZ1xuICBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdID0gdHJ1ZTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9mZiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICk7XG4gIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgYXJncyApIHtcbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGNvcHkgb3ZlciB0byBhdm9pZCBpbnRlcmZlcmVuY2UgaWYgLm9mZigpIGluIGxpc3RlbmVyXG4gIGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgwKTtcbiAgYXJncyA9IGFyZ3MgfHwgW107XG4gIC8vIG9uY2Ugc3R1ZmZcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSB0aGlzLl9vbmNlRXZlbnRzICYmIHRoaXMuX29uY2VFdmVudHNbIGV2ZW50TmFtZSBdO1xuXG4gIGZvciAoIHZhciBpPTA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldXG4gICAgdmFyIGlzT25jZSA9IG9uY2VMaXN0ZW5lcnMgJiYgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICBpZiAoIGlzT25jZSApIHtcbiAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lclxuICAgICAgLy8gcmVtb3ZlIGJlZm9yZSB0cmlnZ2VyIHRvIHByZXZlbnQgcmVjdXJzaW9uXG4gICAgICB0aGlzLm9mZiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICAgICAgLy8gdW5zZXQgb25jZSBmbGFnXG4gICAgICBkZWxldGUgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICB9XG4gICAgLy8gdHJpZ2dlciBsaXN0ZW5lclxuICAgIGxpc3RlbmVyLmFwcGx5KCB0aGlzLCBhcmdzICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLmFsbE9mZiA9IGZ1bmN0aW9uKCkge1xuICBkZWxldGUgdGhpcy5fZXZlbnRzO1xuICBkZWxldGUgdGhpcy5fb25jZUV2ZW50cztcbn07XG5cbnJldHVybiBFdkVtaXR0ZXI7XG5cbn0pKTtcbiIsICIvKiFcbiAqIGdldFNpemUgdjIuMC4zXG4gKiBtZWFzdXJlIHNpemUgb2YgZWxlbWVudHNcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuLyoganNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSAqL1xuLyogZ2xvYmFscyBjb25zb2xlOiBmYWxzZSAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qIGdsb2JhbHMgZGVmaW5lLCBtb2R1bGUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LmdldFNpemUgPSBmYWN0b3J5KCk7XG4gIH1cblxufSkoIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSgpIHtcbid1c2Ugc3RyaWN0JztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBnZXQgYSBudW1iZXIgZnJvbSBhIHN0cmluZywgbm90IGEgcGVyY2VudGFnZVxuZnVuY3Rpb24gZ2V0U3R5bGVTaXplKCB2YWx1ZSApIHtcbiAgdmFyIG51bSA9IHBhcnNlRmxvYXQoIHZhbHVlICk7XG4gIC8vIG5vdCBhIHBlcmNlbnQgbGlrZSAnMTAwJScsIGFuZCBhIG51bWJlclxuICB2YXIgaXNWYWxpZCA9IHZhbHVlLmluZGV4T2YoJyUnKSA9PSAtMSAmJiAhaXNOYU4oIG51bSApO1xuICByZXR1cm4gaXNWYWxpZCAmJiBudW07XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgbG9nRXJyb3IgPSB0eXBlb2YgY29uc29sZSA9PSAndW5kZWZpbmVkJyA/IG5vb3AgOlxuICBmdW5jdGlvbiggbWVzc2FnZSApIHtcbiAgICBjb25zb2xlLmVycm9yKCBtZXNzYWdlICk7XG4gIH07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIG1lYXN1cmVtZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG52YXIgbWVhc3VyZW1lbnRzID0gW1xuICAncGFkZGluZ0xlZnQnLFxuICAncGFkZGluZ1JpZ2h0JyxcbiAgJ3BhZGRpbmdUb3AnLFxuICAncGFkZGluZ0JvdHRvbScsXG4gICdtYXJnaW5MZWZ0JyxcbiAgJ21hcmdpblJpZ2h0JyxcbiAgJ21hcmdpblRvcCcsXG4gICdtYXJnaW5Cb3R0b20nLFxuICAnYm9yZGVyTGVmdFdpZHRoJyxcbiAgJ2JvcmRlclJpZ2h0V2lkdGgnLFxuICAnYm9yZGVyVG9wV2lkdGgnLFxuICAnYm9yZGVyQm90dG9tV2lkdGgnXG5dO1xuXG52YXIgbWVhc3VyZW1lbnRzTGVuZ3RoID0gbWVhc3VyZW1lbnRzLmxlbmd0aDtcblxuZnVuY3Rpb24gZ2V0WmVyb1NpemUoKSB7XG4gIHZhciBzaXplID0ge1xuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMCxcbiAgICBpbm5lcldpZHRoOiAwLFxuICAgIGlubmVySGVpZ2h0OiAwLFxuICAgIG91dGVyV2lkdGg6IDAsXG4gICAgb3V0ZXJIZWlnaHQ6IDBcbiAgfTtcbiAgZm9yICggdmFyIGk9MDsgaSA8IG1lYXN1cmVtZW50c0xlbmd0aDsgaSsrICkge1xuICAgIHZhciBtZWFzdXJlbWVudCA9IG1lYXN1cmVtZW50c1tpXTtcbiAgICBzaXplWyBtZWFzdXJlbWVudCBdID0gMDtcbiAgfVxuICByZXR1cm4gc2l6ZTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZ2V0U3R5bGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBnZXRTdHlsZSwgZ2V0IHN0eWxlIG9mIGVsZW1lbnQsIGNoZWNrIGZvciBGaXJlZm94IGJ1Z1xuICogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTQ4Mzk3XG4gKi9cbmZ1bmN0aW9uIGdldFN0eWxlKCBlbGVtICkge1xuICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG4gIGlmICggIXN0eWxlICkge1xuICAgIGxvZ0Vycm9yKCAnU3R5bGUgcmV0dXJuZWQgJyArIHN0eWxlICtcbiAgICAgICcuIEFyZSB5b3UgcnVubmluZyB0aGlzIGNvZGUgaW4gYSBoaWRkZW4gaWZyYW1lIG9uIEZpcmVmb3g/ICcgK1xuICAgICAgJ1NlZSBodHRwczovL2JpdC5seS9nZXRzaXplYnVnMScgKTtcbiAgfVxuICByZXR1cm4gc3R5bGU7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHNldHVwIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciBpc1NldHVwID0gZmFsc2U7XG5cbnZhciBpc0JveFNpemVPdXRlcjtcblxuLyoqXG4gKiBzZXR1cFxuICogY2hlY2sgaXNCb3hTaXplck91dGVyXG4gKiBkbyBvbiBmaXJzdCBnZXRTaXplKCkgcmF0aGVyIHRoYW4gb24gcGFnZSBsb2FkIGZvciBGaXJlZm94IGJ1Z1xuICovXG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgLy8gc2V0dXAgb25jZVxuICBpZiAoIGlzU2V0dXAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlzU2V0dXAgPSB0cnVlO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGJveCBzaXppbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvKipcbiAgICogQ2hyb21lICYgU2FmYXJpIG1lYXN1cmUgdGhlIG91dGVyLXdpZHRoIG9uIHN0eWxlLndpZHRoIG9uIGJvcmRlci1ib3ggZWxlbXNcbiAgICogSUUxMSAmIEZpcmVmb3g8MjkgbWVhc3VyZXMgdGhlIGlubmVyLXdpZHRoXG4gICAqL1xuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5zdHlsZS53aWR0aCA9ICcyMDBweCc7XG4gIGRpdi5zdHlsZS5wYWRkaW5nID0gJzFweCAycHggM3B4IDRweCc7XG4gIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XG4gIGRpdi5zdHlsZS5ib3JkZXJXaWR0aCA9ICcxcHggMnB4IDNweCA0cHgnO1xuICBkaXYuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuXG4gIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIGJvZHkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuICB2YXIgc3R5bGUgPSBnZXRTdHlsZSggZGl2ICk7XG4gIC8vIHJvdW5kIHZhbHVlIGZvciBicm93c2VyIHpvb20uIGRlc2FuZHJvL21hc29ucnkjOTI4XG4gIGlzQm94U2l6ZU91dGVyID0gTWF0aC5yb3VuZCggZ2V0U3R5bGVTaXplKCBzdHlsZS53aWR0aCApICkgPT0gMjAwO1xuICBnZXRTaXplLmlzQm94U2l6ZU91dGVyID0gaXNCb3hTaXplT3V0ZXI7XG5cbiAgYm9keS5yZW1vdmVDaGlsZCggZGl2ICk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGdldFNpemUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gZ2V0U2l6ZSggZWxlbSApIHtcbiAgc2V0dXAoKTtcblxuICAvLyB1c2UgcXVlcnlTZWxldG9yIGlmIGVsZW0gaXMgc3RyaW5nXG4gIGlmICggdHlwZW9mIGVsZW0gPT0gJ3N0cmluZycgKSB7XG4gICAgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIGVsZW0gKTtcbiAgfVxuXG4gIC8vIGRvIG5vdCBwcm9jZWVkIG9uIG5vbi1vYmplY3RzXG4gIGlmICggIWVsZW0gfHwgdHlwZW9mIGVsZW0gIT0gJ29iamVjdCcgfHwgIWVsZW0ubm9kZVR5cGUgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHN0eWxlID0gZ2V0U3R5bGUoIGVsZW0gKTtcblxuICAvLyBpZiBoaWRkZW4sIGV2ZXJ5dGhpbmcgaXMgMFxuICBpZiAoIHN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnICkge1xuICAgIHJldHVybiBnZXRaZXJvU2l6ZSgpO1xuICB9XG5cbiAgdmFyIHNpemUgPSB7fTtcbiAgc2l6ZS53aWR0aCA9IGVsZW0ub2Zmc2V0V2lkdGg7XG4gIHNpemUuaGVpZ2h0ID0gZWxlbS5vZmZzZXRIZWlnaHQ7XG5cbiAgdmFyIGlzQm9yZGVyQm94ID0gc2l6ZS5pc0JvcmRlckJveCA9IHN0eWxlLmJveFNpemluZyA9PSAnYm9yZGVyLWJveCc7XG5cbiAgLy8gZ2V0IGFsbCBtZWFzdXJlbWVudHNcbiAgZm9yICggdmFyIGk9MDsgaSA8IG1lYXN1cmVtZW50c0xlbmd0aDsgaSsrICkge1xuICAgIHZhciBtZWFzdXJlbWVudCA9IG1lYXN1cmVtZW50c1tpXTtcbiAgICB2YXIgdmFsdWUgPSBzdHlsZVsgbWVhc3VyZW1lbnQgXTtcbiAgICB2YXIgbnVtID0gcGFyc2VGbG9hdCggdmFsdWUgKTtcbiAgICAvLyBhbnkgJ2F1dG8nLCAnbWVkaXVtJyB2YWx1ZSB3aWxsIGJlIDBcbiAgICBzaXplWyBtZWFzdXJlbWVudCBdID0gIWlzTmFOKCBudW0gKSA/IG51bSA6IDA7XG4gIH1cblxuICB2YXIgcGFkZGluZ1dpZHRoID0gc2l6ZS5wYWRkaW5nTGVmdCArIHNpemUucGFkZGluZ1JpZ2h0O1xuICB2YXIgcGFkZGluZ0hlaWdodCA9IHNpemUucGFkZGluZ1RvcCArIHNpemUucGFkZGluZ0JvdHRvbTtcbiAgdmFyIG1hcmdpbldpZHRoID0gc2l6ZS5tYXJnaW5MZWZ0ICsgc2l6ZS5tYXJnaW5SaWdodDtcbiAgdmFyIG1hcmdpbkhlaWdodCA9IHNpemUubWFyZ2luVG9wICsgc2l6ZS5tYXJnaW5Cb3R0b207XG4gIHZhciBib3JkZXJXaWR0aCA9IHNpemUuYm9yZGVyTGVmdFdpZHRoICsgc2l6ZS5ib3JkZXJSaWdodFdpZHRoO1xuICB2YXIgYm9yZGVySGVpZ2h0ID0gc2l6ZS5ib3JkZXJUb3BXaWR0aCArIHNpemUuYm9yZGVyQm90dG9tV2lkdGg7XG5cbiAgdmFyIGlzQm9yZGVyQm94U2l6ZU91dGVyID0gaXNCb3JkZXJCb3ggJiYgaXNCb3hTaXplT3V0ZXI7XG5cbiAgLy8gb3ZlcndyaXRlIHdpZHRoIGFuZCBoZWlnaHQgaWYgd2UgY2FuIGdldCBpdCBmcm9tIHN0eWxlXG4gIHZhciBzdHlsZVdpZHRoID0gZ2V0U3R5bGVTaXplKCBzdHlsZS53aWR0aCApO1xuICBpZiAoIHN0eWxlV2lkdGggIT09IGZhbHNlICkge1xuICAgIHNpemUud2lkdGggPSBzdHlsZVdpZHRoICtcbiAgICAgIC8vIGFkZCBwYWRkaW5nIGFuZCBib3JkZXIgdW5sZXNzIGl0J3MgYWxyZWFkeSBpbmNsdWRpbmcgaXRcbiAgICAgICggaXNCb3JkZXJCb3hTaXplT3V0ZXIgPyAwIDogcGFkZGluZ1dpZHRoICsgYm9yZGVyV2lkdGggKTtcbiAgfVxuXG4gIHZhciBzdHlsZUhlaWdodCA9IGdldFN0eWxlU2l6ZSggc3R5bGUuaGVpZ2h0ICk7XG4gIGlmICggc3R5bGVIZWlnaHQgIT09IGZhbHNlICkge1xuICAgIHNpemUuaGVpZ2h0ID0gc3R5bGVIZWlnaHQgK1xuICAgICAgLy8gYWRkIHBhZGRpbmcgYW5kIGJvcmRlciB1bmxlc3MgaXQncyBhbHJlYWR5IGluY2x1ZGluZyBpdFxuICAgICAgKCBpc0JvcmRlckJveFNpemVPdXRlciA/IDAgOiBwYWRkaW5nSGVpZ2h0ICsgYm9yZGVySGVpZ2h0ICk7XG4gIH1cblxuICBzaXplLmlubmVyV2lkdGggPSBzaXplLndpZHRoIC0gKCBwYWRkaW5nV2lkdGggKyBib3JkZXJXaWR0aCApO1xuICBzaXplLmlubmVySGVpZ2h0ID0gc2l6ZS5oZWlnaHQgLSAoIHBhZGRpbmdIZWlnaHQgKyBib3JkZXJIZWlnaHQgKTtcblxuICBzaXplLm91dGVyV2lkdGggPSBzaXplLndpZHRoICsgbWFyZ2luV2lkdGg7XG4gIHNpemUub3V0ZXJIZWlnaHQgPSBzaXplLmhlaWdodCArIG1hcmdpbkhlaWdodDtcblxuICByZXR1cm4gc2l6ZTtcbn1cblxucmV0dXJuIGdldFNpemU7XG5cbn0pO1xuIiwgIi8qKlxuICogbWF0Y2hlc1NlbGVjdG9yIHYyLjAuMlxuICogbWF0Y2hlc1NlbGVjdG9yKCBlbGVtZW50LCAnLnNlbGVjdG9yJyApXG4gKiBNSVQgbGljZW5zZVxuICovXG5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHN0cmljdDogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8qZ2xvYmFsIGRlZmluZTogZmFsc2UsIG1vZHVsZTogZmFsc2UgKi9cbiAgJ3VzZSBzdHJpY3QnO1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lm1hdGNoZXNTZWxlY3RvciA9IGZhY3RvcnkoKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgbWF0Y2hlc01ldGhvZCA9ICggZnVuY3Rpb24oKSB7XG4gICAgdmFyIEVsZW1Qcm90byA9IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZTtcbiAgICAvLyBjaGVjayBmb3IgdGhlIHN0YW5kYXJkIG1ldGhvZCBuYW1lIGZpcnN0XG4gICAgaWYgKCBFbGVtUHJvdG8ubWF0Y2hlcyApIHtcbiAgICAgIHJldHVybiAnbWF0Y2hlcyc7XG4gICAgfVxuICAgIC8vIGNoZWNrIHVuLXByZWZpeGVkXG4gICAgaWYgKCBFbGVtUHJvdG8ubWF0Y2hlc1NlbGVjdG9yICkge1xuICAgICAgcmV0dXJuICdtYXRjaGVzU2VsZWN0b3InO1xuICAgIH1cbiAgICAvLyBjaGVjayB2ZW5kb3IgcHJlZml4ZXNcbiAgICB2YXIgcHJlZml4ZXMgPSBbICd3ZWJraXQnLCAnbW96JywgJ21zJywgJ28nIF07XG5cbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgICB2YXIgbWV0aG9kID0gcHJlZml4ICsgJ01hdGNoZXNTZWxlY3Rvcic7XG4gICAgICBpZiAoIEVsZW1Qcm90b1sgbWV0aG9kIF0gKSB7XG4gICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgICB9XG4gICAgfVxuICB9KSgpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3IoIGVsZW0sIHNlbGVjdG9yICkge1xuICAgIHJldHVybiBlbGVtWyBtYXRjaGVzTWV0aG9kIF0oIHNlbGVjdG9yICk7XG4gIH07XG5cbn0pKTtcbiIsICIvKipcbiAqIEZpenp5IFVJIHV0aWxzIHYyLjAuN1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCB1bmRlZjogdHJ1ZSwgdW51c2VkOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLypqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cblxuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ2Rlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3RvcidcbiAgICBdLCBmdW5jdGlvbiggbWF0Y2hlc1NlbGVjdG9yICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgbWF0Y2hlc1NlbGVjdG9yICk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCdkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LmZpenp5VUlVdGlscyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cubWF0Y2hlc1NlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgbWF0Y2hlc1NlbGVjdG9yICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHt9O1xuXG4vLyAtLS0tLSBleHRlbmQgLS0tLS0gLy9cblxuLy8gZXh0ZW5kcyBvYmplY3RzXG51dGlscy5leHRlbmQgPSBmdW5jdGlvbiggYSwgYiApIHtcbiAgZm9yICggdmFyIHByb3AgaW4gYiApIHtcbiAgICBhWyBwcm9wIF0gPSBiWyBwcm9wIF07XG4gIH1cbiAgcmV0dXJuIGE7XG59O1xuXG4vLyAtLS0tLSBtb2R1bG8gLS0tLS0gLy9cblxudXRpbHMubW9kdWxvID0gZnVuY3Rpb24oIG51bSwgZGl2ICkge1xuICByZXR1cm4gKCAoIG51bSAlIGRpdiApICsgZGl2ICkgJSBkaXY7XG59O1xuXG4vLyAtLS0tLSBtYWtlQXJyYXkgLS0tLS0gLy9cblxudmFyIGFycmF5U2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbi8vIHR1cm4gZWxlbWVudCBvciBub2RlTGlzdCBpbnRvIGFuIGFycmF5XG51dGlscy5tYWtlQXJyYXkgPSBmdW5jdGlvbiggb2JqICkge1xuICBpZiAoIEFycmF5LmlzQXJyYXkoIG9iaiApICkge1xuICAgIC8vIHVzZSBvYmplY3QgaWYgYWxyZWFkeSBhbiBhcnJheVxuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgLy8gcmV0dXJuIGVtcHR5IGFycmF5IGlmIHVuZGVmaW5lZCBvciBudWxsLiAjNlxuICBpZiAoIG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHVuZGVmaW5lZCApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgaXNBcnJheUxpa2UgPSB0eXBlb2Ygb2JqID09ICdvYmplY3QnICYmIHR5cGVvZiBvYmoubGVuZ3RoID09ICdudW1iZXInO1xuICBpZiAoIGlzQXJyYXlMaWtlICkge1xuICAgIC8vIGNvbnZlcnQgbm9kZUxpc3QgdG8gYXJyYXlcbiAgICByZXR1cm4gYXJyYXlTbGljZS5jYWxsKCBvYmogKTtcbiAgfVxuXG4gIC8vIGFycmF5IG9mIHNpbmdsZSBpbmRleFxuICByZXR1cm4gWyBvYmogXTtcbn07XG5cbi8vIC0tLS0tIHJlbW92ZUZyb20gLS0tLS0gLy9cblxudXRpbHMucmVtb3ZlRnJvbSA9IGZ1bmN0aW9uKCBhcnksIG9iaiApIHtcbiAgdmFyIGluZGV4ID0gYXJ5LmluZGV4T2YoIG9iaiApO1xuICBpZiAoIGluZGV4ICE9IC0xICkge1xuICAgIGFyeS5zcGxpY2UoIGluZGV4LCAxICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIGdldFBhcmVudCAtLS0tLSAvL1xuXG51dGlscy5nZXRQYXJlbnQgPSBmdW5jdGlvbiggZWxlbSwgc2VsZWN0b3IgKSB7XG4gIHdoaWxlICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0gIT0gZG9jdW1lbnQuYm9keSApIHtcbiAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuICAgIGlmICggbWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBzZWxlY3RvciApICkge1xuICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuICB9XG59O1xuXG4vLyAtLS0tLSBnZXRRdWVyeUVsZW1lbnQgLS0tLS0gLy9cblxuLy8gdXNlIGVsZW1lbnQgYXMgc2VsZWN0b3Igc3RyaW5nXG51dGlscy5nZXRRdWVyeUVsZW1lbnQgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxlbSApO1xuICB9XG4gIHJldHVybiBlbGVtO1xufTtcblxuLy8gLS0tLS0gaGFuZGxlRXZlbnQgLS0tLS0gLy9cblxuLy8gZW5hYmxlIC5vbnR5cGUgdG8gdHJpZ2dlciBmcm9tIC5hZGRFdmVudExpc3RlbmVyKCBlbGVtLCAndHlwZScgKVxudXRpbHMuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gZmlsdGVyRmluZEVsZW1lbnRzIC0tLS0tIC8vXG5cbnV0aWxzLmZpbHRlckZpbmRFbGVtZW50cyA9IGZ1bmN0aW9uKCBlbGVtcywgc2VsZWN0b3IgKSB7XG4gIC8vIG1ha2UgYXJyYXkgb2YgZWxlbXNcbiAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG4gIHZhciBmZkVsZW1zID0gW107XG5cbiAgZWxlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgLy8gY2hlY2sgdGhhdCBlbGVtIGlzIGFuIGFjdHVhbCBlbGVtZW50XG4gICAgaWYgKCAhKCBlbGVtIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgKSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gYWRkIGVsZW0gaWYgbm8gc2VsZWN0b3JcbiAgICBpZiAoICFzZWxlY3RvciApIHtcbiAgICAgIGZmRWxlbXMucHVzaCggZWxlbSApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYSBzZWxlY3RvclxuICAgIC8vIGZpbHRlclxuICAgIGlmICggbWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBzZWxlY3RvciApICkge1xuICAgICAgZmZFbGVtcy5wdXNoKCBlbGVtICk7XG4gICAgfVxuICAgIC8vIGZpbmQgY2hpbGRyZW5cbiAgICB2YXIgY2hpbGRFbGVtcyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCggc2VsZWN0b3IgKTtcbiAgICAvLyBjb25jYXQgY2hpbGRFbGVtcyB0byBmaWx0ZXJGb3VuZCBhcnJheVxuICAgIGZvciAoIHZhciBpPTA7IGkgPCBjaGlsZEVsZW1zLmxlbmd0aDsgaSsrICkge1xuICAgICAgZmZFbGVtcy5wdXNoKCBjaGlsZEVsZW1zW2ldICk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZmZFbGVtcztcbn07XG5cbi8vIC0tLS0tIGRlYm91bmNlTWV0aG9kIC0tLS0tIC8vXG5cbnV0aWxzLmRlYm91bmNlTWV0aG9kID0gZnVuY3Rpb24oIF9jbGFzcywgbWV0aG9kTmFtZSwgdGhyZXNob2xkICkge1xuICB0aHJlc2hvbGQgPSB0aHJlc2hvbGQgfHwgMTAwO1xuICAvLyBvcmlnaW5hbCBtZXRob2RcbiAgdmFyIG1ldGhvZCA9IF9jbGFzcy5wcm90b3R5cGVbIG1ldGhvZE5hbWUgXTtcbiAgdmFyIHRpbWVvdXROYW1lID0gbWV0aG9kTmFtZSArICdUaW1lb3V0JztcblxuICBfY2xhc3MucHJvdG90eXBlWyBtZXRob2ROYW1lIF0gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGltZW91dCA9IHRoaXNbIHRpbWVvdXROYW1lIF07XG4gICAgY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXNbIHRpbWVvdXROYW1lIF0gPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgIG1ldGhvZC5hcHBseSggX3RoaXMsIGFyZ3MgKTtcbiAgICAgIGRlbGV0ZSBfdGhpc1sgdGltZW91dE5hbWUgXTtcbiAgICB9LCB0aHJlc2hvbGQgKTtcbiAgfTtcbn07XG5cbi8vIC0tLS0tIGRvY1JlYWR5IC0tLS0tIC8vXG5cbnV0aWxzLmRvY1JlYWR5ID0gZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuICB2YXIgcmVhZHlTdGF0ZSA9IGRvY3VtZW50LnJlYWR5U3RhdGU7XG4gIGlmICggcmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnIHx8IHJlYWR5U3RhdGUgPT0gJ2ludGVyYWN0aXZlJyApIHtcbiAgICAvLyBkbyBhc3luYyB0byBhbGxvdyBmb3Igb3RoZXIgc2NyaXB0cyB0byBydW4uIG1ldGFmaXp6eS9mbGlja2l0eSM0NDFcbiAgICBzZXRUaW1lb3V0KCBjYWxsYmFjayApO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdET01Db250ZW50TG9hZGVkJywgY2FsbGJhY2sgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gaHRtbEluaXQgLS0tLS0gLy9cblxuLy8gaHR0cDovL2phbWVzcm9iZXJ0cy5uYW1lL2Jsb2cvMjAxMC8wMi8yMi9zdHJpbmctZnVuY3Rpb25zLWZvci1qYXZhc2NyaXB0LXRyaW0tdG8tY2FtZWwtY2FzZS10by1kYXNoZWQtYW5kLXRvLXVuZGVyc2NvcmUvXG51dGlscy50b0Rhc2hlZCA9IGZ1bmN0aW9uKCBzdHIgKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSggLyguKShbQS1aXSkvZywgZnVuY3Rpb24oIG1hdGNoLCAkMSwgJDIgKSB7XG4gICAgcmV0dXJuICQxICsgJy0nICsgJDI7XG4gIH0pLnRvTG93ZXJDYXNlKCk7XG59O1xuXG52YXIgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xuLyoqXG4gKiBhbGxvdyB1c2VyIHRvIGluaXRpYWxpemUgY2xhc3NlcyB2aWEgW2RhdGEtbmFtZXNwYWNlXSBvciAuanMtbmFtZXNwYWNlIGNsYXNzXG4gKiBodG1sSW5pdCggV2lkZ2V0LCAnd2lkZ2V0TmFtZScgKVxuICogb3B0aW9ucyBhcmUgcGFyc2VkIGZyb20gZGF0YS1uYW1lc3BhY2Utb3B0aW9uc1xuICovXG51dGlscy5odG1sSW5pdCA9IGZ1bmN0aW9uKCBXaWRnZXRDbGFzcywgbmFtZXNwYWNlICkge1xuICB1dGlscy5kb2NSZWFkeSggZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhc2hlZE5hbWVzcGFjZSA9IHV0aWxzLnRvRGFzaGVkKCBuYW1lc3BhY2UgKTtcbiAgICB2YXIgZGF0YUF0dHIgPSAnZGF0YS0nICsgZGFzaGVkTmFtZXNwYWNlO1xuICAgIHZhciBkYXRhQXR0ckVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJ1snICsgZGF0YUF0dHIgKyAnXScgKTtcbiAgICB2YXIganNEYXNoRWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLmpzLScgKyBkYXNoZWROYW1lc3BhY2UgKTtcbiAgICB2YXIgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGRhdGFBdHRyRWxlbXMgKVxuICAgICAgLmNvbmNhdCggdXRpbHMubWFrZUFycmF5KCBqc0Rhc2hFbGVtcyApICk7XG4gICAgdmFyIGRhdGFPcHRpb25zQXR0ciA9IGRhdGFBdHRyICsgJy1vcHRpb25zJztcbiAgICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeTtcblxuICAgIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgdmFyIGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZSggZGF0YUF0dHIgKSB8fFxuICAgICAgICBlbGVtLmdldEF0dHJpYnV0ZSggZGF0YU9wdGlvbnNBdHRyICk7XG4gICAgICB2YXIgb3B0aW9ucztcbiAgICAgIHRyeSB7XG4gICAgICAgIG9wdGlvbnMgPSBhdHRyICYmIEpTT04ucGFyc2UoIGF0dHIgKTtcbiAgICAgIH0gY2F0Y2ggKCBlcnJvciApIHtcbiAgICAgICAgLy8gbG9nIGVycm9yLCBkbyBub3QgaW5pdGlhbGl6ZVxuICAgICAgICBpZiAoIGNvbnNvbGUgKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvciggJ0Vycm9yIHBhcnNpbmcgJyArIGRhdGFBdHRyICsgJyBvbiAnICsgZWxlbS5jbGFzc05hbWUgK1xuICAgICAgICAgICc6ICcgKyBlcnJvciApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBXaWRnZXRDbGFzcyggZWxlbSwgb3B0aW9ucyApO1xuICAgICAgLy8gbWFrZSBhdmFpbGFibGUgdmlhICQoKS5kYXRhKCduYW1lc3BhY2UnKVxuICAgICAgaWYgKCBqUXVlcnkgKSB7XG4gICAgICAgIGpRdWVyeS5kYXRhKCBlbGVtLCBuYW1lc3BhY2UsIGluc3RhbmNlICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSk7XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxucmV0dXJuIHV0aWxzO1xuXG59KSk7XG4iLCAiLyoqXG4gKiBPdXRsYXllciBJdGVtXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLyogZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRCAtIFJlcXVpcmVKU1xuICAgIGRlZmluZSggW1xuICAgICAgICAnZXYtZW1pdHRlci9ldi1lbWl0dGVyJyxcbiAgICAgICAgJ2dldC1zaXplL2dldC1zaXplJ1xuICAgICAgXSxcbiAgICAgIGZhY3RvcnlcbiAgICApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2dldC1zaXplJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lk91dGxheWVyID0ge307XG4gICAgd2luZG93Lk91dGxheWVyLkl0ZW0gPSBmYWN0b3J5KFxuICAgICAgd2luZG93LkV2RW1pdHRlcixcbiAgICAgIHdpbmRvdy5nZXRTaXplXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIEV2RW1pdHRlciwgZ2V0U2l6ZSApIHtcbid1c2Ugc3RyaWN0JztcblxuLy8gLS0tLS0gaGVscGVycyAtLS0tLSAvL1xuXG5mdW5jdGlvbiBpc0VtcHR5T2JqKCBvYmogKSB7XG4gIGZvciAoIHZhciBwcm9wIGluIG9iaiApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcHJvcCA9IG51bGw7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBDU1MzIHN1cHBvcnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuXG52YXIgZG9jRWxlbVN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuXG52YXIgdHJhbnNpdGlvblByb3BlcnR5ID0gdHlwZW9mIGRvY0VsZW1TdHlsZS50cmFuc2l0aW9uID09ICdzdHJpbmcnID9cbiAgJ3RyYW5zaXRpb24nIDogJ1dlYmtpdFRyYW5zaXRpb24nO1xudmFyIHRyYW5zZm9ybVByb3BlcnR5ID0gdHlwZW9mIGRvY0VsZW1TdHlsZS50cmFuc2Zvcm0gPT0gJ3N0cmluZycgP1xuICAndHJhbnNmb3JtJyA6ICdXZWJraXRUcmFuc2Zvcm0nO1xuXG52YXIgdHJhbnNpdGlvbkVuZEV2ZW50ID0ge1xuICBXZWJraXRUcmFuc2l0aW9uOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gIHRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJ1xufVsgdHJhbnNpdGlvblByb3BlcnR5IF07XG5cbi8vIGNhY2hlIGFsbCB2ZW5kb3IgcHJvcGVydGllcyB0aGF0IGNvdWxkIGhhdmUgdmVuZG9yIHByZWZpeFxudmFyIHZlbmRvclByb3BlcnRpZXMgPSB7XG4gIHRyYW5zZm9ybTogdHJhbnNmb3JtUHJvcGVydHksXG4gIHRyYW5zaXRpb246IHRyYW5zaXRpb25Qcm9wZXJ0eSxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiB0cmFuc2l0aW9uUHJvcGVydHkgKyAnRHVyYXRpb24nLFxuICB0cmFuc2l0aW9uUHJvcGVydHk6IHRyYW5zaXRpb25Qcm9wZXJ0eSArICdQcm9wZXJ0eScsXG4gIHRyYW5zaXRpb25EZWxheTogdHJhbnNpdGlvblByb3BlcnR5ICsgJ0RlbGF5J1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSXRlbSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBJdGVtKCBlbGVtZW50LCBsYXlvdXQgKSB7XG4gIGlmICggIWVsZW1lbnQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgLy8gcGFyZW50IGxheW91dCBjbGFzcywgaS5lLiBNYXNvbnJ5LCBJc290b3BlLCBvciBQYWNrZXJ5XG4gIHRoaXMubGF5b3V0ID0gbGF5b3V0O1xuICB0aGlzLnBvc2l0aW9uID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIHRoaXMuX2NyZWF0ZSgpO1xufVxuXG4vLyBpbmhlcml0IEV2RW1pdHRlclxudmFyIHByb3RvID0gSXRlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5wcm90by5jb25zdHJ1Y3RvciA9IEl0ZW07XG5cbnByb3RvLl9jcmVhdGUgPSBmdW5jdGlvbigpIHtcbiAgLy8gdHJhbnNpdGlvbiBvYmplY3RzXG4gIHRoaXMuX3RyYW5zbiA9IHtcbiAgICBpbmdQcm9wZXJ0aWVzOiB7fSxcbiAgICBjbGVhbjoge30sXG4gICAgb25FbmQ6IHt9XG4gIH07XG5cbiAgdGhpcy5jc3Moe1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gIH0pO1xufTtcblxuLy8gdHJpZ2dlciBzcGVjaWZpZWQgaGFuZGxlciBmb3IgZXZlbnQgdHlwZVxucHJvdG8uaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgfVxufTtcblxucHJvdG8uZ2V0U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnNpemUgPSBnZXRTaXplKCB0aGlzLmVsZW1lbnQgKTtcbn07XG5cbi8qKlxuICogYXBwbHkgQ1NTIHN0eWxlcyB0byBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVcbiAqL1xucHJvdG8uY3NzID0gZnVuY3Rpb24oIHN0eWxlICkge1xuICB2YXIgZWxlbVN0eWxlID0gdGhpcy5lbGVtZW50LnN0eWxlO1xuXG4gIGZvciAoIHZhciBwcm9wIGluIHN0eWxlICkge1xuICAgIC8vIHVzZSB2ZW5kb3IgcHJvcGVydHkgaWYgYXZhaWxhYmxlXG4gICAgdmFyIHN1cHBvcnRlZFByb3AgPSB2ZW5kb3JQcm9wZXJ0aWVzWyBwcm9wIF0gfHwgcHJvcDtcbiAgICBlbGVtU3R5bGVbIHN1cHBvcnRlZFByb3AgXSA9IHN0eWxlWyBwcm9wIF07XG4gIH1cbn07XG5cbiAvLyBtZWFzdXJlIHBvc2l0aW9uLCBhbmQgc2V0cyBpdFxucHJvdG8uZ2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSggdGhpcy5lbGVtZW50ICk7XG4gIHZhciBpc09yaWdpbkxlZnQgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdvcmlnaW5MZWZ0Jyk7XG4gIHZhciBpc09yaWdpblRvcCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ29yaWdpblRvcCcpO1xuICB2YXIgeFZhbHVlID0gc3R5bGVbIGlzT3JpZ2luTGVmdCA/ICdsZWZ0JyA6ICdyaWdodCcgXTtcbiAgdmFyIHlWYWx1ZSA9IHN0eWxlWyBpc09yaWdpblRvcCA/ICd0b3AnIDogJ2JvdHRvbScgXTtcbiAgdmFyIHggPSBwYXJzZUZsb2F0KCB4VmFsdWUgKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KCB5VmFsdWUgKTtcbiAgLy8gY29udmVydCBwZXJjZW50IHRvIHBpeGVsc1xuICB2YXIgbGF5b3V0U2l6ZSA9IHRoaXMubGF5b3V0LnNpemU7XG4gIGlmICggeFZhbHVlLmluZGV4T2YoJyUnKSAhPSAtMSApIHtcbiAgICB4ID0gKCB4IC8gMTAwICkgKiBsYXlvdXRTaXplLndpZHRoO1xuICB9XG4gIGlmICggeVZhbHVlLmluZGV4T2YoJyUnKSAhPSAtMSApIHtcbiAgICB5ID0gKCB5IC8gMTAwICkgKiBsYXlvdXRTaXplLmhlaWdodDtcbiAgfVxuICAvLyBjbGVhbiB1cCAnYXV0bycgb3Igb3RoZXIgbm9uLWludGVnZXIgdmFsdWVzXG4gIHggPSBpc05hTiggeCApID8gMCA6IHg7XG4gIHkgPSBpc05hTiggeSApID8gMCA6IHk7XG4gIC8vIHJlbW92ZSBwYWRkaW5nIGZyb20gbWVhc3VyZW1lbnRcbiAgeCAtPSBpc09yaWdpbkxlZnQgPyBsYXlvdXRTaXplLnBhZGRpbmdMZWZ0IDogbGF5b3V0U2l6ZS5wYWRkaW5nUmlnaHQ7XG4gIHkgLT0gaXNPcmlnaW5Ub3AgPyBsYXlvdXRTaXplLnBhZGRpbmdUb3AgOiBsYXlvdXRTaXplLnBhZGRpbmdCb3R0b207XG5cbiAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgdGhpcy5wb3NpdGlvbi55ID0geTtcbn07XG5cbi8vIHNldCBzZXR0bGVkIHBvc2l0aW9uLCBhcHBseSBwYWRkaW5nXG5wcm90by5sYXlvdXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbGF5b3V0U2l6ZSA9IHRoaXMubGF5b3V0LnNpemU7XG4gIHZhciBzdHlsZSA9IHt9O1xuICB2YXIgaXNPcmlnaW5MZWZ0ID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignb3JpZ2luTGVmdCcpO1xuICB2YXIgaXNPcmlnaW5Ub3AgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdvcmlnaW5Ub3AnKTtcblxuICAvLyB4XG4gIHZhciB4UGFkZGluZyA9IGlzT3JpZ2luTGVmdCA/ICdwYWRkaW5nTGVmdCcgOiAncGFkZGluZ1JpZ2h0JztcbiAgdmFyIHhQcm9wZXJ0eSA9IGlzT3JpZ2luTGVmdCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gIHZhciB4UmVzZXRQcm9wZXJ0eSA9IGlzT3JpZ2luTGVmdCA/ICdyaWdodCcgOiAnbGVmdCc7XG5cbiAgdmFyIHggPSB0aGlzLnBvc2l0aW9uLnggKyBsYXlvdXRTaXplWyB4UGFkZGluZyBdO1xuICAvLyBzZXQgaW4gcGVyY2VudGFnZSBvciBwaXhlbHNcbiAgc3R5bGVbIHhQcm9wZXJ0eSBdID0gdGhpcy5nZXRYVmFsdWUoIHggKTtcbiAgLy8gcmVzZXQgb3RoZXIgcHJvcGVydHlcbiAgc3R5bGVbIHhSZXNldFByb3BlcnR5IF0gPSAnJztcblxuICAvLyB5XG4gIHZhciB5UGFkZGluZyA9IGlzT3JpZ2luVG9wID8gJ3BhZGRpbmdUb3AnIDogJ3BhZGRpbmdCb3R0b20nO1xuICB2YXIgeVByb3BlcnR5ID0gaXNPcmlnaW5Ub3AgPyAndG9wJyA6ICdib3R0b20nO1xuICB2YXIgeVJlc2V0UHJvcGVydHkgPSBpc09yaWdpblRvcCA/ICdib3R0b20nIDogJ3RvcCc7XG5cbiAgdmFyIHkgPSB0aGlzLnBvc2l0aW9uLnkgKyBsYXlvdXRTaXplWyB5UGFkZGluZyBdO1xuICAvLyBzZXQgaW4gcGVyY2VudGFnZSBvciBwaXhlbHNcbiAgc3R5bGVbIHlQcm9wZXJ0eSBdID0gdGhpcy5nZXRZVmFsdWUoIHkgKTtcbiAgLy8gcmVzZXQgb3RoZXIgcHJvcGVydHlcbiAgc3R5bGVbIHlSZXNldFByb3BlcnR5IF0gPSAnJztcblxuICB0aGlzLmNzcyggc3R5bGUgKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdsYXlvdXQnLCBbIHRoaXMgXSApO1xufTtcblxucHJvdG8uZ2V0WFZhbHVlID0gZnVuY3Rpb24oIHggKSB7XG4gIHZhciBpc0hvcml6b250YWwgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdob3Jpem9udGFsJyk7XG4gIHJldHVybiB0aGlzLmxheW91dC5vcHRpb25zLnBlcmNlbnRQb3NpdGlvbiAmJiAhaXNIb3Jpem9udGFsID9cbiAgICAoICggeCAvIHRoaXMubGF5b3V0LnNpemUud2lkdGggKSAqIDEwMCApICsgJyUnIDogeCArICdweCc7XG59O1xuXG5wcm90by5nZXRZVmFsdWUgPSBmdW5jdGlvbiggeSApIHtcbiAgdmFyIGlzSG9yaXpvbnRhbCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ2hvcml6b250YWwnKTtcbiAgcmV0dXJuIHRoaXMubGF5b3V0Lm9wdGlvbnMucGVyY2VudFBvc2l0aW9uICYmIGlzSG9yaXpvbnRhbCA/XG4gICAgKCAoIHkgLyB0aGlzLmxheW91dC5zaXplLmhlaWdodCApICogMTAwICkgKyAnJScgOiB5ICsgJ3B4Jztcbn07XG5cbnByb3RvLl90cmFuc2l0aW9uVG8gPSBmdW5jdGlvbiggeCwgeSApIHtcbiAgdGhpcy5nZXRQb3NpdGlvbigpO1xuICAvLyBnZXQgY3VycmVudCB4ICYgeSBmcm9tIHRvcC9sZWZ0XG4gIHZhciBjdXJYID0gdGhpcy5wb3NpdGlvbi54O1xuICB2YXIgY3VyWSA9IHRoaXMucG9zaXRpb24ueTtcblxuICB2YXIgZGlkTm90TW92ZSA9IHggPT0gdGhpcy5wb3NpdGlvbi54ICYmIHkgPT0gdGhpcy5wb3NpdGlvbi55O1xuXG4gIC8vIHNhdmUgZW5kIHBvc2l0aW9uXG4gIHRoaXMuc2V0UG9zaXRpb24oIHgsIHkgKTtcblxuICAvLyBpZiBkaWQgbm90IG1vdmUgYW5kIG5vdCB0cmFuc2l0aW9uaW5nLCBqdXN0IGdvIHRvIGxheW91dFxuICBpZiAoIGRpZE5vdE1vdmUgJiYgIXRoaXMuaXNUcmFuc2l0aW9uaW5nICkge1xuICAgIHRoaXMubGF5b3V0UG9zaXRpb24oKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdHJhbnNYID0geCAtIGN1clg7XG4gIHZhciB0cmFuc1kgPSB5IC0gY3VyWTtcbiAgdmFyIHRyYW5zaXRpb25TdHlsZSA9IHt9O1xuICB0cmFuc2l0aW9uU3R5bGUudHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2xhdGUoIHRyYW5zWCwgdHJhbnNZICk7XG5cbiAgdGhpcy50cmFuc2l0aW9uKHtcbiAgICB0bzogdHJhbnNpdGlvblN0eWxlLFxuICAgIG9uVHJhbnNpdGlvbkVuZDoge1xuICAgICAgdHJhbnNmb3JtOiB0aGlzLmxheW91dFBvc2l0aW9uXG4gICAgfSxcbiAgICBpc0NsZWFuaW5nOiB0cnVlXG4gIH0pO1xufTtcblxucHJvdG8uZ2V0VHJhbnNsYXRlID0gZnVuY3Rpb24oIHgsIHkgKSB7XG4gIC8vIGZsaXAgY29vcmlkaW5hdGVzIGlmIG9yaWdpbiBvbiByaWdodCBvciBib3R0b21cbiAgdmFyIGlzT3JpZ2luTGVmdCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ29yaWdpbkxlZnQnKTtcbiAgdmFyIGlzT3JpZ2luVG9wID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignb3JpZ2luVG9wJyk7XG4gIHggPSBpc09yaWdpbkxlZnQgPyB4IDogLXg7XG4gIHkgPSBpc09yaWdpblRvcCA/IHkgOiAteTtcbiAgcmV0dXJuICd0cmFuc2xhdGUzZCgnICsgeCArICdweCwgJyArIHkgKyAncHgsIDApJztcbn07XG5cbi8vIG5vbiB0cmFuc2l0aW9uICsgdHJhbnNmb3JtIHN1cHBvcnRcbnByb3RvLmdvVG8gPSBmdW5jdGlvbiggeCwgeSApIHtcbiAgdGhpcy5zZXRQb3NpdGlvbiggeCwgeSApO1xuICB0aGlzLmxheW91dFBvc2l0aW9uKCk7XG59O1xuXG5wcm90by5tb3ZlVG8gPSBwcm90by5fdHJhbnNpdGlvblRvO1xuXG5wcm90by5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCB4LCB5ICkge1xuICB0aGlzLnBvc2l0aW9uLnggPSBwYXJzZUZsb2F0KCB4ICk7XG4gIHRoaXMucG9zaXRpb24ueSA9IHBhcnNlRmxvYXQoIHkgKTtcbn07XG5cbi8vIC0tLS0tIHRyYW5zaXRpb24gLS0tLS0gLy9cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGUgLSBDU1NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uVHJhbnNpdGlvbkVuZFxuICovXG5cbi8vIG5vbiB0cmFuc2l0aW9uLCBqdXN0IHRyaWdnZXIgY2FsbGJhY2tcbnByb3RvLl9ub25UcmFuc2l0aW9uID0gZnVuY3Rpb24oIGFyZ3MgKSB7XG4gIHRoaXMuY3NzKCBhcmdzLnRvICk7XG4gIGlmICggYXJncy5pc0NsZWFuaW5nICkge1xuICAgIHRoaXMuX3JlbW92ZVN0eWxlcyggYXJncy50byApO1xuICB9XG4gIGZvciAoIHZhciBwcm9wIGluIGFyZ3Mub25UcmFuc2l0aW9uRW5kICkge1xuICAgIGFyZ3Mub25UcmFuc2l0aW9uRW5kWyBwcm9wIF0uY2FsbCggdGhpcyApO1xuICB9XG59O1xuXG4vKipcbiAqIHByb3BlciB0cmFuc2l0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gYXJncyAtIGFyZ3VtZW50c1xuICogICBAcGFyYW0ge09iamVjdH0gdG8gLSBzdHlsZSB0byB0cmFuc2l0aW9uIHRvXG4gKiAgIEBwYXJhbSB7T2JqZWN0fSBmcm9tIC0gc3R5bGUgdG8gc3RhcnQgdHJhbnNpdGlvbiBmcm9tXG4gKiAgIEBwYXJhbSB7Qm9vbGVhbn0gaXNDbGVhbmluZyAtIHJlbW92ZXMgdHJhbnNpdGlvbiBzdHlsZXMgYWZ0ZXIgdHJhbnNpdGlvblxuICogICBAcGFyYW0ge0Z1bmN0aW9ufSBvblRyYW5zaXRpb25FbmQgLSBjYWxsYmFja1xuICovXG5wcm90by50cmFuc2l0aW9uID0gZnVuY3Rpb24oIGFyZ3MgKSB7XG4gIC8vIHJlZGlyZWN0IHRvIG5vblRyYW5zaXRpb24gaWYgbm8gdHJhbnNpdGlvbiBkdXJhdGlvblxuICBpZiAoICFwYXJzZUZsb2F0KCB0aGlzLmxheW91dC5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbiApICkge1xuICAgIHRoaXMuX25vblRyYW5zaXRpb24oIGFyZ3MgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgX3RyYW5zaXRpb24gPSB0aGlzLl90cmFuc247XG4gIC8vIGtlZXAgdHJhY2sgb2Ygb25UcmFuc2l0aW9uRW5kIGNhbGxiYWNrIGJ5IGNzcyBwcm9wZXJ0eVxuICBmb3IgKCB2YXIgcHJvcCBpbiBhcmdzLm9uVHJhbnNpdGlvbkVuZCApIHtcbiAgICBfdHJhbnNpdGlvbi5vbkVuZFsgcHJvcCBdID0gYXJncy5vblRyYW5zaXRpb25FbmRbIHByb3AgXTtcbiAgfVxuICAvLyBrZWVwIHRyYWNrIG9mIHByb3BlcnRpZXMgdGhhdCBhcmUgdHJhbnNpdGlvbmluZ1xuICBmb3IgKCBwcm9wIGluIGFyZ3MudG8gKSB7XG4gICAgX3RyYW5zaXRpb24uaW5nUHJvcGVydGllc1sgcHJvcCBdID0gdHJ1ZTtcbiAgICAvLyBrZWVwIHRyYWNrIG9mIHByb3BlcnRpZXMgdG8gY2xlYW4gdXAgd2hlbiB0cmFuc2l0aW9uIGlzIGRvbmVcbiAgICBpZiAoIGFyZ3MuaXNDbGVhbmluZyApIHtcbiAgICAgIF90cmFuc2l0aW9uLmNsZWFuWyBwcm9wIF0gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNldCBmcm9tIHN0eWxlc1xuICBpZiAoIGFyZ3MuZnJvbSApIHtcbiAgICB0aGlzLmNzcyggYXJncy5mcm9tICk7XG4gICAgLy8gZm9yY2UgcmVkcmF3LiBodHRwOi8vYmxvZy5hbGV4bWFjY2F3LmNvbS9jc3MtdHJhbnNpdGlvbnNcbiAgICB2YXIgaCA9IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgLy8gaGFjayBmb3IgSlNIaW50IHRvIGh1c2ggYWJvdXQgdW51c2VkIHZhclxuICAgIGggPSBudWxsO1xuICB9XG4gIC8vIGVuYWJsZSB0cmFuc2l0aW9uXG4gIHRoaXMuZW5hYmxlVHJhbnNpdGlvbiggYXJncy50byApO1xuICAvLyBzZXQgc3R5bGVzIHRoYXQgYXJlIHRyYW5zaXRpb25pbmdcbiAgdGhpcy5jc3MoIGFyZ3MudG8gKTtcblxuICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IHRydWU7XG5cbn07XG5cbi8vIGRhc2ggYmVmb3JlIGFsbCBjYXAgbGV0dGVycywgaW5jbHVkaW5nIGZpcnN0IGZvclxuLy8gV2Via2l0VHJhbnNmb3JtID0+IC13ZWJraXQtdHJhbnNmb3JtXG5mdW5jdGlvbiB0b0Rhc2hlZEFsbCggc3RyICkge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoIC8oW0EtWl0pL2csIGZ1bmN0aW9uKCAkMSApIHtcbiAgICByZXR1cm4gJy0nICsgJDEudG9Mb3dlckNhc2UoKTtcbiAgfSk7XG59XG5cbnZhciB0cmFuc2l0aW9uUHJvcHMgPSAnb3BhY2l0eSwnICsgdG9EYXNoZWRBbGwoIHRyYW5zZm9ybVByb3BlcnR5ICk7XG5cbnByb3RvLmVuYWJsZVRyYW5zaXRpb24gPSBmdW5jdGlvbigvKiBzdHlsZSAqLykge1xuICAvLyBIQUNLIGNoYW5naW5nIHRyYW5zaXRpb25Qcm9wZXJ0eSBkdXJpbmcgYSB0cmFuc2l0aW9uXG4gIC8vIHdpbGwgY2F1c2UgdHJhbnNpdGlvbiB0byBqdW1wXG4gIGlmICggdGhpcy5pc1RyYW5zaXRpb25pbmcgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gbWFrZSBgdHJhbnNpdGlvbjogZm9vLCBiYXIsIGJhemAgZnJvbSBzdHlsZSBvYmplY3RcbiAgLy8gSEFDSyB1bi1jb21tZW50IHRoaXMgd2hlbiBlbmFibGVUcmFuc2l0aW9uIGNhbiB3b3JrXG4gIC8vIHdoaWxlIGEgdHJhbnNpdGlvbiBpcyBoYXBwZW5pbmdcbiAgLy8gdmFyIHRyYW5zaXRpb25WYWx1ZXMgPSBbXTtcbiAgLy8gZm9yICggdmFyIHByb3AgaW4gc3R5bGUgKSB7XG4gIC8vICAgLy8gZGFzaC1pZnkgY2FtZWxDYXNlZCBwcm9wZXJ0aWVzIGxpa2UgV2Via2l0VHJhbnNpdGlvblxuICAvLyAgIHByb3AgPSB2ZW5kb3JQcm9wZXJ0aWVzWyBwcm9wIF0gfHwgcHJvcDtcbiAgLy8gICB0cmFuc2l0aW9uVmFsdWVzLnB1c2goIHRvRGFzaGVkQWxsKCBwcm9wICkgKTtcbiAgLy8gfVxuICAvLyBtdW5nZSBudW1iZXIgdG8gbWlsbGlzZWNvbmQsIHRvIG1hdGNoIHN0YWdnZXJcbiAgdmFyIGR1cmF0aW9uID0gdGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb247XG4gIGR1cmF0aW9uID0gdHlwZW9mIGR1cmF0aW9uID09ICdudW1iZXInID8gZHVyYXRpb24gKyAnbXMnIDogZHVyYXRpb247XG4gIC8vIGVuYWJsZSB0cmFuc2l0aW9uIHN0eWxlc1xuICB0aGlzLmNzcyh7XG4gICAgdHJhbnNpdGlvblByb3BlcnR5OiB0cmFuc2l0aW9uUHJvcHMsXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICB0cmFuc2l0aW9uRGVsYXk6IHRoaXMuc3RhZ2dlckRlbGF5IHx8IDBcbiAgfSk7XG4gIC8vIGxpc3RlbiBmb3IgdHJhbnNpdGlvbiBlbmQgZXZlbnRcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIHRyYW5zaXRpb25FbmRFdmVudCwgdGhpcywgZmFsc2UgKTtcbn07XG5cbi8vIC0tLS0tIGV2ZW50cyAtLS0tLSAvL1xuXG5wcm90by5vbndlYmtpdFRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMub250cmFuc2l0aW9uZW5kKCBldmVudCApO1xufTtcblxucHJvdG8ub25vdHJhbnNpdGlvbmVuZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5vbnRyYW5zaXRpb25lbmQoIGV2ZW50ICk7XG59O1xuXG4vLyBwcm9wZXJ0aWVzIHRoYXQgSSBtdW5nZSB0byBtYWtlIG15IGxpZmUgZWFzaWVyXG52YXIgZGFzaGVkVmVuZG9yUHJvcGVydGllcyA9IHtcbiAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zZm9ybSdcbn07XG5cbnByb3RvLm9udHJhbnNpdGlvbmVuZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgLy8gZGlzcmVnYXJkIGJ1YmJsZWQgZXZlbnRzIGZyb20gY2hpbGRyZW5cbiAgaWYgKCBldmVudC50YXJnZXQgIT09IHRoaXMuZWxlbWVudCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIF90cmFuc2l0aW9uID0gdGhpcy5fdHJhbnNuO1xuICAvLyBnZXQgcHJvcGVydHkgbmFtZSBvZiB0cmFuc2l0aW9uZWQgcHJvcGVydHksIGNvbnZlcnQgdG8gcHJlZml4LWZyZWVcbiAgdmFyIHByb3BlcnR5TmFtZSA9IGRhc2hlZFZlbmRvclByb3BlcnRpZXNbIGV2ZW50LnByb3BlcnR5TmFtZSBdIHx8IGV2ZW50LnByb3BlcnR5TmFtZTtcblxuICAvLyByZW1vdmUgcHJvcGVydHkgdGhhdCBoYXMgY29tcGxldGVkIHRyYW5zaXRpb25pbmdcbiAgZGVsZXRlIF90cmFuc2l0aW9uLmluZ1Byb3BlcnRpZXNbIHByb3BlcnR5TmFtZSBdO1xuICAvLyBjaGVjayBpZiBhbnkgcHJvcGVydGllcyBhcmUgc3RpbGwgdHJhbnNpdGlvbmluZ1xuICBpZiAoIGlzRW1wdHlPYmooIF90cmFuc2l0aW9uLmluZ1Byb3BlcnRpZXMgKSApIHtcbiAgICAvLyBhbGwgcHJvcGVydGllcyBoYXZlIGNvbXBsZXRlZCB0cmFuc2l0aW9uaW5nXG4gICAgdGhpcy5kaXNhYmxlVHJhbnNpdGlvbigpO1xuICB9XG4gIC8vIGNsZWFuIHN0eWxlXG4gIGlmICggcHJvcGVydHlOYW1lIGluIF90cmFuc2l0aW9uLmNsZWFuICkge1xuICAgIC8vIGNsZWFuIHVwIHN0eWxlXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlWyBldmVudC5wcm9wZXJ0eU5hbWUgXSA9ICcnO1xuICAgIGRlbGV0ZSBfdHJhbnNpdGlvbi5jbGVhblsgcHJvcGVydHlOYW1lIF07XG4gIH1cbiAgLy8gdHJpZ2dlciBvblRyYW5zaXRpb25FbmQgY2FsbGJhY2tcbiAgaWYgKCBwcm9wZXJ0eU5hbWUgaW4gX3RyYW5zaXRpb24ub25FbmQgKSB7XG4gICAgdmFyIG9uVHJhbnNpdGlvbkVuZCA9IF90cmFuc2l0aW9uLm9uRW5kWyBwcm9wZXJ0eU5hbWUgXTtcbiAgICBvblRyYW5zaXRpb25FbmQuY2FsbCggdGhpcyApO1xuICAgIGRlbGV0ZSBfdHJhbnNpdGlvbi5vbkVuZFsgcHJvcGVydHlOYW1lIF07XG4gIH1cblxuICB0aGlzLmVtaXRFdmVudCggJ3RyYW5zaXRpb25FbmQnLCBbIHRoaXMgXSApO1xufTtcblxucHJvdG8uZGlzYWJsZVRyYW5zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZW1vdmVUcmFuc2l0aW9uU3R5bGVzKCk7XG4gIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCB0cmFuc2l0aW9uRW5kRXZlbnQsIHRoaXMsIGZhbHNlICk7XG4gIHRoaXMuaXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIHJlbW92ZXMgc3R5bGUgcHJvcGVydHkgZnJvbSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVcbioqL1xucHJvdG8uX3JlbW92ZVN0eWxlcyA9IGZ1bmN0aW9uKCBzdHlsZSApIHtcbiAgLy8gY2xlYW4gdXAgdHJhbnNpdGlvbiBzdHlsZXNcbiAgdmFyIGNsZWFuU3R5bGUgPSB7fTtcbiAgZm9yICggdmFyIHByb3AgaW4gc3R5bGUgKSB7XG4gICAgY2xlYW5TdHlsZVsgcHJvcCBdID0gJyc7XG4gIH1cbiAgdGhpcy5jc3MoIGNsZWFuU3R5bGUgKTtcbn07XG5cbnZhciBjbGVhblRyYW5zaXRpb25TdHlsZSA9IHtcbiAgdHJhbnNpdGlvblByb3BlcnR5OiAnJyxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAnJyxcbiAgdHJhbnNpdGlvbkRlbGF5OiAnJ1xufTtcblxucHJvdG8ucmVtb3ZlVHJhbnNpdGlvblN0eWxlcyA9IGZ1bmN0aW9uKCkge1xuICAvLyByZW1vdmUgdHJhbnNpdGlvblxuICB0aGlzLmNzcyggY2xlYW5UcmFuc2l0aW9uU3R5bGUgKTtcbn07XG5cbi8vIC0tLS0tIHN0YWdnZXIgLS0tLS0gLy9cblxucHJvdG8uc3RhZ2dlciA9IGZ1bmN0aW9uKCBkZWxheSApIHtcbiAgZGVsYXkgPSBpc05hTiggZGVsYXkgKSA/IDAgOiBkZWxheTtcbiAgdGhpcy5zdGFnZ2VyRGVsYXkgPSBkZWxheSArICdtcyc7XG59O1xuXG4vLyAtLS0tLSBzaG93L2hpZGUvcmVtb3ZlIC0tLS0tIC8vXG5cbi8vIHJlbW92ZSBlbGVtZW50IGZyb20gRE9NXG5wcm90by5yZW1vdmVFbGVtID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0aGlzLmVsZW1lbnQgKTtcbiAgLy8gcmVtb3ZlIGRpc3BsYXk6IG5vbmVcbiAgdGhpcy5jc3MoeyBkaXNwbGF5OiAnJyB9KTtcbiAgdGhpcy5lbWl0RXZlbnQoICdyZW1vdmUnLCBbIHRoaXMgXSApO1xufTtcblxucHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gIC8vIGp1c3QgcmVtb3ZlIGVsZW1lbnQgaWYgbm8gdHJhbnNpdGlvbiBzdXBwb3J0IG9yIG5vIHRyYW5zaXRpb25cbiAgaWYgKCAhdHJhbnNpdGlvblByb3BlcnR5IHx8ICFwYXJzZUZsb2F0KCB0aGlzLmxheW91dC5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbiApICkge1xuICAgIHRoaXMucmVtb3ZlRWxlbSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHN0YXJ0IHRyYW5zaXRpb25cbiAgdGhpcy5vbmNlKCAndHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlRWxlbSgpO1xuICB9KTtcbiAgdGhpcy5oaWRlKCk7XG59O1xuXG5wcm90by5yZXZlYWwgPSBmdW5jdGlvbigpIHtcbiAgZGVsZXRlIHRoaXMuaXNIaWRkZW47XG4gIC8vIHJlbW92ZSBkaXNwbGF5OiBub25lXG4gIHRoaXMuY3NzKHsgZGlzcGxheTogJycgfSk7XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLmxheW91dC5vcHRpb25zO1xuXG4gIHZhciBvblRyYW5zaXRpb25FbmQgPSB7fTtcbiAgdmFyIHRyYW5zaXRpb25FbmRQcm9wZXJ0eSA9IHRoaXMuZ2V0SGlkZVJldmVhbFRyYW5zaXRpb25FbmRQcm9wZXJ0eSgndmlzaWJsZVN0eWxlJyk7XG4gIG9uVHJhbnNpdGlvbkVuZFsgdHJhbnNpdGlvbkVuZFByb3BlcnR5IF0gPSB0aGlzLm9uUmV2ZWFsVHJhbnNpdGlvbkVuZDtcblxuICB0aGlzLnRyYW5zaXRpb24oe1xuICAgIGZyb206IG9wdGlvbnMuaGlkZGVuU3R5bGUsXG4gICAgdG86IG9wdGlvbnMudmlzaWJsZVN0eWxlLFxuICAgIGlzQ2xlYW5pbmc6IHRydWUsXG4gICAgb25UcmFuc2l0aW9uRW5kOiBvblRyYW5zaXRpb25FbmRcbiAgfSk7XG59O1xuXG5wcm90by5vblJldmVhbFRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbigpIHtcbiAgLy8gY2hlY2sgaWYgc3RpbGwgdmlzaWJsZVxuICAvLyBkdXJpbmcgdHJhbnNpdGlvbiwgaXRlbSBtYXkgaGF2ZSBiZWVuIGhpZGRlblxuICBpZiAoICF0aGlzLmlzSGlkZGVuICkge1xuICAgIHRoaXMuZW1pdEV2ZW50KCdyZXZlYWwnKTtcbiAgfVxufTtcblxuLyoqXG4gKiBnZXQgc3R5bGUgcHJvcGVydHkgdXNlIGZvciBoaWRlL3JldmVhbCB0cmFuc2l0aW9uIGVuZFxuICogQHBhcmFtIHtTdHJpbmd9IHN0eWxlUHJvcGVydHkgLSBoaWRkZW5TdHlsZS92aXNpYmxlU3R5bGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbnByb3RvLmdldEhpZGVSZXZlYWxUcmFuc2l0aW9uRW5kUHJvcGVydHkgPSBmdW5jdGlvbiggc3R5bGVQcm9wZXJ0eSApIHtcbiAgdmFyIG9wdGlvblN0eWxlID0gdGhpcy5sYXlvdXQub3B0aW9uc1sgc3R5bGVQcm9wZXJ0eSBdO1xuICAvLyB1c2Ugb3BhY2l0eVxuICBpZiAoIG9wdGlvblN0eWxlLm9wYWNpdHkgKSB7XG4gICAgcmV0dXJuICdvcGFjaXR5JztcbiAgfVxuICAvLyBnZXQgZmlyc3QgcHJvcGVydHlcbiAgZm9yICggdmFyIHByb3AgaW4gb3B0aW9uU3R5bGUgKSB7XG4gICAgcmV0dXJuIHByb3A7XG4gIH1cbn07XG5cbnByb3RvLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgLy8gc2V0IGZsYWdcbiAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG4gIC8vIHJlbW92ZSBkaXNwbGF5OiBub25lXG4gIHRoaXMuY3NzKHsgZGlzcGxheTogJycgfSk7XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLmxheW91dC5vcHRpb25zO1xuXG4gIHZhciBvblRyYW5zaXRpb25FbmQgPSB7fTtcbiAgdmFyIHRyYW5zaXRpb25FbmRQcm9wZXJ0eSA9IHRoaXMuZ2V0SGlkZVJldmVhbFRyYW5zaXRpb25FbmRQcm9wZXJ0eSgnaGlkZGVuU3R5bGUnKTtcbiAgb25UcmFuc2l0aW9uRW5kWyB0cmFuc2l0aW9uRW5kUHJvcGVydHkgXSA9IHRoaXMub25IaWRlVHJhbnNpdGlvbkVuZDtcblxuICB0aGlzLnRyYW5zaXRpb24oe1xuICAgIGZyb206IG9wdGlvbnMudmlzaWJsZVN0eWxlLFxuICAgIHRvOiBvcHRpb25zLmhpZGRlblN0eWxlLFxuICAgIC8vIGtlZXAgaGlkZGVuIHN0dWZmIGhpZGRlblxuICAgIGlzQ2xlYW5pbmc6IHRydWUsXG4gICAgb25UcmFuc2l0aW9uRW5kOiBvblRyYW5zaXRpb25FbmRcbiAgfSk7XG59O1xuXG5wcm90by5vbkhpZGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNoZWNrIGlmIHN0aWxsIGhpZGRlblxuICAvLyBkdXJpbmcgdHJhbnNpdGlvbiwgaXRlbSBtYXkgaGF2ZSBiZWVuIHVuLWhpZGRlblxuICBpZiAoIHRoaXMuaXNIaWRkZW4gKSB7XG4gICAgdGhpcy5jc3MoeyBkaXNwbGF5OiAnbm9uZScgfSk7XG4gICAgdGhpcy5lbWl0RXZlbnQoJ2hpZGUnKTtcbiAgfVxufTtcblxucHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNzcyh7XG4gICAgcG9zaXRpb246ICcnLFxuICAgIGxlZnQ6ICcnLFxuICAgIHJpZ2h0OiAnJyxcbiAgICB0b3A6ICcnLFxuICAgIGJvdHRvbTogJycsXG4gICAgdHJhbnNpdGlvbjogJycsXG4gICAgdHJhbnNmb3JtOiAnJ1xuICB9KTtcbn07XG5cbnJldHVybiBJdGVtO1xuXG59KSk7XG4iLCAiLyohXG4gKiBPdXRsYXllciB2Mi4xLjFcbiAqIHRoZSBicmFpbnMgYW5kIGd1dHMgb2YgYSBsYXlvdXQgbGlicmFyeVxuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qIGdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgLSBSZXF1aXJlSlNcbiAgICBkZWZpbmUoIFtcbiAgICAgICAgJ2V2LWVtaXR0ZXIvZXYtZW1pdHRlcicsXG4gICAgICAgICdnZXQtc2l6ZS9nZXQtc2l6ZScsXG4gICAgICAgICdmaXp6eS11aS11dGlscy91dGlscycsXG4gICAgICAgICcuL2l0ZW0nXG4gICAgICBdLFxuICAgICAgZnVuY3Rpb24oIEV2RW1pdHRlciwgZ2V0U2l6ZSwgdXRpbHMsIEl0ZW0gKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciwgZ2V0U2l6ZSwgdXRpbHMsIEl0ZW0pO1xuICAgICAgfVxuICAgICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlMgLSBCcm93c2VyaWZ5LCBXZWJwYWNrXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnZXYtZW1pdHRlcicpLFxuICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKSxcbiAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJyksXG4gICAgICByZXF1aXJlKCcuL2l0ZW0nKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuT3V0bGF5ZXIgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LkV2RW1pdHRlcixcbiAgICAgIHdpbmRvdy5nZXRTaXplLFxuICAgICAgd2luZG93LmZpenp5VUlVdGlscyxcbiAgICAgIHdpbmRvdy5PdXRsYXllci5JdGVtXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyLCBnZXRTaXplLCB1dGlscywgSXRlbSApIHtcbid1c2Ugc3RyaWN0JztcblxuLy8gLS0tLS0gdmFycyAtLS0tLSAvL1xuXG52YXIgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xudmFyIGpRdWVyeSA9IHdpbmRvdy5qUXVlcnk7XG52YXIgbm9vcCA9IGZ1bmN0aW9uKCkge307XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIE91dGxheWVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGdsb2JhbGx5IHVuaXF1ZSBpZGVudGlmaWVyc1xudmFyIEdVSUQgPSAwO1xuLy8gaW50ZXJuYWwgc3RvcmUgb2YgYWxsIE91dGxheWVyIGludGFuY2VzXG52YXIgaW5zdGFuY2VzID0ge307XG5cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQsIFN0cmluZ30gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBPdXRsYXllciggZWxlbWVudCwgb3B0aW9ucyApIHtcbiAgdmFyIHF1ZXJ5RWxlbWVudCA9IHV0aWxzLmdldFF1ZXJ5RWxlbWVudCggZWxlbWVudCApO1xuICBpZiAoICFxdWVyeUVsZW1lbnQgKSB7XG4gICAgaWYgKCBjb25zb2xlICkge1xuICAgICAgY29uc29sZS5lcnJvciggJ0JhZCBlbGVtZW50IGZvciAnICsgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lc3BhY2UgK1xuICAgICAgICAnOiAnICsgKCBxdWVyeUVsZW1lbnQgfHwgZWxlbWVudCApICk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmVsZW1lbnQgPSBxdWVyeUVsZW1lbnQ7XG4gIC8vIGFkZCBqUXVlcnlcbiAgaWYgKCBqUXVlcnkgKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9IGpRdWVyeSggdGhpcy5lbGVtZW50ICk7XG4gIH1cblxuICAvLyBvcHRpb25zXG4gIHRoaXMub3B0aW9ucyA9IHV0aWxzLmV4dGVuZCgge30sIHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdHMgKTtcbiAgdGhpcy5vcHRpb24oIG9wdGlvbnMgKTtcblxuICAvLyBhZGQgaWQgZm9yIE91dGxheWVyLmdldEZyb21FbGVtZW50XG4gIHZhciBpZCA9ICsrR1VJRDtcbiAgdGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRCA9IGlkOyAvLyBleHBhbmRvXG4gIGluc3RhbmNlc1sgaWQgXSA9IHRoaXM7IC8vIGFzc29jaWF0ZSB2aWEgaWRcblxuICAvLyBraWNrIGl0IG9mZlxuICB0aGlzLl9jcmVhdGUoKTtcblxuICB2YXIgaXNJbml0TGF5b3V0ID0gdGhpcy5fZ2V0T3B0aW9uKCdpbml0TGF5b3V0Jyk7XG4gIGlmICggaXNJbml0TGF5b3V0ICkge1xuICAgIHRoaXMubGF5b3V0KCk7XG4gIH1cbn1cblxuLy8gc2V0dGluZ3MgYXJlIGZvciBpbnRlcm5hbCB1c2Ugb25seVxuT3V0bGF5ZXIubmFtZXNwYWNlID0gJ291dGxheWVyJztcbk91dGxheWVyLkl0ZW0gPSBJdGVtO1xuXG4vLyBkZWZhdWx0IG9wdGlvbnNcbk91dGxheWVyLmRlZmF1bHRzID0ge1xuICBjb250YWluZXJTdHlsZToge1xuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gIH0sXG4gIGluaXRMYXlvdXQ6IHRydWUsXG4gIG9yaWdpbkxlZnQ6IHRydWUsXG4gIG9yaWdpblRvcDogdHJ1ZSxcbiAgcmVzaXplOiB0cnVlLFxuICByZXNpemVDb250YWluZXI6IHRydWUsXG4gIC8vIGl0ZW0gb3B0aW9uc1xuICB0cmFuc2l0aW9uRHVyYXRpb246ICcwLjRzJyxcbiAgaGlkZGVuU3R5bGU6IHtcbiAgICBvcGFjaXR5OiAwLFxuICAgIHRyYW5zZm9ybTogJ3NjYWxlKDAuMDAxKSdcbiAgfSxcbiAgdmlzaWJsZVN0eWxlOiB7XG4gICAgb3BhY2l0eTogMSxcbiAgICB0cmFuc2Zvcm06ICdzY2FsZSgxKSdcbiAgfVxufTtcblxudmFyIHByb3RvID0gT3V0bGF5ZXIucHJvdG90eXBlO1xuLy8gaW5oZXJpdCBFdkVtaXR0ZXJcbnV0aWxzLmV4dGVuZCggcHJvdG8sIEV2RW1pdHRlci5wcm90b3R5cGUgKTtcblxuLyoqXG4gKiBzZXQgb3B0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqL1xucHJvdG8ub3B0aW9uID0gZnVuY3Rpb24oIG9wdHMgKSB7XG4gIHV0aWxzLmV4dGVuZCggdGhpcy5vcHRpb25zLCBvcHRzICk7XG59O1xuXG4vKipcbiAqIGdldCBiYWNrd2FyZHMgY29tcGF0aWJsZSBvcHRpb24gdmFsdWUsIGNoZWNrIG9sZCBuYW1lXG4gKi9cbnByb3RvLl9nZXRPcHRpb24gPSBmdW5jdGlvbiggb3B0aW9uICkge1xuICB2YXIgb2xkT3B0aW9uID0gdGhpcy5jb25zdHJ1Y3Rvci5jb21wYXRPcHRpb25zWyBvcHRpb24gXTtcbiAgcmV0dXJuIG9sZE9wdGlvbiAmJiB0aGlzLm9wdGlvbnNbIG9sZE9wdGlvbiBdICE9PSB1bmRlZmluZWQgP1xuICAgIHRoaXMub3B0aW9uc1sgb2xkT3B0aW9uIF0gOiB0aGlzLm9wdGlvbnNbIG9wdGlvbiBdO1xufTtcblxuT3V0bGF5ZXIuY29tcGF0T3B0aW9ucyA9IHtcbiAgLy8gY3VycmVudE5hbWU6IG9sZE5hbWVcbiAgaW5pdExheW91dDogJ2lzSW5pdExheW91dCcsXG4gIGhvcml6b250YWw6ICdpc0hvcml6b250YWwnLFxuICBsYXlvdXRJbnN0YW50OiAnaXNMYXlvdXRJbnN0YW50JyxcbiAgb3JpZ2luTGVmdDogJ2lzT3JpZ2luTGVmdCcsXG4gIG9yaWdpblRvcDogJ2lzT3JpZ2luVG9wJyxcbiAgcmVzaXplOiAnaXNSZXNpemVCb3VuZCcsXG4gIHJlc2l6ZUNvbnRhaW5lcjogJ2lzUmVzaXppbmdDb250YWluZXInXG59O1xuXG5wcm90by5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIGdldCBpdGVtcyBmcm9tIGNoaWxkcmVuXG4gIHRoaXMucmVsb2FkSXRlbXMoKTtcbiAgLy8gZWxlbWVudHMgdGhhdCBhZmZlY3QgbGF5b3V0LCBidXQgYXJlIG5vdCBsYWlkIG91dFxuICB0aGlzLnN0YW1wcyA9IFtdO1xuICB0aGlzLnN0YW1wKCB0aGlzLm9wdGlvbnMuc3RhbXAgKTtcbiAgLy8gc2V0IGNvbnRhaW5lciBzdHlsZVxuICB1dGlscy5leHRlbmQoIHRoaXMuZWxlbWVudC5zdHlsZSwgdGhpcy5vcHRpb25zLmNvbnRhaW5lclN0eWxlICk7XG5cbiAgLy8gYmluZCByZXNpemUgbWV0aG9kXG4gIHZhciBjYW5CaW5kUmVzaXplID0gdGhpcy5fZ2V0T3B0aW9uKCdyZXNpemUnKTtcbiAgaWYgKCBjYW5CaW5kUmVzaXplICkge1xuICAgIHRoaXMuYmluZFJlc2l6ZSgpO1xuICB9XG59O1xuXG4vLyBnb2VzIHRocm91Z2ggYWxsIGNoaWxkcmVuIGFnYWluIGFuZCBnZXRzIGJyaWNrcyBpbiBwcm9wZXIgb3JkZXJcbnByb3RvLnJlbG9hZEl0ZW1zID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNvbGxlY3Rpb24gb2YgaXRlbSBlbGVtZW50c1xuICB0aGlzLml0ZW1zID0gdGhpcy5faXRlbWl6ZSggdGhpcy5lbGVtZW50LmNoaWxkcmVuICk7XG59O1xuXG5cbi8qKlxuICogdHVybiBlbGVtZW50cyBpbnRvIE91dGxheWVyLkl0ZW1zIHRvIGJlIHVzZWQgaW4gbGF5b3V0XG4gKiBAcGFyYW0ge0FycmF5IG9yIE5vZGVMaXN0IG9yIEhUTUxFbGVtZW50fSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtcyAtIGNvbGxlY3Rpb24gb2YgbmV3IE91dGxheWVyIEl0ZW1zXG4gKi9cbnByb3RvLl9pdGVtaXplID0gZnVuY3Rpb24oIGVsZW1zICkge1xuXG4gIHZhciBpdGVtRWxlbXMgPSB0aGlzLl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzKCBlbGVtcyApO1xuICB2YXIgSXRlbSA9IHRoaXMuY29uc3RydWN0b3IuSXRlbTtcblxuICAvLyBjcmVhdGUgbmV3IE91dGxheWVyIEl0ZW1zIGZvciBjb2xsZWN0aW9uXG4gIHZhciBpdGVtcyA9IFtdO1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgaXRlbUVsZW1zLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciBlbGVtID0gaXRlbUVsZW1zW2ldO1xuICAgIHZhciBpdGVtID0gbmV3IEl0ZW0oIGVsZW0sIHRoaXMgKTtcbiAgICBpdGVtcy5wdXNoKCBpdGVtICk7XG4gIH1cblxuICByZXR1cm4gaXRlbXM7XG59O1xuXG4vKipcbiAqIGdldCBpdGVtIGVsZW1lbnRzIHRvIGJlIHVzZWQgaW4gbGF5b3V0XG4gKiBAcGFyYW0ge0FycmF5IG9yIE5vZGVMaXN0IG9yIEhUTUxFbGVtZW50fSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtcyAtIGl0ZW0gZWxlbWVudHNcbiAqL1xucHJvdG8uX2ZpbHRlckZpbmRJdGVtRWxlbWVudHMgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHJldHVybiB1dGlscy5maWx0ZXJGaW5kRWxlbWVudHMoIGVsZW1zLCB0aGlzLm9wdGlvbnMuaXRlbVNlbGVjdG9yICk7XG59O1xuXG4vKipcbiAqIGdldHRlciBtZXRob2QgZm9yIGdldHRpbmcgaXRlbSBlbGVtZW50c1xuICogQHJldHVybnMge0FycmF5fSBlbGVtcyAtIGNvbGxlY3Rpb24gb2YgaXRlbSBlbGVtZW50c1xuICovXG5wcm90by5nZXRJdGVtRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXRlbXMubWFwKCBmdW5jdGlvbiggaXRlbSApIHtcbiAgICByZXR1cm4gaXRlbS5lbGVtZW50O1xuICB9KTtcbn07XG5cbi8vIC0tLS0tIGluaXQgJiBsYXlvdXQgLS0tLS0gLy9cblxuLyoqXG4gKiBsYXlzIG91dCBhbGwgaXRlbXNcbiAqL1xucHJvdG8ubGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Jlc2V0TGF5b3V0KCk7XG4gIHRoaXMuX21hbmFnZVN0YW1wcygpO1xuXG4gIC8vIGRvbid0IGFuaW1hdGUgZmlyc3QgbGF5b3V0XG4gIHZhciBsYXlvdXRJbnN0YW50ID0gdGhpcy5fZ2V0T3B0aW9uKCdsYXlvdXRJbnN0YW50Jyk7XG4gIHZhciBpc0luc3RhbnQgPSBsYXlvdXRJbnN0YW50ICE9PSB1bmRlZmluZWQgP1xuICAgIGxheW91dEluc3RhbnQgOiAhdGhpcy5faXNMYXlvdXRJbml0ZWQ7XG4gIHRoaXMubGF5b3V0SXRlbXMoIHRoaXMuaXRlbXMsIGlzSW5zdGFudCApO1xuXG4gIC8vIGZsYWcgZm9yIGluaXRhbGl6ZWRcbiAgdGhpcy5faXNMYXlvdXRJbml0ZWQgPSB0cnVlO1xufTtcblxuLy8gX2luaXQgaXMgYWxpYXMgZm9yIGxheW91dFxucHJvdG8uX2luaXQgPSBwcm90by5sYXlvdXQ7XG5cbi8qKlxuICogbG9naWMgYmVmb3JlIGFueSBuZXcgbGF5b3V0XG4gKi9cbnByb3RvLl9yZXNldExheW91dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmdldFNpemUoKTtcbn07XG5cblxucHJvdG8uZ2V0U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnNpemUgPSBnZXRTaXplKCB0aGlzLmVsZW1lbnQgKTtcbn07XG5cbi8qKlxuICogZ2V0IG1lYXN1cmVtZW50IGZyb20gb3B0aW9uLCBmb3IgY29sdW1uV2lkdGgsIHJvd0hlaWdodCwgZ3V0dGVyXG4gKiBpZiBvcHRpb24gaXMgU3RyaW5nIC0+IGdldCBlbGVtZW50IGZyb20gc2VsZWN0b3Igc3RyaW5nLCAmIGdldCBzaXplIG9mIGVsZW1lbnRcbiAqIGlmIG9wdGlvbiBpcyBFbGVtZW50IC0+IGdldCBzaXplIG9mIGVsZW1lbnRcbiAqIGVsc2UgdXNlIG9wdGlvbiBhcyBhIG51bWJlclxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZWFzdXJlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNpemUgLSB3aWR0aCBvciBoZWlnaHRcbiAqIEBwcml2YXRlXG4gKi9cbnByb3RvLl9nZXRNZWFzdXJlbWVudCA9IGZ1bmN0aW9uKCBtZWFzdXJlbWVudCwgc2l6ZSApIHtcbiAgdmFyIG9wdGlvbiA9IHRoaXMub3B0aW9uc1sgbWVhc3VyZW1lbnQgXTtcbiAgdmFyIGVsZW07XG4gIGlmICggIW9wdGlvbiApIHtcbiAgICAvLyBkZWZhdWx0IHRvIDBcbiAgICB0aGlzWyBtZWFzdXJlbWVudCBdID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyB1c2Ugb3B0aW9uIGFzIGFuIGVsZW1lbnRcbiAgICBpZiAoIHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycgKSB7XG4gICAgICBlbGVtID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIG9wdGlvbiApO1xuICAgIH0gZWxzZSBpZiAoIG9wdGlvbiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICkge1xuICAgICAgZWxlbSA9IG9wdGlvbjtcbiAgICB9XG4gICAgLy8gdXNlIHNpemUgb2YgZWxlbWVudCwgaWYgZWxlbWVudFxuICAgIHRoaXNbIG1lYXN1cmVtZW50IF0gPSBlbGVtID8gZ2V0U2l6ZSggZWxlbSApWyBzaXplIF0gOiBvcHRpb247XG4gIH1cbn07XG5cbi8qKlxuICogbGF5b3V0IGEgY29sbGVjdGlvbiBvZiBpdGVtIGVsZW1lbnRzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5wcm90by5sYXlvdXRJdGVtcyA9IGZ1bmN0aW9uKCBpdGVtcywgaXNJbnN0YW50ICkge1xuICBpdGVtcyA9IHRoaXMuX2dldEl0ZW1zRm9yTGF5b3V0KCBpdGVtcyApO1xuXG4gIHRoaXMuX2xheW91dEl0ZW1zKCBpdGVtcywgaXNJbnN0YW50ICk7XG5cbiAgdGhpcy5fcG9zdExheW91dCgpO1xufTtcblxuLyoqXG4gKiBnZXQgdGhlIGl0ZW1zIHRvIGJlIGxhaWQgb3V0XG4gKiB5b3UgbWF5IHdhbnQgdG8gc2tpcCBvdmVyIHNvbWUgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zXG4gKiBAcmV0dXJucyB7QXJyYXl9IGl0ZW1zXG4gKi9cbnByb3RvLl9nZXRJdGVtc0ZvckxheW91dCA9IGZ1bmN0aW9uKCBpdGVtcyApIHtcbiAgcmV0dXJuIGl0ZW1zLmZpbHRlciggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgcmV0dXJuICFpdGVtLmlzSWdub3JlZDtcbiAgfSk7XG59O1xuXG4vKipcbiAqIGxheW91dCBpdGVtc1xuICogQHBhcmFtIHtBcnJheX0gaXRlbXNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNJbnN0YW50XG4gKi9cbnByb3RvLl9sYXlvdXRJdGVtcyA9IGZ1bmN0aW9uKCBpdGVtcywgaXNJbnN0YW50ICkge1xuICB0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCAnbGF5b3V0JywgaXRlbXMgKTtcblxuICBpZiAoICFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoICkge1xuICAgIC8vIG5vIGl0ZW1zLCBlbWl0IGV2ZW50IHdpdGggZW1wdHkgYXJyYXlcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcXVldWUgPSBbXTtcblxuICBpdGVtcy5mb3JFYWNoKCBmdW5jdGlvbiggaXRlbSApIHtcbiAgICAvLyBnZXQgeC95IG9iamVjdCBmcm9tIG1ldGhvZFxuICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiggaXRlbSApO1xuICAgIC8vIGVucXVldWVcbiAgICBwb3NpdGlvbi5pdGVtID0gaXRlbTtcbiAgICBwb3NpdGlvbi5pc0luc3RhbnQgPSBpc0luc3RhbnQgfHwgaXRlbS5pc0xheW91dEluc3RhbnQ7XG4gICAgcXVldWUucHVzaCggcG9zaXRpb24gKTtcbiAgfSwgdGhpcyApO1xuXG4gIHRoaXMuX3Byb2Nlc3NMYXlvdXRRdWV1ZSggcXVldWUgKTtcbn07XG5cbi8qKlxuICogZ2V0IGl0ZW0gbGF5b3V0IHBvc2l0aW9uXG4gKiBAcGFyYW0ge091dGxheWVyLkl0ZW19IGl0ZW1cbiAqIEByZXR1cm5zIHtPYmplY3R9IHggYW5kIHkgcG9zaXRpb25cbiAqL1xucHJvdG8uX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCAvKiBpdGVtICovICkge1xuICByZXR1cm4ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xufTtcblxuLyoqXG4gKiBpdGVyYXRlIG92ZXIgYXJyYXkgYW5kIHBvc2l0aW9uIGVhY2ggaXRlbVxuICogUmVhc29uIGJlaW5nIC0gc2VwYXJhdGluZyB0aGlzIGxvZ2ljIHByZXZlbnRzICdsYXlvdXQgaW52YWxpZGF0aW9uJ1xuICogdGh4IEBwYXVsX2lyaXNoXG4gKiBAcGFyYW0ge0FycmF5fSBxdWV1ZVxuICovXG5wcm90by5fcHJvY2Vzc0xheW91dFF1ZXVlID0gZnVuY3Rpb24oIHF1ZXVlICkge1xuICB0aGlzLnVwZGF0ZVN0YWdnZXIoKTtcbiAgcXVldWUuZm9yRWFjaCggZnVuY3Rpb24oIG9iaiwgaSApIHtcbiAgICB0aGlzLl9wb3NpdGlvbkl0ZW0oIG9iai5pdGVtLCBvYmoueCwgb2JqLnksIG9iai5pc0luc3RhbnQsIGkgKTtcbiAgfSwgdGhpcyApO1xufTtcblxuLy8gc2V0IHN0YWdnZXIgZnJvbSBvcHRpb24gaW4gbWlsbGlzZWNvbmRzIG51bWJlclxucHJvdG8udXBkYXRlU3RhZ2dlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc3RhZ2dlciA9IHRoaXMub3B0aW9ucy5zdGFnZ2VyO1xuICBpZiAoIHN0YWdnZXIgPT09IG51bGwgfHwgc3RhZ2dlciA9PT0gdW5kZWZpbmVkICkge1xuICAgIHRoaXMuc3RhZ2dlciA9IDA7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuc3RhZ2dlciA9IGdldE1pbGxpc2Vjb25kcyggc3RhZ2dlciApO1xuICByZXR1cm4gdGhpcy5zdGFnZ2VyO1xufTtcblxuLyoqXG4gKiBTZXRzIHBvc2l0aW9uIG9mIGl0ZW0gaW4gRE9NXG4gKiBAcGFyYW0ge091dGxheWVyLkl0ZW19IGl0ZW1cbiAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gaG9yaXpvbnRhbCBwb3NpdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHkgLSB2ZXJ0aWNhbCBwb3NpdGlvblxuICogQHBhcmFtIHtCb29sZWFufSBpc0luc3RhbnQgLSBkaXNhYmxlcyB0cmFuc2l0aW9uc1xuICovXG5wcm90by5fcG9zaXRpb25JdGVtID0gZnVuY3Rpb24oIGl0ZW0sIHgsIHksIGlzSW5zdGFudCwgaSApIHtcbiAgaWYgKCBpc0luc3RhbnQgKSB7XG4gICAgLy8gaWYgbm90IHRyYW5zaXRpb24sIGp1c3Qgc2V0IENTU1xuICAgIGl0ZW0uZ29UbyggeCwgeSApO1xuICB9IGVsc2Uge1xuICAgIGl0ZW0uc3RhZ2dlciggaSAqIHRoaXMuc3RhZ2dlciApO1xuICAgIGl0ZW0ubW92ZVRvKCB4LCB5ICk7XG4gIH1cbn07XG5cbi8qKlxuICogQW55IGxvZ2ljIHlvdSB3YW50IHRvIGRvIGFmdGVyIGVhY2ggbGF5b3V0LFxuICogaS5lLiBzaXplIHRoZSBjb250YWluZXJcbiAqL1xucHJvdG8uX3Bvc3RMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZXNpemVDb250YWluZXIoKTtcbn07XG5cbnByb3RvLnJlc2l6ZUNvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXNSZXNpemluZ0NvbnRhaW5lciA9IHRoaXMuX2dldE9wdGlvbigncmVzaXplQ29udGFpbmVyJyk7XG4gIGlmICggIWlzUmVzaXppbmdDb250YWluZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBzaXplID0gdGhpcy5fZ2V0Q29udGFpbmVyU2l6ZSgpO1xuICBpZiAoIHNpemUgKSB7XG4gICAgdGhpcy5fc2V0Q29udGFpbmVyTWVhc3VyZSggc2l6ZS53aWR0aCwgdHJ1ZSApO1xuICAgIHRoaXMuX3NldENvbnRhaW5lck1lYXN1cmUoIHNpemUuaGVpZ2h0LCBmYWxzZSApO1xuICB9XG59O1xuXG4vKipcbiAqIFNldHMgd2lkdGggb3IgaGVpZ2h0IG9mIGNvbnRhaW5lciBpZiByZXR1cm5lZFxuICogQHJldHVybnMge09iamVjdH0gc2l6ZVxuICogICBAcGFyYW0ge051bWJlcn0gd2lkdGhcbiAqICAgQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuICovXG5wcm90by5fZ2V0Q29udGFpbmVyU2l6ZSA9IG5vb3A7XG5cbi8qKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1lYXN1cmUgLSBzaXplIG9mIHdpZHRoIG9yIGhlaWdodFxuICogQHBhcmFtIHtCb29sZWFufSBpc1dpZHRoXG4gKi9cbnByb3RvLl9zZXRDb250YWluZXJNZWFzdXJlID0gZnVuY3Rpb24oIG1lYXN1cmUsIGlzV2lkdGggKSB7XG4gIGlmICggbWVhc3VyZSA9PT0gdW5kZWZpbmVkICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBlbGVtU2l6ZSA9IHRoaXMuc2l6ZTtcbiAgLy8gYWRkIHBhZGRpbmcgYW5kIGJvcmRlciB3aWR0aCBpZiBib3JkZXIgYm94XG4gIGlmICggZWxlbVNpemUuaXNCb3JkZXJCb3ggKSB7XG4gICAgbWVhc3VyZSArPSBpc1dpZHRoID8gZWxlbVNpemUucGFkZGluZ0xlZnQgKyBlbGVtU2l6ZS5wYWRkaW5nUmlnaHQgK1xuICAgICAgZWxlbVNpemUuYm9yZGVyTGVmdFdpZHRoICsgZWxlbVNpemUuYm9yZGVyUmlnaHRXaWR0aCA6XG4gICAgICBlbGVtU2l6ZS5wYWRkaW5nQm90dG9tICsgZWxlbVNpemUucGFkZGluZ1RvcCArXG4gICAgICBlbGVtU2l6ZS5ib3JkZXJUb3BXaWR0aCArIGVsZW1TaXplLmJvcmRlckJvdHRvbVdpZHRoO1xuICB9XG5cbiAgbWVhc3VyZSA9IE1hdGgubWF4KCBtZWFzdXJlLCAwICk7XG4gIHRoaXMuZWxlbWVudC5zdHlsZVsgaXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0JyBdID0gbWVhc3VyZSArICdweCc7XG59O1xuXG4vKipcbiAqIGVtaXQgZXZlbnRDb21wbGV0ZSBvbiBhIGNvbGxlY3Rpb24gb2YgaXRlbXMgZXZlbnRzXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gKiBAcGFyYW0ge0FycmF5fSBpdGVtcyAtIE91dGxheWVyLkl0ZW1zXG4gKi9cbnByb3RvLl9lbWl0Q29tcGxldGVPbkl0ZW1zID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgaXRlbXMgKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIGZ1bmN0aW9uIG9uQ29tcGxldGUoKSB7XG4gICAgX3RoaXMuZGlzcGF0Y2hFdmVudCggZXZlbnROYW1lICsgJ0NvbXBsZXRlJywgbnVsbCwgWyBpdGVtcyBdICk7XG4gIH1cblxuICB2YXIgY291bnQgPSBpdGVtcy5sZW5ndGg7XG4gIGlmICggIWl0ZW1zIHx8ICFjb3VudCApIHtcbiAgICBvbkNvbXBsZXRlKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGRvbmVDb3VudCA9IDA7XG4gIGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgZG9uZUNvdW50Kys7XG4gICAgaWYgKCBkb25lQ291bnQgPT0gY291bnQgKSB7XG4gICAgICBvbkNvbXBsZXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gYmluZCBjYWxsYmFja1xuICBpdGVtcy5mb3JFYWNoKCBmdW5jdGlvbiggaXRlbSApIHtcbiAgICBpdGVtLm9uY2UoIGV2ZW50TmFtZSwgdGljayApO1xuICB9KTtcbn07XG5cbi8qKlxuICogZW1pdHMgZXZlbnRzIHZpYSBFdkVtaXR0ZXIgYW5kIGpRdWVyeSBldmVudHNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gbmFtZSBvZiBldmVudFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBvcmlnaW5hbCBldmVudFxuICogQHBhcmFtIHtBcnJheX0gYXJncyAtIGV4dHJhIGFyZ3VtZW50c1xuICovXG5wcm90by5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oIHR5cGUsIGV2ZW50LCBhcmdzICkge1xuICAvLyBhZGQgb3JpZ2luYWwgZXZlbnQgdG8gYXJndW1lbnRzXG4gIHZhciBlbWl0QXJncyA9IGV2ZW50ID8gWyBldmVudCBdLmNvbmNhdCggYXJncyApIDogYXJncztcbiAgdGhpcy5lbWl0RXZlbnQoIHR5cGUsIGVtaXRBcmdzICk7XG5cbiAgaWYgKCBqUXVlcnkgKSB7XG4gICAgLy8gc2V0IHRoaXMuJGVsZW1lbnRcbiAgICB0aGlzLiRlbGVtZW50ID0gdGhpcy4kZWxlbWVudCB8fCBqUXVlcnkoIHRoaXMuZWxlbWVudCApO1xuICAgIGlmICggZXZlbnQgKSB7XG4gICAgICAvLyBjcmVhdGUgalF1ZXJ5IGV2ZW50XG4gICAgICB2YXIgJGV2ZW50ID0galF1ZXJ5LkV2ZW50KCBldmVudCApO1xuICAgICAgJGV2ZW50LnR5cGUgPSB0eXBlO1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCAkZXZlbnQsIGFyZ3MgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8ganVzdCB0cmlnZ2VyIHdpdGggdHlwZSBpZiBubyBldmVudCBhdmFpbGFibGVcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlciggdHlwZSwgYXJncyApO1xuICAgIH1cbiAgfVxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaWdub3JlICYgc3RhbXBzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cblxuLyoqXG4gKiBrZWVwIGl0ZW0gaW4gY29sbGVjdGlvbiwgYnV0IGRvIG5vdCBsYXkgaXQgb3V0XG4gKiBpZ25vcmVkIGl0ZW1zIGRvIG5vdCBnZXQgc2tpcHBlZCBpbiBsYXlvdXRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICovXG5wcm90by5pZ25vcmUgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgdmFyIGl0ZW0gPSB0aGlzLmdldEl0ZW0oIGVsZW0gKTtcbiAgaWYgKCBpdGVtICkge1xuICAgIGl0ZW0uaXNJZ25vcmVkID0gdHJ1ZTtcbiAgfVxufTtcblxuLyoqXG4gKiByZXR1cm4gaXRlbSB0byBsYXlvdXQgY29sbGVjdGlvblxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG4gKi9cbnByb3RvLnVuaWdub3JlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIHZhciBpdGVtID0gdGhpcy5nZXRJdGVtKCBlbGVtICk7XG4gIGlmICggaXRlbSApIHtcbiAgICBkZWxldGUgaXRlbS5pc0lnbm9yZWQ7XG4gIH1cbn07XG5cbi8qKlxuICogYWRkcyBlbGVtZW50cyB0byBzdGFtcHNcbiAqIEBwYXJhbSB7Tm9kZUxpc3QsIEFycmF5LCBFbGVtZW50LCBvciBTdHJpbmd9IGVsZW1zXG4gKi9cbnByb3RvLnN0YW1wID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICBlbGVtcyA9IHRoaXMuX2ZpbmQoIGVsZW1zICk7XG4gIGlmICggIWVsZW1zICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuc3RhbXBzID0gdGhpcy5zdGFtcHMuY29uY2F0KCBlbGVtcyApO1xuICAvLyBpZ25vcmVcbiAgZWxlbXMuZm9yRWFjaCggdGhpcy5pZ25vcmUsIHRoaXMgKTtcbn07XG5cbi8qKlxuICogcmVtb3ZlcyBlbGVtZW50cyB0byBzdGFtcHNcbiAqIEBwYXJhbSB7Tm9kZUxpc3QsIEFycmF5LCBvciBFbGVtZW50fSBlbGVtc1xuICovXG5wcm90by51bnN0YW1wID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICBlbGVtcyA9IHRoaXMuX2ZpbmQoIGVsZW1zICk7XG4gIGlmICggIWVsZW1zICl7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZWxlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgLy8gZmlsdGVyIG91dCByZW1vdmVkIHN0YW1wIGVsZW1lbnRzXG4gICAgdXRpbHMucmVtb3ZlRnJvbSggdGhpcy5zdGFtcHMsIGVsZW0gKTtcbiAgICB0aGlzLnVuaWdub3JlKCBlbGVtICk7XG4gIH0sIHRoaXMgKTtcbn07XG5cbi8qKlxuICogZmluZHMgY2hpbGQgZWxlbWVudHNcbiAqIEBwYXJhbSB7Tm9kZUxpc3QsIEFycmF5LCBFbGVtZW50LCBvciBTdHJpbmd9IGVsZW1zXG4gKiBAcmV0dXJucyB7QXJyYXl9IGVsZW1zXG4gKi9cbnByb3RvLl9maW5kID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICBpZiAoICFlbGVtcyApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gaWYgc3RyaW5nLCB1c2UgYXJndW1lbnQgYXMgc2VsZWN0b3Igc3RyaW5nXG4gIGlmICggdHlwZW9mIGVsZW1zID09ICdzdHJpbmcnICkge1xuICAgIGVsZW1zID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGVsZW1zICk7XG4gIH1cbiAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG4gIHJldHVybiBlbGVtcztcbn07XG5cbnByb3RvLl9tYW5hZ2VTdGFtcHMgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5zdGFtcHMgfHwgIXRoaXMuc3RhbXBzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9nZXRCb3VuZGluZ1JlY3QoKTtcblxuICB0aGlzLnN0YW1wcy5mb3JFYWNoKCB0aGlzLl9tYW5hZ2VTdGFtcCwgdGhpcyApO1xufTtcblxuLy8gdXBkYXRlIGJvdW5kaW5nTGVmdCAvIFRvcFxucHJvdG8uX2dldEJvdW5kaW5nUmVjdCA9IGZ1bmN0aW9uKCkge1xuICAvLyBnZXQgYm91bmRpbmcgcmVjdCBmb3IgY29udGFpbmVyIGVsZW1lbnRcbiAgdmFyIGJvdW5kaW5nUmVjdCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gIHRoaXMuX2JvdW5kaW5nUmVjdCA9IHtcbiAgICBsZWZ0OiBib3VuZGluZ1JlY3QubGVmdCArIHNpemUucGFkZGluZ0xlZnQgKyBzaXplLmJvcmRlckxlZnRXaWR0aCxcbiAgICB0b3A6IGJvdW5kaW5nUmVjdC50b3AgKyBzaXplLnBhZGRpbmdUb3AgKyBzaXplLmJvcmRlclRvcFdpZHRoLFxuICAgIHJpZ2h0OiBib3VuZGluZ1JlY3QucmlnaHQgLSAoIHNpemUucGFkZGluZ1JpZ2h0ICsgc2l6ZS5ib3JkZXJSaWdodFdpZHRoICksXG4gICAgYm90dG9tOiBib3VuZGluZ1JlY3QuYm90dG9tIC0gKCBzaXplLnBhZGRpbmdCb3R0b20gKyBzaXplLmJvcmRlckJvdHRvbVdpZHRoIClcbiAgfTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBzdGFtcFxuKiovXG5wcm90by5fbWFuYWdlU3RhbXAgPSBub29wO1xuXG4vKipcbiAqIGdldCB4L3kgcG9zaXRpb24gb2YgZWxlbWVudCByZWxhdGl2ZSB0byBjb250YWluZXIgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBvZmZzZXQgLSBoYXMgbGVmdCwgdG9wLCByaWdodCwgYm90dG9tXG4gKi9cbnByb3RvLl9nZXRFbGVtZW50T2Zmc2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIHZhciBib3VuZGluZ1JlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgdGhpc1JlY3QgPSB0aGlzLl9ib3VuZGluZ1JlY3Q7XG4gIHZhciBzaXplID0gZ2V0U2l6ZSggZWxlbSApO1xuICB2YXIgb2Zmc2V0ID0ge1xuICAgIGxlZnQ6IGJvdW5kaW5nUmVjdC5sZWZ0IC0gdGhpc1JlY3QubGVmdCAtIHNpemUubWFyZ2luTGVmdCxcbiAgICB0b3A6IGJvdW5kaW5nUmVjdC50b3AgLSB0aGlzUmVjdC50b3AgLSBzaXplLm1hcmdpblRvcCxcbiAgICByaWdodDogdGhpc1JlY3QucmlnaHQgLSBib3VuZGluZ1JlY3QucmlnaHQgLSBzaXplLm1hcmdpblJpZ2h0LFxuICAgIGJvdHRvbTogdGhpc1JlY3QuYm90dG9tIC0gYm91bmRpbmdSZWN0LmJvdHRvbSAtIHNpemUubWFyZ2luQm90dG9tXG4gIH07XG4gIHJldHVybiBvZmZzZXQ7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSByZXNpemUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZW5hYmxlIGV2ZW50IGhhbmRsZXJzIGZvciBsaXN0ZW5lcnNcbi8vIGkuZS4gcmVzaXplIC0+IG9ucmVzaXplXG5wcm90by5oYW5kbGVFdmVudCA9IHV0aWxzLmhhbmRsZUV2ZW50O1xuXG4vKipcbiAqIEJpbmQgbGF5b3V0IHRvIHdpbmRvdyByZXNpemluZ1xuICovXG5wcm90by5iaW5kUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcyApO1xuICB0aGlzLmlzUmVzaXplQm91bmQgPSB0cnVlO1xufTtcblxuLyoqXG4gKiBVbmJpbmQgbGF5b3V0IHRvIHdpbmRvdyByZXNpemluZ1xuICovXG5wcm90by51bmJpbmRSZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCB0aGlzICk7XG4gIHRoaXMuaXNSZXNpemVCb3VuZCA9IGZhbHNlO1xufTtcblxucHJvdG8ub25yZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZXNpemUoKTtcbn07XG5cbnV0aWxzLmRlYm91bmNlTWV0aG9kKCBPdXRsYXllciwgJ29ucmVzaXplJywgMTAwICk7XG5cbnByb3RvLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBkb24ndCB0cmlnZ2VyIGlmIHNpemUgZGlkIG5vdCBjaGFuZ2VcbiAgLy8gb3IgaWYgcmVzaXplIHdhcyB1bmJvdW5kLiBTZWUgIzlcbiAgaWYgKCAhdGhpcy5pc1Jlc2l6ZUJvdW5kIHx8ICF0aGlzLm5lZWRzUmVzaXplTGF5b3V0KCkgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5sYXlvdXQoKTtcbn07XG5cbi8qKlxuICogY2hlY2sgaWYgbGF5b3V0IGlzIG5lZWRlZCBwb3N0IGxheW91dFxuICogQHJldHVybnMgQm9vbGVhblxuICovXG5wcm90by5uZWVkc1Jlc2l6ZUxheW91dCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2l6ZSA9IGdldFNpemUoIHRoaXMuZWxlbWVudCApO1xuICAvLyBjaGVjayB0aGF0IHRoaXMuc2l6ZSBhbmQgc2l6ZSBhcmUgdGhlcmVcbiAgLy8gSUU4IHRyaWdnZXJzIHJlc2l6ZSBvbiBib2R5IHNpemUgY2hhbmdlLCBzbyB0aGV5IG1pZ2h0IG5vdCBiZVxuICB2YXIgaGFzU2l6ZXMgPSB0aGlzLnNpemUgJiYgc2l6ZTtcbiAgcmV0dXJuIGhhc1NpemVzICYmIHNpemUuaW5uZXJXaWR0aCAhPT0gdGhpcy5zaXplLmlubmVyV2lkdGg7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBtZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogYWRkIGl0ZW1zIHRvIE91dGxheWVyIGluc3RhbmNlXG4gKiBAcGFyYW0ge0FycmF5IG9yIE5vZGVMaXN0IG9yIEVsZW1lbnR9IGVsZW1zXG4gKiBAcmV0dXJucyB7QXJyYXl9IGl0ZW1zIC0gT3V0bGF5ZXIuSXRlbXNcbioqL1xucHJvdG8uYWRkSXRlbXMgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHZhciBpdGVtcyA9IHRoaXMuX2l0ZW1pemUoIGVsZW1zICk7XG4gIC8vIGFkZCBpdGVtcyB0byBjb2xsZWN0aW9uXG4gIGlmICggaXRlbXMubGVuZ3RoICkge1xuICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLmNvbmNhdCggaXRlbXMgKTtcbiAgfVxuICByZXR1cm4gaXRlbXM7XG59O1xuXG4vKipcbiAqIExheW91dCBuZXdseS1hcHBlbmRlZCBpdGVtIGVsZW1lbnRzXG4gKiBAcGFyYW0ge0FycmF5IG9yIE5vZGVMaXN0IG9yIEVsZW1lbnR9IGVsZW1zXG4gKi9cbnByb3RvLmFwcGVuZGVkID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLmFkZEl0ZW1zKCBlbGVtcyApO1xuICBpZiAoICFpdGVtcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGxheW91dCBhbmQgcmV2ZWFsIGp1c3QgdGhlIG5ldyBpdGVtc1xuICB0aGlzLmxheW91dEl0ZW1zKCBpdGVtcywgdHJ1ZSApO1xuICB0aGlzLnJldmVhbCggaXRlbXMgKTtcbn07XG5cbi8qKlxuICogTGF5b3V0IHByZXBlbmRlZCBlbGVtZW50c1xuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBFbGVtZW50fSBlbGVtc1xuICovXG5wcm90by5wcmVwZW5kZWQgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHZhciBpdGVtcyA9IHRoaXMuX2l0ZW1pemUoIGVsZW1zICk7XG4gIGlmICggIWl0ZW1zLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gYWRkIGl0ZW1zIHRvIGJlZ2lubmluZyBvZiBjb2xsZWN0aW9uXG4gIHZhciBwcmV2aW91c0l0ZW1zID0gdGhpcy5pdGVtcy5zbGljZSgwKTtcbiAgdGhpcy5pdGVtcyA9IGl0ZW1zLmNvbmNhdCggcHJldmlvdXNJdGVtcyApO1xuICAvLyBzdGFydCBuZXcgbGF5b3V0XG4gIHRoaXMuX3Jlc2V0TGF5b3V0KCk7XG4gIHRoaXMuX21hbmFnZVN0YW1wcygpO1xuICAvLyBsYXlvdXQgbmV3IHN0dWZmIHdpdGhvdXQgdHJhbnNpdGlvblxuICB0aGlzLmxheW91dEl0ZW1zKCBpdGVtcywgdHJ1ZSApO1xuICB0aGlzLnJldmVhbCggaXRlbXMgKTtcbiAgLy8gbGF5b3V0IHByZXZpb3VzIGl0ZW1zXG4gIHRoaXMubGF5b3V0SXRlbXMoIHByZXZpb3VzSXRlbXMgKTtcbn07XG5cbi8qKlxuICogcmV2ZWFsIGEgY29sbGVjdGlvbiBvZiBpdGVtc1xuICogQHBhcmFtIHtBcnJheSBvZiBPdXRsYXllci5JdGVtc30gaXRlbXNcbiAqL1xucHJvdG8ucmV2ZWFsID0gZnVuY3Rpb24oIGl0ZW1zICkge1xuICB0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCAncmV2ZWFsJywgaXRlbXMgKTtcbiAgaWYgKCAhaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHN0YWdnZXIgPSB0aGlzLnVwZGF0ZVN0YWdnZXIoKTtcbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0sIGkgKSB7XG4gICAgaXRlbS5zdGFnZ2VyKCBpICogc3RhZ2dlciApO1xuICAgIGl0ZW0ucmV2ZWFsKCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBoaWRlIGEgY29sbGVjdGlvbiBvZiBpdGVtc1xuICogQHBhcmFtIHtBcnJheSBvZiBPdXRsYXllci5JdGVtc30gaXRlbXNcbiAqL1xucHJvdG8uaGlkZSA9IGZ1bmN0aW9uKCBpdGVtcyApIHtcbiAgdGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcyggJ2hpZGUnLCBpdGVtcyApO1xuICBpZiAoICFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgc3RhZ2dlciA9IHRoaXMudXBkYXRlU3RhZ2dlcigpO1xuICBpdGVtcy5mb3JFYWNoKCBmdW5jdGlvbiggaXRlbSwgaSApIHtcbiAgICBpdGVtLnN0YWdnZXIoIGkgKiBzdGFnZ2VyICk7XG4gICAgaXRlbS5oaWRlKCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiByZXZlYWwgaXRlbSBlbGVtZW50c1xuICogQHBhcmFtIHtBcnJheX0sIHtFbGVtZW50fSwge05vZGVMaXN0fSBpdGVtc1xuICovXG5wcm90by5yZXZlYWxJdGVtRWxlbWVudHMgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHZhciBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoIGVsZW1zICk7XG4gIHRoaXMucmV2ZWFsKCBpdGVtcyApO1xufTtcblxuLyoqXG4gKiBoaWRlIGl0ZW0gZWxlbWVudHNcbiAqIEBwYXJhbSB7QXJyYXl9LCB7RWxlbWVudH0sIHtOb2RlTGlzdH0gaXRlbXNcbiAqL1xucHJvdG8uaGlkZUl0ZW1FbGVtZW50cyA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdmFyIGl0ZW1zID0gdGhpcy5nZXRJdGVtcyggZWxlbXMgKTtcbiAgdGhpcy5oaWRlKCBpdGVtcyApO1xufTtcblxuLyoqXG4gKiBnZXQgT3V0bGF5ZXIuSXRlbSwgZ2l2ZW4gYW4gRWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge091dGxheWVyLkl0ZW19IGl0ZW1cbiAqL1xucHJvdG8uZ2V0SXRlbSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICAvLyBsb29wIHRocm91Z2ggaXRlbXMgdG8gZ2V0IHRoZSBvbmUgdGhhdCBtYXRjaGVzXG4gIGZvciAoIHZhciBpPTA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTtcbiAgICBpZiAoIGl0ZW0uZWxlbWVudCA9PSBlbGVtICkge1xuICAgICAgLy8gcmV0dXJuIGl0ZW1cbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBnZXQgY29sbGVjdGlvbiBvZiBPdXRsYXllci5JdGVtcywgZ2l2ZW4gRWxlbWVudHNcbiAqIEBwYXJhbSB7QXJyYXl9IGVsZW1zXG4gKiBAcmV0dXJucyB7QXJyYXl9IGl0ZW1zIC0gT3V0bGF5ZXIuSXRlbXNcbiAqL1xucHJvdG8uZ2V0SXRlbXMgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIGVsZW1zID0gdXRpbHMubWFrZUFycmF5KCBlbGVtcyApO1xuICB2YXIgaXRlbXMgPSBbXTtcbiAgZWxlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgdmFyIGl0ZW0gPSB0aGlzLmdldEl0ZW0oIGVsZW0gKTtcbiAgICBpZiAoIGl0ZW0gKSB7XG4gICAgICBpdGVtcy5wdXNoKCBpdGVtICk7XG4gICAgfVxuICB9LCB0aGlzICk7XG5cbiAgcmV0dXJuIGl0ZW1zO1xufTtcblxuLyoqXG4gKiByZW1vdmUgZWxlbWVudChzKSBmcm9tIGluc3RhbmNlIGFuZCBET01cbiAqIEBwYXJhbSB7QXJyYXkgb3IgTm9kZUxpc3Qgb3IgRWxlbWVudH0gZWxlbXNcbiAqL1xucHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgcmVtb3ZlSXRlbXMgPSB0aGlzLmdldEl0ZW1zKCBlbGVtcyApO1xuXG4gIHRoaXMuX2VtaXRDb21wbGV0ZU9uSXRlbXMoICdyZW1vdmUnLCByZW1vdmVJdGVtcyApO1xuXG4gIC8vIGJhaWwgaWYgbm8gaXRlbXMgdG8gcmVtb3ZlXG4gIGlmICggIXJlbW92ZUl0ZW1zIHx8ICFyZW1vdmVJdGVtcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmVtb3ZlSXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgaXRlbS5yZW1vdmUoKTtcbiAgICAvLyByZW1vdmUgaXRlbSBmcm9tIGNvbGxlY3Rpb25cbiAgICB1dGlscy5yZW1vdmVGcm9tKCB0aGlzLml0ZW1zLCBpdGVtICk7XG4gIH0sIHRoaXMgKTtcbn07XG5cbi8vIC0tLS0tIGRlc3Ryb3kgLS0tLS0gLy9cblxuLy8gcmVtb3ZlIGFuZCBkaXNhYmxlIE91dGxheWVyIGluc3RhbmNlXG5wcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNsZWFuIHVwIGR5bmFtaWMgc3R5bGVzXG4gIHZhciBzdHlsZSA9IHRoaXMuZWxlbWVudC5zdHlsZTtcbiAgc3R5bGUuaGVpZ2h0ID0gJyc7XG4gIHN0eWxlLnBvc2l0aW9uID0gJyc7XG4gIHN0eWxlLndpZHRoID0gJyc7XG4gIC8vIGRlc3Ryb3kgaXRlbXNcbiAgdGhpcy5pdGVtcy5mb3JFYWNoKCBmdW5jdGlvbiggaXRlbSApIHtcbiAgICBpdGVtLmRlc3Ryb3koKTtcbiAgfSk7XG5cbiAgdGhpcy51bmJpbmRSZXNpemUoKTtcblxuICB2YXIgaWQgPSB0aGlzLmVsZW1lbnQub3V0bGF5ZXJHVUlEO1xuICBkZWxldGUgaW5zdGFuY2VzWyBpZCBdOyAvLyByZW1vdmUgcmVmZXJlbmNlIHRvIGluc3RhbmNlIGJ5IGlkXG4gIGRlbGV0ZSB0aGlzLmVsZW1lbnQub3V0bGF5ZXJHVUlEO1xuICAvLyByZW1vdmUgZGF0YSBmb3IgalF1ZXJ5XG4gIGlmICggalF1ZXJ5ICkge1xuICAgIGpRdWVyeS5yZW1vdmVEYXRhKCB0aGlzLmVsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IubmFtZXNwYWNlICk7XG4gIH1cblxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZGF0YSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGdldCBPdXRsYXllciBpbnN0YW5jZSBmcm9tIGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHJldHVybnMge091dGxheWVyfVxuICovXG5PdXRsYXllci5kYXRhID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIGVsZW0gPSB1dGlscy5nZXRRdWVyeUVsZW1lbnQoIGVsZW0gKTtcbiAgdmFyIGlkID0gZWxlbSAmJiBlbGVtLm91dGxheWVyR1VJRDtcbiAgcmV0dXJuIGlkICYmIGluc3RhbmNlc1sgaWQgXTtcbn07XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gY3JlYXRlIE91dGxheWVyIGNsYXNzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogY3JlYXRlIGEgbGF5b3V0IGNsYXNzXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKi9cbk91dGxheWVyLmNyZWF0ZSA9IGZ1bmN0aW9uKCBuYW1lc3BhY2UsIG9wdGlvbnMgKSB7XG4gIC8vIHN1Yi1jbGFzcyBPdXRsYXllclxuICB2YXIgTGF5b3V0ID0gc3ViY2xhc3MoIE91dGxheWVyICk7XG4gIC8vIGFwcGx5IG5ldyBvcHRpb25zIGFuZCBjb21wYXRPcHRpb25zXG4gIExheW91dC5kZWZhdWx0cyA9IHV0aWxzLmV4dGVuZCgge30sIE91dGxheWVyLmRlZmF1bHRzICk7XG4gIHV0aWxzLmV4dGVuZCggTGF5b3V0LmRlZmF1bHRzLCBvcHRpb25zICk7XG4gIExheW91dC5jb21wYXRPcHRpb25zID0gdXRpbHMuZXh0ZW5kKCB7fSwgT3V0bGF5ZXIuY29tcGF0T3B0aW9ucyAgKTtcblxuICBMYXlvdXQubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXG4gIExheW91dC5kYXRhID0gT3V0bGF5ZXIuZGF0YTtcblxuICAvLyBzdWItY2xhc3MgSXRlbVxuICBMYXlvdXQuSXRlbSA9IHN1YmNsYXNzKCBJdGVtICk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZGVjbGFyYXRpdmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICB1dGlscy5odG1sSW5pdCggTGF5b3V0LCBuYW1lc3BhY2UgKTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBqUXVlcnkgYnJpZGdlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgLy8gbWFrZSBpbnRvIGpRdWVyeSBwbHVnaW5cbiAgaWYgKCBqUXVlcnkgJiYgalF1ZXJ5LmJyaWRnZXQgKSB7XG4gICAgalF1ZXJ5LmJyaWRnZXQoIG5hbWVzcGFjZSwgTGF5b3V0ICk7XG4gIH1cblxuICByZXR1cm4gTGF5b3V0O1xufTtcblxuZnVuY3Rpb24gc3ViY2xhc3MoIFBhcmVudCApIHtcbiAgZnVuY3Rpb24gU3ViQ2xhc3MoKSB7XG4gICAgUGFyZW50LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgfVxuXG4gIFN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFBhcmVudC5wcm90b3R5cGUgKTtcbiAgU3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViQ2xhc3M7XG5cbiAgcmV0dXJuIFN1YkNsYXNzO1xufVxuXG4vLyAtLS0tLSBoZWxwZXJzIC0tLS0tIC8vXG5cbi8vIGhvdyBtYW55IG1pbGxpc2Vjb25kcyBhcmUgaW4gZWFjaCB1bml0XG52YXIgbXNVbml0cyA9IHtcbiAgbXM6IDEsXG4gIHM6IDEwMDBcbn07XG5cbi8vIG11bmdlIHRpbWUtbGlrZSBwYXJhbWV0ZXIgaW50byBtaWxsaXNlY29uZCBudW1iZXJcbi8vICcwLjRzJyAtPiA0MFxuZnVuY3Rpb24gZ2V0TWlsbGlzZWNvbmRzKCB0aW1lICkge1xuICBpZiAoIHR5cGVvZiB0aW1lID09ICdudW1iZXInICkge1xuICAgIHJldHVybiB0aW1lO1xuICB9XG4gIHZhciBtYXRjaGVzID0gdGltZS5tYXRjaCggLyheXFxkKlxcLj9cXGQqKShcXHcqKS8gKTtcbiAgdmFyIG51bSA9IG1hdGNoZXMgJiYgbWF0Y2hlc1sxXTtcbiAgdmFyIHVuaXQgPSBtYXRjaGVzICYmIG1hdGNoZXNbMl07XG4gIGlmICggIW51bS5sZW5ndGggKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgbnVtID0gcGFyc2VGbG9hdCggbnVtICk7XG4gIHZhciBtdWx0ID0gbXNVbml0c1sgdW5pdCBdIHx8IDE7XG4gIHJldHVybiBudW0gKiBtdWx0O1xufVxuXG4vLyAtLS0tLSBmaW4gLS0tLS0gLy9cblxuLy8gYmFjayBpbiBnbG9iYWxcbk91dGxheWVyLkl0ZW0gPSBJdGVtO1xuXG5yZXR1cm4gT3V0bGF5ZXI7XG5cbn0pKTtcbiIsICIvKipcbiAqIElzb3RvcGUgSXRlbVxuKiovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgICAnb3V0bGF5ZXIvb3V0bGF5ZXInXG4gICAgICBdLFxuICAgICAgZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgcmVxdWlyZSgnb3V0bGF5ZXInKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuSXNvdG9wZSA9IHdpbmRvdy5Jc290b3BlIHx8IHt9O1xuICAgIHdpbmRvdy5Jc290b3BlLkl0ZW0gPSBmYWN0b3J5KFxuICAgICAgd2luZG93Lk91dGxheWVyXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIE91dGxheWVyICkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJdGVtIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIHN1Yi1jbGFzcyBPdXRsYXllciBJdGVtXG5mdW5jdGlvbiBJdGVtKCkge1xuICBPdXRsYXllci5JdGVtLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbn1cblxudmFyIHByb3RvID0gSXRlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPdXRsYXllci5JdGVtLnByb3RvdHlwZSApO1xuXG52YXIgX2NyZWF0ZSA9IHByb3RvLl9jcmVhdGU7XG5wcm90by5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIGFzc2lnbiBpZCwgdXNlZCBmb3Igb3JpZ2luYWwtb3JkZXIgc29ydGluZ1xuICB0aGlzLmlkID0gdGhpcy5sYXlvdXQuaXRlbUdVSUQrKztcbiAgX2NyZWF0ZS5jYWxsKCB0aGlzICk7XG4gIHRoaXMuc29ydERhdGEgPSB7fTtcbn07XG5cbnByb3RvLnVwZGF0ZVNvcnREYXRhID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5pc0lnbm9yZWQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGRlZmF1bHQgc29ydGVyc1xuICB0aGlzLnNvcnREYXRhLmlkID0gdGhpcy5pZDtcbiAgLy8gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgdGhpcy5zb3J0RGF0YVsnb3JpZ2luYWwtb3JkZXInXSA9IHRoaXMuaWQ7XG4gIHRoaXMuc29ydERhdGEucmFuZG9tID0gTWF0aC5yYW5kb20oKTtcbiAgLy8gZ28gdGhydSBnZXRTb3J0RGF0YSBvYmogYW5kIGFwcGx5IHRoZSBzb3J0ZXJzXG4gIHZhciBnZXRTb3J0RGF0YSA9IHRoaXMubGF5b3V0Lm9wdGlvbnMuZ2V0U29ydERhdGE7XG4gIHZhciBzb3J0ZXJzID0gdGhpcy5sYXlvdXQuX3NvcnRlcnM7XG4gIGZvciAoIHZhciBrZXkgaW4gZ2V0U29ydERhdGEgKSB7XG4gICAgdmFyIHNvcnRlciA9IHNvcnRlcnNbIGtleSBdO1xuICAgIHRoaXMuc29ydERhdGFbIGtleSBdID0gc29ydGVyKCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcbiAgfVxufTtcblxudmFyIF9kZXN0cm95ID0gcHJvdG8uZGVzdHJveTtcbnByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgLy8gY2FsbCBzdXBlclxuICBfZGVzdHJveS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gIC8vIHJlc2V0IGRpc3BsYXksICM3NDFcbiAgdGhpcy5jc3Moe1xuICAgIGRpc3BsYXk6ICcnXG4gIH0pO1xufTtcblxucmV0dXJuIEl0ZW07XG5cbn0pKTtcbiIsICIvKipcbiAqIElzb3RvcGUgTGF5b3V0TW9kZVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgICAnZ2V0LXNpemUvZ2V0LXNpemUnLFxuICAgICAgICAnb3V0bGF5ZXIvb3V0bGF5ZXInXG4gICAgICBdLFxuICAgICAgZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKSxcbiAgICAgIHJlcXVpcmUoJ291dGxheWVyJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lklzb3RvcGUgPSB3aW5kb3cuSXNvdG9wZSB8fCB7fTtcbiAgICB3aW5kb3cuSXNvdG9wZS5MYXlvdXRNb2RlID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdy5nZXRTaXplLFxuICAgICAgd2luZG93Lk91dGxheWVyXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIGdldFNpemUsIE91dGxheWVyICkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gbGF5b3V0IG1vZGUgY2xhc3NcbiAgZnVuY3Rpb24gTGF5b3V0TW9kZSggaXNvdG9wZSApIHtcbiAgICB0aGlzLmlzb3RvcGUgPSBpc290b3BlO1xuICAgIC8vIGxpbmsgcHJvcGVydGllc1xuICAgIGlmICggaXNvdG9wZSApIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IGlzb3RvcGUub3B0aW9uc1sgdGhpcy5uYW1lc3BhY2UgXTtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGlzb3RvcGUuZWxlbWVudDtcbiAgICAgIHRoaXMuaXRlbXMgPSBpc290b3BlLmZpbHRlcmVkSXRlbXM7XG4gICAgICB0aGlzLnNpemUgPSBpc290b3BlLnNpemU7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gTGF5b3V0TW9kZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIHNvbWUgbWV0aG9kcyBzaG91bGQganVzdCBkZWZlciB0byBkZWZhdWx0IE91dGxheWVyIG1ldGhvZFxuICAgKiBhbmQgcmVmZXJlbmNlIHRoZSBJc290b3BlIGluc3RhbmNlIGFzIGB0aGlzYFxuICAqKi9cbiAgdmFyIGZhY2FkZU1ldGhvZHMgPSBbXG4gICAgJ19yZXNldExheW91dCcsXG4gICAgJ19nZXRJdGVtTGF5b3V0UG9zaXRpb24nLFxuICAgICdfbWFuYWdlU3RhbXAnLFxuICAgICdfZ2V0Q29udGFpbmVyU2l6ZScsXG4gICAgJ19nZXRFbGVtZW50T2Zmc2V0JyxcbiAgICAnbmVlZHNSZXNpemVMYXlvdXQnLFxuICAgICdfZ2V0T3B0aW9uJ1xuICBdO1xuXG4gIGZhY2FkZU1ldGhvZHMuZm9yRWFjaCggZnVuY3Rpb24oIG1ldGhvZE5hbWUgKSB7XG4gICAgcHJvdG9bIG1ldGhvZE5hbWUgXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE91dGxheWVyLnByb3RvdHlwZVsgbWV0aG9kTmFtZSBdLmFwcGx5KCB0aGlzLmlzb3RvcGUsIGFyZ3VtZW50cyApO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIC0tLS0tICAtLS0tLSAvL1xuXG4gIC8vIGZvciBob3Jpem9udGFsIGxheW91dCBtb2RlcywgY2hlY2sgdmVydGljYWwgc2l6ZVxuICBwcm90by5uZWVkc1ZlcnRpY2FsUmVzaXplTGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gZG9uJ3QgdHJpZ2dlciBpZiBzaXplIGRpZCBub3QgY2hhbmdlXG4gICAgdmFyIHNpemUgPSBnZXRTaXplKCB0aGlzLmlzb3RvcGUuZWxlbWVudCApO1xuICAgIC8vIGNoZWNrIHRoYXQgdGhpcy5zaXplIGFuZCBzaXplIGFyZSB0aGVyZVxuICAgIC8vIElFOCB0cmlnZ2VycyByZXNpemUgb24gYm9keSBzaXplIGNoYW5nZSwgc28gdGhleSBtaWdodCBub3QgYmVcbiAgICB2YXIgaGFzU2l6ZXMgPSB0aGlzLmlzb3RvcGUuc2l6ZSAmJiBzaXplO1xuICAgIHJldHVybiBoYXNTaXplcyAmJiBzaXplLmlubmVySGVpZ2h0ICE9IHRoaXMuaXNvdG9wZS5zaXplLmlubmVySGVpZ2h0O1xuICB9O1xuXG4gIC8vIC0tLS0tIG1lYXN1cmVtZW50cyAtLS0tLSAvL1xuXG4gIHByb3RvLl9nZXRNZWFzdXJlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXNvdG9wZS5fZ2V0TWVhc3VyZW1lbnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuICB9O1xuXG4gIHByb3RvLmdldENvbHVtbldpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXRTZWdtZW50U2l6ZSggJ2NvbHVtbicsICdXaWR0aCcgKTtcbiAgfTtcblxuICBwcm90by5nZXRSb3dIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldFNlZ21lbnRTaXplKCAncm93JywgJ0hlaWdodCcgKTtcbiAgfTtcblxuICAvKipcbiAgICogZ2V0IGNvbHVtbldpZHRoIG9yIHJvd0hlaWdodFxuICAgKiBzZWdtZW50OiAnY29sdW1uJyBvciAncm93J1xuICAgKiBzaXplICdXaWR0aCcgb3IgJ0hlaWdodCdcbiAgKiovXG4gIHByb3RvLmdldFNlZ21lbnRTaXplID0gZnVuY3Rpb24oIHNlZ21lbnQsIHNpemUgKSB7XG4gICAgdmFyIHNlZ21lbnROYW1lID0gc2VnbWVudCArIHNpemU7XG4gICAgdmFyIG91dGVyU2l6ZSA9ICdvdXRlcicgKyBzaXplO1xuICAgIC8vIGNvbHVtbldpZHRoIC8gb3V0ZXJXaWR0aCAvLyByb3dIZWlnaHQgLyBvdXRlckhlaWdodFxuICAgIHRoaXMuX2dldE1lYXN1cmVtZW50KCBzZWdtZW50TmFtZSwgb3V0ZXJTaXplICk7XG4gICAgLy8gZ290IHJvd0hlaWdodCBvciBjb2x1bW5XaWR0aCwgd2UgY2FuIGNoaWxsXG4gICAgaWYgKCB0aGlzWyBzZWdtZW50TmFtZSBdICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmYWxsIGJhY2sgdG8gaXRlbSBvZiBmaXJzdCBlbGVtZW50XG4gICAgdmFyIGZpcnN0SXRlbVNpemUgPSB0aGlzLmdldEZpcnN0SXRlbVNpemUoKTtcbiAgICB0aGlzWyBzZWdtZW50TmFtZSBdID0gZmlyc3RJdGVtU2l6ZSAmJiBmaXJzdEl0ZW1TaXplWyBvdXRlclNpemUgXSB8fFxuICAgICAgLy8gb3Igc2l6ZSBvZiBjb250YWluZXJcbiAgICAgIHRoaXMuaXNvdG9wZS5zaXplWyAnaW5uZXInICsgc2l6ZSBdO1xuICB9O1xuXG4gIHByb3RvLmdldEZpcnN0SXRlbVNpemUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZmlyc3RJdGVtID0gdGhpcy5pc290b3BlLmZpbHRlcmVkSXRlbXNbMF07XG4gICAgcmV0dXJuIGZpcnN0SXRlbSAmJiBmaXJzdEl0ZW0uZWxlbWVudCAmJiBnZXRTaXplKCBmaXJzdEl0ZW0uZWxlbWVudCApO1xuICB9O1xuXG4gIC8vIC0tLS0tIG1ldGhvZHMgdGhhdCBzaG91bGQgcmVmZXJlbmNlIGlzb3RvcGUgLS0tLS0gLy9cblxuICBwcm90by5sYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzb3RvcGUubGF5b3V0LmFwcGx5KCB0aGlzLmlzb3RvcGUsIGFyZ3VtZW50cyApO1xuICB9O1xuXG4gIHByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzb3RvcGUuZ2V0U2l6ZSgpO1xuICAgIHRoaXMuc2l6ZSA9IHRoaXMuaXNvdG9wZS5zaXplO1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGNyZWF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIExheW91dE1vZGUubW9kZXMgPSB7fTtcblxuICBMYXlvdXRNb2RlLmNyZWF0ZSA9IGZ1bmN0aW9uKCBuYW1lc3BhY2UsIG9wdGlvbnMgKSB7XG5cbiAgICBmdW5jdGlvbiBNb2RlKCkge1xuICAgICAgTGF5b3V0TW9kZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgfVxuXG4gICAgTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBwcm90byApO1xuICAgIE1vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTW9kZTtcblxuICAgIC8vIGRlZmF1bHQgb3B0aW9uc1xuICAgIGlmICggb3B0aW9ucyApIHtcbiAgICAgIE1vZGUub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgTW9kZS5wcm90b3R5cGUubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICAgIC8vIHJlZ2lzdGVyIGluIElzb3RvcGVcbiAgICBMYXlvdXRNb2RlLm1vZGVzWyBuYW1lc3BhY2UgXSA9IE1vZGU7XG5cbiAgICByZXR1cm4gTW9kZTtcbiAgfTtcblxuICByZXR1cm4gTGF5b3V0TW9kZTtcblxufSkpO1xuIiwgIi8qIVxuICogTWFzb25yeSB2NC4yLjJcbiAqIENhc2NhZGluZyBncmlkIGxheW91dCBsaWJyYXJ5XG4gKiBodHRwczovL21hc29ucnkuZGVzYW5kcm8uY29tXG4gKiBNSVQgTGljZW5zZVxuICogYnkgRGF2aWQgRGVTYW5kcm9cbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICAgJ291dGxheWVyL291dGxheWVyJyxcbiAgICAgICAgJ2dldC1zaXplL2dldC1zaXplJ1xuICAgICAgXSxcbiAgICAgIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHJlcXVpcmUoJ291dGxheWVyJyksXG4gICAgICByZXF1aXJlKCdnZXQtc2l6ZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5NYXNvbnJ5ID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdy5PdXRsYXllcixcbiAgICAgIHdpbmRvdy5nZXRTaXplXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIE91dGxheWVyLCBnZXRTaXplICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIG1hc29ucnlEZWZpbml0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgLy8gY3JlYXRlIGFuIE91dGxheWVyIGxheW91dCBjbGFzc1xuICB2YXIgTWFzb25yeSA9IE91dGxheWVyLmNyZWF0ZSgnbWFzb25yeScpO1xuICAvLyBpc0ZpdFdpZHRoIC0+IGZpdFdpZHRoXG4gIE1hc29ucnkuY29tcGF0T3B0aW9ucy5maXRXaWR0aCA9ICdpc0ZpdFdpZHRoJztcblxuICB2YXIgcHJvdG8gPSBNYXNvbnJ5LnByb3RvdHlwZTtcblxuICBwcm90by5fcmVzZXRMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldFNpemUoKTtcbiAgICB0aGlzLl9nZXRNZWFzdXJlbWVudCggJ2NvbHVtbldpZHRoJywgJ291dGVyV2lkdGgnICk7XG4gICAgdGhpcy5fZ2V0TWVhc3VyZW1lbnQoICdndXR0ZXInLCAnb3V0ZXJXaWR0aCcgKTtcbiAgICB0aGlzLm1lYXN1cmVDb2x1bW5zKCk7XG5cbiAgICAvLyByZXNldCBjb2x1bW4gWVxuICAgIHRoaXMuY29sWXMgPSBbXTtcbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5jb2xzOyBpKysgKSB7XG4gICAgICB0aGlzLmNvbFlzLnB1c2goIDAgKTtcbiAgICB9XG5cbiAgICB0aGlzLm1heFkgPSAwO1xuICAgIHRoaXMuaG9yaXpvbnRhbENvbEluZGV4ID0gMDtcbiAgfTtcblxuICBwcm90by5tZWFzdXJlQ29sdW1ucyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0Q29udGFpbmVyV2lkdGgoKTtcbiAgICAvLyBpZiBjb2x1bW5XaWR0aCBpcyAwLCBkZWZhdWx0IHRvIG91dGVyV2lkdGggb2YgZmlyc3QgaXRlbVxuICAgIGlmICggIXRoaXMuY29sdW1uV2lkdGggKSB7XG4gICAgICB2YXIgZmlyc3RJdGVtID0gdGhpcy5pdGVtc1swXTtcbiAgICAgIHZhciBmaXJzdEl0ZW1FbGVtID0gZmlyc3RJdGVtICYmIGZpcnN0SXRlbS5lbGVtZW50O1xuICAgICAgLy8gY29sdW1uV2lkdGggZmFsbCBiYWNrIHRvIGl0ZW0gb2YgZmlyc3QgZWxlbWVudFxuICAgICAgdGhpcy5jb2x1bW5XaWR0aCA9IGZpcnN0SXRlbUVsZW0gJiYgZ2V0U2l6ZSggZmlyc3RJdGVtRWxlbSApLm91dGVyV2lkdGggfHxcbiAgICAgICAgLy8gaWYgZmlyc3QgZWxlbSBoYXMgbm8gd2lkdGgsIGRlZmF1bHQgdG8gc2l6ZSBvZiBjb250YWluZXJcbiAgICAgICAgdGhpcy5jb250YWluZXJXaWR0aDtcbiAgICB9XG5cbiAgICB2YXIgY29sdW1uV2lkdGggPSB0aGlzLmNvbHVtbldpZHRoICs9IHRoaXMuZ3V0dGVyO1xuXG4gICAgLy8gY2FsY3VsYXRlIGNvbHVtbnNcbiAgICB2YXIgY29udGFpbmVyV2lkdGggPSB0aGlzLmNvbnRhaW5lcldpZHRoICsgdGhpcy5ndXR0ZXI7XG4gICAgdmFyIGNvbHMgPSBjb250YWluZXJXaWR0aCAvIGNvbHVtbldpZHRoO1xuICAgIC8vIGZpeCByb3VuZGluZyBlcnJvcnMsIHR5cGljYWxseSB3aXRoIGd1dHRlcnNcbiAgICB2YXIgZXhjZXNzID0gY29sdW1uV2lkdGggLSBjb250YWluZXJXaWR0aCAlIGNvbHVtbldpZHRoO1xuICAgIC8vIGlmIG92ZXJzaG9vdCBpcyBsZXNzIHRoYW4gYSBwaXhlbCwgcm91bmQgdXAsIG90aGVyd2lzZSBmbG9vciBpdFxuICAgIHZhciBtYXRoTWV0aG9kID0gZXhjZXNzICYmIGV4Y2VzcyA8IDEgPyAncm91bmQnIDogJ2Zsb29yJztcbiAgICBjb2xzID0gTWF0aFsgbWF0aE1ldGhvZCBdKCBjb2xzICk7XG4gICAgdGhpcy5jb2xzID0gTWF0aC5tYXgoIGNvbHMsIDEgKTtcbiAgfTtcblxuICBwcm90by5nZXRDb250YWluZXJXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGNvbnRhaW5lciBpcyBwYXJlbnQgaWYgZml0IHdpZHRoXG4gICAgdmFyIGlzRml0V2lkdGggPSB0aGlzLl9nZXRPcHRpb24oJ2ZpdFdpZHRoJyk7XG4gICAgdmFyIGNvbnRhaW5lciA9IGlzRml0V2lkdGggPyB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSA6IHRoaXMuZWxlbWVudDtcbiAgICAvLyBjaGVjayB0aGF0IHRoaXMuc2l6ZSBhbmQgc2l6ZSBhcmUgdGhlcmVcbiAgICAvLyBJRTggdHJpZ2dlcnMgcmVzaXplIG9uIGJvZHkgc2l6ZSBjaGFuZ2UsIHNvIHRoZXkgbWlnaHQgbm90IGJlXG4gICAgdmFyIHNpemUgPSBnZXRTaXplKCBjb250YWluZXIgKTtcbiAgICB0aGlzLmNvbnRhaW5lcldpZHRoID0gc2l6ZSAmJiBzaXplLmlubmVyV2lkdGg7XG4gIH07XG5cbiAgcHJvdG8uX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCBpdGVtICkge1xuICAgIGl0ZW0uZ2V0U2l6ZSgpO1xuICAgIC8vIGhvdyBtYW55IGNvbHVtbnMgZG9lcyB0aGlzIGJyaWNrIHNwYW5cbiAgICB2YXIgcmVtYWluZGVyID0gaXRlbS5zaXplLm91dGVyV2lkdGggJSB0aGlzLmNvbHVtbldpZHRoO1xuICAgIHZhciBtYXRoTWV0aG9kID0gcmVtYWluZGVyICYmIHJlbWFpbmRlciA8IDEgPyAncm91bmQnIDogJ2NlaWwnO1xuICAgIC8vIHJvdW5kIGlmIG9mZiBieSAxIHBpeGVsLCBvdGhlcndpc2UgdXNlIGNlaWxcbiAgICB2YXIgY29sU3BhbiA9IE1hdGhbIG1hdGhNZXRob2QgXSggaXRlbS5zaXplLm91dGVyV2lkdGggLyB0aGlzLmNvbHVtbldpZHRoICk7XG4gICAgY29sU3BhbiA9IE1hdGgubWluKCBjb2xTcGFuLCB0aGlzLmNvbHMgKTtcbiAgICAvLyB1c2UgaG9yaXpvbnRhbCBvciB0b3AgY29sdW1uIHBvc2l0aW9uXG4gICAgdmFyIGNvbFBvc01ldGhvZCA9IHRoaXMub3B0aW9ucy5ob3Jpem9udGFsT3JkZXIgP1xuICAgICAgJ19nZXRIb3Jpem9udGFsQ29sUG9zaXRpb24nIDogJ19nZXRUb3BDb2xQb3NpdGlvbic7XG4gICAgdmFyIGNvbFBvc2l0aW9uID0gdGhpc1sgY29sUG9zTWV0aG9kIF0oIGNvbFNwYW4sIGl0ZW0gKTtcbiAgICAvLyBwb3NpdGlvbiB0aGUgYnJpY2tcbiAgICB2YXIgcG9zaXRpb24gPSB7XG4gICAgICB4OiB0aGlzLmNvbHVtbldpZHRoICogY29sUG9zaXRpb24uY29sLFxuICAgICAgeTogY29sUG9zaXRpb24ueVxuICAgIH07XG4gICAgLy8gYXBwbHkgc2V0SGVpZ2h0IHRvIG5lY2Vzc2FyeSBjb2x1bW5zXG4gICAgdmFyIHNldEhlaWdodCA9IGNvbFBvc2l0aW9uLnkgKyBpdGVtLnNpemUub3V0ZXJIZWlnaHQ7XG4gICAgdmFyIHNldE1heCA9IGNvbFNwYW4gKyBjb2xQb3NpdGlvbi5jb2w7XG4gICAgZm9yICggdmFyIGkgPSBjb2xQb3NpdGlvbi5jb2w7IGkgPCBzZXRNYXg7IGkrKyApIHtcbiAgICAgIHRoaXMuY29sWXNbaV0gPSBzZXRIZWlnaHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9O1xuXG4gIHByb3RvLl9nZXRUb3BDb2xQb3NpdGlvbiA9IGZ1bmN0aW9uKCBjb2xTcGFuICkge1xuICAgIHZhciBjb2xHcm91cCA9IHRoaXMuX2dldFRvcENvbEdyb3VwKCBjb2xTcGFuICk7XG4gICAgLy8gZ2V0IHRoZSBtaW5pbXVtIFkgdmFsdWUgZnJvbSB0aGUgY29sdW1uc1xuICAgIHZhciBtaW5pbXVtWSA9IE1hdGgubWluLmFwcGx5KCBNYXRoLCBjb2xHcm91cCApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbDogY29sR3JvdXAuaW5kZXhPZiggbWluaW11bVkgKSxcbiAgICAgIHk6IG1pbmltdW1ZLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjb2xTcGFuIC0gbnVtYmVyIG9mIGNvbHVtbnMgdGhlIGVsZW1lbnQgc3BhbnNcbiAgICogQHJldHVybnMge0FycmF5fSBjb2xHcm91cFxuICAgKi9cbiAgcHJvdG8uX2dldFRvcENvbEdyb3VwID0gZnVuY3Rpb24oIGNvbFNwYW4gKSB7XG4gICAgaWYgKCBjb2xTcGFuIDwgMiApIHtcbiAgICAgIC8vIGlmIGJyaWNrIHNwYW5zIG9ubHkgb25lIGNvbHVtbiwgdXNlIGFsbCB0aGUgY29sdW1uIFlzXG4gICAgICByZXR1cm4gdGhpcy5jb2xZcztcbiAgICB9XG5cbiAgICB2YXIgY29sR3JvdXAgPSBbXTtcbiAgICAvLyBob3cgbWFueSBkaWZmZXJlbnQgcGxhY2VzIGNvdWxkIHRoaXMgYnJpY2sgZml0IGhvcml6b250YWxseVxuICAgIHZhciBncm91cENvdW50ID0gdGhpcy5jb2xzICsgMSAtIGNvbFNwYW47XG4gICAgLy8gZm9yIGVhY2ggZ3JvdXAgcG90ZW50aWFsIGhvcml6b250YWwgcG9zaXRpb25cbiAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBncm91cENvdW50OyBpKysgKSB7XG4gICAgICBjb2xHcm91cFtpXSA9IHRoaXMuX2dldENvbEdyb3VwWSggaSwgY29sU3BhbiApO1xuICAgIH1cbiAgICByZXR1cm4gY29sR3JvdXA7XG4gIH07XG5cbiAgcHJvdG8uX2dldENvbEdyb3VwWSA9IGZ1bmN0aW9uKCBjb2wsIGNvbFNwYW4gKSB7XG4gICAgaWYgKCBjb2xTcGFuIDwgMiApIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbFlzWyBjb2wgXTtcbiAgICB9XG4gICAgLy8gbWFrZSBhbiBhcnJheSBvZiBjb2xZIHZhbHVlcyBmb3IgdGhhdCBvbmUgZ3JvdXBcbiAgICB2YXIgZ3JvdXBDb2xZcyA9IHRoaXMuY29sWXMuc2xpY2UoIGNvbCwgY29sICsgY29sU3BhbiApO1xuICAgIC8vIGFuZCBnZXQgdGhlIG1heCB2YWx1ZSBvZiB0aGUgYXJyYXlcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoIE1hdGgsIGdyb3VwQ29sWXMgKTtcbiAgfTtcblxuICAvLyBnZXQgY29sdW1uIHBvc2l0aW9uIGJhc2VkIG9uIGhvcml6b250YWwgaW5kZXguICM4NzNcbiAgcHJvdG8uX2dldEhvcml6b250YWxDb2xQb3NpdGlvbiA9IGZ1bmN0aW9uKCBjb2xTcGFuLCBpdGVtICkge1xuICAgIHZhciBjb2wgPSB0aGlzLmhvcml6b250YWxDb2xJbmRleCAlIHRoaXMuY29scztcbiAgICB2YXIgaXNPdmVyID0gY29sU3BhbiA+IDEgJiYgY29sICsgY29sU3BhbiA+IHRoaXMuY29scztcbiAgICAvLyBzaGlmdCB0byBuZXh0IHJvdyBpZiBpdGVtIGNhbid0IGZpdCBvbiBjdXJyZW50IHJvd1xuICAgIGNvbCA9IGlzT3ZlciA/IDAgOiBjb2w7XG4gICAgLy8gZG9uJ3QgbGV0IHplcm8tc2l6ZSBpdGVtcyB0YWtlIHVwIHNwYWNlXG4gICAgdmFyIGhhc1NpemUgPSBpdGVtLnNpemUub3V0ZXJXaWR0aCAmJiBpdGVtLnNpemUub3V0ZXJIZWlnaHQ7XG4gICAgdGhpcy5ob3Jpem9udGFsQ29sSW5kZXggPSBoYXNTaXplID8gY29sICsgY29sU3BhbiA6IHRoaXMuaG9yaXpvbnRhbENvbEluZGV4O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbDogY29sLFxuICAgICAgeTogdGhpcy5fZ2V0Q29sR3JvdXBZKCBjb2wsIGNvbFNwYW4gKSxcbiAgICB9O1xuICB9O1xuXG4gIHByb3RvLl9tYW5hZ2VTdGFtcCA9IGZ1bmN0aW9uKCBzdGFtcCApIHtcbiAgICB2YXIgc3RhbXBTaXplID0gZ2V0U2l6ZSggc3RhbXAgKTtcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fZ2V0RWxlbWVudE9mZnNldCggc3RhbXAgKTtcbiAgICAvLyBnZXQgdGhlIGNvbHVtbnMgdGhhdCB0aGlzIHN0YW1wIGFmZmVjdHNcbiAgICB2YXIgaXNPcmlnaW5MZWZ0ID0gdGhpcy5fZ2V0T3B0aW9uKCdvcmlnaW5MZWZ0Jyk7XG4gICAgdmFyIGZpcnN0WCA9IGlzT3JpZ2luTGVmdCA/IG9mZnNldC5sZWZ0IDogb2Zmc2V0LnJpZ2h0O1xuICAgIHZhciBsYXN0WCA9IGZpcnN0WCArIHN0YW1wU2l6ZS5vdXRlcldpZHRoO1xuICAgIHZhciBmaXJzdENvbCA9IE1hdGguZmxvb3IoIGZpcnN0WCAvIHRoaXMuY29sdW1uV2lkdGggKTtcbiAgICBmaXJzdENvbCA9IE1hdGgubWF4KCAwLCBmaXJzdENvbCApO1xuICAgIHZhciBsYXN0Q29sID0gTWF0aC5mbG9vciggbGFzdFggLyB0aGlzLmNvbHVtbldpZHRoICk7XG4gICAgLy8gbGFzdENvbCBzaG91bGQgbm90IGdvIG92ZXIgaWYgbXVsdGlwbGUgb2YgY29sdW1uV2lkdGggIzQyNVxuICAgIGxhc3RDb2wgLT0gbGFzdFggJSB0aGlzLmNvbHVtbldpZHRoID8gMCA6IDE7XG4gICAgbGFzdENvbCA9IE1hdGgubWluKCB0aGlzLmNvbHMgLSAxLCBsYXN0Q29sICk7XG4gICAgLy8gc2V0IGNvbFlzIHRvIGJvdHRvbSBvZiB0aGUgc3RhbXBcblxuICAgIHZhciBpc09yaWdpblRvcCA9IHRoaXMuX2dldE9wdGlvbignb3JpZ2luVG9wJyk7XG4gICAgdmFyIHN0YW1wTWF4WSA9ICggaXNPcmlnaW5Ub3AgPyBvZmZzZXQudG9wIDogb2Zmc2V0LmJvdHRvbSApICtcbiAgICAgIHN0YW1wU2l6ZS5vdXRlckhlaWdodDtcbiAgICBmb3IgKCB2YXIgaSA9IGZpcnN0Q29sOyBpIDw9IGxhc3RDb2w7IGkrKyApIHtcbiAgICAgIHRoaXMuY29sWXNbaV0gPSBNYXRoLm1heCggc3RhbXBNYXhZLCB0aGlzLmNvbFlzW2ldICk7XG4gICAgfVxuICB9O1xuXG4gIHByb3RvLl9nZXRDb250YWluZXJTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5tYXhZID0gTWF0aC5tYXguYXBwbHkoIE1hdGgsIHRoaXMuY29sWXMgKTtcbiAgICB2YXIgc2l6ZSA9IHtcbiAgICAgIGhlaWdodDogdGhpcy5tYXhZXG4gICAgfTtcblxuICAgIGlmICggdGhpcy5fZ2V0T3B0aW9uKCdmaXRXaWR0aCcpICkge1xuICAgICAgc2l6ZS53aWR0aCA9IHRoaXMuX2dldENvbnRhaW5lckZpdFdpZHRoKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNpemU7XG4gIH07XG5cbiAgcHJvdG8uX2dldENvbnRhaW5lckZpdFdpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHVudXNlZENvbHMgPSAwO1xuICAgIC8vIGNvdW50IHVudXNlZCBjb2x1bW5zXG4gICAgdmFyIGkgPSB0aGlzLmNvbHM7XG4gICAgd2hpbGUgKCAtLWkgKSB7XG4gICAgICBpZiAoIHRoaXMuY29sWXNbaV0gIT09IDAgKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdW51c2VkQ29scysrO1xuICAgIH1cbiAgICAvLyBmaXQgY29udGFpbmVyIHRvIGNvbHVtbnMgdGhhdCBoYXZlIGJlZW4gdXNlZFxuICAgIHJldHVybiAoIHRoaXMuY29scyAtIHVudXNlZENvbHMgKSAqIHRoaXMuY29sdW1uV2lkdGggLSB0aGlzLmd1dHRlcjtcbiAgfTtcblxuICBwcm90by5uZWVkc1Jlc2l6ZUxheW91dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcmV2aW91c1dpZHRoID0gdGhpcy5jb250YWluZXJXaWR0aDtcbiAgICB0aGlzLmdldENvbnRhaW5lcldpZHRoKCk7XG4gICAgcmV0dXJuIHByZXZpb3VzV2lkdGggIT0gdGhpcy5jb250YWluZXJXaWR0aDtcbiAgfTtcblxuICByZXR1cm4gTWFzb25yeTtcblxufSkpO1xuIiwgIi8qIVxuICogTWFzb25yeSBsYXlvdXQgbW9kZVxuICogc3ViLWNsYXNzZXMgTWFzb25yeVxuICogaHR0cHM6Ly9tYXNvbnJ5LmRlc2FuZHJvLmNvbVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgICAnLi4vbGF5b3V0LW1vZGUnLFxuICAgICAgICAnbWFzb25yeS1sYXlvdXQvbWFzb25yeSdcbiAgICAgIF0sXG4gICAgICBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICByZXF1aXJlKCcuLi9sYXlvdXQtbW9kZScpLFxuICAgICAgcmVxdWlyZSgnbWFzb25yeS1sYXlvdXQnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KFxuICAgICAgd2luZG93Lklzb3RvcGUuTGF5b3V0TW9kZSxcbiAgICAgIHdpbmRvdy5NYXNvbnJ5XG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIExheW91dE1vZGUsIE1hc29ucnkgKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIG1hc29ucnlEZWZpbml0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgLy8gY3JlYXRlIGFuIE91dGxheWVyIGxheW91dCBjbGFzc1xuICB2YXIgTWFzb25yeU1vZGUgPSBMYXlvdXRNb2RlLmNyZWF0ZSgnbWFzb25yeScpO1xuXG4gIHZhciBwcm90byA9IE1hc29ucnlNb2RlLnByb3RvdHlwZTtcblxuICB2YXIga2VlcE1vZGVNZXRob2RzID0ge1xuICAgIF9nZXRFbGVtZW50T2Zmc2V0OiB0cnVlLFxuICAgIGxheW91dDogdHJ1ZSxcbiAgICBfZ2V0TWVhc3VyZW1lbnQ6IHRydWVcbiAgfTtcblxuICAvLyBpbmhlcml0IE1hc29ucnkgcHJvdG90eXBlXG4gIGZvciAoIHZhciBtZXRob2QgaW4gTWFzb25yeS5wcm90b3R5cGUgKSB7XG4gICAgLy8gZG8gbm90IGluaGVyaXQgbW9kZSBtZXRob2RzXG4gICAgaWYgKCAha2VlcE1vZGVNZXRob2RzWyBtZXRob2QgXSApIHtcbiAgICAgIHByb3RvWyBtZXRob2QgXSA9IE1hc29ucnkucHJvdG90eXBlWyBtZXRob2QgXTtcbiAgICB9XG4gIH1cblxuICB2YXIgbWVhc3VyZUNvbHVtbnMgPSBwcm90by5tZWFzdXJlQ29sdW1ucztcbiAgcHJvdG8ubWVhc3VyZUNvbHVtbnMgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBzZXQgaXRlbXMsIHVzZWQgaWYgbWVhc3VyaW5nIGZpcnN0IGl0ZW1cbiAgICB0aGlzLml0ZW1zID0gdGhpcy5pc290b3BlLmZpbHRlcmVkSXRlbXM7XG4gICAgbWVhc3VyZUNvbHVtbnMuY2FsbCggdGhpcyApO1xuICB9O1xuXG4gIC8vIHBvaW50IHRvIG1vZGUgb3B0aW9ucyBmb3IgZml0V2lkdGhcbiAgdmFyIF9nZXRPcHRpb24gPSBwcm90by5fZ2V0T3B0aW9uO1xuICBwcm90by5fZ2V0T3B0aW9uID0gZnVuY3Rpb24oIG9wdGlvbiApIHtcbiAgICBpZiAoIG9wdGlvbiA9PSAnZml0V2lkdGgnICkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pc0ZpdFdpZHRoICE9PSB1bmRlZmluZWQgP1xuICAgICAgICB0aGlzLm9wdGlvbnMuaXNGaXRXaWR0aCA6IHRoaXMub3B0aW9ucy5maXRXaWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIF9nZXRPcHRpb24uYXBwbHkoIHRoaXMuaXNvdG9wZSwgYXJndW1lbnRzICk7XG4gIH07XG5cbiAgcmV0dXJuIE1hc29ucnlNb2RlO1xuXG59KSk7XG4iLCAiLyoqXG4gKiBmaXRSb3dzIGxheW91dCBtb2RlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAgICcuLi9sYXlvdXQtbW9kZSdcbiAgICAgIF0sXG4gICAgICBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgcmVxdWlyZSgnLi4vbGF5b3V0LW1vZGUnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KFxuICAgICAgd2luZG93Lklzb3RvcGUuTGF5b3V0TW9kZVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBMYXlvdXRNb2RlICkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRml0Um93cyA9IExheW91dE1vZGUuY3JlYXRlKCdmaXRSb3dzJyk7XG5cbnZhciBwcm90byA9IEZpdFJvd3MucHJvdG90eXBlO1xuXG5wcm90by5fcmVzZXRMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy54ID0gMDtcbiAgdGhpcy55ID0gMDtcbiAgdGhpcy5tYXhZID0gMDtcbiAgdGhpcy5fZ2V0TWVhc3VyZW1lbnQoICdndXR0ZXInLCAnb3V0ZXJXaWR0aCcgKTtcbn07XG5cbnByb3RvLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiggaXRlbSApIHtcbiAgaXRlbS5nZXRTaXplKCk7XG5cbiAgdmFyIGl0ZW1XaWR0aCA9IGl0ZW0uc2l6ZS5vdXRlcldpZHRoICsgdGhpcy5ndXR0ZXI7XG4gIC8vIGlmIHRoaXMgZWxlbWVudCBjYW5ub3QgZml0IGluIHRoZSBjdXJyZW50IHJvd1xuICB2YXIgY29udGFpbmVyV2lkdGggPSB0aGlzLmlzb3RvcGUuc2l6ZS5pbm5lcldpZHRoICsgdGhpcy5ndXR0ZXI7XG4gIGlmICggdGhpcy54ICE9PSAwICYmIGl0ZW1XaWR0aCArIHRoaXMueCA+IGNvbnRhaW5lcldpZHRoICkge1xuICAgIHRoaXMueCA9IDA7XG4gICAgdGhpcy55ID0gdGhpcy5tYXhZO1xuICB9XG5cbiAgdmFyIHBvc2l0aW9uID0ge1xuICAgIHg6IHRoaXMueCxcbiAgICB5OiB0aGlzLnlcbiAgfTtcblxuICB0aGlzLm1heFkgPSBNYXRoLm1heCggdGhpcy5tYXhZLCB0aGlzLnkgKyBpdGVtLnNpemUub3V0ZXJIZWlnaHQgKTtcbiAgdGhpcy54ICs9IGl0ZW1XaWR0aDtcblxuICByZXR1cm4gcG9zaXRpb247XG59O1xuXG5wcm90by5fZ2V0Q29udGFpbmVyU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4geyBoZWlnaHQ6IHRoaXMubWF4WSB9O1xufTtcblxucmV0dXJuIEZpdFJvd3M7XG5cbn0pKTtcbiIsICIvKipcbiAqIHZlcnRpY2FsIGxheW91dCBtb2RlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAgICcuLi9sYXlvdXQtbW9kZSdcbiAgICAgIF0sXG4gICAgICBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICByZXF1aXJlKCcuLi9sYXlvdXQtbW9kZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIGZhY3RvcnkoXG4gICAgICB3aW5kb3cuSXNvdG9wZS5MYXlvdXRNb2RlXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIExheW91dE1vZGUgKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBWZXJ0aWNhbCA9IExheW91dE1vZGUuY3JlYXRlKCAndmVydGljYWwnLCB7XG4gIGhvcml6b250YWxBbGlnbm1lbnQ6IDBcbn0pO1xuXG52YXIgcHJvdG8gPSBWZXJ0aWNhbC5wcm90b3R5cGU7XG5cbnByb3RvLl9yZXNldExheW91dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnkgPSAwO1xufTtcblxucHJvdG8uX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCBpdGVtICkge1xuICBpdGVtLmdldFNpemUoKTtcbiAgdmFyIHggPSAoIHRoaXMuaXNvdG9wZS5zaXplLmlubmVyV2lkdGggLSBpdGVtLnNpemUub3V0ZXJXaWR0aCApICpcbiAgICB0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbEFsaWdubWVudDtcbiAgdmFyIHkgPSB0aGlzLnk7XG4gIHRoaXMueSArPSBpdGVtLnNpemUub3V0ZXJIZWlnaHQ7XG4gIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbn07XG5cbnByb3RvLl9nZXRDb250YWluZXJTaXplID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7IGhlaWdodDogdGhpcy55IH07XG59O1xuXG5yZXR1cm4gVmVydGljYWw7XG5cbn0pKTtcbiIsICIvKiFcbiAqIElzb3RvcGUgdjMuMC42XG4gKlxuICogTGljZW5zZWQgR1BMdjMgZm9yIG9wZW4gc291cmNlIHVzZVxuICogb3IgSXNvdG9wZSBDb21tZXJjaWFsIExpY2Vuc2UgZm9yIGNvbW1lcmNpYWwgdXNlXG4gKlxuICogaHR0cHM6Ly9pc290b3BlLm1ldGFmaXp6eS5jb1xuICogQ29weXJpZ2h0IDIwMTAtMjAxOCBNZXRhZml6enlcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICAgJ291dGxheWVyL291dGxheWVyJyxcbiAgICAgICAgJ2dldC1zaXplL2dldC1zaXplJyxcbiAgICAgICAgJ2Rlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3RvcicsXG4gICAgICAgICdmaXp6eS11aS11dGlscy91dGlscycsXG4gICAgICAgICcuL2l0ZW0nLFxuICAgICAgICAnLi9sYXlvdXQtbW9kZScsXG4gICAgICAgIC8vIGluY2x1ZGUgZGVmYXVsdCBsYXlvdXQgbW9kZXNcbiAgICAgICAgJy4vbGF5b3V0LW1vZGVzL21hc29ucnknLFxuICAgICAgICAnLi9sYXlvdXQtbW9kZXMvZml0LXJvd3MnLFxuICAgICAgICAnLi9sYXlvdXQtbW9kZXMvdmVydGljYWwnXG4gICAgICBdLFxuICAgICAgZnVuY3Rpb24oIE91dGxheWVyLCBnZXRTaXplLCBtYXRjaGVzU2VsZWN0b3IsIHV0aWxzLCBJdGVtLCBMYXlvdXRNb2RlICkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBPdXRsYXllciwgZ2V0U2l6ZSwgbWF0Y2hlc1NlbGVjdG9yLCB1dGlscywgSXRlbSwgTGF5b3V0TW9kZSApO1xuICAgICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCdvdXRsYXllcicpLFxuICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKSxcbiAgICAgIHJlcXVpcmUoJ2Rlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3InKSxcbiAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJyksXG4gICAgICByZXF1aXJlKCcuL2l0ZW0nKSxcbiAgICAgIHJlcXVpcmUoJy4vbGF5b3V0LW1vZGUnKSxcbiAgICAgIC8vIGluY2x1ZGUgZGVmYXVsdCBsYXlvdXQgbW9kZXNcbiAgICAgIHJlcXVpcmUoJy4vbGF5b3V0LW1vZGVzL21hc29ucnknKSxcbiAgICAgIHJlcXVpcmUoJy4vbGF5b3V0LW1vZGVzL2ZpdC1yb3dzJyksXG4gICAgICByZXF1aXJlKCcuL2xheW91dC1tb2Rlcy92ZXJ0aWNhbCcpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5Jc290b3BlID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5PdXRsYXllcixcbiAgICAgIHdpbmRvdy5nZXRTaXplLFxuICAgICAgd2luZG93Lm1hdGNoZXNTZWxlY3RvcixcbiAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHMsXG4gICAgICB3aW5kb3cuSXNvdG9wZS5JdGVtLFxuICAgICAgd2luZG93Lklzb3RvcGUuTGF5b3V0TW9kZVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIE91dGxheWVyLCBnZXRTaXplLCBtYXRjaGVzU2VsZWN0b3IsIHV0aWxzLFxuICBJdGVtLCBMYXlvdXRNb2RlICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHZhcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudmFyIGpRdWVyeSA9IHdpbmRvdy5qUXVlcnk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudmFyIHRyaW0gPSBTdHJpbmcucHJvdG90eXBlLnRyaW0gP1xuICBmdW5jdGlvbiggc3RyICkge1xuICAgIHJldHVybiBzdHIudHJpbSgpO1xuICB9IDpcbiAgZnVuY3Rpb24oIHN0ciApIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoIC9eXFxzK3xcXHMrJC9nLCAnJyApO1xuICB9O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpc290b3BlRGVmaW5pdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIGNyZWF0ZSBhbiBPdXRsYXllciBsYXlvdXQgY2xhc3NcbiAgdmFyIElzb3RvcGUgPSBPdXRsYXllci5jcmVhdGUoICdpc290b3BlJywge1xuICAgIGxheW91dE1vZGU6ICdtYXNvbnJ5JyxcbiAgICBpc0pRdWVyeUZpbHRlcmluZzogdHJ1ZSxcbiAgICBzb3J0QXNjZW5kaW5nOiB0cnVlXG4gIH0pO1xuXG4gIElzb3RvcGUuSXRlbSA9IEl0ZW07XG4gIElzb3RvcGUuTGF5b3V0TW9kZSA9IExheW91dE1vZGU7XG5cbiAgdmFyIHByb3RvID0gSXNvdG9wZS5wcm90b3R5cGU7XG5cbiAgcHJvdG8uX2NyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXRlbUdVSUQgPSAwO1xuICAgIC8vIGZ1bmN0aW9ucyB0aGF0IHNvcnQgaXRlbXNcbiAgICB0aGlzLl9zb3J0ZXJzID0ge307XG4gICAgdGhpcy5fZ2V0U29ydGVycygpO1xuICAgIC8vIGNhbGwgc3VwZXJcbiAgICBPdXRsYXllci5wcm90b3R5cGUuX2NyZWF0ZS5jYWxsKCB0aGlzICk7XG5cbiAgICAvLyBjcmVhdGUgbGF5b3V0IG1vZGVzXG4gICAgdGhpcy5tb2RlcyA9IHt9O1xuICAgIC8vIHN0YXJ0IGZpbHRlcmVkSXRlbXMgd2l0aCBhbGwgaXRlbXNcbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSB0aGlzLml0ZW1zO1xuICAgIC8vIGtlZXAgb2YgdHJhY2sgb2Ygc29ydEJ5c1xuICAgIHRoaXMuc29ydEhpc3RvcnkgPSBbICdvcmlnaW5hbC1vcmRlcicgXTtcbiAgICAvLyBjcmVhdGUgZnJvbSByZWdpc3RlcmVkIGxheW91dCBtb2Rlc1xuICAgIGZvciAoIHZhciBuYW1lIGluIExheW91dE1vZGUubW9kZXMgKSB7XG4gICAgICB0aGlzLl9pbml0TGF5b3V0TW9kZSggbmFtZSApO1xuICAgIH1cbiAgfTtcblxuICBwcm90by5yZWxvYWRJdGVtcyA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIHJlc2V0IGl0ZW0gSUQgY291bnRlclxuICAgIHRoaXMuaXRlbUdVSUQgPSAwO1xuICAgIC8vIGNhbGwgc3VwZXJcbiAgICBPdXRsYXllci5wcm90b3R5cGUucmVsb2FkSXRlbXMuY2FsbCggdGhpcyApO1xuICB9O1xuXG4gIHByb3RvLl9pdGVtaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gT3V0bGF5ZXIucHJvdG90eXBlLl9pdGVtaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgICAvLyBhc3NpZ24gSUQgZm9yIG9yaWdpbmFsLW9yZGVyXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIGl0ZW0uaWQgPSB0aGlzLml0ZW1HVUlEKys7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZUl0ZW1zU29ydERhdGEoIGl0ZW1zICk7XG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9O1xuXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gbGF5b3V0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgcHJvdG8uX2luaXRMYXlvdXRNb2RlID0gZnVuY3Rpb24oIG5hbWUgKSB7XG4gICAgdmFyIE1vZGUgPSBMYXlvdXRNb2RlLm1vZGVzWyBuYW1lIF07XG4gICAgLy8gc2V0IG1vZGUgb3B0aW9uc1xuICAgIC8vIEhBQ0sgZXh0ZW5kIGluaXRpYWwgb3B0aW9ucywgYmFjay1maWxsIGluIGRlZmF1bHQgb3B0aW9uc1xuICAgIHZhciBpbml0aWFsT3B0cyA9IHRoaXMub3B0aW9uc1sgbmFtZSBdIHx8IHt9O1xuICAgIHRoaXMub3B0aW9uc1sgbmFtZSBdID0gTW9kZS5vcHRpb25zID9cbiAgICAgIHV0aWxzLmV4dGVuZCggTW9kZS5vcHRpb25zLCBpbml0aWFsT3B0cyApIDogaW5pdGlhbE9wdHM7XG4gICAgLy8gaW5pdCBsYXlvdXQgbW9kZSBpbnN0YW5jZVxuICAgIHRoaXMubW9kZXNbIG5hbWUgXSA9IG5ldyBNb2RlKCB0aGlzICk7XG4gIH07XG5cblxuICBwcm90by5sYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBpZiBmaXJzdCB0aW1lIGRvaW5nIGxheW91dCwgZG8gYWxsIG1hZ2ljXG4gICAgaWYgKCAhdGhpcy5faXNMYXlvdXRJbml0ZWQgJiYgdGhpcy5fZ2V0T3B0aW9uKCdpbml0TGF5b3V0JykgKSB7XG4gICAgICB0aGlzLmFycmFuZ2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbGF5b3V0KCk7XG4gIH07XG5cbiAgLy8gcHJpdmF0ZSBtZXRob2QgdG8gYmUgdXNlZCBpbiBsYXlvdXQoKSAmIG1hZ2ljKClcbiAgcHJvdG8uX2xheW91dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGRvbid0IGFuaW1hdGUgZmlyc3QgbGF5b3V0XG4gICAgdmFyIGlzSW5zdGFudCA9IHRoaXMuX2dldElzSW5zdGFudCgpO1xuICAgIC8vIGxheW91dCBmbG93XG4gICAgdGhpcy5fcmVzZXRMYXlvdXQoKTtcbiAgICB0aGlzLl9tYW5hZ2VTdGFtcHMoKTtcbiAgICB0aGlzLmxheW91dEl0ZW1zKCB0aGlzLmZpbHRlcmVkSXRlbXMsIGlzSW5zdGFudCApO1xuXG4gICAgLy8gZmxhZyBmb3IgaW5pdGFsaXplZFxuICAgIHRoaXMuX2lzTGF5b3V0SW5pdGVkID0gdHJ1ZTtcbiAgfTtcblxuICAvLyBmaWx0ZXIgKyBzb3J0ICsgbGF5b3V0XG4gIHByb3RvLmFycmFuZ2UgPSBmdW5jdGlvbiggb3B0cyApIHtcbiAgICAvLyBzZXQgYW55IG9wdGlvbnMgcGFzc1xuICAgIHRoaXMub3B0aW9uKCBvcHRzICk7XG4gICAgdGhpcy5fZ2V0SXNJbnN0YW50KCk7XG4gICAgLy8gZmlsdGVyLCBzb3J0LCBhbmQgbGF5b3V0XG5cbiAgICAvLyBmaWx0ZXJcbiAgICB2YXIgZmlsdGVyZWQgPSB0aGlzLl9maWx0ZXIoIHRoaXMuaXRlbXMgKTtcbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZC5tYXRjaGVzO1xuXG4gICAgdGhpcy5fYmluZEFycmFuZ2VDb21wbGV0ZSgpO1xuXG4gICAgaWYgKCB0aGlzLl9pc0luc3RhbnQgKSB7XG4gICAgICB0aGlzLl9ub1RyYW5zaXRpb24oIHRoaXMuX2hpZGVSZXZlYWwsIFsgZmlsdGVyZWQgXSApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlUmV2ZWFsKCBmaWx0ZXJlZCApO1xuICAgIH1cblxuICAgIHRoaXMuX3NvcnQoKTtcbiAgICB0aGlzLl9sYXlvdXQoKTtcbiAgfTtcbiAgLy8gYWxpYXMgdG8gX2luaXQgZm9yIG1haW4gcGx1Z2luIG1ldGhvZFxuICBwcm90by5faW5pdCA9IHByb3RvLmFycmFuZ2U7XG5cbiAgcHJvdG8uX2hpZGVSZXZlYWwgPSBmdW5jdGlvbiggZmlsdGVyZWQgKSB7XG4gICAgdGhpcy5yZXZlYWwoIGZpbHRlcmVkLm5lZWRSZXZlYWwgKTtcbiAgICB0aGlzLmhpZGUoIGZpbHRlcmVkLm5lZWRIaWRlICk7XG4gIH07XG5cbiAgLy8gSEFDS1xuICAvLyBEb24ndCBhbmltYXRlL3RyYW5zaXRpb24gZmlyc3QgbGF5b3V0XG4gIC8vIE9yIGRvbid0IGFuaW1hdGUvdHJhbnNpdGlvbiBvdGhlciBsYXlvdXRzXG4gIHByb3RvLl9nZXRJc0luc3RhbnQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXNMYXlvdXRJbnN0YW50ID0gdGhpcy5fZ2V0T3B0aW9uKCdsYXlvdXRJbnN0YW50Jyk7XG4gICAgdmFyIGlzSW5zdGFudCA9IGlzTGF5b3V0SW5zdGFudCAhPT0gdW5kZWZpbmVkID8gaXNMYXlvdXRJbnN0YW50IDpcbiAgICAgICF0aGlzLl9pc0xheW91dEluaXRlZDtcbiAgICB0aGlzLl9pc0luc3RhbnQgPSBpc0luc3RhbnQ7XG4gICAgcmV0dXJuIGlzSW5zdGFudDtcbiAgfTtcblxuICAvLyBsaXN0ZW4gZm9yIGxheW91dENvbXBsZXRlLCBoaWRlQ29tcGxldGUgYW5kIHJldmVhbENvbXBsZXRlXG4gIC8vIHRvIHRyaWdnZXIgYXJyYW5nZUNvbXBsZXRlXG4gIHByb3RvLl9iaW5kQXJyYW5nZUNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gbGlzdGVuIGZvciAzIGV2ZW50cyB0byB0cmlnZ2VyIGFycmFuZ2VDb21wbGV0ZVxuICAgIHZhciBpc0xheW91dENvbXBsZXRlLCBpc0hpZGVDb21wbGV0ZSwgaXNSZXZlYWxDb21wbGV0ZTtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGFycmFuZ2VQYXJhbGxlbENhbGxiYWNrKCkge1xuICAgICAgaWYgKCBpc0xheW91dENvbXBsZXRlICYmIGlzSGlkZUNvbXBsZXRlICYmIGlzUmV2ZWFsQ29tcGxldGUgKSB7XG4gICAgICAgIF90aGlzLmRpc3BhdGNoRXZlbnQoICdhcnJhbmdlQ29tcGxldGUnLCBudWxsLCBbIF90aGlzLmZpbHRlcmVkSXRlbXMgXSApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm9uY2UoICdsYXlvdXRDb21wbGV0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgaXNMYXlvdXRDb21wbGV0ZSA9IHRydWU7XG4gICAgICBhcnJhbmdlUGFyYWxsZWxDYWxsYmFjaygpO1xuICAgIH0pO1xuICAgIHRoaXMub25jZSggJ2hpZGVDb21wbGV0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgaXNIaWRlQ29tcGxldGUgPSB0cnVlO1xuICAgICAgYXJyYW5nZVBhcmFsbGVsQ2FsbGJhY2soKTtcbiAgICB9KTtcbiAgICB0aGlzLm9uY2UoICdyZXZlYWxDb21wbGV0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgaXNSZXZlYWxDb21wbGV0ZSA9IHRydWU7XG4gICAgICBhcnJhbmdlUGFyYWxsZWxDYWxsYmFjaygpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGZpbHRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIHByb3RvLl9maWx0ZXIgPSBmdW5jdGlvbiggaXRlbXMgKSB7XG4gICAgdmFyIGZpbHRlciA9IHRoaXMub3B0aW9ucy5maWx0ZXI7XG4gICAgZmlsdGVyID0gZmlsdGVyIHx8ICcqJztcbiAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgIHZhciBoaWRkZW5NYXRjaGVkID0gW107XG4gICAgdmFyIHZpc2libGVVbm1hdGNoZWQgPSBbXTtcblxuICAgIHZhciB0ZXN0ID0gdGhpcy5fZ2V0RmlsdGVyVGVzdCggZmlsdGVyICk7XG5cbiAgICAvLyB0ZXN0IGVhY2ggaXRlbVxuICAgIGZvciAoIHZhciBpPTA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG4gICAgICBpZiAoIGl0ZW0uaXNJZ25vcmVkICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8vIGFkZCBpdGVtIHRvIGVpdGhlciBtYXRjaGVkIG9yIHVubWF0Y2hlZCBncm91cFxuICAgICAgdmFyIGlzTWF0Y2hlZCA9IHRlc3QoIGl0ZW0gKTtcbiAgICAgIC8vIGl0ZW0uaXNGaWx0ZXJNYXRjaGVkID0gaXNNYXRjaGVkO1xuICAgICAgLy8gYWRkIHRvIG1hdGNoZXMgaWYgaXRzIGEgbWF0Y2hcbiAgICAgIGlmICggaXNNYXRjaGVkICkge1xuICAgICAgICBtYXRjaGVzLnB1c2goIGl0ZW0gKTtcbiAgICAgIH1cbiAgICAgIC8vIGFkZCB0byBhZGRpdGlvbmFsIGdyb3VwIGlmIGl0ZW0gbmVlZHMgdG8gYmUgaGlkZGVuIG9yIHJldmVhbGVkXG4gICAgICBpZiAoIGlzTWF0Y2hlZCAmJiBpdGVtLmlzSGlkZGVuICkge1xuICAgICAgICBoaWRkZW5NYXRjaGVkLnB1c2goIGl0ZW0gKTtcbiAgICAgIH0gZWxzZSBpZiAoICFpc01hdGNoZWQgJiYgIWl0ZW0uaXNIaWRkZW4gKSB7XG4gICAgICAgIHZpc2libGVVbm1hdGNoZWQucHVzaCggaXRlbSApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJldHVybiBjb2xsZWN0aW9ucyBvZiBpdGVtcyB0byBiZSBtYW5pcHVsYXRlZFxuICAgIHJldHVybiB7XG4gICAgICBtYXRjaGVzOiBtYXRjaGVzLFxuICAgICAgbmVlZFJldmVhbDogaGlkZGVuTWF0Y2hlZCxcbiAgICAgIG5lZWRIaWRlOiB2aXNpYmxlVW5tYXRjaGVkXG4gICAgfTtcbiAgfTtcblxuICAvLyBnZXQgYSBqUXVlcnksIGZ1bmN0aW9uLCBvciBhIG1hdGNoZXNTZWxlY3RvciB0ZXN0IGdpdmVuIHRoZSBmaWx0ZXJcbiAgcHJvdG8uX2dldEZpbHRlclRlc3QgPSBmdW5jdGlvbiggZmlsdGVyICkge1xuICAgIGlmICggalF1ZXJ5ICYmIHRoaXMub3B0aW9ucy5pc0pRdWVyeUZpbHRlcmluZyApIHtcbiAgICAgIC8vIHVzZSBqUXVlcnlcbiAgICAgIHJldHVybiBmdW5jdGlvbiggaXRlbSApIHtcbiAgICAgICAgcmV0dXJuIGpRdWVyeSggaXRlbS5lbGVtZW50ICkuaXMoIGZpbHRlciApO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCB0eXBlb2YgZmlsdGVyID09ICdmdW5jdGlvbicgKSB7XG4gICAgICAvLyB1c2UgZmlsdGVyIGFzIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXIoIGl0ZW0uZWxlbWVudCApO1xuICAgICAgfTtcbiAgICB9XG4gICAgLy8gZGVmYXVsdCwgdXNlIGZpbHRlciBhcyBzZWxlY3RvciBzdHJpbmdcbiAgICByZXR1cm4gZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlc1NlbGVjdG9yKCBpdGVtLmVsZW1lbnQsIGZpbHRlciApO1xuICAgIH07XG4gIH07XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gc29ydGluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8qKlxuICAgKiBAcGFyYW1zIHtBcnJheX0gZWxlbXNcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcHJvdG8udXBkYXRlU29ydERhdGEgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gICAgLy8gZ2V0IGl0ZW1zXG4gICAgdmFyIGl0ZW1zO1xuICAgIGlmICggZWxlbXMgKSB7XG4gICAgICBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZWxlbXMgKTtcbiAgICAgIGl0ZW1zID0gdGhpcy5nZXRJdGVtcyggZWxlbXMgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXBkYXRlIGFsbCBpdGVtcyBpZiBubyBlbGVtcyBwcm92aWRlZFxuICAgICAgaXRlbXMgPSB0aGlzLml0ZW1zO1xuICAgIH1cblxuICAgIHRoaXMuX2dldFNvcnRlcnMoKTtcbiAgICB0aGlzLl91cGRhdGVJdGVtc1NvcnREYXRhKCBpdGVtcyApO1xuICB9O1xuXG4gIHByb3RvLl9nZXRTb3J0ZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGdldFNvcnREYXRhID0gdGhpcy5vcHRpb25zLmdldFNvcnREYXRhO1xuICAgIGZvciAoIHZhciBrZXkgaW4gZ2V0U29ydERhdGEgKSB7XG4gICAgICB2YXIgc29ydGVyID0gZ2V0U29ydERhdGFbIGtleSBdO1xuICAgICAgdGhpcy5fc29ydGVyc1sga2V5IF0gPSBtdW5nZVNvcnRlciggc29ydGVyICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW1zIHtBcnJheX0gaXRlbXMgLSBvZiBJc290b3BlLkl0ZW1zXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcm90by5fdXBkYXRlSXRlbXNTb3J0RGF0YSA9IGZ1bmN0aW9uKCBpdGVtcyApIHtcbiAgICAvLyBkbyBub3QgdXBkYXRlIGlmIG5vIGl0ZW1zXG4gICAgdmFyIGxlbiA9IGl0ZW1zICYmIGl0ZW1zLmxlbmd0aDtcblxuICAgIGZvciAoIHZhciBpPTA7IGxlbiAmJiBpIDwgbGVuOyBpKysgKSB7XG4gICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgaXRlbS51cGRhdGVTb3J0RGF0YSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyAtLS0tLSBtdW5nZSBzb3J0ZXIgLS0tLS0gLy9cblxuICAvLyBlbmNhcHN1bGF0ZSB0aGlzLCBhcyB3ZSBqdXN0IG5lZWQgbXVuZ2VTb3J0ZXJcbiAgLy8gb3RoZXIgZnVuY3Rpb25zIGluIGhlcmUgYXJlIGp1c3QgZm9yIG11bmdpbmdcbiAgdmFyIG11bmdlU29ydGVyID0gKCBmdW5jdGlvbigpIHtcbiAgICAvLyBhZGQgYSBtYWdpYyBsYXllciB0byBzb3J0ZXJzIGZvciBjb252aWVuZW50IHNob3J0aGFuZHNcbiAgICAvLyBgLmZvby1iYXJgIHdpbGwgdXNlIHRoZSB0ZXh0IG9mIC5mb28tYmFyIHF1ZXJ5U2VsZWN0b3JcbiAgICAvLyBgW2Zvby1iYXJdYCB3aWxsIHVzZSBhdHRyaWJ1dGVcbiAgICAvLyB5b3UgY2FuIGFsc28gYWRkIHBhcnNlclxuICAgIC8vIGAuZm9vLWJhciBwYXJzZUludGAgd2lsbCBwYXJzZSB0aGF0IGFzIGEgbnVtYmVyXG4gICAgZnVuY3Rpb24gbXVuZ2VTb3J0ZXIoIHNvcnRlciApIHtcbiAgICAgIC8vIGlmIG5vdCBhIHN0cmluZywgcmV0dXJuIGZ1bmN0aW9uIG9yIHdoYXRldmVyIGl0IGlzXG4gICAgICBpZiAoIHR5cGVvZiBzb3J0ZXIgIT0gJ3N0cmluZycgKSB7XG4gICAgICAgIHJldHVybiBzb3J0ZXI7XG4gICAgICB9XG4gICAgICAvLyBwYXJzZSB0aGUgc29ydGVyIHN0cmluZ1xuICAgICAgdmFyIGFyZ3MgPSB0cmltKCBzb3J0ZXIgKS5zcGxpdCgnICcpO1xuICAgICAgdmFyIHF1ZXJ5ID0gYXJnc1swXTtcbiAgICAgIC8vIGNoZWNrIGlmIHF1ZXJ5IGxvb2tzIGxpa2UgW2FuLWF0dHJpYnV0ZV1cbiAgICAgIHZhciBhdHRyTWF0Y2ggPSBxdWVyeS5tYXRjaCggL15cXFsoLispXFxdJC8gKTtcbiAgICAgIHZhciBhdHRyID0gYXR0ck1hdGNoICYmIGF0dHJNYXRjaFsxXTtcbiAgICAgIHZhciBnZXRWYWx1ZSA9IGdldFZhbHVlR2V0dGVyKCBhdHRyLCBxdWVyeSApO1xuICAgICAgLy8gdXNlIHNlY29uZCBhcmd1bWVudCBhcyBhIHBhcnNlclxuICAgICAgdmFyIHBhcnNlciA9IElzb3RvcGUuc29ydERhdGFQYXJzZXJzWyBhcmdzWzFdIF07XG4gICAgICAvLyBwYXJzZSB0aGUgdmFsdWUsIGlmIHRoZXJlIHdhcyBhIHBhcnNlclxuICAgICAgc29ydGVyID0gcGFyc2VyID8gZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICAgIHJldHVybiBlbGVtICYmIHBhcnNlciggZ2V0VmFsdWUoIGVsZW0gKSApO1xuICAgICAgfSA6XG4gICAgICAvLyBvdGhlcndpc2UganVzdCByZXR1cm4gdmFsdWVcbiAgICAgIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICByZXR1cm4gZWxlbSAmJiBnZXRWYWx1ZSggZWxlbSApO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHNvcnRlcjtcbiAgICB9XG5cbiAgICAvLyBnZXQgYW4gYXR0cmlidXRlIGdldHRlciwgb3IgZ2V0IHRleHQgb2YgdGhlIHF1ZXJ5U2VsZWN0b3JcbiAgICBmdW5jdGlvbiBnZXRWYWx1ZUdldHRlciggYXR0ciwgcXVlcnkgKSB7XG4gICAgICAvLyBpZiBxdWVyeSBsb29rcyBsaWtlIFtmb28tYmFyXSwgZ2V0IGF0dHJpYnV0ZVxuICAgICAgaWYgKCBhdHRyICkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZ2V0QXR0cmlidXRlKCBlbGVtICkge1xuICAgICAgICAgIHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggYXR0ciApO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBvdGhlcndpc2UsIGFzc3VtZSBpdHMgYSBxdWVyeVNlbGVjdG9yLCBhbmQgZ2V0IGl0cyB0ZXh0XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZ2V0Q2hpbGRUZXh0KCBlbGVtICkge1xuICAgICAgICB2YXIgY2hpbGQgPSBlbGVtLnF1ZXJ5U2VsZWN0b3IoIHF1ZXJ5ICk7XG4gICAgICAgIHJldHVybiBjaGlsZCAmJiBjaGlsZC50ZXh0Q29udGVudDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG11bmdlU29ydGVyO1xuICB9KSgpO1xuXG4gIC8vIHBhcnNlcnMgdXNlZCBpbiBnZXRTb3J0RGF0YSBzaG9ydGN1dCBzdHJpbmdzXG4gIElzb3RvcGUuc29ydERhdGFQYXJzZXJzID0ge1xuICAgICdwYXJzZUludCc6IGZ1bmN0aW9uKCB2YWwgKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQoIHZhbCwgMTAgKTtcbiAgICB9LFxuICAgICdwYXJzZUZsb2F0JzogZnVuY3Rpb24oIHZhbCApIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KCB2YWwgKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gLS0tLS0gc29ydCBtZXRob2QgLS0tLS0gLy9cblxuICAvLyBzb3J0IGZpbHRlcmVkSXRlbSBvcmRlclxuICBwcm90by5fc29ydCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICggIXRoaXMub3B0aW9ucy5zb3J0QnkgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGtlZXAgdHJhY2sgb2Ygc29ydEJ5IEhpc3RvcnlcbiAgICB2YXIgc29ydEJ5cyA9IHV0aWxzLm1ha2VBcnJheSggdGhpcy5vcHRpb25zLnNvcnRCeSApO1xuICAgIGlmICggIXRoaXMuX2dldElzU2FtZVNvcnRCeSggc29ydEJ5cyApICkge1xuICAgICAgLy8gY29uY2F0IGFsbCBzb3J0QnkgYW5kIHNvcnRIaXN0b3J5LCBhZGQgdG8gZnJvbnQsIG9sZGVzdCBnb2VzIGluIGxhc3RcbiAgICAgIHRoaXMuc29ydEhpc3RvcnkgPSBzb3J0QnlzLmNvbmNhdCggdGhpcy5zb3J0SGlzdG9yeSApO1xuICAgIH1cbiAgICAvLyBzb3J0IG1hZ2ljXG4gICAgdmFyIGl0ZW1Tb3J0ZXIgPSBnZXRJdGVtU29ydGVyKCB0aGlzLnNvcnRIaXN0b3J5LCB0aGlzLm9wdGlvbnMuc29ydEFzY2VuZGluZyApO1xuICAgIHRoaXMuZmlsdGVyZWRJdGVtcy5zb3J0KCBpdGVtU29ydGVyICk7XG4gIH07XG5cbiAgLy8gY2hlY2sgaWYgc29ydEJ5cyBpcyBzYW1lIGFzIHN0YXJ0IG9mIHNvcnRIaXN0b3J5XG4gIHByb3RvLl9nZXRJc1NhbWVTb3J0QnkgPSBmdW5jdGlvbiggc29ydEJ5cyApIHtcbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgc29ydEJ5cy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIGlmICggc29ydEJ5c1tpXSAhPSB0aGlzLnNvcnRIaXN0b3J5W2ldICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIHJldHVybnMgYSBmdW5jdGlvbiB1c2VkIGZvciBzb3J0aW5nXG4gIGZ1bmN0aW9uIGdldEl0ZW1Tb3J0ZXIoIHNvcnRCeXMsIHNvcnRBc2MgKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNvcnRlciggaXRlbUEsIGl0ZW1CICkge1xuICAgICAgLy8gY3ljbGUgdGhyb3VnaCBhbGwgc29ydEtleXNcbiAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IHNvcnRCeXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIHZhciBzb3J0QnkgPSBzb3J0QnlzW2ldO1xuICAgICAgICB2YXIgYSA9IGl0ZW1BLnNvcnREYXRhWyBzb3J0QnkgXTtcbiAgICAgICAgdmFyIGIgPSBpdGVtQi5zb3J0RGF0YVsgc29ydEJ5IF07XG4gICAgICAgIGlmICggYSA+IGIgfHwgYSA8IGIgKSB7XG4gICAgICAgICAgLy8gaWYgc29ydEFzYyBpcyBhbiBvYmplY3QsIHVzZSB0aGUgdmFsdWUgZ2l2ZW4gdGhlIHNvcnRCeSBrZXlcbiAgICAgICAgICB2YXIgaXNBc2NlbmRpbmcgPSBzb3J0QXNjWyBzb3J0QnkgXSAhPT0gdW5kZWZpbmVkID8gc29ydEFzY1sgc29ydEJ5IF0gOiBzb3J0QXNjO1xuICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpc0FzY2VuZGluZyA/IDEgOiAtMTtcbiAgICAgICAgICByZXR1cm4gKCBhID4gYiA/IDEgOiAtMSApICogZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9O1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIGdldCBsYXlvdXQgbW9kZVxuICBwcm90by5fbW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYXlvdXRNb2RlID0gdGhpcy5vcHRpb25zLmxheW91dE1vZGU7XG4gICAgdmFyIG1vZGUgPSB0aGlzLm1vZGVzWyBsYXlvdXRNb2RlIF07XG4gICAgaWYgKCAhbW9kZSApIHtcbiAgICAgIC8vIFRPRE8gY29uc29sZS5lcnJvclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCAnTm8gbGF5b3V0IG1vZGU6ICcgKyBsYXlvdXRNb2RlICk7XG4gICAgfVxuICAgIC8vIEhBQ0sgc3luYyBtb2RlJ3Mgb3B0aW9uc1xuICAgIC8vIGFueSBvcHRpb25zIHNldCBhZnRlciBpbml0IGZvciBsYXlvdXQgbW9kZSBuZWVkIHRvIGJlIHN5bmNlZFxuICAgIG1vZGUub3B0aW9ucyA9IHRoaXMub3B0aW9uc1sgbGF5b3V0TW9kZSBdO1xuICAgIHJldHVybiBtb2RlO1xuICB9O1xuXG4gIHByb3RvLl9yZXNldExheW91dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIHRyaWdnZXIgb3JpZ2luYWwgcmVzZXQgbGF5b3V0XG4gICAgT3V0bGF5ZXIucHJvdG90eXBlLl9yZXNldExheW91dC5jYWxsKCB0aGlzICk7XG4gICAgdGhpcy5fbW9kZSgpLl9yZXNldExheW91dCgpO1xuICB9O1xuXG4gIHByb3RvLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiggaXRlbSAgKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vZGUoKS5fZ2V0SXRlbUxheW91dFBvc2l0aW9uKCBpdGVtICk7XG4gIH07XG5cbiAgcHJvdG8uX21hbmFnZVN0YW1wID0gZnVuY3Rpb24oIHN0YW1wICkge1xuICAgIHRoaXMuX21vZGUoKS5fbWFuYWdlU3RhbXAoIHN0YW1wICk7XG4gIH07XG5cbiAgcHJvdG8uX2dldENvbnRhaW5lclNpemUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbW9kZSgpLl9nZXRDb250YWluZXJTaXplKCk7XG4gIH07XG5cbiAgcHJvdG8ubmVlZHNSZXNpemVMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbW9kZSgpLm5lZWRzUmVzaXplTGF5b3V0KCk7XG4gIH07XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYWRkaW5nICYgcmVtb3ZpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvLyBIRUFEUyBVUCBvdmVyd3JpdGVzIGRlZmF1bHQgT3V0bGF5ZXIgYXBwZW5kZWRcbiAgcHJvdG8uYXBwZW5kZWQgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5hZGRJdGVtcyggZWxlbXMgKTtcbiAgICBpZiAoICFpdGVtcy5sZW5ndGggKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZpbHRlciwgbGF5b3V0LCByZXZlYWwgbmV3IGl0ZW1zXG4gICAgdmFyIGZpbHRlcmVkSXRlbXMgPSB0aGlzLl9maWx0ZXJSZXZlYWxBZGRlZCggaXRlbXMgKTtcbiAgICAvLyBhZGQgdG8gZmlsdGVyZWRJdGVtc1xuICAgIHRoaXMuZmlsdGVyZWRJdGVtcyA9IHRoaXMuZmlsdGVyZWRJdGVtcy5jb25jYXQoIGZpbHRlcmVkSXRlbXMgKTtcbiAgfTtcblxuICAvLyBIRUFEUyBVUCBvdmVyd3JpdGVzIGRlZmF1bHQgT3V0bGF5ZXIgcHJlcGVuZGVkXG4gIHByb3RvLnByZXBlbmRlZCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtaXplKCBlbGVtcyApO1xuICAgIGlmICggIWl0ZW1zLmxlbmd0aCApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gc3RhcnQgbmV3IGxheW91dFxuICAgIHRoaXMuX3Jlc2V0TGF5b3V0KCk7XG4gICAgdGhpcy5fbWFuYWdlU3RhbXBzKCk7XG4gICAgLy8gZmlsdGVyLCBsYXlvdXQsIHJldmVhbCBuZXcgaXRlbXNcbiAgICB2YXIgZmlsdGVyZWRJdGVtcyA9IHRoaXMuX2ZpbHRlclJldmVhbEFkZGVkKCBpdGVtcyApO1xuICAgIC8vIGxheW91dCBwcmV2aW91cyBpdGVtc1xuICAgIHRoaXMubGF5b3V0SXRlbXMoIHRoaXMuZmlsdGVyZWRJdGVtcyApO1xuICAgIC8vIGFkZCB0byBpdGVtcyBhbmQgZmlsdGVyZWRJdGVtc1xuICAgIHRoaXMuZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuY29uY2F0KCB0aGlzLmZpbHRlcmVkSXRlbXMgKTtcbiAgICB0aGlzLml0ZW1zID0gaXRlbXMuY29uY2F0KCB0aGlzLml0ZW1zICk7XG4gIH07XG5cbiAgcHJvdG8uX2ZpbHRlclJldmVhbEFkZGVkID0gZnVuY3Rpb24oIGl0ZW1zICkge1xuICAgIHZhciBmaWx0ZXJlZCA9IHRoaXMuX2ZpbHRlciggaXRlbXMgKTtcbiAgICB0aGlzLmhpZGUoIGZpbHRlcmVkLm5lZWRIaWRlICk7XG4gICAgLy8gcmV2ZWFsIGFsbCBuZXcgaXRlbXNcbiAgICB0aGlzLnJldmVhbCggZmlsdGVyZWQubWF0Y2hlcyApO1xuICAgIC8vIGxheW91dCBuZXcgaXRlbXMsIG5vIHRyYW5zaXRpb25cbiAgICB0aGlzLmxheW91dEl0ZW1zKCBmaWx0ZXJlZC5tYXRjaGVzLCB0cnVlICk7XG4gICAgcmV0dXJuIGZpbHRlcmVkLm1hdGNoZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZpbHRlciwgc29ydCwgYW5kIGxheW91dCBuZXdseS1hcHBlbmRlZCBpdGVtIGVsZW1lbnRzXG4gICAqIEBwYXJhbSB7QXJyYXkgb3IgTm9kZUxpc3Qgb3IgRWxlbWVudH0gZWxlbXNcbiAgICovXG4gIHByb3RvLmluc2VydCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgICB2YXIgaXRlbXMgPSB0aGlzLmFkZEl0ZW1zKCBlbGVtcyApO1xuICAgIGlmICggIWl0ZW1zLmxlbmd0aCApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gYXBwZW5kIGl0ZW0gZWxlbWVudHNcbiAgICB2YXIgaSwgaXRlbTtcbiAgICB2YXIgbGVuID0gaXRlbXMubGVuZ3RoO1xuICAgIGZvciAoIGk9MDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKCBpdGVtLmVsZW1lbnQgKTtcbiAgICB9XG4gICAgLy8gZmlsdGVyIG5ldyBzdHVmZlxuICAgIHZhciBmaWx0ZXJlZEluc2VydEl0ZW1zID0gdGhpcy5fZmlsdGVyKCBpdGVtcyApLm1hdGNoZXM7XG4gICAgLy8gc2V0IGZsYWdcbiAgICBmb3IgKCBpPTA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgIGl0ZW1zW2ldLmlzTGF5b3V0SW5zdGFudCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuYXJyYW5nZSgpO1xuICAgIC8vIHJlc2V0IGZsYWdcbiAgICBmb3IgKCBpPTA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgIGRlbGV0ZSBpdGVtc1tpXS5pc0xheW91dEluc3RhbnQ7XG4gICAgfVxuICAgIHRoaXMucmV2ZWFsKCBmaWx0ZXJlZEluc2VydEl0ZW1zICk7XG4gIH07XG5cbiAgdmFyIF9yZW1vdmUgPSBwcm90by5yZW1vdmU7XG4gIHByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgICBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZWxlbXMgKTtcbiAgICB2YXIgcmVtb3ZlSXRlbXMgPSB0aGlzLmdldEl0ZW1zKCBlbGVtcyApO1xuICAgIC8vIGRvIHJlZ3VsYXIgdGhpbmdcbiAgICBfcmVtb3ZlLmNhbGwoIHRoaXMsIGVsZW1zICk7XG4gICAgLy8gYmFpbCBpZiBubyBpdGVtcyB0byByZW1vdmVcbiAgICB2YXIgbGVuID0gcmVtb3ZlSXRlbXMgJiYgcmVtb3ZlSXRlbXMubGVuZ3RoO1xuICAgIC8vIHJlbW92ZSBlbGVtcyBmcm9tIGZpbHRlcmVkSXRlbXNcbiAgICBmb3IgKCB2YXIgaT0wOyBsZW4gJiYgaSA8IGxlbjsgaSsrICkge1xuICAgICAgdmFyIGl0ZW0gPSByZW1vdmVJdGVtc1tpXTtcbiAgICAgIC8vIHJlbW92ZSBpdGVtIGZyb20gY29sbGVjdGlvblxuICAgICAgdXRpbHMucmVtb3ZlRnJvbSggdGhpcy5maWx0ZXJlZEl0ZW1zLCBpdGVtICk7XG4gICAgfVxuICB9O1xuXG4gIHByb3RvLnNodWZmbGUgPSBmdW5jdGlvbigpIHtcbiAgICAvLyB1cGRhdGUgcmFuZG9tIHNvcnREYXRhXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICBpdGVtLnNvcnREYXRhLnJhbmRvbSA9IE1hdGgucmFuZG9tKCk7XG4gICAgfVxuICAgIHRoaXMub3B0aW9ucy5zb3J0QnkgPSAncmFuZG9tJztcbiAgICB0aGlzLl9zb3J0KCk7XG4gICAgdGhpcy5fbGF5b3V0KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHRyaWdnZXIgZm4gd2l0aG91dCB0cmFuc2l0aW9uXG4gICAqIGtpbmQgb2YgaGFja3kgdG8gaGF2ZSB0aGlzIGluIHRoZSBmaXJzdCBwbGFjZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gICAqIEByZXR1cm5zIHJldFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJvdG8uX25vVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCBmbiwgYXJncyApIHtcbiAgICAvLyBzYXZlIHRyYW5zaXRpb25EdXJhdGlvbiBiZWZvcmUgZGlzYWJsaW5nXG4gICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IHRoaXMub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb247XG4gICAgLy8gZGlzYWJsZSB0cmFuc2l0aW9uXG4gICAgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbiA9IDA7XG4gICAgLy8gZG8gaXRcbiAgICB2YXIgcmV0dXJuVmFsdWUgPSBmbi5hcHBseSggdGhpcywgYXJncyApO1xuICAgIC8vIHJlLWVuYWJsZSB0cmFuc2l0aW9uIGZvciByZXZlYWxcbiAgICB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfTtcblxuICAvLyAtLS0tLSBoZWxwZXIgbWV0aG9kcyAtLS0tLSAvL1xuXG4gIC8qKlxuICAgKiBnZXR0ZXIgbWV0aG9kIGZvciBnZXR0aW5nIGZpbHRlcmVkIGl0ZW0gZWxlbWVudHNcbiAgICogQHJldHVybnMge0FycmF5fSBlbGVtcyAtIGNvbGxlY3Rpb24gb2YgaXRlbSBlbGVtZW50c1xuICAgKi9cbiAgcHJvdG8uZ2V0RmlsdGVyZWRJdGVtRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEl0ZW1zLm1hcCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgICByZXR1cm4gaXRlbS5lbGVtZW50O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIC0tLS0tICAtLS0tLSAvL1xuXG4gIHJldHVybiBJc290b3BlO1xuXG59KSk7XG4iLCAiaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICcuL2lzVW5kZWZpbmVkLmpzJztcblxuLy8gVE9ETzogcmVtb3ZlIHRoaXMgd2l0aCAyLjAgcmVsZWFzZVxuZXhwb3J0IGZ1bmN0aW9uIHNldFByb3BlcnR5KHRhcmdldCwgbmFtZSwgdmFsdWUpIHtcbiAgaWYgKCFzZXRQcm9wZXJ0eS53YXJuZWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ0B0bWJyL3V0aWxzOiBzZXRQcm9wZXJ0eSBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHByb3AoZWwsIG5hbWVbLCB2YWx1ZV0pJyk7XG4gICAgc2V0UHJvcGVydHkud2FybmVkID0gdHJ1ZTtcbiAgfVxuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgc2V0UHJvcGVydHkoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAuLi5hcmd1bWVudHMpO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9wKGVsLCBuYW1lLCB2YWx1ZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICByZXR1cm4gZWwuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbiAgfSBlbHNlIHtcbiAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiB0b0pTT04oc3RyaW5nLCBkZWZhdWx0cykge1xuICBsZXQgcmVzdWx0O1xuICB0cnkge1xuICAgIHJlc3VsdCA9IG5ldyBGdW5jdGlvbignc3RyaW5nJywgYHZhciBvYmplY3Q7IHdpdGggKHN0cmluZykgeyBvYmplY3QgPSAke3N0cmluZyB8fCAnJ30gfTsgcmV0dXJuIG9iamVjdDtgKShzdHJpbmcgfHwgJ3t9Jyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXN1bHQgPSB7fTtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihyZXN1bHQgfHwge30sIGRlZmF1bHRzKTtcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG59O1xuIiwgImltcG9ydCB7IGlzQm9vbGVhbiB9IGZyb20gJy4vaXNCb29sZWFuLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGF0dHIoZWwsIG5hbWUsIHZhbHVlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgaXNCb29sZWFuKHZhbHVlKSA/ICcnIDogdmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59O1xuIiwgImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24uanMnO1xuXG4vKipcbiAqIEJpbmQgZnVuY3Rpb25zIHRvIGEgY29udGV4dCBvciBjbGFzcyBpbnN0YW5jZVxuICogaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYXV0by1iaW5kXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fVxuICogQHBhcmFtICB7YXJyYXl9XG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZChzZWxmLCBtZXRob2RzKSB7XG5cbiAgaWYgKG1ldGhvZHMpIHtcbiAgICBbXS5jb25jYXQobWV0aG9kcykuZm9yRWFjaChmbiA9PiBpc0Z1bmN0aW9uKHNlbGZbZm5dKSAmJiAoc2VsZltmbl0gPSBzZWxmW2ZuXS5iaW5kKHNlbGYpKSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICBjb25zdCBwcm9wZXJ0aWVzID0gbmV3IFNldCgpO1xuICBsZXQgb2JqZWN0ID0gc2VsZi5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgZG8ge1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgUmVmbGVjdC5vd25LZXlzKG9iamVjdCkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicpIGNvbnRpbnVlO1xuICAgICAgcHJvcGVydGllcy5hZGQoW29iamVjdCwga2V5XSk7XG4gICAgfVxuXG4gIH0gd2hpbGUgKChvYmplY3QgPSBSZWZsZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkpICYmIG9iamVjdCAhPT0gT2JqZWN0LnByb3RvdHlwZSk7XG5cbiAgZm9yIChjb25zdCBbb2JqZWN0LCBrZXldIG9mIHByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBkZXNjcmlwdG9yID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBrZXkpO1xuICAgIGlmIChkZXNjcmlwdG9yICYmIGlzRnVuY3Rpb24oZGVzY3JpcHRvci52YWx1ZSkpIHNlbGZba2V5XSA9IHNlbGZba2V5XS5iaW5kKHNlbGYpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGZpbmRBbGwoc2VsZWN0b3IsIHBhcmVudCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSgocGFyZW50IHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBmaW5kT25lKHNlbGVjdG9yLCBwYXJlbnQpIHtcbiAgcmV0dXJuIChwYXJlbnQgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufTtcbiIsICJleHBvcnQgZnVuY3Rpb24gaHRtbChzdHJpbmdzLCAuLi52YXJzKSB7XG5cbiAgbGV0IHJlc3VsdCA9ICcnO1xuICBjb25zdCBhcHBlbmRzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHZhcnNbaV0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCB2YXJzW2ldIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgYXBwZW5kcy5wdXNoKHZhcnNbaV0pO1xuICAgICAgcmVzdWx0ICs9IHN0cmluZ3NbaV0gKyBgPGRpdiBhcHBlbmQ9XCIke2l9XCI+PC9kaXY+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ICs9IHN0cmluZ3NbaV0gKyB2YXJzW2ldO1xuICAgIH1cbiAgfVxuXG4gIHJlc3VsdCArPSBzdHJpbmdzW3N0cmluZ3MubGVuZ3RoIC0gMV07XG5cbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSByZXN1bHQudHJpbSgpO1xuXG4gIGNvbnN0IGNvbnRlbnQgPSB0ZW1wbGF0ZS5jb250ZW50O1xuXG4gIFsuLi5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1thcHBlbmRdJyldLmZvckVhY2goKG5vZGUsIGkpID0+IHtcbiAgICBub2RlLmJlZm9yZShhcHBlbmRzW2ldKTtcbiAgICBub2RlLnJlbW92ZSgpXG4gIH0pO1xuXG4gIHJldHVybiBjb250ZW50LmNoaWxkRWxlbWVudENvdW50ID09PSAxID8gY29udGVudC5maXJzdEVsZW1lbnRDaGlsZCA6IGNvbnRlbnQ7XG59O1xuIiwgImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24uanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNDbGFzcyhmbikge1xuICByZXR1cm4gaXNGdW5jdGlvbihmbikgJiYgL15jbGFzc1xccy8udGVzdChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmbikpO1xufTtcbiIsICJleHBvcnQgZnVuY3Rpb24gb24odHlwZSwgc2VsZWN0b3IsIGNhbGxiYWNrLCBzY29wZSA9IGRvY3VtZW50KSB7XG5cbiAgbGV0IG1hdGNoO1xuXG4gIGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50KSB7XG4gICAgbWF0Y2ggPSBldmVudC5idWJibGVzXG4gICAgICA/IGV2ZW50LnRhcmdldC5jbG9zZXN0ICYmIGV2ZW50LnRhcmdldC5jbG9zZXN0KHNlbGVjdG9yKVxuICAgICAgOiBldmVudC50YXJnZXQubWF0Y2hlcyAmJiBldmVudC50YXJnZXQubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgbWF0Y2ggJiYgY2FsbGJhY2soZXZlbnQpO1xuICB9XG5cbiAgc2NvcGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gIHJldHVybiAoKSA9PiBzY29wZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHJvKGVsLCBmbikge1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IGZuKGVudHJpZXNbMF0pKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG4gIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG59O1xuIiwgImZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyohXG4gKiBHU0FQIDMuNS4xXG4gKiBodHRwczovL2dyZWVuc29jay5jb21cbiAqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgMjAwOC0yMDIwLCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBTdWJqZWN0IHRvIHRoZSB0ZXJtcyBhdCBodHRwczovL2dyZWVuc29jay5jb20vc3RhbmRhcmQtbGljZW5zZSBvciBmb3JcbiAqIENsdWIgR3JlZW5Tb2NrIG1lbWJlcnMsIHRoZSBhZ3JlZW1lbnQgaXNzdWVkIHdpdGggdGhhdCBtZW1iZXJzaGlwLlxuICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tXG4qL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xudmFyIF9jb25maWcgPSB7XG4gIGF1dG9TbGVlcDogMTIwLFxuICBmb3JjZTNEOiBcImF1dG9cIixcbiAgbnVsbFRhcmdldFdhcm46IDEsXG4gIHVuaXRzOiB7XG4gICAgbGluZUhlaWdodDogXCJcIlxuICB9XG59LFxuICAgIF9kZWZhdWx0cyA9IHtcbiAgZHVyYXRpb246IC41LFxuICBvdmVyd3JpdGU6IGZhbHNlLFxuICBkZWxheTogMFxufSxcbiAgICBfYmlnTnVtID0gMWU4LFxuICAgIF90aW55TnVtID0gMSAvIF9iaWdOdW0sXG4gICAgXzJQSSA9IE1hdGguUEkgKiAyLFxuICAgIF9IQUxGX1BJID0gXzJQSSAvIDQsXG4gICAgX2dzSUQgPSAwLFxuICAgIF9zcXJ0ID0gTWF0aC5zcXJ0LFxuICAgIF9jb3MgPSBNYXRoLmNvcyxcbiAgICBfc2luID0gTWF0aC5zaW4sXG4gICAgX2lzU3RyaW5nID0gZnVuY3Rpb24gX2lzU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCI7XG59LFxuICAgIF9pc0Z1bmN0aW9uID0gZnVuY3Rpb24gX2lzRnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiO1xufSxcbiAgICBfaXNOdW1iZXIgPSBmdW5jdGlvbiBfaXNOdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIjtcbn0sXG4gICAgX2lzVW5kZWZpbmVkID0gZnVuY3Rpb24gX2lzVW5kZWZpbmVkKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCI7XG59LFxuICAgIF9pc09iamVjdCA9IGZ1bmN0aW9uIF9pc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xufSxcbiAgICBfaXNOb3RGYWxzZSA9IGZ1bmN0aW9uIF9pc05vdEZhbHNlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gZmFsc2U7XG59LFxuICAgIF93aW5kb3dFeGlzdHMgPSBmdW5jdGlvbiBfd2luZG93RXhpc3RzKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbn0sXG4gICAgX2lzRnVuY09yU3RyaW5nID0gZnVuY3Rpb24gX2lzRnVuY09yU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBfaXNGdW5jdGlvbih2YWx1ZSkgfHwgX2lzU3RyaW5nKHZhbHVlKTtcbn0sXG4gICAgX2lzVHlwZWRBcnJheSA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIEFycmF5QnVmZmVyLmlzVmlldyB8fCBmdW5jdGlvbiAoKSB7fSxcbiAgICAvLyBub3RlOiBJRTEwIGhhcyBBcnJheUJ1ZmZlciwgYnV0IE5PVCBBcnJheUJ1ZmZlci5pc1ZpZXcoKS5cbl9pc0FycmF5ID0gQXJyYXkuaXNBcnJheSxcbiAgICBfc3RyaWN0TnVtRXhwID0gLyg/Oi0/XFwuP1xcZHxcXC4pKy9naSxcbiAgICAvL29ubHkgbnVtYmVycyAoaW5jbHVkaW5nIG5lZ2F0aXZlcyBhbmQgZGVjaW1hbHMpIGJ1dCBOT1QgcmVsYXRpdmUgdmFsdWVzLlxuX251bUV4cCA9IC9bLSs9Ll0qXFxkK1suZVxcLStdKlxcZCpbZVxcLVxcK10qXFxkKi9nLFxuICAgIC8vZmluZHMgYW55IG51bWJlcnMsIGluY2x1ZGluZyBvbmVzIHRoYXQgc3RhcnQgd2l0aCArPSBvciAtPSwgbmVnYXRpdmUgbnVtYmVycywgYW5kIG9uZXMgaW4gc2NpZW50aWZpYyBub3RhdGlvbiBsaWtlIDFlLTguXG5fbnVtV2l0aFVuaXRFeHAgPSAvWy0rPS5dKlxcZCtbLmUtXSpcXGQqW2EteiVdKi9nLFxuICAgIF9jb21wbGV4U3RyaW5nTnVtRXhwID0gL1stKz0uXSpcXGQrKD86XFwufGUtfGUpKlxcZCovZ2ksXG4gICAgLy9kdXBsaWNhdGUgc28gdGhhdCB3aGlsZSB3ZSdyZSBsb29waW5nIHRocm91Z2ggbWF0Y2hlcyBmcm9tIGV4ZWMoKSwgaXQgZG9lc24ndCBjb250YW1pbmF0ZSB0aGUgbGFzdEluZGV4IG9mIF9udW1FeHAgd2hpY2ggd2UgdXNlIHRvIHNlYXJjaCBmb3IgY29sb3JzIHRvby5cbl9yZWxFeHAgPSAvWystXT0tP1tcXC5cXGRdKy8sXG4gICAgX2RlbGltaXRlZFZhbHVlRXhwID0gL1sjXFwtKy5dKlxcYlthLXpcXGQtPSslLl0rL2dpLFxuICAgIF9nbG9iYWxUaW1lbGluZSxcbiAgICBfd2luLFxuICAgIF9jb3JlSW5pdHRlZCxcbiAgICBfZG9jLFxuICAgIF9nbG9iYWxzID0ge30sXG4gICAgX2luc3RhbGxTY29wZSA9IHt9LFxuICAgIF9jb3JlUmVhZHksXG4gICAgX2luc3RhbGwgPSBmdW5jdGlvbiBfaW5zdGFsbChzY29wZSkge1xuICByZXR1cm4gKF9pbnN0YWxsU2NvcGUgPSBfbWVyZ2Uoc2NvcGUsIF9nbG9iYWxzKSkgJiYgZ3NhcDtcbn0sXG4gICAgX21pc3NpbmdQbHVnaW4gPSBmdW5jdGlvbiBfbWlzc2luZ1BsdWdpbihwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgcmV0dXJuIGNvbnNvbGUud2FybihcIkludmFsaWQgcHJvcGVydHlcIiwgcHJvcGVydHksIFwic2V0IHRvXCIsIHZhbHVlLCBcIk1pc3NpbmcgcGx1Z2luPyBnc2FwLnJlZ2lzdGVyUGx1Z2luKClcIik7XG59LFxuICAgIF93YXJuID0gZnVuY3Rpb24gX3dhcm4obWVzc2FnZSwgc3VwcHJlc3MpIHtcbiAgcmV0dXJuICFzdXBwcmVzcyAmJiBjb25zb2xlLndhcm4obWVzc2FnZSk7XG59LFxuICAgIF9hZGRHbG9iYWwgPSBmdW5jdGlvbiBfYWRkR2xvYmFsKG5hbWUsIG9iaikge1xuICByZXR1cm4gbmFtZSAmJiAoX2dsb2JhbHNbbmFtZV0gPSBvYmopICYmIF9pbnN0YWxsU2NvcGUgJiYgKF9pbnN0YWxsU2NvcGVbbmFtZV0gPSBvYmopIHx8IF9nbG9iYWxzO1xufSxcbiAgICBfZW1wdHlGdW5jID0gZnVuY3Rpb24gX2VtcHR5RnVuYygpIHtcbiAgcmV0dXJuIDA7XG59LFxuICAgIF9yZXNlcnZlZFByb3BzID0ge30sXG4gICAgX2xhenlUd2VlbnMgPSBbXSxcbiAgICBfbGF6eUxvb2t1cCA9IHt9LFxuICAgIF9sYXN0UmVuZGVyZWRGcmFtZSxcbiAgICBfcGx1Z2lucyA9IHt9LFxuICAgIF9lZmZlY3RzID0ge30sXG4gICAgX25leHRHQ0ZyYW1lID0gMzAsXG4gICAgX2hhcm5lc3NQbHVnaW5zID0gW10sXG4gICAgX2NhbGxiYWNrTmFtZXMgPSBcIlwiLFxuICAgIF9oYXJuZXNzID0gZnVuY3Rpb24gX2hhcm5lc3ModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1swXSxcbiAgICAgIGhhcm5lc3NQbHVnaW4sXG4gICAgICBpO1xuICBfaXNPYmplY3QodGFyZ2V0KSB8fCBfaXNGdW5jdGlvbih0YXJnZXQpIHx8ICh0YXJnZXRzID0gW3RhcmdldHNdKTtcblxuICBpZiAoIShoYXJuZXNzUGx1Z2luID0gKHRhcmdldC5fZ3NhcCB8fCB7fSkuaGFybmVzcykpIHtcbiAgICBpID0gX2hhcm5lc3NQbHVnaW5zLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0gJiYgIV9oYXJuZXNzUGx1Z2luc1tpXS50YXJnZXRUZXN0KHRhcmdldCkpIHt9XG5cbiAgICBoYXJuZXNzUGx1Z2luID0gX2hhcm5lc3NQbHVnaW5zW2ldO1xuICB9XG5cbiAgaSA9IHRhcmdldHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB0YXJnZXRzW2ldICYmICh0YXJnZXRzW2ldLl9nc2FwIHx8ICh0YXJnZXRzW2ldLl9nc2FwID0gbmV3IEdTQ2FjaGUodGFyZ2V0c1tpXSwgaGFybmVzc1BsdWdpbikpKSB8fCB0YXJnZXRzLnNwbGljZShpLCAxKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXRzO1xufSxcbiAgICBfZ2V0Q2FjaGUgPSBmdW5jdGlvbiBfZ2V0Q2FjaGUodGFyZ2V0KSB7XG4gIHJldHVybiB0YXJnZXQuX2dzYXAgfHwgX2hhcm5lc3ModG9BcnJheSh0YXJnZXQpKVswXS5fZ3NhcDtcbn0sXG4gICAgX2dldFByb3BlcnR5ID0gZnVuY3Rpb24gX2dldFByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHYpIHtcbiAgcmV0dXJuICh2ID0gdGFyZ2V0W3Byb3BlcnR5XSkgJiYgX2lzRnVuY3Rpb24odikgPyB0YXJnZXRbcHJvcGVydHldKCkgOiBfaXNVbmRlZmluZWQodikgJiYgdGFyZ2V0LmdldEF0dHJpYnV0ZSAmJiB0YXJnZXQuZ2V0QXR0cmlidXRlKHByb3BlcnR5KSB8fCB2O1xufSxcbiAgICBfZm9yRWFjaE5hbWUgPSBmdW5jdGlvbiBfZm9yRWFjaE5hbWUobmFtZXMsIGZ1bmMpIHtcbiAgcmV0dXJuIChuYW1lcyA9IG5hbWVzLnNwbGl0KFwiLFwiKSkuZm9yRWFjaChmdW5jKSB8fCBuYW1lcztcbn0sXG4gICAgLy9zcGxpdCBhIGNvbW1hLWRlbGltaXRlZCBsaXN0IG9mIG5hbWVzIGludG8gYW4gYXJyYXksIHRoZW4gcnVuIGEgZm9yRWFjaCgpIGZ1bmN0aW9uIGFuZCByZXR1cm4gdGhlIHNwbGl0IGFycmF5ICh0aGlzIGlzIGp1c3QgYSB3YXkgdG8gY29uc29saWRhdGUvc2hvcnRlbiBzb21lIGNvZGUpLlxuX3JvdW5kID0gZnVuY3Rpb24gX3JvdW5kKHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogMTAwMDAwKSAvIDEwMDAwMCB8fCAwO1xufSxcbiAgICBfYXJyYXlDb250YWluc0FueSA9IGZ1bmN0aW9uIF9hcnJheUNvbnRhaW5zQW55KHRvU2VhcmNoLCB0b0ZpbmQpIHtcbiAgLy9zZWFyY2hlcyBvbmUgYXJyYXkgdG8gZmluZCBtYXRjaGVzIGZvciBhbnkgb2YgdGhlIGl0ZW1zIGluIHRoZSB0b0ZpbmQgYXJyYXkuIEFzIHNvb24gYXMgb25lIGlzIGZvdW5kLCBpdCByZXR1cm5zIHRydWUuIEl0IGRvZXMgTk9UIHJldHVybiBhbGwgdGhlIG1hdGNoZXM7IGl0J3Mgc2ltcGx5IGEgYm9vbGVhbiBzZWFyY2guXG4gIHZhciBsID0gdG9GaW5kLmxlbmd0aCxcbiAgICAgIGkgPSAwO1xuXG4gIGZvciAoOyB0b1NlYXJjaC5pbmRleE9mKHRvRmluZFtpXSkgPCAwICYmICsraSA8IGw7KSB7fVxuXG4gIHJldHVybiBpIDwgbDtcbn0sXG4gICAgX3BhcnNlVmFycyA9IGZ1bmN0aW9uIF9wYXJzZVZhcnMocGFyYW1zLCB0eXBlLCBwYXJlbnQpIHtcbiAgLy9yZWFkcyB0aGUgYXJndW1lbnRzIHBhc3NlZCB0byBvbmUgb2YgdGhlIGtleSBtZXRob2RzIGFuZCBmaWd1cmVzIG91dCBpZiB0aGUgdXNlciBpcyBkZWZpbmluZyB0aGluZ3Mgd2l0aCB0aGUgT0xEL2xlZ2FjeSBzeW50YXggd2hlcmUgdGhlIGR1cmF0aW9uIGlzIHRoZSAybmQgcGFyYW1ldGVyLCBhbmQgdGhlbiBpdCBhZGp1c3RzIHRoaW5ncyBhY2NvcmRpbmdseSBhbmQgc3BpdHMgYmFjayB0aGUgY29ycmVjdGVkIHZhcnMgb2JqZWN0ICh3aXRoIHRoZSBkdXJhdGlvbiBhZGRlZCBpZiBuZWNlc3NhcnksIGFzIHdlbGwgYXMgcnVuQmFja3dhcmRzIG9yIHN0YXJ0QXQgb3IgaW1tZWRpYXRlUmVuZGVyKS4gdHlwZSAwID0gdG8oKS9zdGFnZ2VyVG8oKSwgMSA9IGZyb20oKS9zdGFnZ2VyRnJvbSgpLCAyID0gZnJvbVRvKCkvc3RhZ2dlckZyb21UbygpXG4gIHZhciBpc0xlZ2FjeSA9IF9pc051bWJlcihwYXJhbXNbMV0pLFxuICAgICAgdmFyc0luZGV4ID0gKGlzTGVnYWN5ID8gMiA6IDEpICsgKHR5cGUgPCAyID8gMCA6IDEpLFxuICAgICAgdmFycyA9IHBhcmFtc1t2YXJzSW5kZXhdLFxuICAgICAgaXJWYXJzO1xuXG4gIGlzTGVnYWN5ICYmICh2YXJzLmR1cmF0aW9uID0gcGFyYW1zWzFdKTtcbiAgdmFycy5wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgaWYgKHR5cGUpIHtcbiAgICBpclZhcnMgPSB2YXJzO1xuXG4gICAgd2hpbGUgKHBhcmVudCAmJiAhKFwiaW1tZWRpYXRlUmVuZGVyXCIgaW4gaXJWYXJzKSkge1xuICAgICAgLy8gaW5oZXJpdGFuY2UgaGFzbid0IGhhcHBlbmVkIHlldCwgYnV0IHNvbWVvbmUgbWF5IGhhdmUgc2V0IGEgZGVmYXVsdCBpbiBhbiBhbmNlc3RvciB0aW1lbGluZS4gV2UgY291bGQgZG8gdmFycy5pbW1lZGlhdGVSZW5kZXIgPSBfaXNOb3RGYWxzZShfaW5oZXJpdERlZmF1bHRzKHZhcnMpLmltbWVkaWF0ZVJlbmRlcikgYnV0IHRoYXQnZCBleGFjdCBhIHNsaWdodCBwZXJmb3JtYW5jZSBwZW5hbHR5IGJlY2F1c2UgX2luaGVyaXREZWZhdWx0cygpIGFsc28gcnVucyBpbiB0aGUgVHdlZW4gY29uc3RydWN0b3IuIFdlJ3JlIHBheWluZyBhIHNtYWxsIGtiIHByaWNlIGhlcmUgdG8gZ2FpbiBzcGVlZC5cbiAgICAgIGlyVmFycyA9IHBhcmVudC52YXJzLmRlZmF1bHRzIHx8IHt9O1xuICAgICAgcGFyZW50ID0gX2lzTm90RmFsc2UocGFyZW50LnZhcnMuaW5oZXJpdCkgJiYgcGFyZW50LnBhcmVudDtcbiAgICB9XG5cbiAgICB2YXJzLmltbWVkaWF0ZVJlbmRlciA9IF9pc05vdEZhbHNlKGlyVmFycy5pbW1lZGlhdGVSZW5kZXIpO1xuICAgIHR5cGUgPCAyID8gdmFycy5ydW5CYWNrd2FyZHMgPSAxIDogdmFycy5zdGFydEF0ID0gcGFyYW1zW3ZhcnNJbmRleCAtIDFdOyAvLyBcImZyb21cIiB2YXJzXG4gIH1cblxuICByZXR1cm4gdmFycztcbn0sXG4gICAgX2xhenlSZW5kZXIgPSBmdW5jdGlvbiBfbGF6eVJlbmRlcigpIHtcbiAgdmFyIGwgPSBfbGF6eVR3ZWVucy5sZW5ndGgsXG4gICAgICBhID0gX2xhenlUd2VlbnMuc2xpY2UoMCksXG4gICAgICBpLFxuICAgICAgdHdlZW47XG5cbiAgX2xhenlMb29rdXAgPSB7fTtcbiAgX2xhenlUd2VlbnMubGVuZ3RoID0gMDtcblxuICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgdHdlZW4gPSBhW2ldO1xuICAgIHR3ZWVuICYmIHR3ZWVuLl9sYXp5ICYmICh0d2Vlbi5yZW5kZXIodHdlZW4uX2xhenlbMF0sIHR3ZWVuLl9sYXp5WzFdLCB0cnVlKS5fbGF6eSA9IDApO1xuICB9XG59LFxuICAgIF9sYXp5U2FmZVJlbmRlciA9IGZ1bmN0aW9uIF9sYXp5U2FmZVJlbmRlcihhbmltYXRpb24sIHRpbWUsIHN1cHByZXNzRXZlbnRzLCBmb3JjZSkge1xuICBfbGF6eVR3ZWVucy5sZW5ndGggJiYgX2xhenlSZW5kZXIoKTtcbiAgYW5pbWF0aW9uLnJlbmRlcih0aW1lLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpO1xuICBfbGF6eVR3ZWVucy5sZW5ndGggJiYgX2xhenlSZW5kZXIoKTsgLy9pbiBjYXNlIHJlbmRlcmluZyBjYXVzZWQgYW55IHR3ZWVucyB0byBsYXp5LWluaXQsIHdlIHNob3VsZCByZW5kZXIgdGhlbSBiZWNhdXNlIHR5cGljYWxseSB3aGVuIHNvbWVvbmUgY2FsbHMgc2VlaygpIG9yIHRpbWUoKSBvciBwcm9ncmVzcygpLCB0aGV5IGV4cGVjdCBhbiBpbW1lZGlhdGUgcmVuZGVyLlxufSxcbiAgICBfbnVtZXJpY0lmUG9zc2libGUgPSBmdW5jdGlvbiBfbnVtZXJpY0lmUG9zc2libGUodmFsdWUpIHtcbiAgdmFyIG4gPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgcmV0dXJuIChuIHx8IG4gPT09IDApICYmICh2YWx1ZSArIFwiXCIpLm1hdGNoKF9kZWxpbWl0ZWRWYWx1ZUV4cCkubGVuZ3RoIDwgMiA/IG4gOiBfaXNTdHJpbmcodmFsdWUpID8gdmFsdWUudHJpbSgpIDogdmFsdWU7XG59LFxuICAgIF9wYXNzVGhyb3VnaCA9IGZ1bmN0aW9uIF9wYXNzVGhyb3VnaChwKSB7XG4gIHJldHVybiBwO1xufSxcbiAgICBfc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiBfc2V0RGVmYXVsdHMob2JqLCBkZWZhdWx0cykge1xuICBmb3IgKHZhciBwIGluIGRlZmF1bHRzKSB7XG4gICAgcCBpbiBvYmogfHwgKG9ialtwXSA9IGRlZmF1bHRzW3BdKTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59LFxuICAgIF9zZXRLZXlmcmFtZURlZmF1bHRzID0gZnVuY3Rpb24gX3NldEtleWZyYW1lRGVmYXVsdHMob2JqLCBkZWZhdWx0cykge1xuICBmb3IgKHZhciBwIGluIGRlZmF1bHRzKSB7XG4gICAgcCBpbiBvYmogfHwgcCA9PT0gXCJkdXJhdGlvblwiIHx8IHAgPT09IFwiZWFzZVwiIHx8IChvYmpbcF0gPSBkZWZhdWx0c1twXSk7XG4gIH1cbn0sXG4gICAgX21lcmdlID0gZnVuY3Rpb24gX21lcmdlKGJhc2UsIHRvTWVyZ2UpIHtcbiAgZm9yICh2YXIgcCBpbiB0b01lcmdlKSB7XG4gICAgYmFzZVtwXSA9IHRvTWVyZ2VbcF07XG4gIH1cblxuICByZXR1cm4gYmFzZTtcbn0sXG4gICAgX21lcmdlRGVlcCA9IGZ1bmN0aW9uIF9tZXJnZURlZXAoYmFzZSwgdG9NZXJnZSkge1xuICBmb3IgKHZhciBwIGluIHRvTWVyZ2UpIHtcbiAgICBiYXNlW3BdID0gX2lzT2JqZWN0KHRvTWVyZ2VbcF0pID8gX21lcmdlRGVlcChiYXNlW3BdIHx8IChiYXNlW3BdID0ge30pLCB0b01lcmdlW3BdKSA6IHRvTWVyZ2VbcF07XG4gIH1cblxuICByZXR1cm4gYmFzZTtcbn0sXG4gICAgX2NvcHlFeGNsdWRpbmcgPSBmdW5jdGlvbiBfY29weUV4Y2x1ZGluZyhvYmosIGV4Y2x1ZGluZykge1xuICB2YXIgY29weSA9IHt9LFxuICAgICAgcDtcblxuICBmb3IgKHAgaW4gb2JqKSB7XG4gICAgcCBpbiBleGNsdWRpbmcgfHwgKGNvcHlbcF0gPSBvYmpbcF0pO1xuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59LFxuICAgIF9pbmhlcml0RGVmYXVsdHMgPSBmdW5jdGlvbiBfaW5oZXJpdERlZmF1bHRzKHZhcnMpIHtcbiAgdmFyIHBhcmVudCA9IHZhcnMucGFyZW50IHx8IF9nbG9iYWxUaW1lbGluZSxcbiAgICAgIGZ1bmMgPSB2YXJzLmtleWZyYW1lcyA/IF9zZXRLZXlmcmFtZURlZmF1bHRzIDogX3NldERlZmF1bHRzO1xuXG4gIGlmIChfaXNOb3RGYWxzZSh2YXJzLmluaGVyaXQpKSB7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgZnVuYyh2YXJzLCBwYXJlbnQudmFycy5kZWZhdWx0cyk7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50IHx8IHBhcmVudC5fZHA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZhcnM7XG59LFxuICAgIF9hcnJheXNNYXRjaCA9IGZ1bmN0aW9uIF9hcnJheXNNYXRjaChhMSwgYTIpIHtcbiAgdmFyIGkgPSBhMS5sZW5ndGgsXG4gICAgICBtYXRjaCA9IGkgPT09IGEyLmxlbmd0aDtcblxuICB3aGlsZSAobWF0Y2ggJiYgaS0tICYmIGExW2ldID09PSBhMltpXSkge31cblxuICByZXR1cm4gaSA8IDA7XG59LFxuICAgIF9hZGRMaW5rZWRMaXN0SXRlbSA9IGZ1bmN0aW9uIF9hZGRMaW5rZWRMaXN0SXRlbShwYXJlbnQsIGNoaWxkLCBmaXJzdFByb3AsIGxhc3RQcm9wLCBzb3J0QnkpIHtcbiAgaWYgKGZpcnN0UHJvcCA9PT0gdm9pZCAwKSB7XG4gICAgZmlyc3RQcm9wID0gXCJfZmlyc3RcIjtcbiAgfVxuXG4gIGlmIChsYXN0UHJvcCA9PT0gdm9pZCAwKSB7XG4gICAgbGFzdFByb3AgPSBcIl9sYXN0XCI7XG4gIH1cblxuICB2YXIgcHJldiA9IHBhcmVudFtsYXN0UHJvcF0sXG4gICAgICB0O1xuXG4gIGlmIChzb3J0QnkpIHtcbiAgICB0ID0gY2hpbGRbc29ydEJ5XTtcblxuICAgIHdoaWxlIChwcmV2ICYmIHByZXZbc29ydEJ5XSA+IHQpIHtcbiAgICAgIHByZXYgPSBwcmV2Ll9wcmV2O1xuICAgIH1cbiAgfVxuXG4gIGlmIChwcmV2KSB7XG4gICAgY2hpbGQuX25leHQgPSBwcmV2Ll9uZXh0O1xuICAgIHByZXYuX25leHQgPSBjaGlsZDtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZC5fbmV4dCA9IHBhcmVudFtmaXJzdFByb3BdO1xuICAgIHBhcmVudFtmaXJzdFByb3BdID0gY2hpbGQ7XG4gIH1cblxuICBpZiAoY2hpbGQuX25leHQpIHtcbiAgICBjaGlsZC5fbmV4dC5fcHJldiA9IGNoaWxkO1xuICB9IGVsc2Uge1xuICAgIHBhcmVudFtsYXN0UHJvcF0gPSBjaGlsZDtcbiAgfVxuXG4gIGNoaWxkLl9wcmV2ID0gcHJldjtcbiAgY2hpbGQucGFyZW50ID0gY2hpbGQuX2RwID0gcGFyZW50O1xuICByZXR1cm4gY2hpbGQ7XG59LFxuICAgIF9yZW1vdmVMaW5rZWRMaXN0SXRlbSA9IGZ1bmN0aW9uIF9yZW1vdmVMaW5rZWRMaXN0SXRlbShwYXJlbnQsIGNoaWxkLCBmaXJzdFByb3AsIGxhc3RQcm9wKSB7XG4gIGlmIChmaXJzdFByb3AgPT09IHZvaWQgMCkge1xuICAgIGZpcnN0UHJvcCA9IFwiX2ZpcnN0XCI7XG4gIH1cblxuICBpZiAobGFzdFByb3AgPT09IHZvaWQgMCkge1xuICAgIGxhc3RQcm9wID0gXCJfbGFzdFwiO1xuICB9XG5cbiAgdmFyIHByZXYgPSBjaGlsZC5fcHJldixcbiAgICAgIG5leHQgPSBjaGlsZC5fbmV4dDtcblxuICBpZiAocHJldikge1xuICAgIHByZXYuX25leHQgPSBuZXh0O1xuICB9IGVsc2UgaWYgKHBhcmVudFtmaXJzdFByb3BdID09PSBjaGlsZCkge1xuICAgIHBhcmVudFtmaXJzdFByb3BdID0gbmV4dDtcbiAgfVxuXG4gIGlmIChuZXh0KSB7XG4gICAgbmV4dC5fcHJldiA9IHByZXY7XG4gIH0gZWxzZSBpZiAocGFyZW50W2xhc3RQcm9wXSA9PT0gY2hpbGQpIHtcbiAgICBwYXJlbnRbbGFzdFByb3BdID0gcHJldjtcbiAgfVxuXG4gIGNoaWxkLl9uZXh0ID0gY2hpbGQuX3ByZXYgPSBjaGlsZC5wYXJlbnQgPSBudWxsOyAvLyBkb24ndCBkZWxldGUgdGhlIF9kcCBqdXN0IHNvIHdlIGNhbiByZXZlcnQgaWYgbmVjZXNzYXJ5LiBCdXQgcGFyZW50IHNob3VsZCBiZSBudWxsIHRvIGluZGljYXRlIHRoZSBpdGVtIGlzbid0IGluIGEgbGlua2VkIGxpc3QuXG59LFxuICAgIF9yZW1vdmVGcm9tUGFyZW50ID0gZnVuY3Rpb24gX3JlbW92ZUZyb21QYXJlbnQoY2hpbGQsIG9ubHlJZlBhcmVudEhhc0F1dG9SZW1vdmUpIHtcbiAgY2hpbGQucGFyZW50ICYmICghb25seUlmUGFyZW50SGFzQXV0b1JlbW92ZSB8fCBjaGlsZC5wYXJlbnQuYXV0b1JlbW92ZUNoaWxkcmVuKSAmJiBjaGlsZC5wYXJlbnQucmVtb3ZlKGNoaWxkKTtcbiAgY2hpbGQuX2FjdCA9IDA7XG59LFxuICAgIF91bmNhY2hlID0gZnVuY3Rpb24gX3VuY2FjaGUoYW5pbWF0aW9uLCBjaGlsZCkge1xuICBpZiAoYW5pbWF0aW9uICYmICghY2hpbGQgfHwgY2hpbGQuX2VuZCA+IGFuaW1hdGlvbi5fZHVyIHx8IGNoaWxkLl9zdGFydCA8IDApKSB7XG4gICAgLy8gcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBpZiBhIGNoaWxkIGFuaW1hdGlvbiBpcyBwYXNzZWQgaW4gd2Ugc2hvdWxkIG9ubHkgdW5jYWNoZSBpZiB0aGF0IGNoaWxkIEVYVEVORFMgdGhlIGFuaW1hdGlvbiAoaXRzIGVuZCB0aW1lIGlzIGJleW9uZCB0aGUgZW5kKVxuICAgIHZhciBhID0gYW5pbWF0aW9uO1xuXG4gICAgd2hpbGUgKGEpIHtcbiAgICAgIGEuX2RpcnR5ID0gMTtcbiAgICAgIGEgPSBhLnBhcmVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYW5pbWF0aW9uO1xufSxcbiAgICBfcmVjYWNoZUFuY2VzdG9ycyA9IGZ1bmN0aW9uIF9yZWNhY2hlQW5jZXN0b3JzKGFuaW1hdGlvbikge1xuICB2YXIgcGFyZW50ID0gYW5pbWF0aW9uLnBhcmVudDtcblxuICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5wYXJlbnQpIHtcbiAgICAvL3NvbWV0aW1lcyB3ZSBtdXN0IGZvcmNlIGEgcmUtc29ydCBvZiBhbGwgY2hpbGRyZW4gYW5kIHVwZGF0ZSB0aGUgZHVyYXRpb24vdG90YWxEdXJhdGlvbiBvZiBhbGwgYW5jZXN0b3IgdGltZWxpbmVzIGltbWVkaWF0ZWx5IGluIGNhc2UsIGZvciBleGFtcGxlLCBpbiB0aGUgbWlkZGxlIG9mIGEgcmVuZGVyIGxvb3AsIG9uZSB0d2VlbiBhbHRlcnMgYW5vdGhlciB0d2VlbidzIHRpbWVTY2FsZSB3aGljaCBzaG92ZXMgaXRzIHN0YXJ0VGltZSBiZWZvcmUgMCwgZm9yY2luZyB0aGUgcGFyZW50IHRpbWVsaW5lIHRvIHNoaWZ0IGFyb3VuZCBhbmQgc2hpZnRDaGlsZHJlbigpIHdoaWNoIGNvdWxkIGFmZmVjdCB0aGF0IG5leHQgdHdlZW4ncyByZW5kZXIgKHN0YXJ0VGltZSkuIERvZXNuJ3QgbWF0dGVyIGZvciB0aGUgcm9vdCB0aW1lbGluZSB0aG91Z2guXG4gICAgcGFyZW50Ll9kaXJ0eSA9IDE7XG4gICAgcGFyZW50LnRvdGFsRHVyYXRpb24oKTtcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICB9XG5cbiAgcmV0dXJuIGFuaW1hdGlvbjtcbn0sXG4gICAgX2hhc05vUGF1c2VkQW5jZXN0b3JzID0gZnVuY3Rpb24gX2hhc05vUGF1c2VkQW5jZXN0b3JzKGFuaW1hdGlvbikge1xuICByZXR1cm4gIWFuaW1hdGlvbiB8fCBhbmltYXRpb24uX3RzICYmIF9oYXNOb1BhdXNlZEFuY2VzdG9ycyhhbmltYXRpb24ucGFyZW50KTtcbn0sXG4gICAgX2VsYXBzZWRDeWNsZUR1cmF0aW9uID0gZnVuY3Rpb24gX2VsYXBzZWRDeWNsZUR1cmF0aW9uKGFuaW1hdGlvbikge1xuICByZXR1cm4gYW5pbWF0aW9uLl9yZXBlYXQgPyBfYW5pbWF0aW9uQ3ljbGUoYW5pbWF0aW9uLl90VGltZSwgYW5pbWF0aW9uID0gYW5pbWF0aW9uLmR1cmF0aW9uKCkgKyBhbmltYXRpb24uX3JEZWxheSkgKiBhbmltYXRpb24gOiAwO1xufSxcbiAgICAvLyBmZWVkIGluIHRoZSB0b3RhbFRpbWUgYW5kIGN5Y2xlRHVyYXRpb24gYW5kIGl0J2xsIHJldHVybiB0aGUgY3ljbGUgKGl0ZXJhdGlvbiBtaW51cyAxKSBhbmQgaWYgdGhlIHBsYXloZWFkIGlzIGV4YWN0bHkgYXQgdGhlIHZlcnkgRU5ELCBpdCB3aWxsIE5PVCBidW1wIHVwIHRvIHRoZSBuZXh0IGN5Y2xlLlxuX2FuaW1hdGlvbkN5Y2xlID0gZnVuY3Rpb24gX2FuaW1hdGlvbkN5Y2xlKHRUaW1lLCBjeWNsZUR1cmF0aW9uKSB7XG4gIHJldHVybiAodFRpbWUgLz0gY3ljbGVEdXJhdGlvbikgJiYgfn50VGltZSA9PT0gdFRpbWUgPyB+fnRUaW1lIC0gMSA6IH5+dFRpbWU7XG59LFxuICAgIF9wYXJlbnRUb0NoaWxkVG90YWxUaW1lID0gZnVuY3Rpb24gX3BhcmVudFRvQ2hpbGRUb3RhbFRpbWUocGFyZW50VGltZSwgY2hpbGQpIHtcbiAgcmV0dXJuIChwYXJlbnRUaW1lIC0gY2hpbGQuX3N0YXJ0KSAqIGNoaWxkLl90cyArIChjaGlsZC5fdHMgPj0gMCA/IDAgOiBjaGlsZC5fZGlydHkgPyBjaGlsZC50b3RhbER1cmF0aW9uKCkgOiBjaGlsZC5fdER1cik7XG59LFxuICAgIF9zZXRFbmQgPSBmdW5jdGlvbiBfc2V0RW5kKGFuaW1hdGlvbikge1xuICByZXR1cm4gYW5pbWF0aW9uLl9lbmQgPSBfcm91bmQoYW5pbWF0aW9uLl9zdGFydCArIChhbmltYXRpb24uX3REdXIgLyBNYXRoLmFicyhhbmltYXRpb24uX3RzIHx8IGFuaW1hdGlvbi5fcnRzIHx8IF90aW55TnVtKSB8fCAwKSk7XG59LFxuICAgIF9hbGlnblBsYXloZWFkID0gZnVuY3Rpb24gX2FsaWduUGxheWhlYWQoYW5pbWF0aW9uLCB0b3RhbFRpbWUpIHtcbiAgLy8gYWRqdXN0cyB0aGUgYW5pbWF0aW9uJ3MgX3N0YXJ0IGFuZCBfZW5kIGFjY29yZGluZyB0byB0aGUgcHJvdmlkZWQgdG90YWxUaW1lIChvbmx5IGlmIHRoZSBwYXJlbnQncyBzbW9vdGhDaGlsZFRpbWluZyBpcyB0cnVlIGFuZCB0aGUgYW5pbWF0aW9uIGlzbid0IHBhdXNlZCkuIEl0IGRvZXNuJ3QgZG8gYW55IHJlbmRlcmluZyBvciBmb3JjaW5nIHRoaW5ncyBiYWNrIGludG8gcGFyZW50IHRpbWVsaW5lcywgZXRjLiAtIHRoYXQncyB3aGF0IHRvdGFsVGltZSgpIGlzIGZvci5cbiAgdmFyIHBhcmVudCA9IGFuaW1hdGlvbi5fZHA7XG5cbiAgaWYgKHBhcmVudCAmJiBwYXJlbnQuc21vb3RoQ2hpbGRUaW1pbmcgJiYgYW5pbWF0aW9uLl90cykge1xuICAgIGFuaW1hdGlvbi5fc3RhcnQgPSBfcm91bmQoYW5pbWF0aW9uLl9kcC5fdGltZSAtIChhbmltYXRpb24uX3RzID4gMCA/IHRvdGFsVGltZSAvIGFuaW1hdGlvbi5fdHMgOiAoKGFuaW1hdGlvbi5fZGlydHkgPyBhbmltYXRpb24udG90YWxEdXJhdGlvbigpIDogYW5pbWF0aW9uLl90RHVyKSAtIHRvdGFsVGltZSkgLyAtYW5pbWF0aW9uLl90cykpO1xuXG4gICAgX3NldEVuZChhbmltYXRpb24pO1xuXG4gICAgcGFyZW50Ll9kaXJ0eSB8fCBfdW5jYWNoZShwYXJlbnQsIGFuaW1hdGlvbik7IC8vZm9yIHBlcmZvcm1hbmNlIGltcHJvdmVtZW50LiBJZiB0aGUgcGFyZW50J3MgY2FjaGUgaXMgYWxyZWFkeSBkaXJ0eSwgaXQgYWxyZWFkeSB0b29rIGNhcmUgb2YgbWFya2luZyB0aGUgYW5jZXN0b3JzIGFzIGRpcnR5IHRvbywgc28gc2tpcCB0aGUgZnVuY3Rpb24gY2FsbCBoZXJlLlxuICB9XG5cbiAgcmV0dXJuIGFuaW1hdGlvbjtcbn0sXG5cbi8qXG5fdG90YWxUaW1lVG9UaW1lID0gKGNsYW1wZWRUb3RhbFRpbWUsIGR1cmF0aW9uLCByZXBlYXQsIHJlcGVhdERlbGF5LCB5b3lvKSA9PiB7XG5cdGxldCBjeWNsZUR1cmF0aW9uID0gZHVyYXRpb24gKyByZXBlYXREZWxheSxcblx0XHR0aW1lID0gX3JvdW5kKGNsYW1wZWRUb3RhbFRpbWUgJSBjeWNsZUR1cmF0aW9uKTtcblx0aWYgKHRpbWUgPiBkdXJhdGlvbikge1xuXHRcdHRpbWUgPSBkdXJhdGlvbjtcblx0fVxuXHRyZXR1cm4gKHlveW8gJiYgKH5+KGNsYW1wZWRUb3RhbFRpbWUgLyBjeWNsZUR1cmF0aW9uKSAmIDEpKSA/IGR1cmF0aW9uIC0gdGltZSA6IHRpbWU7XG59LFxuKi9cbl9wb3N0QWRkQ2hlY2tzID0gZnVuY3Rpb24gX3Bvc3RBZGRDaGVja3ModGltZWxpbmUsIGNoaWxkKSB7XG4gIHZhciB0O1xuXG4gIGlmIChjaGlsZC5fdGltZSB8fCBjaGlsZC5faW5pdHRlZCAmJiAhY2hpbGQuX2R1cikge1xuICAgIC8vaW4gY2FzZSwgZm9yIGV4YW1wbGUsIHRoZSBfc3RhcnQgaXMgbW92ZWQgb24gYSB0d2VlbiB0aGF0IGhhcyBhbHJlYWR5IHJlbmRlcmVkLiBJbWFnaW5lIGl0J3MgYXQgaXRzIGVuZCBzdGF0ZSwgdGhlbiB0aGUgc3RhcnRUaW1lIGlzIG1vdmVkIFdBWSBsYXRlciAoYWZ0ZXIgdGhlIGVuZCBvZiB0aGlzIHRpbWVsaW5lKSwgaXQgc2hvdWxkIHJlbmRlciBhdCBpdHMgYmVnaW5uaW5nLlxuICAgIHQgPSBfcGFyZW50VG9DaGlsZFRvdGFsVGltZSh0aW1lbGluZS5yYXdUaW1lKCksIGNoaWxkKTtcblxuICAgIGlmICghY2hpbGQuX2R1ciB8fCBfY2xhbXAoMCwgY2hpbGQudG90YWxEdXJhdGlvbigpLCB0KSAtIGNoaWxkLl90VGltZSA+IF90aW55TnVtKSB7XG4gICAgICBjaGlsZC5yZW5kZXIodCwgdHJ1ZSk7XG4gICAgfVxuICB9IC8vaWYgdGhlIHRpbWVsaW5lIGhhcyBhbHJlYWR5IGVuZGVkIGJ1dCB0aGUgaW5zZXJ0ZWQgdHdlZW4vdGltZWxpbmUgZXh0ZW5kcyB0aGUgZHVyYXRpb24sIHdlIHNob3VsZCBlbmFibGUgdGhpcyB0aW1lbGluZSBhZ2FpbiBzbyB0aGF0IGl0IHJlbmRlcnMgcHJvcGVybHkuIFdlIHNob3VsZCBhbHNvIGFsaWduIHRoZSBwbGF5aGVhZCB3aXRoIHRoZSBwYXJlbnQgdGltZWxpbmUncyB3aGVuIGFwcHJvcHJpYXRlLlxuXG5cbiAgaWYgKF91bmNhY2hlKHRpbWVsaW5lLCBjaGlsZCkuX2RwICYmIHRpbWVsaW5lLl9pbml0dGVkICYmIHRpbWVsaW5lLl90aW1lID49IHRpbWVsaW5lLl9kdXIgJiYgdGltZWxpbmUuX3RzKSB7XG4gICAgLy9pbiBjYXNlIGFueSBvZiB0aGUgYW5jZXN0b3JzIGhhZCBjb21wbGV0ZWQgYnV0IHNob3VsZCBub3cgYmUgZW5hYmxlZC4uLlxuICAgIGlmICh0aW1lbGluZS5fZHVyIDwgdGltZWxpbmUuZHVyYXRpb24oKSkge1xuICAgICAgdCA9IHRpbWVsaW5lO1xuXG4gICAgICB3aGlsZSAodC5fZHApIHtcbiAgICAgICAgdC5yYXdUaW1lKCkgPj0gMCAmJiB0LnRvdGFsVGltZSh0Ll90VGltZSk7IC8vbW92ZXMgdGhlIHRpbWVsaW5lIChzaGlmdHMgaXRzIHN0YXJ0VGltZSkgaWYgbmVjZXNzYXJ5LCBhbmQgYWxzbyBlbmFibGVzIGl0LiBJZiBpdCdzIGN1cnJlbnRseSB6ZXJvLCB0aG91Z2gsIGl0IG1heSBub3QgYmUgc2NoZWR1bGVkIHRvIHJlbmRlciB1bnRpbCBsYXRlciBzbyB0aGVyZSdzIG5vIG5lZWQgdG8gZm9yY2UgaXQgdG8gYWxpZ24gd2l0aCB0aGUgY3VycmVudCBwbGF5aGVhZCBwb3NpdGlvbi4gT25seSBtb3ZlIHRvIGNhdGNoIHVwIHdpdGggdGhlIHBsYXloZWFkLlxuXG4gICAgICAgIHQgPSB0Ll9kcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aW1lbGluZS5felRpbWUgPSAtX3RpbnlOdW07IC8vIGhlbHBzIGVuc3VyZSB0aGF0IHRoZSBuZXh0IHJlbmRlcigpIHdpbGwgYmUgZm9yY2VkIChjcm9zc2luZ1N0YXJ0ID0gdHJ1ZSBpbiByZW5kZXIoKSksIGV2ZW4gaWYgdGhlIGR1cmF0aW9uIGhhc24ndCBjaGFuZ2VkICh3ZSdyZSBhZGRpbmcgYSBjaGlsZCB3aGljaCB3b3VsZCBuZWVkIHRvIGdldCByZW5kZXJlZCkuIERlZmluaXRlbHkgYW4gZWRnZSBjYXNlLiBOb3RlOiB3ZSBNVVNUIGRvIHRoaXMgQUZURVIgdGhlIGxvb3AgYWJvdmUgd2hlcmUgdGhlIHRvdGFsVGltZSgpIG1pZ2h0IHRyaWdnZXIgYSByZW5kZXIoKSBiZWNhdXNlIHRoaXMgX2FkZFRvVGltZWxpbmUoKSBtZXRob2QgZ2V0cyBjYWxsZWQgZnJvbSB0aGUgQW5pbWF0aW9uIGNvbnN0cnVjdG9yLCBCRUZPUkUgdHdlZW5zIGV2ZW4gcmVjb3JkIHRoZWlyIHRhcmdldHMsIGV0Yy4gc28gd2Ugd291bGRuJ3Qgd2FudCB0aGluZ3MgdG8gZ2V0IHRyaWdnZXJlZCBpbiB0aGUgd3Jvbmcgb3JkZXIuXG4gIH1cbn0sXG4gICAgX2FkZFRvVGltZWxpbmUgPSBmdW5jdGlvbiBfYWRkVG9UaW1lbGluZSh0aW1lbGluZSwgY2hpbGQsIHBvc2l0aW9uLCBza2lwQ2hlY2tzKSB7XG4gIGNoaWxkLnBhcmVudCAmJiBfcmVtb3ZlRnJvbVBhcmVudChjaGlsZCk7XG4gIGNoaWxkLl9zdGFydCA9IF9yb3VuZChwb3NpdGlvbiArIGNoaWxkLl9kZWxheSk7XG4gIGNoaWxkLl9lbmQgPSBfcm91bmQoY2hpbGQuX3N0YXJ0ICsgKGNoaWxkLnRvdGFsRHVyYXRpb24oKSAvIE1hdGguYWJzKGNoaWxkLnRpbWVTY2FsZSgpKSB8fCAwKSk7XG5cbiAgX2FkZExpbmtlZExpc3RJdGVtKHRpbWVsaW5lLCBjaGlsZCwgXCJfZmlyc3RcIiwgXCJfbGFzdFwiLCB0aW1lbGluZS5fc29ydCA/IFwiX3N0YXJ0XCIgOiAwKTtcblxuICB0aW1lbGluZS5fcmVjZW50ID0gY2hpbGQ7XG4gIHNraXBDaGVja3MgfHwgX3Bvc3RBZGRDaGVja3ModGltZWxpbmUsIGNoaWxkKTtcbiAgcmV0dXJuIHRpbWVsaW5lO1xufSxcbiAgICBfc2Nyb2xsVHJpZ2dlciA9IGZ1bmN0aW9uIF9zY3JvbGxUcmlnZ2VyKGFuaW1hdGlvbiwgdHJpZ2dlcikge1xuICByZXR1cm4gKF9nbG9iYWxzLlNjcm9sbFRyaWdnZXIgfHwgX21pc3NpbmdQbHVnaW4oXCJzY3JvbGxUcmlnZ2VyXCIsIHRyaWdnZXIpKSAmJiBfZ2xvYmFscy5TY3JvbGxUcmlnZ2VyLmNyZWF0ZSh0cmlnZ2VyLCBhbmltYXRpb24pO1xufSxcbiAgICBfYXR0ZW1wdEluaXRUd2VlbiA9IGZ1bmN0aW9uIF9hdHRlbXB0SW5pdFR3ZWVuKHR3ZWVuLCB0b3RhbFRpbWUsIGZvcmNlLCBzdXBwcmVzc0V2ZW50cykge1xuICBfaW5pdFR3ZWVuKHR3ZWVuLCB0b3RhbFRpbWUpO1xuXG4gIGlmICghdHdlZW4uX2luaXR0ZWQpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIGlmICghZm9yY2UgJiYgdHdlZW4uX3B0ICYmICh0d2Vlbi5fZHVyICYmIHR3ZWVuLnZhcnMubGF6eSAhPT0gZmFsc2UgfHwgIXR3ZWVuLl9kdXIgJiYgdHdlZW4udmFycy5sYXp5KSAmJiBfbGFzdFJlbmRlcmVkRnJhbWUgIT09IF90aWNrZXIuZnJhbWUpIHtcbiAgICBfbGF6eVR3ZWVucy5wdXNoKHR3ZWVuKTtcblxuICAgIHR3ZWVuLl9sYXp5ID0gW3RvdGFsVGltZSwgc3VwcHJlc3NFdmVudHNdO1xuICAgIHJldHVybiAxO1xuICB9XG59LFxuICAgIF9yZW5kZXJaZXJvRHVyYXRpb25Ud2VlbiA9IGZ1bmN0aW9uIF9yZW5kZXJaZXJvRHVyYXRpb25Ud2Vlbih0d2VlbiwgdG90YWxUaW1lLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpIHtcbiAgdmFyIHByZXZSYXRpbyA9IHR3ZWVuLnJhdGlvLFxuICAgICAgcmF0aW8gPSB0b3RhbFRpbWUgPCAwIHx8ICF0b3RhbFRpbWUgJiYgcHJldlJhdGlvICYmICF0d2Vlbi5fc3RhcnQgJiYgdHdlZW4uX3pUaW1lID4gX3RpbnlOdW0gJiYgIXR3ZWVuLl9kcC5fbG9jayB8fCAodHdlZW4uX3RzIDwgMCB8fCB0d2Vlbi5fZHAuX3RzIDwgMCkgJiYgdHdlZW4uZGF0YSAhPT0gXCJpc0Zyb21TdGFydFwiICYmIHR3ZWVuLmRhdGEgIT09IFwiaXNTdGFydFwiID8gMCA6IDEsXG4gICAgICAvLyBjaGVjayBwYXJlbnQncyBfbG9jayBiZWNhdXNlIHdoZW4gYSB0aW1lbGluZSByZXBlYXRzL3lveW9zIGFuZCBkb2VzIGl0cyBhcnRpZmljaWFsIHdyYXBwaW5nLCB3ZSBzaG91bGRuJ3QgZm9yY2UgdGhlIHJhdGlvIGJhY2sgdG8gMC4gQWxzbywgaWYgdGhlIHR3ZWVuIG9yIGl0cyBwYXJlbnQgaXMgcmV2ZXJzZWQgYW5kIHRoZSB0b3RhbFRpbWUgaXMgMCwgd2Ugc2hvdWxkIGdvIHRvIGEgcmF0aW8gb2YgMC5cbiAgcmVwZWF0RGVsYXkgPSB0d2Vlbi5fckRlbGF5LFxuICAgICAgdFRpbWUgPSAwLFxuICAgICAgcHQsXG4gICAgICBpdGVyYXRpb24sXG4gICAgICBwcmV2SXRlcmF0aW9uO1xuXG4gIGlmIChyZXBlYXREZWxheSAmJiB0d2Vlbi5fcmVwZWF0KSB7XG4gICAgLy8gaW4gY2FzZSB0aGVyZSdzIGEgemVyby1kdXJhdGlvbiB0d2VlbiB0aGF0IGhhcyBhIHJlcGVhdCB3aXRoIGEgcmVwZWF0RGVsYXlcbiAgICB0VGltZSA9IF9jbGFtcCgwLCB0d2Vlbi5fdER1ciwgdG90YWxUaW1lKTtcbiAgICBpdGVyYXRpb24gPSBfYW5pbWF0aW9uQ3ljbGUodFRpbWUsIHJlcGVhdERlbGF5KTtcbiAgICBwcmV2SXRlcmF0aW9uID0gX2FuaW1hdGlvbkN5Y2xlKHR3ZWVuLl90VGltZSwgcmVwZWF0RGVsYXkpO1xuXG4gICAgaWYgKGl0ZXJhdGlvbiAhPT0gcHJldkl0ZXJhdGlvbikge1xuICAgICAgcHJldlJhdGlvID0gMSAtIHJhdGlvO1xuICAgICAgdHdlZW4udmFycy5yZXBlYXRSZWZyZXNoICYmIHR3ZWVuLl9pbml0dGVkICYmIHR3ZWVuLmludmFsaWRhdGUoKTtcbiAgICB9XG4gIH1cblxuICBpZiAocmF0aW8gIT09IHByZXZSYXRpbyB8fCBmb3JjZSB8fCB0d2Vlbi5felRpbWUgPT09IF90aW55TnVtIHx8ICF0b3RhbFRpbWUgJiYgdHdlZW4uX3pUaW1lKSB7XG4gICAgaWYgKCF0d2Vlbi5faW5pdHRlZCAmJiBfYXR0ZW1wdEluaXRUd2Vlbih0d2VlbiwgdG90YWxUaW1lLCBmb3JjZSwgc3VwcHJlc3NFdmVudHMpKSB7XG4gICAgICAvLyBpZiB3ZSByZW5kZXIgdGhlIHZlcnkgYmVnaW5uaW5nICh0aW1lID09IDApIG9mIGEgZnJvbVRvKCksIHdlIG11c3QgZm9yY2UgdGhlIHJlbmRlciAobm9ybWFsIHR3ZWVucyB3b3VsZG4ndCBuZWVkIHRvIHJlbmRlciBhdCBhIHRpbWUgb2YgMCB3aGVuIHRoZSBwcmV2VGltZSB3YXMgYWxzbyAwKS4gVGhpcyBpcyBhbHNvIG1hbmRhdG9yeSB0byBtYWtlIHN1cmUgb3ZlcndyaXRpbmcga2lja3MgaW4gaW1tZWRpYXRlbHkuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHJldkl0ZXJhdGlvbiA9IHR3ZWVuLl96VGltZTtcbiAgICB0d2Vlbi5felRpbWUgPSB0b3RhbFRpbWUgfHwgKHN1cHByZXNzRXZlbnRzID8gX3RpbnlOdW0gOiAwKTsgLy8gd2hlbiB0aGUgcGxheWhlYWQgYXJyaXZlcyBhdCBFWEFDVExZIHRpbWUgMCAocmlnaHQgb24gdG9wKSBvZiBhIHplcm8tZHVyYXRpb24gdHdlZW4sIHdlIG5lZWQgdG8gZGlzY2VybiBpZiBldmVudHMgYXJlIHN1cHByZXNzZWQgc28gdGhhdCB3aGVuIHRoZSBwbGF5aGVhZCBtb3ZlcyBhZ2FpbiAobmV4dCB0aW1lKSwgaXQnbGwgdHJpZ2dlciB0aGUgY2FsbGJhY2suIElmIGV2ZW50cyBhcmUgTk9UIHN1cHByZXNzZWQsIG9idmlvdXNseSB0aGUgY2FsbGJhY2sgd291bGQgYmUgdHJpZ2dlcmVkIGluIHRoaXMgcmVuZGVyLiBCYXNpY2FsbHksIHRoZSBjYWxsYmFjayBzaG91bGQgZmlyZSBlaXRoZXIgd2hlbiB0aGUgcGxheWhlYWQgQVJSSVZFUyBvciBMRUFWRVMgdGhpcyBleGFjdCBzcG90LCBub3QgYm90aC4gSW1hZ2luZSBkb2luZyBhIHRpbWVsaW5lLnNlZWsoMCkgYW5kIHRoZXJlJ3MgYSBjYWxsYmFjayB0aGF0IHNpdHMgYXQgMC4gU2luY2UgZXZlbnRzIGFyZSBzdXBwcmVzc2VkIG9uIHRoYXQgc2VlaygpIGJ5IGRlZmF1bHQsIG5vdGhpbmcgd2lsbCBmaXJlLCBidXQgd2hlbiB0aGUgcGxheWhlYWQgbW92ZXMgb2ZmIG9mIHRoYXQgcG9zaXRpb24sIHRoZSBjYWxsYmFjayBzaG91bGQgZmlyZS4gVGhpcyBiZWhhdmlvciBpcyB3aGF0IHBlb3BsZSBpbnR1aXRpdmVseSBleHBlY3QuXG5cbiAgICBzdXBwcmVzc0V2ZW50cyB8fCAoc3VwcHJlc3NFdmVudHMgPSB0b3RhbFRpbWUgJiYgIXByZXZJdGVyYXRpb24pOyAvLyBpZiBpdCB3YXMgcmVuZGVyZWQgcHJldmlvdXNseSBhdCBleGFjdGx5IDAgKF96VGltZSkgYW5kIG5vdyB0aGUgcGxheWhlYWQgaXMgbW92aW5nIGF3YXksIERPTidUIGZpcmUgY2FsbGJhY2tzIG90aGVyd2lzZSB0aGV5J2xsIHNlZW0gbGlrZSBkdXBsaWNhdGVzLlxuXG4gICAgdHdlZW4ucmF0aW8gPSByYXRpbztcbiAgICB0d2Vlbi5fZnJvbSAmJiAocmF0aW8gPSAxIC0gcmF0aW8pO1xuICAgIHR3ZWVuLl90aW1lID0gMDtcbiAgICB0d2Vlbi5fdFRpbWUgPSB0VGltZTtcbiAgICBzdXBwcmVzc0V2ZW50cyB8fCBfY2FsbGJhY2sodHdlZW4sIFwib25TdGFydFwiKTtcbiAgICBwdCA9IHR3ZWVuLl9wdDtcblxuICAgIHdoaWxlIChwdCkge1xuICAgICAgcHQucihyYXRpbywgcHQuZCk7XG4gICAgICBwdCA9IHB0Ll9uZXh0O1xuICAgIH1cblxuICAgIHR3ZWVuLl9zdGFydEF0ICYmIHRvdGFsVGltZSA8IDAgJiYgdHdlZW4uX3N0YXJ0QXQucmVuZGVyKHRvdGFsVGltZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgdHdlZW4uX29uVXBkYXRlICYmICFzdXBwcmVzc0V2ZW50cyAmJiBfY2FsbGJhY2sodHdlZW4sIFwib25VcGRhdGVcIik7XG4gICAgdFRpbWUgJiYgdHdlZW4uX3JlcGVhdCAmJiAhc3VwcHJlc3NFdmVudHMgJiYgdHdlZW4ucGFyZW50ICYmIF9jYWxsYmFjayh0d2VlbiwgXCJvblJlcGVhdFwiKTtcblxuICAgIGlmICgodG90YWxUaW1lID49IHR3ZWVuLl90RHVyIHx8IHRvdGFsVGltZSA8IDApICYmIHR3ZWVuLnJhdGlvID09PSByYXRpbykge1xuICAgICAgcmF0aW8gJiYgX3JlbW92ZUZyb21QYXJlbnQodHdlZW4sIDEpO1xuXG4gICAgICBpZiAoIXN1cHByZXNzRXZlbnRzKSB7XG4gICAgICAgIF9jYWxsYmFjayh0d2VlbiwgcmF0aW8gPyBcIm9uQ29tcGxldGVcIiA6IFwib25SZXZlcnNlQ29tcGxldGVcIiwgdHJ1ZSk7XG5cbiAgICAgICAgdHdlZW4uX3Byb20gJiYgdHdlZW4uX3Byb20oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoIXR3ZWVuLl96VGltZSkge1xuICAgIHR3ZWVuLl96VGltZSA9IHRvdGFsVGltZTtcbiAgfVxufSxcbiAgICBfZmluZE5leHRQYXVzZVR3ZWVuID0gZnVuY3Rpb24gX2ZpbmROZXh0UGF1c2VUd2VlbihhbmltYXRpb24sIHByZXZUaW1lLCB0aW1lKSB7XG4gIHZhciBjaGlsZDtcblxuICBpZiAodGltZSA+IHByZXZUaW1lKSB7XG4gICAgY2hpbGQgPSBhbmltYXRpb24uX2ZpcnN0O1xuXG4gICAgd2hpbGUgKGNoaWxkICYmIGNoaWxkLl9zdGFydCA8PSB0aW1lKSB7XG4gICAgICBpZiAoIWNoaWxkLl9kdXIgJiYgY2hpbGQuZGF0YSA9PT0gXCJpc1BhdXNlXCIgJiYgY2hpbGQuX3N0YXJ0ID4gcHJldlRpbWUpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfVxuXG4gICAgICBjaGlsZCA9IGNoaWxkLl9uZXh0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjaGlsZCA9IGFuaW1hdGlvbi5fbGFzdDtcblxuICAgIHdoaWxlIChjaGlsZCAmJiBjaGlsZC5fc3RhcnQgPj0gdGltZSkge1xuICAgICAgaWYgKCFjaGlsZC5fZHVyICYmIGNoaWxkLmRhdGEgPT09IFwiaXNQYXVzZVwiICYmIGNoaWxkLl9zdGFydCA8IHByZXZUaW1lKSB7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH1cblxuICAgICAgY2hpbGQgPSBjaGlsZC5fcHJldjtcbiAgICB9XG4gIH1cbn0sXG4gICAgX3NldER1cmF0aW9uID0gZnVuY3Rpb24gX3NldER1cmF0aW9uKGFuaW1hdGlvbiwgZHVyYXRpb24sIHNraXBVbmNhY2hlLCBsZWF2ZVBsYXloZWFkKSB7XG4gIHZhciByZXBlYXQgPSBhbmltYXRpb24uX3JlcGVhdCxcbiAgICAgIGR1ciA9IF9yb3VuZChkdXJhdGlvbikgfHwgMCxcbiAgICAgIHRvdGFsUHJvZ3Jlc3MgPSBhbmltYXRpb24uX3RUaW1lIC8gYW5pbWF0aW9uLl90RHVyO1xuICB0b3RhbFByb2dyZXNzICYmICFsZWF2ZVBsYXloZWFkICYmIChhbmltYXRpb24uX3RpbWUgKj0gZHVyIC8gYW5pbWF0aW9uLl9kdXIpO1xuICBhbmltYXRpb24uX2R1ciA9IGR1cjtcbiAgYW5pbWF0aW9uLl90RHVyID0gIXJlcGVhdCA/IGR1ciA6IHJlcGVhdCA8IDAgPyAxZTEwIDogX3JvdW5kKGR1ciAqIChyZXBlYXQgKyAxKSArIGFuaW1hdGlvbi5fckRlbGF5ICogcmVwZWF0KTtcbiAgdG90YWxQcm9ncmVzcyAmJiAhbGVhdmVQbGF5aGVhZCA/IF9hbGlnblBsYXloZWFkKGFuaW1hdGlvbiwgYW5pbWF0aW9uLl90VGltZSA9IGFuaW1hdGlvbi5fdER1ciAqIHRvdGFsUHJvZ3Jlc3MpIDogYW5pbWF0aW9uLnBhcmVudCAmJiBfc2V0RW5kKGFuaW1hdGlvbik7XG4gIHNraXBVbmNhY2hlIHx8IF91bmNhY2hlKGFuaW1hdGlvbi5wYXJlbnQsIGFuaW1hdGlvbik7XG4gIHJldHVybiBhbmltYXRpb247XG59LFxuICAgIF9vblVwZGF0ZVRvdGFsRHVyYXRpb24gPSBmdW5jdGlvbiBfb25VcGRhdGVUb3RhbER1cmF0aW9uKGFuaW1hdGlvbikge1xuICByZXR1cm4gYW5pbWF0aW9uIGluc3RhbmNlb2YgVGltZWxpbmUgPyBfdW5jYWNoZShhbmltYXRpb24pIDogX3NldER1cmF0aW9uKGFuaW1hdGlvbiwgYW5pbWF0aW9uLl9kdXIpO1xufSxcbiAgICBfemVyb1Bvc2l0aW9uID0ge1xuICBfc3RhcnQ6IDAsXG4gIGVuZFRpbWU6IF9lbXB0eUZ1bmNcbn0sXG4gICAgX3BhcnNlUG9zaXRpb24gPSBmdW5jdGlvbiBfcGFyc2VQb3NpdGlvbihhbmltYXRpb24sIHBvc2l0aW9uKSB7XG4gIHZhciBsYWJlbHMgPSBhbmltYXRpb24ubGFiZWxzLFxuICAgICAgcmVjZW50ID0gYW5pbWF0aW9uLl9yZWNlbnQgfHwgX3plcm9Qb3NpdGlvbixcbiAgICAgIGNsaXBwZWREdXJhdGlvbiA9IGFuaW1hdGlvbi5kdXJhdGlvbigpID49IF9iaWdOdW0gPyByZWNlbnQuZW5kVGltZShmYWxzZSkgOiBhbmltYXRpb24uX2R1cixcbiAgICAgIC8vaW4gY2FzZSB0aGVyZSdzIGEgY2hpbGQgdGhhdCBpbmZpbml0ZWx5IHJlcGVhdHMsIHVzZXJzIGFsbW9zdCBuZXZlciBpbnRlbmQgZm9yIHRoZSBpbnNlcnRpb24gcG9pbnQgb2YgYSBuZXcgY2hpbGQgdG8gYmUgYmFzZWQgb24gYSBTVVBFUiBsb25nIHZhbHVlIGxpa2UgdGhhdCBzbyB3ZSBjbGlwIGl0IGFuZCBhc3N1bWUgdGhlIG1vc3QgcmVjZW50bHktYWRkZWQgY2hpbGQncyBlbmRUaW1lIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gIGksXG4gICAgICBvZmZzZXQ7XG5cbiAgaWYgKF9pc1N0cmluZyhwb3NpdGlvbikgJiYgKGlzTmFOKHBvc2l0aW9uKSB8fCBwb3NpdGlvbiBpbiBsYWJlbHMpKSB7XG4gICAgLy9pZiB0aGUgc3RyaW5nIGlzIGEgbnVtYmVyIGxpa2UgXCIxXCIsIGNoZWNrIHRvIHNlZSBpZiB0aGVyZSdzIGEgbGFiZWwgd2l0aCB0aGF0IG5hbWUsIG90aGVyd2lzZSBpbnRlcnByZXQgaXQgYXMgYSBudW1iZXIgKGFic29sdXRlIHZhbHVlKS5cbiAgICBpID0gcG9zaXRpb24uY2hhckF0KDApO1xuXG4gICAgaWYgKGkgPT09IFwiPFwiIHx8IGkgPT09IFwiPlwiKSB7XG4gICAgICByZXR1cm4gKGkgPT09IFwiPFwiID8gcmVjZW50Ll9zdGFydCA6IHJlY2VudC5lbmRUaW1lKHJlY2VudC5fcmVwZWF0ID49IDApKSArIChwYXJzZUZsb2F0KHBvc2l0aW9uLnN1YnN0cigxKSkgfHwgMCk7XG4gICAgfVxuXG4gICAgaSA9IHBvc2l0aW9uLmluZGV4T2YoXCI9XCIpO1xuXG4gICAgaWYgKGkgPCAwKSB7XG4gICAgICBwb3NpdGlvbiBpbiBsYWJlbHMgfHwgKGxhYmVsc1twb3NpdGlvbl0gPSBjbGlwcGVkRHVyYXRpb24pO1xuICAgICAgcmV0dXJuIGxhYmVsc1twb3NpdGlvbl07XG4gICAgfVxuXG4gICAgb2Zmc2V0ID0gKyhwb3NpdGlvbi5jaGFyQXQoaSAtIDEpICsgcG9zaXRpb24uc3Vic3RyKGkgKyAxKSk7XG4gICAgcmV0dXJuIGkgPiAxID8gX3BhcnNlUG9zaXRpb24oYW5pbWF0aW9uLCBwb3NpdGlvbi5zdWJzdHIoMCwgaSAtIDEpKSArIG9mZnNldCA6IGNsaXBwZWREdXJhdGlvbiArIG9mZnNldDtcbiAgfVxuXG4gIHJldHVybiBwb3NpdGlvbiA9PSBudWxsID8gY2xpcHBlZER1cmF0aW9uIDogK3Bvc2l0aW9uO1xufSxcbiAgICBfY29uZGl0aW9uYWxSZXR1cm4gPSBmdW5jdGlvbiBfY29uZGl0aW9uYWxSZXR1cm4odmFsdWUsIGZ1bmMpIHtcbiAgcmV0dXJuIHZhbHVlIHx8IHZhbHVlID09PSAwID8gZnVuYyh2YWx1ZSkgOiBmdW5jO1xufSxcbiAgICBfY2xhbXAgPSBmdW5jdGlvbiBfY2xhbXAobWluLCBtYXgsIHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA8IG1pbiA/IG1pbiA6IHZhbHVlID4gbWF4ID8gbWF4IDogdmFsdWU7XG59LFxuICAgIGdldFVuaXQgPSBmdW5jdGlvbiBnZXRVbml0KHZhbHVlKSB7XG4gIHJldHVybiAodmFsdWUgPSAodmFsdWUgKyBcIlwiKS5zdWJzdHIoKHBhcnNlRmxvYXQodmFsdWUpICsgXCJcIikubGVuZ3RoKSkgJiYgaXNOYU4odmFsdWUpID8gdmFsdWUgOiBcIlwiO1xufSxcbiAgICAvLyBub3RlOiBwcm90ZWN0IGFnYWluc3QgcGFkZGVkIG51bWJlcnMgYXMgc3RyaW5ncywgbGlrZSBcIjEwMC4xMDBcIi4gVGhhdCBzaG91bGRuJ3QgcmV0dXJuIFwiMDBcIiBhcyB0aGUgdW5pdC4gSWYgaXQncyBudW1lcmljLCByZXR1cm4gbm8gdW5pdC5cbmNsYW1wID0gZnVuY3Rpb24gY2xhbXAobWluLCBtYXgsIHZhbHVlKSB7XG4gIHJldHVybiBfY29uZGl0aW9uYWxSZXR1cm4odmFsdWUsIGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIF9jbGFtcChtaW4sIG1heCwgdik7XG4gIH0pO1xufSxcbiAgICBfc2xpY2UgPSBbXS5zbGljZSxcbiAgICBfaXNBcnJheUxpa2UgPSBmdW5jdGlvbiBfaXNBcnJheUxpa2UodmFsdWUsIG5vbkVtcHR5KSB7XG4gIHJldHVybiB2YWx1ZSAmJiBfaXNPYmplY3QodmFsdWUpICYmIFwibGVuZ3RoXCIgaW4gdmFsdWUgJiYgKCFub25FbXB0eSAmJiAhdmFsdWUubGVuZ3RoIHx8IHZhbHVlLmxlbmd0aCAtIDEgaW4gdmFsdWUgJiYgX2lzT2JqZWN0KHZhbHVlWzBdKSkgJiYgIXZhbHVlLm5vZGVUeXBlICYmIHZhbHVlICE9PSBfd2luO1xufSxcbiAgICBfZmxhdHRlbiA9IGZ1bmN0aW9uIF9mbGF0dGVuKGFyLCBsZWF2ZVN0cmluZ3MsIGFjY3VtdWxhdG9yKSB7XG4gIGlmIChhY2N1bXVsYXRvciA9PT0gdm9pZCAwKSB7XG4gICAgYWNjdW11bGF0b3IgPSBbXTtcbiAgfVxuXG4gIHJldHVybiBhci5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBfYWNjdW11bGF0b3I7XG5cbiAgICByZXR1cm4gX2lzU3RyaW5nKHZhbHVlKSAmJiAhbGVhdmVTdHJpbmdzIHx8IF9pc0FycmF5TGlrZSh2YWx1ZSwgMSkgPyAoX2FjY3VtdWxhdG9yID0gYWNjdW11bGF0b3IpLnB1c2guYXBwbHkoX2FjY3VtdWxhdG9yLCB0b0FycmF5KHZhbHVlKSkgOiBhY2N1bXVsYXRvci5wdXNoKHZhbHVlKTtcbiAgfSkgfHwgYWNjdW11bGF0b3I7XG59LFxuICAgIC8vdGFrZXMgYW55IHZhbHVlIGFuZCByZXR1cm5zIGFuIGFycmF5LiBJZiBpdCdzIGEgc3RyaW5nIChhbmQgbGVhdmVTdHJpbmdzIGlzbid0IHRydWUpLCBpdCdsbCB1c2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgpIGFuZCBjb252ZXJ0IHRoYXQgdG8gYW4gYXJyYXkuIEl0J2xsIGFsc28gYWNjZXB0IGl0ZXJhYmxlcyBsaWtlIGpRdWVyeSBvYmplY3RzLlxudG9BcnJheSA9IGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUsIGxlYXZlU3RyaW5ncykge1xuICByZXR1cm4gX2lzU3RyaW5nKHZhbHVlKSAmJiAhbGVhdmVTdHJpbmdzICYmIChfY29yZUluaXR0ZWQgfHwgIV93YWtlKCkpID8gX3NsaWNlLmNhbGwoX2RvYy5xdWVyeVNlbGVjdG9yQWxsKHZhbHVlKSwgMCkgOiBfaXNBcnJheSh2YWx1ZSkgPyBfZmxhdHRlbih2YWx1ZSwgbGVhdmVTdHJpbmdzKSA6IF9pc0FycmF5TGlrZSh2YWx1ZSkgPyBfc2xpY2UuY2FsbCh2YWx1ZSwgMCkgOiB2YWx1ZSA/IFt2YWx1ZV0gOiBbXTtcbn0sXG4gICAgc2h1ZmZsZSA9IGZ1bmN0aW9uIHNodWZmbGUoYSkge1xuICByZXR1cm4gYS5zb3J0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gLjUgLSBNYXRoLnJhbmRvbSgpO1xuICB9KTtcbn0sXG4gICAgLy8gYWx0ZXJuYXRpdmUgdGhhdCdzIGEgYml0IGZhc3RlciBhbmQgbW9yZSByZWxpYWJseSBkaXZlcnNlIGJ1dCBiaWdnZXI6ICAgZm9yIChsZXQgaiwgdiwgaSA9IGEubGVuZ3RoOyBpOyBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaSksIHYgPSBhWy0taV0sIGFbaV0gPSBhW2pdLCBhW2pdID0gdik7IHJldHVybiBhO1xuLy9mb3IgZGlzdHJpYnV0aW5nIHZhbHVlcyBhY3Jvc3MgYW4gYXJyYXkuIENhbiBhY2NlcHQgYSBudW1iZXIsIGEgZnVuY3Rpb24gb3IgKG1vc3QgY29tbW9ubHkpIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGNvbnRhaW4gdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOiB7YmFzZSwgYW1vdW50LCBmcm9tLCBlYXNlLCBncmlkLCBheGlzLCBsZW5ndGgsIGVhY2h9LiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBleHBlY3RzIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczogaW5kZXgsIHRhcmdldCwgYXJyYXkuIFJlY29nbml6ZXMgdGhlIGZvbGxvd2luZ1xuZGlzdHJpYnV0ZSA9IGZ1bmN0aW9uIGRpc3RyaWJ1dGUodikge1xuICBpZiAoX2lzRnVuY3Rpb24odikpIHtcbiAgICByZXR1cm4gdjtcbiAgfVxuXG4gIHZhciB2YXJzID0gX2lzT2JqZWN0KHYpID8gdiA6IHtcbiAgICBlYWNoOiB2XG4gIH0sXG4gICAgICAvL246MSBpcyBqdXN0IHRvIGluZGljYXRlIHYgd2FzIGEgbnVtYmVyOyB3ZSBsZXZlcmFnZSB0aGF0IGxhdGVyIHRvIHNldCB2IGFjY29yZGluZyB0byB0aGUgbGVuZ3RoIHdlIGdldC4gSWYgYSBudW1iZXIgaXMgcGFzc2VkIGluLCB3ZSB0cmVhdCBpdCBsaWtlIHRoZSBvbGQgc3RhZ2dlciB2YWx1ZSB3aGVyZSAwLjEsIGZvciBleGFtcGxlLCB3b3VsZCBtZWFuIHRoYXQgdGhpbmdzIHdvdWxkIGJlIGRpc3RyaWJ1dGVkIHdpdGggMC4xIGJldHdlZW4gZWFjaCBlbGVtZW50IGluIHRoZSBhcnJheSByYXRoZXIgdGhhbiBhIHRvdGFsIFwiYW1vdW50XCIgdGhhdCdzIGNodW5rZWQgb3V0IGFtb25nIHRoZW0gYWxsLlxuICBlYXNlID0gX3BhcnNlRWFzZSh2YXJzLmVhc2UpLFxuICAgICAgZnJvbSA9IHZhcnMuZnJvbSB8fCAwLFxuICAgICAgYmFzZSA9IHBhcnNlRmxvYXQodmFycy5iYXNlKSB8fCAwLFxuICAgICAgY2FjaGUgPSB7fSxcbiAgICAgIGlzRGVjaW1hbCA9IGZyb20gPiAwICYmIGZyb20gPCAxLFxuICAgICAgcmF0aW9zID0gaXNOYU4oZnJvbSkgfHwgaXNEZWNpbWFsLFxuICAgICAgYXhpcyA9IHZhcnMuYXhpcyxcbiAgICAgIHJhdGlvWCA9IGZyb20sXG4gICAgICByYXRpb1kgPSBmcm9tO1xuXG4gIGlmIChfaXNTdHJpbmcoZnJvbSkpIHtcbiAgICByYXRpb1ggPSByYXRpb1kgPSB7XG4gICAgICBjZW50ZXI6IC41LFxuICAgICAgZWRnZXM6IC41LFxuICAgICAgZW5kOiAxXG4gICAgfVtmcm9tXSB8fCAwO1xuICB9IGVsc2UgaWYgKCFpc0RlY2ltYWwgJiYgcmF0aW9zKSB7XG4gICAgcmF0aW9YID0gZnJvbVswXTtcbiAgICByYXRpb1kgPSBmcm9tWzFdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChpLCB0YXJnZXQsIGEpIHtcbiAgICB2YXIgbCA9IChhIHx8IHZhcnMpLmxlbmd0aCxcbiAgICAgICAgZGlzdGFuY2VzID0gY2FjaGVbbF0sXG4gICAgICAgIG9yaWdpblgsXG4gICAgICAgIG9yaWdpblksXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIGQsXG4gICAgICAgIGosXG4gICAgICAgIG1heCxcbiAgICAgICAgbWluLFxuICAgICAgICB3cmFwQXQ7XG5cbiAgICBpZiAoIWRpc3RhbmNlcykge1xuICAgICAgd3JhcEF0ID0gdmFycy5ncmlkID09PSBcImF1dG9cIiA/IDAgOiAodmFycy5ncmlkIHx8IFsxLCBfYmlnTnVtXSlbMV07XG5cbiAgICAgIGlmICghd3JhcEF0KSB7XG4gICAgICAgIG1heCA9IC1fYmlnTnVtO1xuXG4gICAgICAgIHdoaWxlIChtYXggPCAobWF4ID0gYVt3cmFwQXQrK10uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCkgJiYgd3JhcEF0IDwgbCkge31cblxuICAgICAgICB3cmFwQXQtLTtcbiAgICAgIH1cblxuICAgICAgZGlzdGFuY2VzID0gY2FjaGVbbF0gPSBbXTtcbiAgICAgIG9yaWdpblggPSByYXRpb3MgPyBNYXRoLm1pbih3cmFwQXQsIGwpICogcmF0aW9YIC0gLjUgOiBmcm9tICUgd3JhcEF0O1xuICAgICAgb3JpZ2luWSA9IHJhdGlvcyA/IGwgKiByYXRpb1kgLyB3cmFwQXQgLSAuNSA6IGZyb20gLyB3cmFwQXQgfCAwO1xuICAgICAgbWF4ID0gMDtcbiAgICAgIG1pbiA9IF9iaWdOdW07XG5cbiAgICAgIGZvciAoaiA9IDA7IGogPCBsOyBqKyspIHtcbiAgICAgICAgeCA9IGogJSB3cmFwQXQgLSBvcmlnaW5YO1xuICAgICAgICB5ID0gb3JpZ2luWSAtIChqIC8gd3JhcEF0IHwgMCk7XG4gICAgICAgIGRpc3RhbmNlc1tqXSA9IGQgPSAhYXhpcyA/IF9zcXJ0KHggKiB4ICsgeSAqIHkpIDogTWF0aC5hYnMoYXhpcyA9PT0gXCJ5XCIgPyB5IDogeCk7XG4gICAgICAgIGQgPiBtYXggJiYgKG1heCA9IGQpO1xuICAgICAgICBkIDwgbWluICYmIChtaW4gPSBkKTtcbiAgICAgIH1cblxuICAgICAgZnJvbSA9PT0gXCJyYW5kb21cIiAmJiBzaHVmZmxlKGRpc3RhbmNlcyk7XG4gICAgICBkaXN0YW5jZXMubWF4ID0gbWF4IC0gbWluO1xuICAgICAgZGlzdGFuY2VzLm1pbiA9IG1pbjtcbiAgICAgIGRpc3RhbmNlcy52ID0gbCA9IChwYXJzZUZsb2F0KHZhcnMuYW1vdW50KSB8fCBwYXJzZUZsb2F0KHZhcnMuZWFjaCkgKiAod3JhcEF0ID4gbCA/IGwgLSAxIDogIWF4aXMgPyBNYXRoLm1heCh3cmFwQXQsIGwgLyB3cmFwQXQpIDogYXhpcyA9PT0gXCJ5XCIgPyBsIC8gd3JhcEF0IDogd3JhcEF0KSB8fCAwKSAqIChmcm9tID09PSBcImVkZ2VzXCIgPyAtMSA6IDEpO1xuICAgICAgZGlzdGFuY2VzLmIgPSBsIDwgMCA/IGJhc2UgLSBsIDogYmFzZTtcbiAgICAgIGRpc3RhbmNlcy51ID0gZ2V0VW5pdCh2YXJzLmFtb3VudCB8fCB2YXJzLmVhY2gpIHx8IDA7IC8vdW5pdFxuXG4gICAgICBlYXNlID0gZWFzZSAmJiBsIDwgMCA/IF9pbnZlcnRFYXNlKGVhc2UpIDogZWFzZTtcbiAgICB9XG5cbiAgICBsID0gKGRpc3RhbmNlc1tpXSAtIGRpc3RhbmNlcy5taW4pIC8gZGlzdGFuY2VzLm1heCB8fCAwO1xuICAgIHJldHVybiBfcm91bmQoZGlzdGFuY2VzLmIgKyAoZWFzZSA/IGVhc2UobCkgOiBsKSAqIGRpc3RhbmNlcy52KSArIGRpc3RhbmNlcy51OyAvL3JvdW5kIGluIG9yZGVyIHRvIHdvcmsgYXJvdW5kIGZsb2F0aW5nIHBvaW50IGVycm9yc1xuICB9O1xufSxcbiAgICBfcm91bmRNb2RpZmllciA9IGZ1bmN0aW9uIF9yb3VuZE1vZGlmaWVyKHYpIHtcbiAgLy9wYXNzIGluIDAuMSBnZXQgYSBmdW5jdGlvbiB0aGF0J2xsIHJvdW5kIHRvIHRoZSBuZWFyZXN0IHRlbnRoLCBvciA1IHRvIHJvdW5kIHRvIHRoZSBjbG9zZXN0IDUsIG9yIDAuMDAxIHRvIHRoZSBjbG9zZXN0IDEwMDB0aCwgZXRjLlxuICB2YXIgcCA9IHYgPCAxID8gTWF0aC5wb3coMTAsICh2ICsgXCJcIikubGVuZ3RoIC0gMikgOiAxOyAvL3RvIGF2b2lkIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChsaWtlIDI0ICogMC4xID09IDIuNDAwMDAwMDAwMDAwMDAwNCksIHdlIGNob3Agb2ZmIGF0IGEgc3BlY2lmaWMgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIChtdWNoIGZhc3RlciB0aGFuIHRvRml4ZWQoKVxuXG4gIHJldHVybiBmdW5jdGlvbiAocmF3KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZChwYXJzZUZsb2F0KHJhdykgLyB2KSAqIHYgKiBwKSAvIHAgKyAoX2lzTnVtYmVyKHJhdykgPyAwIDogZ2V0VW5pdChyYXcpKTtcbiAgfTtcbn0sXG4gICAgc25hcCA9IGZ1bmN0aW9uIHNuYXAoc25hcFRvLCB2YWx1ZSkge1xuICB2YXIgaXNBcnJheSA9IF9pc0FycmF5KHNuYXBUbyksXG4gICAgICByYWRpdXMsXG4gICAgICBpczJEO1xuXG4gIGlmICghaXNBcnJheSAmJiBfaXNPYmplY3Qoc25hcFRvKSkge1xuICAgIHJhZGl1cyA9IGlzQXJyYXkgPSBzbmFwVG8ucmFkaXVzIHx8IF9iaWdOdW07XG5cbiAgICBpZiAoc25hcFRvLnZhbHVlcykge1xuICAgICAgc25hcFRvID0gdG9BcnJheShzbmFwVG8udmFsdWVzKTtcblxuICAgICAgaWYgKGlzMkQgPSAhX2lzTnVtYmVyKHNuYXBUb1swXSkpIHtcbiAgICAgICAgcmFkaXVzICo9IHJhZGl1czsgLy9wZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gc28gd2UgZG9uJ3QgaGF2ZSB0byBNYXRoLnNxcnQoKSBpbiB0aGUgbG9vcC5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hcFRvID0gX3JvdW5kTW9kaWZpZXIoc25hcFRvLmluY3JlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9jb25kaXRpb25hbFJldHVybih2YWx1ZSwgIWlzQXJyYXkgPyBfcm91bmRNb2RpZmllcihzbmFwVG8pIDogX2lzRnVuY3Rpb24oc25hcFRvKSA/IGZ1bmN0aW9uIChyYXcpIHtcbiAgICBpczJEID0gc25hcFRvKHJhdyk7XG4gICAgcmV0dXJuIE1hdGguYWJzKGlzMkQgLSByYXcpIDw9IHJhZGl1cyA/IGlzMkQgOiByYXc7XG4gIH0gOiBmdW5jdGlvbiAocmF3KSB7XG4gICAgdmFyIHggPSBwYXJzZUZsb2F0KGlzMkQgPyByYXcueCA6IHJhdyksXG4gICAgICAgIHkgPSBwYXJzZUZsb2F0KGlzMkQgPyByYXcueSA6IDApLFxuICAgICAgICBtaW4gPSBfYmlnTnVtLFxuICAgICAgICBjbG9zZXN0ID0gMCxcbiAgICAgICAgaSA9IHNuYXBUby5sZW5ndGgsXG4gICAgICAgIGR4LFxuICAgICAgICBkeTtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGlmIChpczJEKSB7XG4gICAgICAgIGR4ID0gc25hcFRvW2ldLnggLSB4O1xuICAgICAgICBkeSA9IHNuYXBUb1tpXS55IC0geTtcbiAgICAgICAgZHggPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGR4ID0gTWF0aC5hYnMoc25hcFRvW2ldIC0geCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkeCA8IG1pbikge1xuICAgICAgICBtaW4gPSBkeDtcbiAgICAgICAgY2xvc2VzdCA9IGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2xvc2VzdCA9ICFyYWRpdXMgfHwgbWluIDw9IHJhZGl1cyA/IHNuYXBUb1tjbG9zZXN0XSA6IHJhdztcbiAgICByZXR1cm4gaXMyRCB8fCBjbG9zZXN0ID09PSByYXcgfHwgX2lzTnVtYmVyKHJhdykgPyBjbG9zZXN0IDogY2xvc2VzdCArIGdldFVuaXQocmF3KTtcbiAgfSk7XG59LFxuICAgIHJhbmRvbSA9IGZ1bmN0aW9uIHJhbmRvbShtaW4sIG1heCwgcm91bmRpbmdJbmNyZW1lbnQsIHJldHVybkZ1bmN0aW9uKSB7XG4gIHJldHVybiBfY29uZGl0aW9uYWxSZXR1cm4oX2lzQXJyYXkobWluKSA/ICFtYXggOiByb3VuZGluZ0luY3JlbWVudCA9PT0gdHJ1ZSA/ICEhKHJvdW5kaW5nSW5jcmVtZW50ID0gMCkgOiAhcmV0dXJuRnVuY3Rpb24sIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2lzQXJyYXkobWluKSA/IG1pblt+fihNYXRoLnJhbmRvbSgpICogbWluLmxlbmd0aCldIDogKHJvdW5kaW5nSW5jcmVtZW50ID0gcm91bmRpbmdJbmNyZW1lbnQgfHwgMWUtNSkgJiYgKHJldHVybkZ1bmN0aW9uID0gcm91bmRpbmdJbmNyZW1lbnQgPCAxID8gTWF0aC5wb3coMTAsIChyb3VuZGluZ0luY3JlbWVudCArIFwiXCIpLmxlbmd0aCAtIDIpIDogMSkgJiYgTWF0aC5mbG9vcihNYXRoLnJvdW5kKChtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpIC8gcm91bmRpbmdJbmNyZW1lbnQpICogcm91bmRpbmdJbmNyZW1lbnQgKiByZXR1cm5GdW5jdGlvbikgLyByZXR1cm5GdW5jdGlvbjtcbiAgfSk7XG59LFxuICAgIHBpcGUgPSBmdW5jdGlvbiBwaXBlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3Rpb25zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZ1bmN0aW9uc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25zLnJlZHVjZShmdW5jdGlvbiAodiwgZikge1xuICAgICAgcmV0dXJuIGYodik7XG4gICAgfSwgdmFsdWUpO1xuICB9O1xufSxcbiAgICB1bml0aXplID0gZnVuY3Rpb24gdW5pdGl6ZShmdW5jLCB1bml0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyhwYXJzZUZsb2F0KHZhbHVlKSkgKyAodW5pdCB8fCBnZXRVbml0KHZhbHVlKSk7XG4gIH07XG59LFxuICAgIG5vcm1hbGl6ZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZShtaW4sIG1heCwgdmFsdWUpIHtcbiAgcmV0dXJuIG1hcFJhbmdlKG1pbiwgbWF4LCAwLCAxLCB2YWx1ZSk7XG59LFxuICAgIF93cmFwQXJyYXkgPSBmdW5jdGlvbiBfd3JhcEFycmF5KGEsIHdyYXBwZXIsIHZhbHVlKSB7XG4gIHJldHVybiBfY29uZGl0aW9uYWxSZXR1cm4odmFsdWUsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiBhW35+d3JhcHBlcihpbmRleCldO1xuICB9KTtcbn0sXG4gICAgd3JhcCA9IGZ1bmN0aW9uIHdyYXAobWluLCBtYXgsIHZhbHVlKSB7XG4gIC8vIE5PVEU6IHdyYXAoKSBDQU5OT1QgYmUgYW4gYXJyb3cgZnVuY3Rpb24hIEEgdmVyeSBvZGQgY29tcGlsaW5nIGJ1ZyBjYXVzZXMgcHJvYmxlbXMgKHVucmVsYXRlZCB0byBHU0FQKS5cbiAgdmFyIHJhbmdlID0gbWF4IC0gbWluO1xuICByZXR1cm4gX2lzQXJyYXkobWluKSA/IF93cmFwQXJyYXkobWluLCB3cmFwKDAsIG1pbi5sZW5ndGgpLCBtYXgpIDogX2NvbmRpdGlvbmFsUmV0dXJuKHZhbHVlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gKHJhbmdlICsgKHZhbHVlIC0gbWluKSAlIHJhbmdlKSAlIHJhbmdlICsgbWluO1xuICB9KTtcbn0sXG4gICAgd3JhcFlveW8gPSBmdW5jdGlvbiB3cmFwWW95byhtaW4sIG1heCwgdmFsdWUpIHtcbiAgdmFyIHJhbmdlID0gbWF4IC0gbWluLFxuICAgICAgdG90YWwgPSByYW5nZSAqIDI7XG4gIHJldHVybiBfaXNBcnJheShtaW4pID8gX3dyYXBBcnJheShtaW4sIHdyYXBZb3lvKDAsIG1pbi5sZW5ndGggLSAxKSwgbWF4KSA6IF9jb25kaXRpb25hbFJldHVybih2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFsdWUgPSAodG90YWwgKyAodmFsdWUgLSBtaW4pICUgdG90YWwpICUgdG90YWwgfHwgMDtcbiAgICByZXR1cm4gbWluICsgKHZhbHVlID4gcmFuZ2UgPyB0b3RhbCAtIHZhbHVlIDogdmFsdWUpO1xuICB9KTtcbn0sXG4gICAgX3JlcGxhY2VSYW5kb20gPSBmdW5jdGlvbiBfcmVwbGFjZVJhbmRvbSh2YWx1ZSkge1xuICAvL3JlcGxhY2VzIGFsbCBvY2N1cnJlbmNlcyBvZiByYW5kb20oLi4uKSBpbiBhIHN0cmluZyB3aXRoIHRoZSBjYWxjdWxhdGVkIHJhbmRvbSB2YWx1ZS4gY2FuIGJlIGEgcmFuZ2UgbGlrZSByYW5kb20oLTEwMCwgMTAwLCA1KSBvciBhbiBhcnJheSBsaWtlIHJhbmRvbShbMCwgMTAwLCA1MDBdKVxuICB2YXIgcHJldiA9IDAsXG4gICAgICBzID0gXCJcIixcbiAgICAgIGksXG4gICAgICBudW1zLFxuICAgICAgZW5kLFxuICAgICAgaXNBcnJheTtcblxuICB3aGlsZSAofihpID0gdmFsdWUuaW5kZXhPZihcInJhbmRvbShcIiwgcHJldikpKSB7XG4gICAgZW5kID0gdmFsdWUuaW5kZXhPZihcIilcIiwgaSk7XG4gICAgaXNBcnJheSA9IHZhbHVlLmNoYXJBdChpICsgNykgPT09IFwiW1wiO1xuICAgIG51bXMgPSB2YWx1ZS5zdWJzdHIoaSArIDcsIGVuZCAtIGkgLSA3KS5tYXRjaChpc0FycmF5ID8gX2RlbGltaXRlZFZhbHVlRXhwIDogX3N0cmljdE51bUV4cCk7XG4gICAgcyArPSB2YWx1ZS5zdWJzdHIocHJldiwgaSAtIHByZXYpICsgcmFuZG9tKGlzQXJyYXkgPyBudW1zIDogK251bXNbMF0sIGlzQXJyYXkgPyAwIDogK251bXNbMV0sICtudW1zWzJdIHx8IDFlLTUpO1xuICAgIHByZXYgPSBlbmQgKyAxO1xuICB9XG5cbiAgcmV0dXJuIHMgKyB2YWx1ZS5zdWJzdHIocHJldiwgdmFsdWUubGVuZ3RoIC0gcHJldik7XG59LFxuICAgIG1hcFJhbmdlID0gZnVuY3Rpb24gbWFwUmFuZ2UoaW5NaW4sIGluTWF4LCBvdXRNaW4sIG91dE1heCwgdmFsdWUpIHtcbiAgdmFyIGluUmFuZ2UgPSBpbk1heCAtIGluTWluLFxuICAgICAgb3V0UmFuZ2UgPSBvdXRNYXggLSBvdXRNaW47XG4gIHJldHVybiBfY29uZGl0aW9uYWxSZXR1cm4odmFsdWUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBvdXRNaW4gKyAoKHZhbHVlIC0gaW5NaW4pIC8gaW5SYW5nZSAqIG91dFJhbmdlIHx8IDApO1xuICB9KTtcbn0sXG4gICAgaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiBpbnRlcnBvbGF0ZShzdGFydCwgZW5kLCBwcm9ncmVzcywgbXV0YXRlKSB7XG4gIHZhciBmdW5jID0gaXNOYU4oc3RhcnQgKyBlbmQpID8gMCA6IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuICgxIC0gcCkgKiBzdGFydCArIHAgKiBlbmQ7XG4gIH07XG5cbiAgaWYgKCFmdW5jKSB7XG4gICAgdmFyIGlzU3RyaW5nID0gX2lzU3RyaW5nKHN0YXJ0KSxcbiAgICAgICAgbWFzdGVyID0ge30sXG4gICAgICAgIHAsXG4gICAgICAgIGksXG4gICAgICAgIGludGVycG9sYXRvcnMsXG4gICAgICAgIGwsXG4gICAgICAgIGlsO1xuXG4gICAgcHJvZ3Jlc3MgPT09IHRydWUgJiYgKG11dGF0ZSA9IDEpICYmIChwcm9ncmVzcyA9IG51bGwpO1xuXG4gICAgaWYgKGlzU3RyaW5nKSB7XG4gICAgICBzdGFydCA9IHtcbiAgICAgICAgcDogc3RhcnRcbiAgICAgIH07XG4gICAgICBlbmQgPSB7XG4gICAgICAgIHA6IGVuZFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKF9pc0FycmF5KHN0YXJ0KSAmJiAhX2lzQXJyYXkoZW5kKSkge1xuICAgICAgaW50ZXJwb2xhdG9ycyA9IFtdO1xuICAgICAgbCA9IHN0YXJ0Lmxlbmd0aDtcbiAgICAgIGlsID0gbCAtIDI7XG5cbiAgICAgIGZvciAoaSA9IDE7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaW50ZXJwb2xhdG9ycy5wdXNoKGludGVycG9sYXRlKHN0YXJ0W2kgLSAxXSwgc3RhcnRbaV0pKTsgLy9idWlsZCB0aGUgaW50ZXJwb2xhdG9ycyB1cCBmcm9udCBhcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiBzbyB0aGF0IHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBtYW55IHRpbWVzLCBpdCBjYW4ganVzdCByZXVzZSB0aGVtLlxuICAgICAgfVxuXG4gICAgICBsLS07XG5cbiAgICAgIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKHApIHtcbiAgICAgICAgcCAqPSBsO1xuICAgICAgICB2YXIgaSA9IE1hdGgubWluKGlsLCB+fnApO1xuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdG9yc1tpXShwIC0gaSk7XG4gICAgICB9O1xuXG4gICAgICBwcm9ncmVzcyA9IGVuZDtcbiAgICB9IGVsc2UgaWYgKCFtdXRhdGUpIHtcbiAgICAgIHN0YXJ0ID0gX21lcmdlKF9pc0FycmF5KHN0YXJ0KSA/IFtdIDoge30sIHN0YXJ0KTtcbiAgICB9XG5cbiAgICBpZiAoIWludGVycG9sYXRvcnMpIHtcbiAgICAgIGZvciAocCBpbiBlbmQpIHtcbiAgICAgICAgX2FkZFByb3BUd2Vlbi5jYWxsKG1hc3Rlciwgc3RhcnQsIHAsIFwiZ2V0XCIsIGVuZFtwXSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKHApIHtcbiAgICAgICAgcmV0dXJuIF9yZW5kZXJQcm9wVHdlZW5zKHAsIG1hc3RlcikgfHwgKGlzU3RyaW5nID8gc3RhcnQucCA6IHN0YXJ0KTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9jb25kaXRpb25hbFJldHVybihwcm9ncmVzcywgZnVuYyk7XG59LFxuICAgIF9nZXRMYWJlbEluRGlyZWN0aW9uID0gZnVuY3Rpb24gX2dldExhYmVsSW5EaXJlY3Rpb24odGltZWxpbmUsIGZyb21UaW1lLCBiYWNrd2FyZCkge1xuICAvL3VzZWQgZm9yIG5leHRMYWJlbCgpIGFuZCBwcmV2aW91c0xhYmVsKClcbiAgdmFyIGxhYmVscyA9IHRpbWVsaW5lLmxhYmVscyxcbiAgICAgIG1pbiA9IF9iaWdOdW0sXG4gICAgICBwLFxuICAgICAgZGlzdGFuY2UsXG4gICAgICBsYWJlbDtcblxuICBmb3IgKHAgaW4gbGFiZWxzKSB7XG4gICAgZGlzdGFuY2UgPSBsYWJlbHNbcF0gLSBmcm9tVGltZTtcblxuICAgIGlmIChkaXN0YW5jZSA8IDAgPT09ICEhYmFja3dhcmQgJiYgZGlzdGFuY2UgJiYgbWluID4gKGRpc3RhbmNlID0gTWF0aC5hYnMoZGlzdGFuY2UpKSkge1xuICAgICAgbGFiZWwgPSBwO1xuICAgICAgbWluID0gZGlzdGFuY2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxhYmVsO1xufSxcbiAgICBfY2FsbGJhY2sgPSBmdW5jdGlvbiBfY2FsbGJhY2soYW5pbWF0aW9uLCB0eXBlLCBleGVjdXRlTGF6eUZpcnN0KSB7XG4gIHZhciB2ID0gYW5pbWF0aW9uLnZhcnMsXG4gICAgICBjYWxsYmFjayA9IHZbdHlwZV0sXG4gICAgICBwYXJhbXMsXG4gICAgICBzY29wZTtcblxuICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcGFyYW1zID0gdlt0eXBlICsgXCJQYXJhbXNcIl07XG4gIHNjb3BlID0gdi5jYWxsYmFja1Njb3BlIHx8IGFuaW1hdGlvbjtcbiAgZXhlY3V0ZUxhenlGaXJzdCAmJiBfbGF6eVR3ZWVucy5sZW5ndGggJiYgX2xhenlSZW5kZXIoKTsgLy9pbiBjYXNlIHJlbmRlcmluZyBjYXVzZWQgYW55IHR3ZWVucyB0byBsYXp5LWluaXQsIHdlIHNob3VsZCByZW5kZXIgdGhlbSBiZWNhdXNlIHR5cGljYWxseSB3aGVuIGEgdGltZWxpbmUgZmluaXNoZXMsIHVzZXJzIGV4cGVjdCB0aGluZ3MgdG8gaGF2ZSByZW5kZXJlZCBmdWxseS4gSW1hZ2luZSBhbiBvblVwZGF0ZSBvbiBhIHRpbWVsaW5lIHRoYXQgcmVwb3J0cy9jaGVja3MgdHdlZW5lZCB2YWx1ZXMuXG5cbiAgcmV0dXJuIHBhcmFtcyA/IGNhbGxiYWNrLmFwcGx5KHNjb3BlLCBwYXJhbXMpIDogY2FsbGJhY2suY2FsbChzY29wZSk7XG59LFxuICAgIF9pbnRlcnJ1cHQgPSBmdW5jdGlvbiBfaW50ZXJydXB0KGFuaW1hdGlvbikge1xuICBfcmVtb3ZlRnJvbVBhcmVudChhbmltYXRpb24pO1xuXG4gIGFuaW1hdGlvbi5wcm9ncmVzcygpIDwgMSAmJiBfY2FsbGJhY2soYW5pbWF0aW9uLCBcIm9uSW50ZXJydXB0XCIpO1xuICByZXR1cm4gYW5pbWF0aW9uO1xufSxcbiAgICBfcXVpY2tUd2VlbixcbiAgICBfY3JlYXRlUGx1Z2luID0gZnVuY3Rpb24gX2NyZWF0ZVBsdWdpbihjb25maWcpIHtcbiAgY29uZmlnID0gIWNvbmZpZy5uYW1lICYmIGNvbmZpZ1tcImRlZmF1bHRcIl0gfHwgY29uZmlnOyAvL1VNRCBwYWNrYWdpbmcgd3JhcHMgdGhpbmdzIG9kZGx5LCBzbyBmb3IgZXhhbXBsZSBNb3Rpb25QYXRoSGVscGVyIGJlY29tZXMge01vdGlvblBhdGhIZWxwZXI6TW90aW9uUGF0aEhlbHBlciwgZGVmYXVsdDpNb3Rpb25QYXRoSGVscGVyfS5cblxuICB2YXIgbmFtZSA9IGNvbmZpZy5uYW1lLFxuICAgICAgaXNGdW5jID0gX2lzRnVuY3Rpb24oY29uZmlnKSxcbiAgICAgIFBsdWdpbiA9IG5hbWUgJiYgIWlzRnVuYyAmJiBjb25maWcuaW5pdCA/IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9wcm9wcyA9IFtdO1xuICB9IDogY29uZmlnLFxuICAgICAgLy9pbiBjYXNlIHNvbWVvbmUgcGFzc2VzIGluIGFuIG9iamVjdCB0aGF0J3Mgbm90IGEgcGx1Z2luLCBsaWtlIEN1c3RvbUVhc2VcbiAgaW5zdGFuY2VEZWZhdWx0cyA9IHtcbiAgICBpbml0OiBfZW1wdHlGdW5jLFxuICAgIHJlbmRlcjogX3JlbmRlclByb3BUd2VlbnMsXG4gICAgYWRkOiBfYWRkUHJvcFR3ZWVuLFxuICAgIGtpbGw6IF9raWxsUHJvcFR3ZWVuc09mLFxuICAgIG1vZGlmaWVyOiBfYWRkUGx1Z2luTW9kaWZpZXIsXG4gICAgcmF3VmFyczogMFxuICB9LFxuICAgICAgc3RhdGljcyA9IHtcbiAgICB0YXJnZXRUZXN0OiAwLFxuICAgIGdldDogMCxcbiAgICBnZXRTZXR0ZXI6IF9nZXRTZXR0ZXIsXG4gICAgYWxpYXNlczoge30sXG4gICAgcmVnaXN0ZXI6IDBcbiAgfTtcblxuICBfd2FrZSgpO1xuXG4gIGlmIChjb25maWcgIT09IFBsdWdpbikge1xuICAgIGlmIChfcGx1Z2luc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF9zZXREZWZhdWx0cyhQbHVnaW4sIF9zZXREZWZhdWx0cyhfY29weUV4Y2x1ZGluZyhjb25maWcsIGluc3RhbmNlRGVmYXVsdHMpLCBzdGF0aWNzKSk7IC8vc3RhdGljIG1ldGhvZHNcblxuXG4gICAgX21lcmdlKFBsdWdpbi5wcm90b3R5cGUsIF9tZXJnZShpbnN0YW5jZURlZmF1bHRzLCBfY29weUV4Y2x1ZGluZyhjb25maWcsIHN0YXRpY3MpKSk7IC8vaW5zdGFuY2UgbWV0aG9kc1xuXG5cbiAgICBfcGx1Z2luc1tQbHVnaW4ucHJvcCA9IG5hbWVdID0gUGx1Z2luO1xuXG4gICAgaWYgKGNvbmZpZy50YXJnZXRUZXN0KSB7XG4gICAgICBfaGFybmVzc1BsdWdpbnMucHVzaChQbHVnaW4pO1xuXG4gICAgICBfcmVzZXJ2ZWRQcm9wc1tuYW1lXSA9IDE7XG4gICAgfVxuXG4gICAgbmFtZSA9IChuYW1lID09PSBcImNzc1wiID8gXCJDU1NcIiA6IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cigxKSkgKyBcIlBsdWdpblwiOyAvL2ZvciB0aGUgZ2xvYmFsIG5hbWUuIFwibW90aW9uUGF0aFwiIHNob3VsZCBiZWNvbWUgTW90aW9uUGF0aFBsdWdpblxuICB9XG5cbiAgX2FkZEdsb2JhbChuYW1lLCBQbHVnaW4pO1xuXG4gIGNvbmZpZy5yZWdpc3RlciAmJiBjb25maWcucmVnaXN0ZXIoZ3NhcCwgUGx1Z2luLCBQcm9wVHdlZW4pO1xufSxcblxuLypcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDT0xPUlNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbl8yNTUgPSAyNTUsXG4gICAgX2NvbG9yTG9va3VwID0ge1xuICBhcXVhOiBbMCwgXzI1NSwgXzI1NV0sXG4gIGxpbWU6IFswLCBfMjU1LCAwXSxcbiAgc2lsdmVyOiBbMTkyLCAxOTIsIDE5Ml0sXG4gIGJsYWNrOiBbMCwgMCwgMF0sXG4gIG1hcm9vbjogWzEyOCwgMCwgMF0sXG4gIHRlYWw6IFswLCAxMjgsIDEyOF0sXG4gIGJsdWU6IFswLCAwLCBfMjU1XSxcbiAgbmF2eTogWzAsIDAsIDEyOF0sXG4gIHdoaXRlOiBbXzI1NSwgXzI1NSwgXzI1NV0sXG4gIG9saXZlOiBbMTI4LCAxMjgsIDBdLFxuICB5ZWxsb3c6IFtfMjU1LCBfMjU1LCAwXSxcbiAgb3JhbmdlOiBbXzI1NSwgMTY1LCAwXSxcbiAgZ3JheTogWzEyOCwgMTI4LCAxMjhdLFxuICBwdXJwbGU6IFsxMjgsIDAsIDEyOF0sXG4gIGdyZWVuOiBbMCwgMTI4LCAwXSxcbiAgcmVkOiBbXzI1NSwgMCwgMF0sXG4gIHBpbms6IFtfMjU1LCAxOTIsIDIwM10sXG4gIGN5YW46IFswLCBfMjU1LCBfMjU1XSxcbiAgdHJhbnNwYXJlbnQ6IFtfMjU1LCBfMjU1LCBfMjU1LCAwXVxufSxcbiAgICBfaHVlID0gZnVuY3Rpb24gX2h1ZShoLCBtMSwgbTIpIHtcbiAgaCA9IGggPCAwID8gaCArIDEgOiBoID4gMSA/IGggLSAxIDogaDtcbiAgcmV0dXJuIChoICogNiA8IDEgPyBtMSArIChtMiAtIG0xKSAqIGggKiA2IDogaCA8IC41ID8gbTIgOiBoICogMyA8IDIgPyBtMSArIChtMiAtIG0xKSAqICgyIC8gMyAtIGgpICogNiA6IG0xKSAqIF8yNTUgKyAuNSB8IDA7XG59LFxuICAgIHNwbGl0Q29sb3IgPSBmdW5jdGlvbiBzcGxpdENvbG9yKHYsIHRvSFNMLCBmb3JjZUFscGhhKSB7XG4gIHZhciBhID0gIXYgPyBfY29sb3JMb29rdXAuYmxhY2sgOiBfaXNOdW1iZXIodikgPyBbdiA+PiAxNiwgdiA+PiA4ICYgXzI1NSwgdiAmIF8yNTVdIDogMCxcbiAgICAgIHIsXG4gICAgICBnLFxuICAgICAgYixcbiAgICAgIGgsXG4gICAgICBzLFxuICAgICAgbCxcbiAgICAgIG1heCxcbiAgICAgIG1pbixcbiAgICAgIGQsXG4gICAgICB3YXNIU0w7XG5cbiAgaWYgKCFhKSB7XG4gICAgaWYgKHYuc3Vic3RyKC0xKSA9PT0gXCIsXCIpIHtcbiAgICAgIC8vc29tZXRpbWVzIGEgdHJhaWxpbmcgY29tbWEgaXMgaW5jbHVkZWQgYW5kIHdlIHNob3VsZCBjaG9wIGl0IG9mZiAodHlwaWNhbGx5IGZyb20gYSBjb21tYS1kZWxpbWl0ZWQgbGlzdCBvZiB2YWx1ZXMgbGlrZSBhIHRleHRTaGFkb3c6XCIycHggMnB4IDJweCBibHVlLCA1cHggNXB4IDVweCByZ2IoMjU1LDAsMClcIiAtIGluIHRoaXMgZXhhbXBsZSBcImJsdWUsXCIgaGFzIGEgdHJhaWxpbmcgY29tbWEuIFdlIGNvdWxkIHN0cmlwIGl0IG91dCBpbnNpZGUgcGFyc2VDb21wbGV4KCkgYnV0IHdlJ2QgbmVlZCB0byBkbyBpdCB0byB0aGUgYmVnaW5uaW5nIGFuZCBlbmRpbmcgdmFsdWVzIHBsdXMgaXQgd291bGRuJ3QgcHJvdmlkZSBwcm90ZWN0aW9uIGZyb20gb3RoZXIgcG90ZW50aWFsIHNjZW5hcmlvcyBsaWtlIGlmIHRoZSB1c2VyIHBhc3NlcyBpbiBhIHNpbWlsYXIgdmFsdWUuXG4gICAgICB2ID0gdi5zdWJzdHIoMCwgdi5sZW5ndGggLSAxKTtcbiAgICB9XG5cbiAgICBpZiAoX2NvbG9yTG9va3VwW3ZdKSB7XG4gICAgICBhID0gX2NvbG9yTG9va3VwW3ZdO1xuICAgIH0gZWxzZSBpZiAodi5jaGFyQXQoMCkgPT09IFwiI1wiKSB7XG4gICAgICBpZiAodi5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgLy9mb3Igc2hvcnRoYW5kIGxpa2UgIzlGMFxuICAgICAgICByID0gdi5jaGFyQXQoMSk7XG4gICAgICAgIGcgPSB2LmNoYXJBdCgyKTtcbiAgICAgICAgYiA9IHYuY2hhckF0KDMpO1xuICAgICAgICB2ID0gXCIjXCIgKyByICsgciArIGcgKyBnICsgYiArIGI7XG4gICAgICB9XG5cbiAgICAgIHYgPSBwYXJzZUludCh2LnN1YnN0cigxKSwgMTYpO1xuICAgICAgYSA9IFt2ID4+IDE2LCB2ID4+IDggJiBfMjU1LCB2ICYgXzI1NV07XG4gICAgfSBlbHNlIGlmICh2LnN1YnN0cigwLCAzKSA9PT0gXCJoc2xcIikge1xuICAgICAgYSA9IHdhc0hTTCA9IHYubWF0Y2goX3N0cmljdE51bUV4cCk7XG5cbiAgICAgIGlmICghdG9IU0wpIHtcbiAgICAgICAgaCA9ICthWzBdICUgMzYwIC8gMzYwO1xuICAgICAgICBzID0gK2FbMV0gLyAxMDA7XG4gICAgICAgIGwgPSArYVsyXSAvIDEwMDtcbiAgICAgICAgZyA9IGwgPD0gLjUgPyBsICogKHMgKyAxKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgICAgIHIgPSBsICogMiAtIGc7XG4gICAgICAgIGEubGVuZ3RoID4gMyAmJiAoYVszXSAqPSAxKTsgLy9jYXN0IGFzIG51bWJlclxuXG4gICAgICAgIGFbMF0gPSBfaHVlKGggKyAxIC8gMywgciwgZyk7XG4gICAgICAgIGFbMV0gPSBfaHVlKGgsIHIsIGcpO1xuICAgICAgICBhWzJdID0gX2h1ZShoIC0gMSAvIDMsIHIsIGcpO1xuICAgICAgfSBlbHNlIGlmICh+di5pbmRleE9mKFwiPVwiKSkge1xuICAgICAgICAvL2lmIHJlbGF0aXZlIHZhbHVlcyBhcmUgZm91bmQsIGp1c3QgcmV0dXJuIHRoZSByYXcgc3RyaW5ncyB3aXRoIHRoZSByZWxhdGl2ZSBwcmVmaXhlcyBpbiBwbGFjZS5cbiAgICAgICAgYSA9IHYubWF0Y2goX251bUV4cCk7XG4gICAgICAgIGZvcmNlQWxwaGEgJiYgYS5sZW5ndGggPCA0ICYmIChhWzNdID0gMSk7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhID0gdi5tYXRjaChfc3RyaWN0TnVtRXhwKSB8fCBfY29sb3JMb29rdXAudHJhbnNwYXJlbnQ7XG4gICAgfVxuXG4gICAgYSA9IGEubWFwKE51bWJlcik7XG4gIH1cblxuICBpZiAodG9IU0wgJiYgIXdhc0hTTCkge1xuICAgIHIgPSBhWzBdIC8gXzI1NTtcbiAgICBnID0gYVsxXSAvIF8yNTU7XG4gICAgYiA9IGFbMl0gLyBfMjU1O1xuICAgIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgIGwgPSAobWF4ICsgbWluKSAvIDI7XG5cbiAgICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICAgIGggPSBzID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgZCA9IG1heCAtIG1pbjtcbiAgICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKTtcbiAgICAgIGggPSBtYXggPT09IHIgPyAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKSA6IG1heCA9PT0gZyA/IChiIC0gcikgLyBkICsgMiA6IChyIC0gZykgLyBkICsgNDtcbiAgICAgIGggKj0gNjA7XG4gICAgfVxuXG4gICAgYVswXSA9IH5+KGggKyAuNSk7XG4gICAgYVsxXSA9IH5+KHMgKiAxMDAgKyAuNSk7XG4gICAgYVsyXSA9IH5+KGwgKiAxMDAgKyAuNSk7XG4gIH1cblxuICBmb3JjZUFscGhhICYmIGEubGVuZ3RoIDwgNCAmJiAoYVszXSA9IDEpO1xuICByZXR1cm4gYTtcbn0sXG4gICAgX2NvbG9yT3JkZXJEYXRhID0gZnVuY3Rpb24gX2NvbG9yT3JkZXJEYXRhKHYpIHtcbiAgLy8gc3RyaXBzIG91dCB0aGUgY29sb3JzIGZyb20gdGhlIHN0cmluZywgZmluZHMgYWxsIHRoZSBudW1lcmljIHNsb3RzICh3aXRoIHVuaXRzKSBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aG9zZS4gVGhlIEFycmF5IGFsc28gaGFzIGEgXCJjXCIgcHJvcGVydHkgd2hpY2ggaXMgYW4gQXJyYXkgb2YgdGhlIGluZGV4IHZhbHVlcyB3aGVyZSB0aGUgY29sb3JzIGJlbG9uZy4gVGhpcyBpcyB0byBoZWxwIHdvcmsgYXJvdW5kIGlzc3VlcyB3aGVyZSB0aGVyZSdzIGEgbWlzLW1hdGNoZWQgb3JkZXIgb2YgY29sb3IvbnVtZXJpYyBkYXRhIGxpa2UgZHJvcC1zaGFkb3coI2YwMCAwcHggMXB4IDJweCkgYW5kIGRyb3Atc2hhZG93KDB4IDFweCAycHggI2YwMCkuIFRoaXMgaXMgYmFzaWNhbGx5IGEgaGVscGVyIGZ1bmN0aW9uIHVzZWQgaW4gX2Zvcm1hdENvbG9ycygpXG4gIHZhciB2YWx1ZXMgPSBbXSxcbiAgICAgIGMgPSBbXSxcbiAgICAgIGkgPSAtMTtcbiAgdi5zcGxpdChfY29sb3JFeHApLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICB2YXIgYSA9IHYubWF0Y2goX251bVdpdGhVbml0RXhwKSB8fCBbXTtcbiAgICB2YWx1ZXMucHVzaC5hcHBseSh2YWx1ZXMsIGEpO1xuICAgIGMucHVzaChpICs9IGEubGVuZ3RoICsgMSk7XG4gIH0pO1xuICB2YWx1ZXMuYyA9IGM7XG4gIHJldHVybiB2YWx1ZXM7XG59LFxuICAgIF9mb3JtYXRDb2xvcnMgPSBmdW5jdGlvbiBfZm9ybWF0Q29sb3JzKHMsIHRvSFNMLCBvcmRlck1hdGNoRGF0YSkge1xuICB2YXIgcmVzdWx0ID0gXCJcIixcbiAgICAgIGNvbG9ycyA9IChzICsgcmVzdWx0KS5tYXRjaChfY29sb3JFeHApLFxuICAgICAgdHlwZSA9IHRvSFNMID8gXCJoc2xhKFwiIDogXCJyZ2JhKFwiLFxuICAgICAgaSA9IDAsXG4gICAgICBjLFxuICAgICAgc2hlbGwsXG4gICAgICBkLFxuICAgICAgbDtcblxuICBpZiAoIWNvbG9ycykge1xuICAgIHJldHVybiBzO1xuICB9XG5cbiAgY29sb3JzID0gY29sb3JzLm1hcChmdW5jdGlvbiAoY29sb3IpIHtcbiAgICByZXR1cm4gKGNvbG9yID0gc3BsaXRDb2xvcihjb2xvciwgdG9IU0wsIDEpKSAmJiB0eXBlICsgKHRvSFNMID8gY29sb3JbMF0gKyBcIixcIiArIGNvbG9yWzFdICsgXCIlLFwiICsgY29sb3JbMl0gKyBcIiUsXCIgKyBjb2xvclszXSA6IGNvbG9yLmpvaW4oXCIsXCIpKSArIFwiKVwiO1xuICB9KTtcblxuICBpZiAob3JkZXJNYXRjaERhdGEpIHtcbiAgICBkID0gX2NvbG9yT3JkZXJEYXRhKHMpO1xuICAgIGMgPSBvcmRlck1hdGNoRGF0YS5jO1xuXG4gICAgaWYgKGMuam9pbihyZXN1bHQpICE9PSBkLmMuam9pbihyZXN1bHQpKSB7XG4gICAgICBzaGVsbCA9IHMucmVwbGFjZShfY29sb3JFeHAsIFwiMVwiKS5zcGxpdChfbnVtV2l0aFVuaXRFeHApO1xuICAgICAgbCA9IHNoZWxsLmxlbmd0aCAtIDE7XG5cbiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCArPSBzaGVsbFtpXSArICh+Yy5pbmRleE9mKGkpID8gY29sb3JzLnNoaWZ0KCkgfHwgdHlwZSArIFwiMCwwLDAsMClcIiA6IChkLmxlbmd0aCA/IGQgOiBjb2xvcnMubGVuZ3RoID8gY29sb3JzIDogb3JkZXJNYXRjaERhdGEpLnNoaWZ0KCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICghc2hlbGwpIHtcbiAgICBzaGVsbCA9IHMuc3BsaXQoX2NvbG9yRXhwKTtcbiAgICBsID0gc2hlbGwubGVuZ3RoIC0gMTtcblxuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICByZXN1bHQgKz0gc2hlbGxbaV0gKyBjb2xvcnNbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdCArIHNoZWxsW2xdO1xufSxcbiAgICBfY29sb3JFeHAgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzID0gXCIoPzpcXFxcYig/Oig/OnJnYnxyZ2JhfGhzbHxoc2xhKVxcXFwoLis/XFxcXCkpfFxcXFxCIyg/OlswLTlhLWZdezN9KXsxLDJ9XFxcXGJcIixcbiAgICAgIC8vd2UnbGwgZHluYW1pY2FsbHkgYnVpbGQgdGhpcyBSZWd1bGFyIEV4cHJlc3Npb24gdG8gY29uc2VydmUgZmlsZSBzaXplLiBBZnRlciBidWlsZGluZyBpdCwgaXQgd2lsbCBiZSBhYmxlIHRvIGZpbmQgcmdiKCksIHJnYmEoKSwgIyAoaGV4YWRlY2ltYWwpLCBhbmQgbmFtZWQgY29sb3IgdmFsdWVzIGxpa2UgcmVkLCBibHVlLCBwdXJwbGUsIGV0Yy4sXG4gIHA7XG5cbiAgZm9yIChwIGluIF9jb2xvckxvb2t1cCkge1xuICAgIHMgKz0gXCJ8XCIgKyBwICsgXCJcXFxcYlwiO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBSZWdFeHAocyArIFwiKVwiLCBcImdpXCIpO1xufSgpLFxuICAgIF9oc2xFeHAgPSAvaHNsW2FdP1xcKC8sXG4gICAgX2NvbG9yU3RyaW5nRmlsdGVyID0gZnVuY3Rpb24gX2NvbG9yU3RyaW5nRmlsdGVyKGEpIHtcbiAgdmFyIGNvbWJpbmVkID0gYS5qb2luKFwiIFwiKSxcbiAgICAgIHRvSFNMO1xuICBfY29sb3JFeHAubGFzdEluZGV4ID0gMDtcblxuICBpZiAoX2NvbG9yRXhwLnRlc3QoY29tYmluZWQpKSB7XG4gICAgdG9IU0wgPSBfaHNsRXhwLnRlc3QoY29tYmluZWQpO1xuICAgIGFbMV0gPSBfZm9ybWF0Q29sb3JzKGFbMV0sIHRvSFNMKTtcbiAgICBhWzBdID0gX2Zvcm1hdENvbG9ycyhhWzBdLCB0b0hTTCwgX2NvbG9yT3JkZXJEYXRhKGFbMV0pKTsgLy8gbWFrZSBzdXJlIHRoZSBvcmRlciBvZiBudW1iZXJzL2NvbG9ycyBtYXRjaCB3aXRoIHRoZSBFTkQgdmFsdWUuXG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSxcblxuLypcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUSUNLRVJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbl90aWNrZXJBY3RpdmUsXG4gICAgX3RpY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9nZXRUaW1lID0gRGF0ZS5ub3csXG4gICAgICBfbGFnVGhyZXNob2xkID0gNTAwLFxuICAgICAgX2FkanVzdGVkTGFnID0gMzMsXG4gICAgICBfc3RhcnRUaW1lID0gX2dldFRpbWUoKSxcbiAgICAgIF9sYXN0VXBkYXRlID0gX3N0YXJ0VGltZSxcbiAgICAgIF9nYXAgPSAxMDAwIC8gMjQwLFxuICAgICAgX25leHRUaW1lID0gX2dhcCxcbiAgICAgIF9saXN0ZW5lcnMgPSBbXSxcbiAgICAgIF9pZCxcbiAgICAgIF9yZXEsXG4gICAgICBfcmFmLFxuICAgICAgX3NlbGYsXG4gICAgICBfZGVsdGEsXG4gICAgICBfaSxcbiAgICAgIF90aWNrID0gZnVuY3Rpb24gX3RpY2sodikge1xuICAgIHZhciBlbGFwc2VkID0gX2dldFRpbWUoKSAtIF9sYXN0VXBkYXRlLFxuICAgICAgICBtYW51YWwgPSB2ID09PSB0cnVlLFxuICAgICAgICBvdmVybGFwLFxuICAgICAgICBkaXNwYXRjaCxcbiAgICAgICAgdGltZSxcbiAgICAgICAgZnJhbWU7XG5cbiAgICBlbGFwc2VkID4gX2xhZ1RocmVzaG9sZCAmJiAoX3N0YXJ0VGltZSArPSBlbGFwc2VkIC0gX2FkanVzdGVkTGFnKTtcbiAgICBfbGFzdFVwZGF0ZSArPSBlbGFwc2VkO1xuICAgIHRpbWUgPSBfbGFzdFVwZGF0ZSAtIF9zdGFydFRpbWU7XG4gICAgb3ZlcmxhcCA9IHRpbWUgLSBfbmV4dFRpbWU7XG5cbiAgICBpZiAob3ZlcmxhcCA+IDAgfHwgbWFudWFsKSB7XG4gICAgICBmcmFtZSA9ICsrX3NlbGYuZnJhbWU7XG4gICAgICBfZGVsdGEgPSB0aW1lIC0gX3NlbGYudGltZSAqIDEwMDA7XG4gICAgICBfc2VsZi50aW1lID0gdGltZSA9IHRpbWUgLyAxMDAwO1xuICAgICAgX25leHRUaW1lICs9IG92ZXJsYXAgKyAob3ZlcmxhcCA+PSBfZ2FwID8gNCA6IF9nYXAgLSBvdmVybGFwKTtcbiAgICAgIGRpc3BhdGNoID0gMTtcbiAgICB9XG5cbiAgICBtYW51YWwgfHwgKF9pZCA9IF9yZXEoX3RpY2spKTsgLy9tYWtlIHN1cmUgdGhlIHJlcXVlc3QgaXMgbWFkZSBiZWZvcmUgd2UgZGlzcGF0Y2ggdGhlIFwidGlja1wiIGV2ZW50IHNvIHRoYXQgdGltaW5nIGlzIG1haW50YWluZWQuIE90aGVyd2lzZSwgaWYgcHJvY2Vzc2luZyB0aGUgXCJ0aWNrXCIgcmVxdWlyZXMgYSBidW5jaCBvZiB0aW1lIChsaWtlIDE1bXMpIGFuZCB3ZSdyZSB1c2luZyBhIHNldFRpbWVvdXQoKSB0aGF0J3MgYmFzZWQgb24gMTYuN21zLCBpdCdkIHRlY2huaWNhbGx5IHRha2UgMzEuN21zIGJldHdlZW4gZnJhbWVzIG90aGVyd2lzZS5cblxuICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgZm9yIChfaSA9IDA7IF9pIDwgX2xpc3RlbmVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgLy8gdXNlIF9pIGFuZCBjaGVjayBfbGlzdGVuZXJzLmxlbmd0aCBpbnN0ZWFkIG9mIGEgdmFyaWFibGUgYmVjYXVzZSBhIGxpc3RlbmVyIGNvdWxkIGdldCByZW1vdmVkIGR1cmluZyB0aGUgbG9vcCwgYW5kIGlmIHRoYXQgaGFwcGVucyB0byBhbiBlbGVtZW50IGxlc3MgdGhhbiB0aGUgY3VycmVudCBpbmRleCwgaXQnZCB0aHJvdyB0aGluZ3Mgb2ZmIGluIHRoZSBsb29wLlxuICAgICAgICBfbGlzdGVuZXJzW19pXSh0aW1lLCBfZGVsdGEsIGZyYW1lLCB2KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3NlbGYgPSB7XG4gICAgdGltZTogMCxcbiAgICBmcmFtZTogMCxcbiAgICB0aWNrOiBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgX3RpY2sodHJ1ZSk7XG4gICAgfSxcbiAgICBkZWx0YVJhdGlvOiBmdW5jdGlvbiBkZWx0YVJhdGlvKGZwcykge1xuICAgICAgcmV0dXJuIF9kZWx0YSAvICgxMDAwIC8gKGZwcyB8fCA2MCkpO1xuICAgIH0sXG4gICAgd2FrZTogZnVuY3Rpb24gd2FrZSgpIHtcbiAgICAgIGlmIChfY29yZVJlYWR5KSB7XG4gICAgICAgIGlmICghX2NvcmVJbml0dGVkICYmIF93aW5kb3dFeGlzdHMoKSkge1xuICAgICAgICAgIF93aW4gPSBfY29yZUluaXR0ZWQgPSB3aW5kb3c7XG4gICAgICAgICAgX2RvYyA9IF93aW4uZG9jdW1lbnQgfHwge307XG4gICAgICAgICAgX2dsb2JhbHMuZ3NhcCA9IGdzYXA7XG4gICAgICAgICAgKF93aW4uZ3NhcFZlcnNpb25zIHx8IChfd2luLmdzYXBWZXJzaW9ucyA9IFtdKSkucHVzaChnc2FwLnZlcnNpb24pO1xuXG4gICAgICAgICAgX2luc3RhbGwoX2luc3RhbGxTY29wZSB8fCBfd2luLkdyZWVuU29ja0dsb2JhbHMgfHwgIV93aW4uZ3NhcCAmJiBfd2luIHx8IHt9KTtcblxuICAgICAgICAgIF9yYWYgPSBfd2luLnJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9pZCAmJiBfc2VsZi5zbGVlcCgpO1xuXG4gICAgICAgIF9yZXEgPSBfcmFmIHx8IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZiwgX25leHRUaW1lIC0gX3NlbGYudGltZSAqIDEwMDAgKyAxIHwgMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RpY2tlckFjdGl2ZSA9IDE7XG5cbiAgICAgICAgX3RpY2soMik7XG4gICAgICB9XG4gICAgfSxcbiAgICBzbGVlcDogZnVuY3Rpb24gc2xlZXAoKSB7XG4gICAgICAoX3JhZiA/IF93aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUgOiBjbGVhclRpbWVvdXQpKF9pZCk7XG4gICAgICBfdGlja2VyQWN0aXZlID0gMDtcbiAgICAgIF9yZXEgPSBfZW1wdHlGdW5jO1xuICAgIH0sXG4gICAgbGFnU21vb3RoaW5nOiBmdW5jdGlvbiBsYWdTbW9vdGhpbmcodGhyZXNob2xkLCBhZGp1c3RlZExhZykge1xuICAgICAgX2xhZ1RocmVzaG9sZCA9IHRocmVzaG9sZCB8fCAxIC8gX3RpbnlOdW07IC8vemVybyBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXMgYmFzaWNhbGx5IHVubGltaXRlZFxuXG4gICAgICBfYWRqdXN0ZWRMYWcgPSBNYXRoLm1pbihhZGp1c3RlZExhZywgX2xhZ1RocmVzaG9sZCwgMCk7XG4gICAgfSxcbiAgICBmcHM6IGZ1bmN0aW9uIGZwcyhfZnBzKSB7XG4gICAgICBfZ2FwID0gMTAwMCAvIChfZnBzIHx8IDI0MCk7XG4gICAgICBfbmV4dFRpbWUgPSBfc2VsZi50aW1lICogMTAwMCArIF9nYXA7XG4gICAgfSxcbiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChjYWxsYmFjaykge1xuICAgICAgX2xpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA8IDAgJiYgX2xpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcblxuICAgICAgX3dha2UoKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIH4oaSA9IF9saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaykpICYmIF9saXN0ZW5lcnMuc3BsaWNlKGksIDEpICYmIF9pID49IGkgJiYgX2ktLTtcbiAgICB9LFxuICAgIF9saXN0ZW5lcnM6IF9saXN0ZW5lcnNcbiAgfTtcbiAgcmV0dXJuIF9zZWxmO1xufSgpLFxuICAgIF93YWtlID0gZnVuY3Rpb24gX3dha2UoKSB7XG4gIHJldHVybiAhX3RpY2tlckFjdGl2ZSAmJiBfdGlja2VyLndha2UoKTtcbn0sXG4gICAgLy9hbHNvIGVuc3VyZXMgdGhlIGNvcmUgY2xhc3NlcyBhcmUgaW5pdGlhbGl6ZWQuXG5cbi8qXG4qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiogRUFTSU5HXG4qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5fZWFzZU1hcCA9IHt9LFxuICAgIF9jdXN0b21FYXNlRXhwID0gL15bXFxkLlxcLU1dW1xcZC5cXC0sXFxzXS8sXG4gICAgX3F1b3Rlc0V4cCA9IC9bXCInXS9nLFxuICAgIF9wYXJzZU9iamVjdEluU3RyaW5nID0gZnVuY3Rpb24gX3BhcnNlT2JqZWN0SW5TdHJpbmcodmFsdWUpIHtcbiAgLy90YWtlcyBhIHN0cmluZyBsaWtlIFwie3dpZ2dsZXM6MTAsIHR5cGU6YW50aWNpcGF0ZX0pXCIgYW5kIHR1cm5zIGl0IGludG8gYSByZWFsIG9iamVjdC4gTm90aWNlIGl0IGVuZHMgaW4gXCIpXCIgYW5kIGluY2x1ZGVzIHRoZSB7fSB3cmFwcGVycy4gVGhpcyBpcyBiZWNhdXNlIHdlIG9ubHkgdXNlIHRoaXMgZnVuY3Rpb24gZm9yIHBhcnNpbmcgZWFzZSBjb25maWdzIGFuZCBwcmlvcml0aXplZCBvcHRpbWl6YXRpb24gcmF0aGVyIHRoYW4gcmV1c2FiaWxpdHkuXG4gIHZhciBvYmogPSB7fSxcbiAgICAgIHNwbGl0ID0gdmFsdWUuc3Vic3RyKDEsIHZhbHVlLmxlbmd0aCAtIDMpLnNwbGl0KFwiOlwiKSxcbiAgICAgIGtleSA9IHNwbGl0WzBdLFxuICAgICAgaSA9IDEsXG4gICAgICBsID0gc3BsaXQubGVuZ3RoLFxuICAgICAgaW5kZXgsXG4gICAgICB2YWwsXG4gICAgICBwYXJzZWRWYWw7XG5cbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICB2YWwgPSBzcGxpdFtpXTtcbiAgICBpbmRleCA9IGkgIT09IGwgLSAxID8gdmFsLmxhc3RJbmRleE9mKFwiLFwiKSA6IHZhbC5sZW5ndGg7XG4gICAgcGFyc2VkVmFsID0gdmFsLnN1YnN0cigwLCBpbmRleCk7XG4gICAgb2JqW2tleV0gPSBpc05hTihwYXJzZWRWYWwpID8gcGFyc2VkVmFsLnJlcGxhY2UoX3F1b3Rlc0V4cCwgXCJcIikudHJpbSgpIDogK3BhcnNlZFZhbDtcbiAgICBrZXkgPSB2YWwuc3Vic3RyKGluZGV4ICsgMSkudHJpbSgpO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn0sXG4gICAgX3ZhbHVlSW5QYXJlbnRoZXNlcyA9IGZ1bmN0aW9uIF92YWx1ZUluUGFyZW50aGVzZXModmFsdWUpIHtcbiAgdmFyIG9wZW4gPSB2YWx1ZS5pbmRleE9mKFwiKFwiKSArIDEsXG4gICAgICBjbG9zZSA9IHZhbHVlLmluZGV4T2YoXCIpXCIpLFxuICAgICAgbmVzdGVkID0gdmFsdWUuaW5kZXhPZihcIihcIiwgb3Blbik7XG4gIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcob3Blbiwgfm5lc3RlZCAmJiBuZXN0ZWQgPCBjbG9zZSA/IHZhbHVlLmluZGV4T2YoXCIpXCIsIGNsb3NlICsgMSkgOiBjbG9zZSk7XG59LFxuICAgIF9jb25maWdFYXNlRnJvbVN0cmluZyA9IGZ1bmN0aW9uIF9jb25maWdFYXNlRnJvbVN0cmluZyhuYW1lKSB7XG4gIC8vbmFtZSBjYW4gYmUgYSBzdHJpbmcgbGlrZSBcImVsYXN0aWMub3V0KDEsMC41KVwiLCBhbmQgcGFzcyBpbiBfZWFzZU1hcCBhcyBvYmogYW5kIGl0J2xsIHBhcnNlIGl0IG91dCBhbmQgY2FsbCB0aGUgYWN0dWFsIGZ1bmN0aW9uIGxpa2UgX2Vhc2VNYXAuRWxhc3RpYy5lYXNlT3V0LmNvbmZpZygxLDAuNSkuIEl0IHdpbGwgYWxzbyBwYXJzZSBjdXN0b20gZWFzZSBzdHJpbmdzIGFzIGxvbmcgYXMgQ3VzdG9tRWFzZSBpcyBsb2FkZWQgYW5kIHJlZ2lzdGVyZWQgKGludGVybmFsbHkgYXMgX2Vhc2VNYXAuX0NFKS5cbiAgdmFyIHNwbGl0ID0gKG5hbWUgKyBcIlwiKS5zcGxpdChcIihcIiksXG4gICAgICBlYXNlID0gX2Vhc2VNYXBbc3BsaXRbMF1dO1xuICByZXR1cm4gZWFzZSAmJiBzcGxpdC5sZW5ndGggPiAxICYmIGVhc2UuY29uZmlnID8gZWFzZS5jb25maWcuYXBwbHkobnVsbCwgfm5hbWUuaW5kZXhPZihcIntcIikgPyBbX3BhcnNlT2JqZWN0SW5TdHJpbmcoc3BsaXRbMV0pXSA6IF92YWx1ZUluUGFyZW50aGVzZXMobmFtZSkuc3BsaXQoXCIsXCIpLm1hcChfbnVtZXJpY0lmUG9zc2libGUpKSA6IF9lYXNlTWFwLl9DRSAmJiBfY3VzdG9tRWFzZUV4cC50ZXN0KG5hbWUpID8gX2Vhc2VNYXAuX0NFKFwiXCIsIG5hbWUpIDogZWFzZTtcbn0sXG4gICAgX2ludmVydEVhc2UgPSBmdW5jdGlvbiBfaW52ZXJ0RWFzZShlYXNlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAxIC0gZWFzZSgxIC0gcCk7XG4gIH07XG59LFxuICAgIC8vIGFsbG93IHlveW9FYXNlIHRvIGJlIHNldCBpbiBjaGlsZHJlbiBhbmQgaGF2ZSB0aG9zZSBhZmZlY3RlZCB3aGVuIHRoZSBwYXJlbnQvYW5jZXN0b3IgdGltZWxpbmUgeW95b3MuXG5fcHJvcGFnYXRlWW95b0Vhc2UgPSBmdW5jdGlvbiBfcHJvcGFnYXRlWW95b0Vhc2UodGltZWxpbmUsIGlzWW95bykge1xuICB2YXIgY2hpbGQgPSB0aW1lbGluZS5fZmlyc3QsXG4gICAgICBlYXNlO1xuXG4gIHdoaWxlIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRpbWVsaW5lKSB7XG4gICAgICBfcHJvcGFnYXRlWW95b0Vhc2UoY2hpbGQsIGlzWW95byk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC52YXJzLnlveW9FYXNlICYmICghY2hpbGQuX3lveW8gfHwgIWNoaWxkLl9yZXBlYXQpICYmIGNoaWxkLl95b3lvICE9PSBpc1lveW8pIHtcbiAgICAgIGlmIChjaGlsZC50aW1lbGluZSkge1xuICAgICAgICBfcHJvcGFnYXRlWW95b0Vhc2UoY2hpbGQudGltZWxpbmUsIGlzWW95byk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlYXNlID0gY2hpbGQuX2Vhc2U7XG4gICAgICAgIGNoaWxkLl9lYXNlID0gY2hpbGQuX3lFYXNlO1xuICAgICAgICBjaGlsZC5feUVhc2UgPSBlYXNlO1xuICAgICAgICBjaGlsZC5feW95byA9IGlzWW95bztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjaGlsZCA9IGNoaWxkLl9uZXh0O1xuICB9XG59LFxuICAgIF9wYXJzZUVhc2UgPSBmdW5jdGlvbiBfcGFyc2VFYXNlKGVhc2UsIGRlZmF1bHRFYXNlKSB7XG4gIHJldHVybiAhZWFzZSA/IGRlZmF1bHRFYXNlIDogKF9pc0Z1bmN0aW9uKGVhc2UpID8gZWFzZSA6IF9lYXNlTWFwW2Vhc2VdIHx8IF9jb25maWdFYXNlRnJvbVN0cmluZyhlYXNlKSkgfHwgZGVmYXVsdEVhc2U7XG59LFxuICAgIF9pbnNlcnRFYXNlID0gZnVuY3Rpb24gX2luc2VydEVhc2UobmFtZXMsIGVhc2VJbiwgZWFzZU91dCwgZWFzZUluT3V0KSB7XG4gIGlmIChlYXNlT3V0ID09PSB2b2lkIDApIHtcbiAgICBlYXNlT3V0ID0gZnVuY3Rpb24gZWFzZU91dChwKSB7XG4gICAgICByZXR1cm4gMSAtIGVhc2VJbigxIC0gcCk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChlYXNlSW5PdXQgPT09IHZvaWQgMCkge1xuICAgIGVhc2VJbk91dCA9IGZ1bmN0aW9uIGVhc2VJbk91dChwKSB7XG4gICAgICByZXR1cm4gcCA8IC41ID8gZWFzZUluKHAgKiAyKSAvIDIgOiAxIC0gZWFzZUluKCgxIC0gcCkgKiAyKSAvIDI7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBlYXNlID0ge1xuICAgIGVhc2VJbjogZWFzZUluLFxuICAgIGVhc2VPdXQ6IGVhc2VPdXQsXG4gICAgZWFzZUluT3V0OiBlYXNlSW5PdXRcbiAgfSxcbiAgICAgIGxvd2VyY2FzZU5hbWU7XG5cbiAgX2ZvckVhY2hOYW1lKG5hbWVzLCBmdW5jdGlvbiAobmFtZSkge1xuICAgIF9lYXNlTWFwW25hbWVdID0gX2dsb2JhbHNbbmFtZV0gPSBlYXNlO1xuICAgIF9lYXNlTWFwW2xvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCldID0gZWFzZU91dDtcblxuICAgIGZvciAodmFyIHAgaW4gZWFzZSkge1xuICAgICAgX2Vhc2VNYXBbbG93ZXJjYXNlTmFtZSArIChwID09PSBcImVhc2VJblwiID8gXCIuaW5cIiA6IHAgPT09IFwiZWFzZU91dFwiID8gXCIub3V0XCIgOiBcIi5pbk91dFwiKV0gPSBfZWFzZU1hcFtuYW1lICsgXCIuXCIgKyBwXSA9IGVhc2VbcF07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZWFzZTtcbn0sXG4gICAgX2Vhc2VJbk91dEZyb21PdXQgPSBmdW5jdGlvbiBfZWFzZUluT3V0RnJvbU91dChlYXNlT3V0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiBwIDwgLjUgPyAoMSAtIGVhc2VPdXQoMSAtIHAgKiAyKSkgLyAyIDogLjUgKyBlYXNlT3V0KChwIC0gLjUpICogMikgLyAyO1xuICB9O1xufSxcbiAgICBfY29uZmlnRWxhc3RpYyA9IGZ1bmN0aW9uIF9jb25maWdFbGFzdGljKHR5cGUsIGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gIHZhciBwMSA9IGFtcGxpdHVkZSA+PSAxID8gYW1wbGl0dWRlIDogMSxcbiAgICAgIC8vbm90ZTogaWYgYW1wbGl0dWRlIGlzIDwgMSwgd2Ugc2ltcGx5IGFkanVzdCB0aGUgcGVyaW9kIGZvciBhIG1vcmUgbmF0dXJhbCBmZWVsLiBPdGhlcndpc2UgdGhlIG1hdGggZG9lc24ndCB3b3JrIHJpZ2h0IGFuZCB0aGUgY3VydmUgc3RhcnRzIGF0IDEuXG4gIHAyID0gKHBlcmlvZCB8fCAodHlwZSA/IC4zIDogLjQ1KSkgLyAoYW1wbGl0dWRlIDwgMSA/IGFtcGxpdHVkZSA6IDEpLFxuICAgICAgcDMgPSBwMiAvIF8yUEkgKiAoTWF0aC5hc2luKDEgLyBwMSkgfHwgMCksXG4gICAgICBlYXNlT3V0ID0gZnVuY3Rpb24gZWFzZU91dChwKSB7XG4gICAgcmV0dXJuIHAgPT09IDEgPyAxIDogcDEgKiBNYXRoLnBvdygyLCAtMTAgKiBwKSAqIF9zaW4oKHAgLSBwMykgKiBwMikgKyAxO1xuICB9LFxuICAgICAgZWFzZSA9IHR5cGUgPT09IFwib3V0XCIgPyBlYXNlT3V0IDogdHlwZSA9PT0gXCJpblwiID8gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gMSAtIGVhc2VPdXQoMSAtIHApO1xuICB9IDogX2Vhc2VJbk91dEZyb21PdXQoZWFzZU91dCk7XG5cbiAgcDIgPSBfMlBJIC8gcDI7IC8vcHJlY2FsY3VsYXRlIHRvIG9wdGltaXplXG5cbiAgZWFzZS5jb25maWcgPSBmdW5jdGlvbiAoYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICByZXR1cm4gX2NvbmZpZ0VsYXN0aWModHlwZSwgYW1wbGl0dWRlLCBwZXJpb2QpO1xuICB9O1xuXG4gIHJldHVybiBlYXNlO1xufSxcbiAgICBfY29uZmlnQmFjayA9IGZ1bmN0aW9uIF9jb25maWdCYWNrKHR5cGUsIG92ZXJzaG9vdCkge1xuICBpZiAob3ZlcnNob290ID09PSB2b2lkIDApIHtcbiAgICBvdmVyc2hvb3QgPSAxLjcwMTU4O1xuICB9XG5cbiAgdmFyIGVhc2VPdXQgPSBmdW5jdGlvbiBlYXNlT3V0KHApIHtcbiAgICByZXR1cm4gcCA/IC0tcCAqIHAgKiAoKG92ZXJzaG9vdCArIDEpICogcCArIG92ZXJzaG9vdCkgKyAxIDogMDtcbiAgfSxcbiAgICAgIGVhc2UgPSB0eXBlID09PSBcIm91dFwiID8gZWFzZU91dCA6IHR5cGUgPT09IFwiaW5cIiA/IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIDEgLSBlYXNlT3V0KDEgLSBwKTtcbiAgfSA6IF9lYXNlSW5PdXRGcm9tT3V0KGVhc2VPdXQpO1xuXG4gIGVhc2UuY29uZmlnID0gZnVuY3Rpb24gKG92ZXJzaG9vdCkge1xuICAgIHJldHVybiBfY29uZmlnQmFjayh0eXBlLCBvdmVyc2hvb3QpO1xuICB9O1xuXG4gIHJldHVybiBlYXNlO1xufTsgLy8gYSBjaGVhcGVyIChrYiBhbmQgY3B1KSBidXQgbW9yZSBtaWxkIHdheSB0byBnZXQgYSBwYXJhbWV0ZXJpemVkIHdlaWdodGVkIGVhc2UgYnkgZmVlZGluZyBpbiBhIHZhbHVlIGJldHdlZW4gLTEgKGVhc2VJbikgYW5kIDEgKGVhc2VPdXQpIHdoZXJlIDAgaXMgbGluZWFyLlxuLy8gX3dlaWdodGVkRWFzZSA9IHJhdGlvID0+IHtcbi8vIFx0bGV0IHkgPSAwLjUgKyByYXRpbyAvIDI7XG4vLyBcdHJldHVybiBwID0+ICgyICogKDEgLSBwKSAqIHAgKiB5ICsgcCAqIHApO1xuLy8gfSxcbi8vIGEgc3Ryb25nZXIgKGJ1dCBtb3JlIGV4cGVuc2l2ZSBrYi9jcHUpIHBhcmFtZXRlcml6ZWQgd2VpZ2h0ZWQgZWFzZSB0aGF0IGxldHMgeW91IGZlZWQgaW4gYSB2YWx1ZSBiZXR3ZWVuIC0xIChlYXNlSW4pIGFuZCAxIChlYXNlT3V0KSB3aGVyZSAwIGlzIGxpbmVhci5cbi8vIF93ZWlnaHRlZEVhc2VTdHJvbmcgPSByYXRpbyA9PiB7XG4vLyBcdHJhdGlvID0gLjUgKyByYXRpbyAvIDI7XG4vLyBcdGxldCBvID0gMSAvIDMgKiAocmF0aW8gPCAuNSA/IHJhdGlvIDogMSAtIHJhdGlvKSxcbi8vIFx0XHRiID0gcmF0aW8gLSBvLFxuLy8gXHRcdGMgPSByYXRpbyArIG87XG4vLyBcdHJldHVybiBwID0+IHAgPT09IDEgPyBwIDogMyAqIGIgKiAoMSAtIHApICogKDEgLSBwKSAqIHAgKyAzICogYyAqICgxIC0gcCkgKiBwICogcCArIHAgKiBwICogcDtcbi8vIH07XG5cblxuX2ZvckVhY2hOYW1lKFwiTGluZWFyLFF1YWQsQ3ViaWMsUXVhcnQsUXVpbnQsU3Ryb25nXCIsIGZ1bmN0aW9uIChuYW1lLCBpKSB7XG4gIHZhciBwb3dlciA9IGkgPCA1ID8gaSArIDEgOiBpO1xuXG4gIF9pbnNlcnRFYXNlKG5hbWUgKyBcIixQb3dlclwiICsgKHBvd2VyIC0gMSksIGkgPyBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiBNYXRoLnBvdyhwLCBwb3dlcik7XG4gIH0gOiBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiBwO1xuICB9LCBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAxIC0gTWF0aC5wb3coMSAtIHAsIHBvd2VyKTtcbiAgfSwgZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcCA8IC41ID8gTWF0aC5wb3cocCAqIDIsIHBvd2VyKSAvIDIgOiAxIC0gTWF0aC5wb3coKDEgLSBwKSAqIDIsIHBvd2VyKSAvIDI7XG4gIH0pO1xufSk7XG5cbl9lYXNlTWFwLkxpbmVhci5lYXNlTm9uZSA9IF9lYXNlTWFwLm5vbmUgPSBfZWFzZU1hcC5MaW5lYXIuZWFzZUluO1xuXG5faW5zZXJ0RWFzZShcIkVsYXN0aWNcIiwgX2NvbmZpZ0VsYXN0aWMoXCJpblwiKSwgX2NvbmZpZ0VsYXN0aWMoXCJvdXRcIiksIF9jb25maWdFbGFzdGljKCkpO1xuXG4oZnVuY3Rpb24gKG4sIGMpIHtcbiAgdmFyIG4xID0gMSAvIGMsXG4gICAgICBuMiA9IDIgKiBuMSxcbiAgICAgIG4zID0gMi41ICogbjEsXG4gICAgICBlYXNlT3V0ID0gZnVuY3Rpb24gZWFzZU91dChwKSB7XG4gICAgcmV0dXJuIHAgPCBuMSA/IG4gKiBwICogcCA6IHAgPCBuMiA/IG4gKiBNYXRoLnBvdyhwIC0gMS41IC8gYywgMikgKyAuNzUgOiBwIDwgbjMgPyBuICogKHAgLT0gMi4yNSAvIGMpICogcCArIC45Mzc1IDogbiAqIE1hdGgucG93KHAgLSAyLjYyNSAvIGMsIDIpICsgLjk4NDM3NTtcbiAgfTtcblxuICBfaW5zZXJ0RWFzZShcIkJvdW5jZVwiLCBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAxIC0gZWFzZU91dCgxIC0gcCk7XG4gIH0sIGVhc2VPdXQpO1xufSkoNy41NjI1LCAyLjc1KTtcblxuX2luc2VydEVhc2UoXCJFeHBvXCIsIGZ1bmN0aW9uIChwKSB7XG4gIHJldHVybiBwID8gTWF0aC5wb3coMiwgMTAgKiAocCAtIDEpKSA6IDA7XG59KTtcblxuX2luc2VydEVhc2UoXCJDaXJjXCIsIGZ1bmN0aW9uIChwKSB7XG4gIHJldHVybiAtKF9zcXJ0KDEgLSBwICogcCkgLSAxKTtcbn0pO1xuXG5faW5zZXJ0RWFzZShcIlNpbmVcIiwgZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIHAgPT09IDEgPyAxIDogLV9jb3MocCAqIF9IQUxGX1BJKSArIDE7XG59KTtcblxuX2luc2VydEVhc2UoXCJCYWNrXCIsIF9jb25maWdCYWNrKFwiaW5cIiksIF9jb25maWdCYWNrKFwib3V0XCIpLCBfY29uZmlnQmFjaygpKTtcblxuX2Vhc2VNYXAuU3RlcHBlZEVhc2UgPSBfZWFzZU1hcC5zdGVwcyA9IF9nbG9iYWxzLlN0ZXBwZWRFYXNlID0ge1xuICBjb25maWc6IGZ1bmN0aW9uIGNvbmZpZyhzdGVwcywgaW1tZWRpYXRlU3RhcnQpIHtcbiAgICBpZiAoc3RlcHMgPT09IHZvaWQgMCkge1xuICAgICAgc3RlcHMgPSAxO1xuICAgIH1cblxuICAgIHZhciBwMSA9IDEgLyBzdGVwcyxcbiAgICAgICAgcDIgPSBzdGVwcyArIChpbW1lZGlhdGVTdGFydCA/IDAgOiAxKSxcbiAgICAgICAgcDMgPSBpbW1lZGlhdGVTdGFydCA/IDEgOiAwLFxuICAgICAgICBtYXggPSAxIC0gX3RpbnlOdW07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwKSB7XG4gICAgICByZXR1cm4gKChwMiAqIF9jbGFtcCgwLCBtYXgsIHApIHwgMCkgKyBwMykgKiBwMTtcbiAgICB9O1xuICB9XG59O1xuX2RlZmF1bHRzLmVhc2UgPSBfZWFzZU1hcFtcInF1YWQub3V0XCJdO1xuXG5fZm9yRWFjaE5hbWUoXCJvbkNvbXBsZXRlLG9uVXBkYXRlLG9uU3RhcnQsb25SZXBlYXQsb25SZXZlcnNlQ29tcGxldGUsb25JbnRlcnJ1cHRcIiwgZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIF9jYWxsYmFja05hbWVzICs9IG5hbWUgKyBcIixcIiArIG5hbWUgKyBcIlBhcmFtcyxcIjtcbn0pO1xuLypcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDQUNIRVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG5cbmV4cG9ydCB2YXIgR1NDYWNoZSA9IGZ1bmN0aW9uIEdTQ2FjaGUodGFyZ2V0LCBoYXJuZXNzKSB7XG4gIHRoaXMuaWQgPSBfZ3NJRCsrO1xuICB0YXJnZXQuX2dzYXAgPSB0aGlzO1xuICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgdGhpcy5oYXJuZXNzID0gaGFybmVzcztcbiAgdGhpcy5nZXQgPSBoYXJuZXNzID8gaGFybmVzcy5nZXQgOiBfZ2V0UHJvcGVydHk7XG4gIHRoaXMuc2V0ID0gaGFybmVzcyA/IGhhcm5lc3MuZ2V0U2V0dGVyIDogX2dldFNldHRlcjtcbn07XG4vKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFOSU1BVElPTlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG5leHBvcnQgdmFyIEFuaW1hdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFuaW1hdGlvbih2YXJzLCB0aW1lKSB7XG4gICAgdmFyIHBhcmVudCA9IHZhcnMucGFyZW50IHx8IF9nbG9iYWxUaW1lbGluZTtcbiAgICB0aGlzLnZhcnMgPSB2YXJzO1xuICAgIHRoaXMuX2RlbGF5ID0gK3ZhcnMuZGVsYXkgfHwgMDtcblxuICAgIGlmICh0aGlzLl9yZXBlYXQgPSB2YXJzLnJlcGVhdCB8fCAwKSB7XG4gICAgICB0aGlzLl9yRGVsYXkgPSB2YXJzLnJlcGVhdERlbGF5IHx8IDA7XG4gICAgICB0aGlzLl95b3lvID0gISF2YXJzLnlveW8gfHwgISF2YXJzLnlveW9FYXNlO1xuICAgIH1cblxuICAgIHRoaXMuX3RzID0gMTtcblxuICAgIF9zZXREdXJhdGlvbih0aGlzLCArdmFycy5kdXJhdGlvbiwgMSwgMSk7XG5cbiAgICB0aGlzLmRhdGEgPSB2YXJzLmRhdGE7XG4gICAgX3RpY2tlckFjdGl2ZSB8fCBfdGlja2VyLndha2UoKTtcbiAgICBwYXJlbnQgJiYgX2FkZFRvVGltZWxpbmUocGFyZW50LCB0aGlzLCB0aW1lIHx8IHRpbWUgPT09IDAgPyB0aW1lIDogcGFyZW50Ll90aW1lLCAxKTtcbiAgICB2YXJzLnJldmVyc2VkICYmIHRoaXMucmV2ZXJzZSgpO1xuICAgIHZhcnMucGF1c2VkICYmIHRoaXMucGF1c2VkKHRydWUpO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEFuaW1hdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmRlbGF5ID0gZnVuY3Rpb24gZGVsYXkodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09IDApIHtcbiAgICAgIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnNtb290aENoaWxkVGltaW5nICYmIHRoaXMuc3RhcnRUaW1lKHRoaXMuX3N0YXJ0ICsgdmFsdWUgLSB0aGlzLl9kZWxheSk7XG4gICAgICB0aGlzLl9kZWxheSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2RlbGF5O1xuICB9O1xuXG4gIF9wcm90by5kdXJhdGlvbiA9IGZ1bmN0aW9uIGR1cmF0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLnRvdGFsRHVyYXRpb24odGhpcy5fcmVwZWF0ID4gMCA/IHZhbHVlICsgKHZhbHVlICsgdGhpcy5fckRlbGF5KSAqIHRoaXMuX3JlcGVhdCA6IHZhbHVlKSA6IHRoaXMudG90YWxEdXJhdGlvbigpICYmIHRoaXMuX2R1cjtcbiAgfTtcblxuICBfcHJvdG8udG90YWxEdXJhdGlvbiA9IGZ1bmN0aW9uIHRvdGFsRHVyYXRpb24odmFsdWUpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90RHVyO1xuICAgIH1cblxuICAgIHRoaXMuX2RpcnR5ID0gMDtcbiAgICByZXR1cm4gX3NldER1cmF0aW9uKHRoaXMsIHRoaXMuX3JlcGVhdCA8IDAgPyB2YWx1ZSA6ICh2YWx1ZSAtIHRoaXMuX3JlcGVhdCAqIHRoaXMuX3JEZWxheSkgLyAodGhpcy5fcmVwZWF0ICsgMSkpO1xuICB9O1xuXG4gIF9wcm90by50b3RhbFRpbWUgPSBmdW5jdGlvbiB0b3RhbFRpbWUoX3RvdGFsVGltZSwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICBfd2FrZSgpO1xuXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdFRpbWU7XG4gICAgfVxuXG4gICAgdmFyIHBhcmVudCA9IHRoaXMuX2RwO1xuXG4gICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuc21vb3RoQ2hpbGRUaW1pbmcgJiYgdGhpcy5fdHMpIHtcbiAgICAgIF9hbGlnblBsYXloZWFkKHRoaXMsIF90b3RhbFRpbWUpOyAvL2luIGNhc2UgYW55IG9mIHRoZSBhbmNlc3RvciB0aW1lbGluZXMgaGFkIGNvbXBsZXRlZCBidXQgc2hvdWxkIG5vdyBiZSBlbmFibGVkLCB3ZSBzaG91bGQgcmVzZXQgdGhlaXIgdG90YWxUaW1lKCkgd2hpY2ggd2lsbCBhbHNvIGVuc3VyZSB0aGF0IHRoZXkncmUgbGluZWQgdXAgcHJvcGVybHkgYW5kIGVuYWJsZWQuIFNraXAgZm9yIGFuaW1hdGlvbnMgdGhhdCBhcmUgb24gdGhlIHJvb3QgKHdhc3RlZnVsKS4gRXhhbXBsZTogYSBUaW1lbGluZUxpdGUuZXhwb3J0Um9vdCgpIGlzIHBlcmZvcm1lZCB3aGVuIHRoZXJlJ3MgYSBwYXVzZWQgdHdlZW4gb24gdGhlIHJvb3QsIHRoZSBleHBvcnQgd2lsbCBub3QgY29tcGxldGUgdW50aWwgdGhhdCB0d2VlbiBpcyB1bnBhdXNlZCwgYnV0IGltYWdpbmUgYSBjaGlsZCBnZXRzIHJlc3RhcnRlZCBsYXRlciwgYWZ0ZXIgYWxsIFt1bnBhdXNlZF0gdHdlZW5zIGhhdmUgY29tcGxldGVkLiBUaGUgc3RhcnQgb2YgdGhhdCBjaGlsZCB3b3VsZCBnZXQgcHVzaGVkIG91dCwgYnV0IG9uZSBvZiB0aGUgYW5jZXN0b3JzIG1heSBoYXZlIGNvbXBsZXRlZC5cblxuXG4gICAgICB3aGlsZSAocGFyZW50LnBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50LnBhcmVudC5fdGltZSAhPT0gcGFyZW50Ll9zdGFydCArIChwYXJlbnQuX3RzID49IDAgPyBwYXJlbnQuX3RUaW1lIC8gcGFyZW50Ll90cyA6IChwYXJlbnQudG90YWxEdXJhdGlvbigpIC0gcGFyZW50Ll90VGltZSkgLyAtcGFyZW50Ll90cykpIHtcbiAgICAgICAgICBwYXJlbnQudG90YWxUaW1lKHBhcmVudC5fdFRpbWUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnBhcmVudCAmJiB0aGlzLl9kcC5hdXRvUmVtb3ZlQ2hpbGRyZW4gJiYgKHRoaXMuX3RzID4gMCAmJiBfdG90YWxUaW1lIDwgdGhpcy5fdER1ciB8fCB0aGlzLl90cyA8IDAgJiYgX3RvdGFsVGltZSA+IDAgfHwgIXRoaXMuX3REdXIgJiYgIV90b3RhbFRpbWUpKSB7XG4gICAgICAgIC8vaWYgdGhlIGFuaW1hdGlvbiBkb2Vzbid0IGhhdmUgYSBwYXJlbnQsIHB1dCBpdCBiYWNrIGludG8gaXRzIGxhc3QgcGFyZW50IChyZWNvcmRlZCBhcyBfZHAgZm9yIGV4YWN0bHkgY2FzZXMgbGlrZSB0aGlzKS4gTGltaXQgdG8gcGFyZW50cyB3aXRoIGF1dG9SZW1vdmVDaGlsZHJlbiAobGlrZSBnbG9iYWxUaW1lbGluZSkgc28gdGhhdCBpZiB0aGUgdXNlciBtYW51YWxseSByZW1vdmVzIGFuIGFuaW1hdGlvbiBmcm9tIGEgdGltZWxpbmUgYW5kIHRoZW4gYWx0ZXJzIGl0cyBwbGF5aGVhZCwgaXQgZG9lc24ndCBnZXQgYWRkZWQgYmFjayBpbi5cbiAgICAgICAgX2FkZFRvVGltZWxpbmUodGhpcy5fZHAsIHRoaXMsIHRoaXMuX3N0YXJ0IC0gdGhpcy5fZGVsYXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl90VGltZSAhPT0gX3RvdGFsVGltZSB8fCAhdGhpcy5fZHVyICYmICFzdXBwcmVzc0V2ZW50cyB8fCB0aGlzLl9pbml0dGVkICYmIE1hdGguYWJzKHRoaXMuX3pUaW1lKSA9PT0gX3RpbnlOdW0gfHwgIV90b3RhbFRpbWUgJiYgIXRoaXMuX2luaXR0ZWQgJiYgKHRoaXMuYWRkIHx8IHRoaXMuX3B0TG9va3VwKSkge1xuICAgICAgLy8gY2hlY2sgZm9yIF9wdExvb2t1cCBvbiBhIFR3ZWVuIGluc3RhbmNlIHRvIGVuc3VyZSBpdCBoYXMgYWN0dWFsbHkgZmluaXNoZWQgYmVpbmcgaW5zdGFudGlhdGVkLCBvdGhlcndpc2UgaWYgdGhpcy5yZXZlcnNlKCkgZ2V0cyBjYWxsZWQgaW4gdGhlIEFuaW1hdGlvbiBjb25zdHJ1Y3RvciwgaXQgY291bGQgdHJpZ2dlciBhIHJlbmRlcigpIGhlcmUgZXZlbiB0aG91Z2ggdGhlIF90YXJnZXRzIHdlcmVuJ3QgcG9wdWxhdGVkLCB0aHVzIHdoZW4gX2luaXQoKSBpcyBjYWxsZWQgdGhlcmUgd29uJ3QgYmUgYW55IFByb3BUd2VlbnMgKGl0J2xsIGFjdCBsaWtlIHRoZSB0d2VlbiBpcyBub24tZnVuY3Rpb25hbClcbiAgICAgIHRoaXMuX3RzIHx8ICh0aGlzLl9wVGltZSA9IF90b3RhbFRpbWUpOyAvLyBvdGhlcndpc2UsIGlmIGFuIGFuaW1hdGlvbiBpcyBwYXVzZWQsIHRoZW4gdGhlIHBsYXloZWFkIGlzIG1vdmVkIGJhY2sgdG8gemVybywgdGhlbiByZXN1bWVkLCBpdCdkIHJldmVydCBiYWNrIHRvIHRoZSBvcmlnaW5hbCB0aW1lIGF0IHRoZSBwYXVzZVxuXG4gICAgICBfbGF6eVNhZmVSZW5kZXIodGhpcywgX3RvdGFsVGltZSwgc3VwcHJlc3NFdmVudHMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90by50aW1lID0gZnVuY3Rpb24gdGltZSh2YWx1ZSwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMudG90YWxUaW1lKE1hdGgubWluKHRoaXMudG90YWxEdXJhdGlvbigpLCB2YWx1ZSArIF9lbGFwc2VkQ3ljbGVEdXJhdGlvbih0aGlzKSkgJSB0aGlzLl9kdXIgfHwgKHZhbHVlID8gdGhpcy5fZHVyIDogMCksIHN1cHByZXNzRXZlbnRzKSA6IHRoaXMuX3RpbWU7IC8vIG5vdGU6IGlmIHRoZSBtb2R1bHVzIHJlc3VsdHMgaW4gMCwgdGhlIHBsYXloZWFkIGNvdWxkIGJlIGV4YWN0bHkgYXQgdGhlIGVuZCBvciB0aGUgYmVnaW5uaW5nLCBhbmQgd2UgYWx3YXlzIGRlZmVyIHRvIHRoZSBFTkQgd2l0aCBhIG5vbi16ZXJvIHZhbHVlLCBvdGhlcndpc2UgaWYgeW91IHNldCB0aGUgdGltZSgpIHRvIHRoZSB2ZXJ5IGVuZCAoZHVyYXRpb24oKSksIGl0IHdvdWxkIHJlbmRlciBhdCB0aGUgU1RBUlQhXG4gIH07XG5cbiAgX3Byb3RvLnRvdGFsUHJvZ3Jlc3MgPSBmdW5jdGlvbiB0b3RhbFByb2dyZXNzKHZhbHVlLCBzdXBwcmVzc0V2ZW50cykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gdGhpcy50b3RhbFRpbWUodGhpcy50b3RhbER1cmF0aW9uKCkgKiB2YWx1ZSwgc3VwcHJlc3NFdmVudHMpIDogdGhpcy50b3RhbER1cmF0aW9uKCkgPyBNYXRoLm1pbigxLCB0aGlzLl90VGltZSAvIHRoaXMuX3REdXIpIDogdGhpcy5yYXRpbztcbiAgfTtcblxuICBfcHJvdG8ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBwcm9ncmVzcyh2YWx1ZSwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMudG90YWxUaW1lKHRoaXMuZHVyYXRpb24oKSAqICh0aGlzLl95b3lvICYmICEodGhpcy5pdGVyYXRpb24oKSAmIDEpID8gMSAtIHZhbHVlIDogdmFsdWUpICsgX2VsYXBzZWRDeWNsZUR1cmF0aW9uKHRoaXMpLCBzdXBwcmVzc0V2ZW50cykgOiB0aGlzLmR1cmF0aW9uKCkgPyBNYXRoLm1pbigxLCB0aGlzLl90aW1lIC8gdGhpcy5fZHVyKSA6IHRoaXMucmF0aW87XG4gIH07XG5cbiAgX3Byb3RvLml0ZXJhdGlvbiA9IGZ1bmN0aW9uIGl0ZXJhdGlvbih2YWx1ZSwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICB2YXIgY3ljbGVEdXJhdGlvbiA9IHRoaXMuZHVyYXRpb24oKSArIHRoaXMuX3JEZWxheTtcblxuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gdGhpcy50b3RhbFRpbWUodGhpcy5fdGltZSArICh2YWx1ZSAtIDEpICogY3ljbGVEdXJhdGlvbiwgc3VwcHJlc3NFdmVudHMpIDogdGhpcy5fcmVwZWF0ID8gX2FuaW1hdGlvbkN5Y2xlKHRoaXMuX3RUaW1lLCBjeWNsZUR1cmF0aW9uKSArIDEgOiAxO1xuICB9IC8vIHBvdGVudGlhbCBmdXR1cmUgYWRkaXRpb246XG4gIC8vIGlzUGxheWluZ0JhY2t3YXJkcygpIHtcbiAgLy8gXHRsZXQgYW5pbWF0aW9uID0gdGhpcyxcbiAgLy8gXHRcdG9yaWVudGF0aW9uID0gMTsgLy8gMSA9IGZvcndhcmQsIC0xID0gYmFja3dhcmRcbiAgLy8gXHR3aGlsZSAoYW5pbWF0aW9uKSB7XG4gIC8vIFx0XHRvcmllbnRhdGlvbiAqPSBhbmltYXRpb24ucmV2ZXJzZWQoKSB8fCAoYW5pbWF0aW9uLnJlcGVhdCgpICYmICEoYW5pbWF0aW9uLml0ZXJhdGlvbigpICYgMSkpID8gLTEgOiAxO1xuICAvLyBcdFx0YW5pbWF0aW9uID0gYW5pbWF0aW9uLnBhcmVudDtcbiAgLy8gXHR9XG4gIC8vIFx0cmV0dXJuIG9yaWVudGF0aW9uIDwgMDtcbiAgLy8gfVxuICA7XG5cbiAgX3Byb3RvLnRpbWVTY2FsZSA9IGZ1bmN0aW9uIHRpbWVTY2FsZSh2YWx1ZSkge1xuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3J0cyA9PT0gLV90aW55TnVtID8gMCA6IHRoaXMuX3J0czsgLy8gcmVjb3JkZWQgdGltZVNjYWxlLiBTcGVjaWFsIGNhc2U6IGlmIHNvbWVvbmUgY2FsbHMgcmV2ZXJzZSgpIG9uIGFuIGFuaW1hdGlvbiB3aXRoIHRpbWVTY2FsZSBvZiAwLCB3ZSBhc3NpZ24gaXQgLV90aW55TnVtIHRvIHJlbWVtYmVyIGl0J3MgcmV2ZXJzZWQuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3J0cyA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHZhciB0VGltZSA9IHRoaXMucGFyZW50ICYmIHRoaXMuX3RzID8gX3BhcmVudFRvQ2hpbGRUb3RhbFRpbWUodGhpcy5wYXJlbnQuX3RpbWUsIHRoaXMpIDogdGhpcy5fdFRpbWU7IC8vIG1ha2Ugc3VyZSB0byBkbyB0aGUgcGFyZW50VG9DaGlsZFRvdGFsVGltZSgpIEJFRk9SRSBzZXR0aW5nIHRoZSBuZXcgX3RzIGJlY2F1c2UgdGhlIG9sZCBvbmUgbXVzdCBiZSB1c2VkIGluIHRoYXQgY2FsY3VsYXRpb24uXG4gICAgLy8gcHJpb3JpdGl6ZSByZW5kZXJpbmcgd2hlcmUgdGhlIHBhcmVudCdzIHBsYXloZWFkIGxpbmVzIHVwIGluc3RlYWQgb2YgdGhpcy5fdFRpbWUgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBhIHR3ZWVuIHRoYXQncyBhbmltYXRpbmcgYW5vdGhlciB0d2VlbidzIHRpbWVTY2FsZSBpbiB0aGUgc2FtZSByZW5kZXJpbmcgbG9vcCAoc2FtZSBwYXJlbnQpLCB0aHVzIGlmIHRoZSB0aW1lU2NhbGUgdHdlZW4gcmVuZGVycyBmaXJzdCwgaXQgd291bGQgYWx0ZXIgX3N0YXJ0IEJFRk9SRSBfdFRpbWUgd2FzIHNldCBvbiB0aGF0IHRpY2sgKGluIHRoZSByZW5kZXJpbmcgbG9vcCksIGVmZmVjdGl2ZWx5IGZyZWV6aW5nIGl0IHVudGlsIHRoZSB0aW1lU2NhbGUgdHdlZW4gZmluaXNoZXMuXG5cbiAgICB0aGlzLl9ydHMgPSArdmFsdWUgfHwgMDtcbiAgICB0aGlzLl90cyA9IHRoaXMuX3BzIHx8IHZhbHVlID09PSAtX3RpbnlOdW0gPyAwIDogdGhpcy5fcnRzOyAvLyBfdHMgaXMgdGhlIGZ1bmN0aW9uYWwgdGltZVNjYWxlIHdoaWNoIHdvdWxkIGJlIDAgaWYgdGhlIGFuaW1hdGlvbiBpcyBwYXVzZWQuXG5cbiAgICByZXR1cm4gX3JlY2FjaGVBbmNlc3RvcnModGhpcy50b3RhbFRpbWUoX2NsYW1wKC10aGlzLl9kZWxheSwgdGhpcy5fdER1ciwgdFRpbWUpLCB0cnVlKSk7XG4gIH07XG5cbiAgX3Byb3RvLnBhdXNlZCA9IGZ1bmN0aW9uIHBhdXNlZCh2YWx1ZSkge1xuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9wcyAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX3BzID0gdmFsdWU7XG5cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9wVGltZSA9IHRoaXMuX3RUaW1lIHx8IE1hdGgubWF4KC10aGlzLl9kZWxheSwgdGhpcy5yYXdUaW1lKCkpOyAvLyBpZiB0aGUgcGF1c2Ugb2NjdXJzIGR1cmluZyB0aGUgZGVsYXkgcGhhc2UsIG1ha2Ugc3VyZSB0aGF0J3MgZmFjdG9yZWQgaW4gd2hlbiByZXN1bWluZy5cblxuICAgICAgICB0aGlzLl90cyA9IHRoaXMuX2FjdCA9IDA7IC8vIF90cyBpcyB0aGUgZnVuY3Rpb25hbCB0aW1lU2NhbGUsIHNvIGEgcGF1c2VkIHR3ZWVuIHdvdWxkIGVmZmVjdGl2ZWx5IGhhdmUgYSB0aW1lU2NhbGUgb2YgMC4gV2UgcmVjb3JkIHRoZSBcInJlYWxcIiB0aW1lU2NhbGUgYXMgX3J0cyAocmVjb3JkZWQgdGltZSBzY2FsZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF93YWtlKCk7XG5cbiAgICAgICAgdGhpcy5fdHMgPSB0aGlzLl9ydHM7IC8vb25seSBkZWZlciB0byBfcFRpbWUgKHBhdXNlVGltZSkgaWYgdFRpbWUgaXMgemVyby4gUmVtZW1iZXIsIHNvbWVvbmUgY291bGQgcGF1c2UoKSBhbiBhbmltYXRpb24sIHRoZW4gc2NydWIgdGhlIHBsYXloZWFkIGFuZCByZXN1bWUoKS4gSWYgdGhlIHBhcmVudCBkb2Vzbid0IGhhdmUgc21vb3RoQ2hpbGRUaW1pbmcsIHdlIHJlbmRlciBhdCB0aGUgcmF3VGltZSgpIGJlY2F1c2UgdGhlIHN0YXJ0VGltZSB3b24ndCBnZXQgdXBkYXRlZC5cblxuICAgICAgICB0aGlzLnRvdGFsVGltZSh0aGlzLnBhcmVudCAmJiAhdGhpcy5wYXJlbnQuc21vb3RoQ2hpbGRUaW1pbmcgPyB0aGlzLnJhd1RpbWUoKSA6IHRoaXMuX3RUaW1lIHx8IHRoaXMuX3BUaW1lLCB0aGlzLnByb2dyZXNzKCkgPT09IDEgJiYgKHRoaXMuX3RUaW1lIC09IF90aW55TnVtKSAmJiBNYXRoLmFicyh0aGlzLl96VGltZSkgIT09IF90aW55TnVtKTsgLy8gZWRnZSBjYXNlOiBhbmltYXRpb24ucHJvZ3Jlc3MoMSkucGF1c2UoKS5wbGF5KCkgd291bGRuJ3QgcmVuZGVyIGFnYWluIGJlY2F1c2UgdGhlIHBsYXloZWFkIGlzIGFscmVhZHkgYXQgdGhlIGVuZCwgYnV0IHRoZSBjYWxsIHRvIHRvdGFsVGltZSgpIGJlbG93IHdpbGwgYWRkIGl0IGJhY2sgdG8gaXRzIHBhcmVudC4uLmFuZCBub3QgcmVtb3ZlIGl0IGFnYWluIChzaW5jZSByZW1vdmluZyBvbmx5IGhhcHBlbnMgdXBvbiByZW5kZXJpbmcgYXQgYSBuZXcgdGltZSkuIE9mZnNldHRpbmcgdGhlIF90VGltZSBzbGlnaHRseSBpcyBkb25lIHNpbXBseSB0byBjYXVzZSB0aGUgZmluYWwgcmVuZGVyIGluIHRvdGFsVGltZSgpIHRoYXQnbGwgcG9wIGl0IG9mZiBpdHMgdGltZWxpbmUgKGlmIGF1dG9SZW1vdmVDaGlsZHJlbiBpcyB0cnVlLCBvZiBjb3Vyc2UpLiBDaGVjayB0byBtYWtlIHN1cmUgX3pUaW1lIGlzbid0IC1fdGlueU51bSB0byBhdm9pZCBhbiBlZGdlIGNhc2Ugd2hlcmUgdGhlIHBsYXloZWFkIGlzIHB1c2hlZCB0byB0aGUgZW5kIGJ1dCBJTlNJREUgYSB0d2Vlbi9jYWxsYmFjaywgdGhlIHRpbWVsaW5lIGl0c2VsZiBpcyBwYXVzZWQgdGh1cyBoYWx0aW5nIHJlbmRlcmluZyBhbmQgbGVhdmluZyBhIGZldyB1bnJlbmRlcmVkLiBXaGVuIHJlc3VtaW5nLCBpdCB3b3VsZG4ndCByZW5kZXIgdGhvc2Ugb3RoZXJ3aXNlLlxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90by5zdGFydFRpbWUgPSBmdW5jdGlvbiBzdGFydFRpbWUodmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy5fc3RhcnQgPSB2YWx1ZTtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCB8fCB0aGlzLl9kcDtcbiAgICAgIHBhcmVudCAmJiAocGFyZW50Ll9zb3J0IHx8ICF0aGlzLnBhcmVudCkgJiYgX2FkZFRvVGltZWxpbmUocGFyZW50LCB0aGlzLCB2YWx1ZSAtIHRoaXMuX2RlbGF5KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9zdGFydDtcbiAgfTtcblxuICBfcHJvdG8uZW5kVGltZSA9IGZ1bmN0aW9uIGVuZFRpbWUoaW5jbHVkZVJlcGVhdHMpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhcnQgKyAoX2lzTm90RmFsc2UoaW5jbHVkZVJlcGVhdHMpID8gdGhpcy50b3RhbER1cmF0aW9uKCkgOiB0aGlzLmR1cmF0aW9uKCkpIC8gTWF0aC5hYnModGhpcy5fdHMpO1xuICB9O1xuXG4gIF9wcm90by5yYXdUaW1lID0gZnVuY3Rpb24gcmF3VGltZSh3cmFwUmVwZWF0cykge1xuICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCB8fCB0aGlzLl9kcDsgLy8gX2RwID0gZGV0YXRjaGVkIHBhcmVudFxuXG4gICAgcmV0dXJuICFwYXJlbnQgPyB0aGlzLl90VGltZSA6IHdyYXBSZXBlYXRzICYmICghdGhpcy5fdHMgfHwgdGhpcy5fcmVwZWF0ICYmIHRoaXMuX3RpbWUgJiYgdGhpcy50b3RhbFByb2dyZXNzKCkgPCAxKSA/IHRoaXMuX3RUaW1lICUgKHRoaXMuX2R1ciArIHRoaXMuX3JEZWxheSkgOiAhdGhpcy5fdHMgPyB0aGlzLl90VGltZSA6IF9wYXJlbnRUb0NoaWxkVG90YWxUaW1lKHBhcmVudC5yYXdUaW1lKHdyYXBSZXBlYXRzKSwgdGhpcyk7XG4gIH07XG5cbiAgX3Byb3RvLmdsb2JhbFRpbWUgPSBmdW5jdGlvbiBnbG9iYWxUaW1lKHJhd1RpbWUpIHtcbiAgICB2YXIgYW5pbWF0aW9uID0gdGhpcyxcbiAgICAgICAgdGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPyByYXdUaW1lIDogYW5pbWF0aW9uLnJhd1RpbWUoKTtcblxuICAgIHdoaWxlIChhbmltYXRpb24pIHtcbiAgICAgIHRpbWUgPSBhbmltYXRpb24uX3N0YXJ0ICsgdGltZSAvIChhbmltYXRpb24uX3RzIHx8IDEpO1xuICAgICAgYW5pbWF0aW9uID0gYW5pbWF0aW9uLl9kcDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGltZTtcbiAgfTtcblxuICBfcHJvdG8ucmVwZWF0ID0gZnVuY3Rpb24gcmVwZWF0KHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX3JlcGVhdCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIF9vblVwZGF0ZVRvdGFsRHVyYXRpb24odGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlcGVhdDtcbiAgfTtcblxuICBfcHJvdG8ucmVwZWF0RGVsYXkgPSBmdW5jdGlvbiByZXBlYXREZWxheSh2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9yRGVsYXkgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBfb25VcGRhdGVUb3RhbER1cmF0aW9uKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9yRGVsYXk7XG4gIH07XG5cbiAgX3Byb3RvLnlveW8gPSBmdW5jdGlvbiB5b3lvKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX3lveW8gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl95b3lvO1xuICB9O1xuXG4gIF9wcm90by5zZWVrID0gZnVuY3Rpb24gc2Vlayhwb3NpdGlvbiwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICByZXR1cm4gdGhpcy50b3RhbFRpbWUoX3BhcnNlUG9zaXRpb24odGhpcywgcG9zaXRpb24pLCBfaXNOb3RGYWxzZShzdXBwcmVzc0V2ZW50cykpO1xuICB9O1xuXG4gIF9wcm90by5yZXN0YXJ0ID0gZnVuY3Rpb24gcmVzdGFydChpbmNsdWRlRGVsYXksIHN1cHByZXNzRXZlbnRzKSB7XG4gICAgcmV0dXJuIHRoaXMucGxheSgpLnRvdGFsVGltZShpbmNsdWRlRGVsYXkgPyAtdGhpcy5fZGVsYXkgOiAwLCBfaXNOb3RGYWxzZShzdXBwcmVzc0V2ZW50cykpO1xuICB9O1xuXG4gIF9wcm90by5wbGF5ID0gZnVuY3Rpb24gcGxheShmcm9tLCBzdXBwcmVzc0V2ZW50cykge1xuICAgIGZyb20gIT0gbnVsbCAmJiB0aGlzLnNlZWsoZnJvbSwgc3VwcHJlc3NFdmVudHMpO1xuICAgIHJldHVybiB0aGlzLnJldmVyc2VkKGZhbHNlKS5wYXVzZWQoZmFsc2UpO1xuICB9O1xuXG4gIF9wcm90by5yZXZlcnNlID0gZnVuY3Rpb24gcmV2ZXJzZShmcm9tLCBzdXBwcmVzc0V2ZW50cykge1xuICAgIGZyb20gIT0gbnVsbCAmJiB0aGlzLnNlZWsoZnJvbSB8fCB0aGlzLnRvdGFsRHVyYXRpb24oKSwgc3VwcHJlc3NFdmVudHMpO1xuICAgIHJldHVybiB0aGlzLnJldmVyc2VkKHRydWUpLnBhdXNlZChmYWxzZSk7XG4gIH07XG5cbiAgX3Byb3RvLnBhdXNlID0gZnVuY3Rpb24gcGF1c2UoYXRUaW1lLCBzdXBwcmVzc0V2ZW50cykge1xuICAgIGF0VGltZSAhPSBudWxsICYmIHRoaXMuc2VlayhhdFRpbWUsIHN1cHByZXNzRXZlbnRzKTtcbiAgICByZXR1cm4gdGhpcy5wYXVzZWQodHJ1ZSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlc3VtZSA9IGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXVzZWQoZmFsc2UpO1xuICB9O1xuXG4gIF9wcm90by5yZXZlcnNlZCA9IGZ1bmN0aW9uIHJldmVyc2VkKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICEhdmFsdWUgIT09IHRoaXMucmV2ZXJzZWQoKSAmJiB0aGlzLnRpbWVTY2FsZSgtdGhpcy5fcnRzIHx8ICh2YWx1ZSA/IC1fdGlueU51bSA6IDApKTsgLy8gaW4gY2FzZSB0aW1lU2NhbGUgaXMgemVybywgcmV2ZXJzaW5nIHdvdWxkIGhhdmUgbm8gZWZmZWN0IHNvIHdlIHVzZSBfdGlueU51bS5cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3J0cyA8IDA7XG4gIH07XG5cbiAgX3Byb3RvLmludmFsaWRhdGUgPSBmdW5jdGlvbiBpbnZhbGlkYXRlKCkge1xuICAgIHRoaXMuX2luaXR0ZWQgPSAwO1xuICAgIHRoaXMuX3pUaW1lID0gLV90aW55TnVtO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90by5pc0FjdGl2ZSA9IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCB8fCB0aGlzLl9kcCxcbiAgICAgICAgc3RhcnQgPSB0aGlzLl9zdGFydCxcbiAgICAgICAgcmF3VGltZTtcbiAgICByZXR1cm4gISEoIXBhcmVudCB8fCB0aGlzLl90cyAmJiB0aGlzLl9pbml0dGVkICYmIHBhcmVudC5pc0FjdGl2ZSgpICYmIChyYXdUaW1lID0gcGFyZW50LnJhd1RpbWUodHJ1ZSkpID49IHN0YXJ0ICYmIHJhd1RpbWUgPCB0aGlzLmVuZFRpbWUodHJ1ZSkgLSBfdGlueU51bSk7XG4gIH07XG5cbiAgX3Byb3RvLmV2ZW50Q2FsbGJhY2sgPSBmdW5jdGlvbiBldmVudENhbGxiYWNrKHR5cGUsIGNhbGxiYWNrLCBwYXJhbXMpIHtcbiAgICB2YXIgdmFycyA9IHRoaXMudmFycztcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICBkZWxldGUgdmFyc1t0eXBlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhcnNbdHlwZV0gPSBjYWxsYmFjaztcbiAgICAgICAgcGFyYW1zICYmICh2YXJzW3R5cGUgKyBcIlBhcmFtc1wiXSA9IHBhcmFtcyk7XG4gICAgICAgIHR5cGUgPT09IFwib25VcGRhdGVcIiAmJiAodGhpcy5fb25VcGRhdGUgPSBjYWxsYmFjayk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB2YXJzW3R5cGVdO1xuICB9O1xuXG4gIF9wcm90by50aGVuID0gZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgIHZhciBmID0gX2lzRnVuY3Rpb24ob25GdWxmaWxsZWQpID8gb25GdWxmaWxsZWQgOiBfcGFzc1Rocm91Z2gsXG4gICAgICAgICAgX3Jlc29sdmUgPSBmdW5jdGlvbiBfcmVzb2x2ZSgpIHtcbiAgICAgICAgdmFyIF90aGVuID0gc2VsZi50aGVuO1xuICAgICAgICBzZWxmLnRoZW4gPSBudWxsOyAvLyB0ZW1wb3JhcmlseSBudWxsIHRoZSB0aGVuKCkgbWV0aG9kIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3AgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vZ3JlZW5zb2NrL0dTQVAvaXNzdWVzLzMyMilcblxuICAgICAgICBfaXNGdW5jdGlvbihmKSAmJiAoZiA9IGYoc2VsZikpICYmIChmLnRoZW4gfHwgZiA9PT0gc2VsZikgJiYgKHNlbGYudGhlbiA9IF90aGVuKTtcbiAgICAgICAgcmVzb2x2ZShmKTtcbiAgICAgICAgc2VsZi50aGVuID0gX3RoZW47XG4gICAgICB9O1xuXG4gICAgICBpZiAoc2VsZi5faW5pdHRlZCAmJiBzZWxmLnRvdGFsUHJvZ3Jlc3MoKSA9PT0gMSAmJiBzZWxmLl90cyA+PSAwIHx8ICFzZWxmLl90VGltZSAmJiBzZWxmLl90cyA8IDApIHtcbiAgICAgICAgX3Jlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuX3Byb20gPSBfcmVzb2x2ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8ua2lsbCA9IGZ1bmN0aW9uIGtpbGwoKSB7XG4gICAgX2ludGVycnVwdCh0aGlzKTtcbiAgfTtcblxuICByZXR1cm4gQW5pbWF0aW9uO1xufSgpO1xuXG5fc2V0RGVmYXVsdHMoQW5pbWF0aW9uLnByb3RvdHlwZSwge1xuICBfdGltZTogMCxcbiAgX3N0YXJ0OiAwLFxuICBfZW5kOiAwLFxuICBfdFRpbWU6IDAsXG4gIF90RHVyOiAwLFxuICBfZGlydHk6IDAsXG4gIF9yZXBlYXQ6IDAsXG4gIF95b3lvOiBmYWxzZSxcbiAgcGFyZW50OiBudWxsLFxuICBfaW5pdHRlZDogZmFsc2UsXG4gIF9yRGVsYXk6IDAsXG4gIF90czogMSxcbiAgX2RwOiAwLFxuICByYXRpbzogMCxcbiAgX3pUaW1lOiAtX3RpbnlOdW0sXG4gIF9wcm9tOiAwLFxuICBfcHM6IGZhbHNlLFxuICBfcnRzOiAxXG59KTtcbi8qXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUSU1FTElORVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cblxuZXhwb3J0IHZhciBUaW1lbGluZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0FuaW1hdGlvbikge1xuICBfaW5oZXJpdHNMb29zZShUaW1lbGluZSwgX0FuaW1hdGlvbik7XG5cbiAgZnVuY3Rpb24gVGltZWxpbmUodmFycywgdGltZSkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGlmICh2YXJzID09PSB2b2lkIDApIHtcbiAgICAgIHZhcnMgPSB7fTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9BbmltYXRpb24uY2FsbCh0aGlzLCB2YXJzLCB0aW1lKSB8fCB0aGlzO1xuICAgIF90aGlzLmxhYmVscyA9IHt9O1xuICAgIF90aGlzLnNtb290aENoaWxkVGltaW5nID0gISF2YXJzLnNtb290aENoaWxkVGltaW5nO1xuICAgIF90aGlzLmF1dG9SZW1vdmVDaGlsZHJlbiA9ICEhdmFycy5hdXRvUmVtb3ZlQ2hpbGRyZW47XG4gICAgX3RoaXMuX3NvcnQgPSBfaXNOb3RGYWxzZSh2YXJzLnNvcnRDaGlsZHJlbik7XG4gICAgX3RoaXMucGFyZW50ICYmIF9wb3N0QWRkQ2hlY2tzKF90aGlzLnBhcmVudCwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIHZhcnMuc2Nyb2xsVHJpZ2dlciAmJiBfc2Nyb2xsVHJpZ2dlcihfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgdmFycy5zY3JvbGxUcmlnZ2VyKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvMiA9IFRpbWVsaW5lLnByb3RvdHlwZTtcblxuICBfcHJvdG8yLnRvID0gZnVuY3Rpb24gdG8odGFyZ2V0cywgdmFycywgcG9zaXRpb24pIHtcbiAgICBuZXcgVHdlZW4odGFyZ2V0cywgX3BhcnNlVmFycyhhcmd1bWVudHMsIDAsIHRoaXMpLCBfcGFyc2VQb3NpdGlvbih0aGlzLCBfaXNOdW1iZXIodmFycykgPyBhcmd1bWVudHNbM10gOiBwb3NpdGlvbikpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzIuZnJvbSA9IGZ1bmN0aW9uIGZyb20odGFyZ2V0cywgdmFycywgcG9zaXRpb24pIHtcbiAgICBuZXcgVHdlZW4odGFyZ2V0cywgX3BhcnNlVmFycyhhcmd1bWVudHMsIDEsIHRoaXMpLCBfcGFyc2VQb3NpdGlvbih0aGlzLCBfaXNOdW1iZXIodmFycykgPyBhcmd1bWVudHNbM10gOiBwb3NpdGlvbikpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzIuZnJvbVRvID0gZnVuY3Rpb24gZnJvbVRvKHRhcmdldHMsIGZyb21WYXJzLCB0b1ZhcnMsIHBvc2l0aW9uKSB7XG4gICAgbmV3IFR3ZWVuKHRhcmdldHMsIF9wYXJzZVZhcnMoYXJndW1lbnRzLCAyLCB0aGlzKSwgX3BhcnNlUG9zaXRpb24odGhpcywgX2lzTnVtYmVyKGZyb21WYXJzKSA/IGFyZ3VtZW50c1s0XSA6IHBvc2l0aW9uKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgX3Byb3RvMi5zZXQgPSBmdW5jdGlvbiBzZXQodGFyZ2V0cywgdmFycywgcG9zaXRpb24pIHtcbiAgICB2YXJzLmR1cmF0aW9uID0gMDtcbiAgICB2YXJzLnBhcmVudCA9IHRoaXM7XG4gICAgX2luaGVyaXREZWZhdWx0cyh2YXJzKS5yZXBlYXREZWxheSB8fCAodmFycy5yZXBlYXQgPSAwKTtcbiAgICB2YXJzLmltbWVkaWF0ZVJlbmRlciA9ICEhdmFycy5pbW1lZGlhdGVSZW5kZXI7XG4gICAgbmV3IFR3ZWVuKHRhcmdldHMsIHZhcnMsIF9wYXJzZVBvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKSwgMSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgX3Byb3RvMi5jYWxsID0gZnVuY3Rpb24gY2FsbChjYWxsYmFjaywgcGFyYW1zLCBwb3NpdGlvbikge1xuICAgIHJldHVybiBfYWRkVG9UaW1lbGluZSh0aGlzLCBUd2Vlbi5kZWxheWVkQ2FsbCgwLCBjYWxsYmFjaywgcGFyYW1zKSwgX3BhcnNlUG9zaXRpb24odGhpcywgcG9zaXRpb24pKTtcbiAgfSAvL09OTFkgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkhIE1heWJlIGRlbGV0ZT9cbiAgO1xuXG4gIF9wcm90bzIuc3RhZ2dlclRvID0gZnVuY3Rpb24gc3RhZ2dlclRvKHRhcmdldHMsIGR1cmF0aW9uLCB2YXJzLCBzdGFnZ2VyLCBwb3NpdGlvbiwgb25Db21wbGV0ZUFsbCwgb25Db21wbGV0ZUFsbFBhcmFtcykge1xuICAgIHZhcnMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICB2YXJzLnN0YWdnZXIgPSB2YXJzLnN0YWdnZXIgfHwgc3RhZ2dlcjtcbiAgICB2YXJzLm9uQ29tcGxldGUgPSBvbkNvbXBsZXRlQWxsO1xuICAgIHZhcnMub25Db21wbGV0ZVBhcmFtcyA9IG9uQ29tcGxldGVBbGxQYXJhbXM7XG4gICAgdmFycy5wYXJlbnQgPSB0aGlzO1xuICAgIG5ldyBUd2Vlbih0YXJnZXRzLCB2YXJzLCBfcGFyc2VQb3NpdGlvbih0aGlzLCBwb3NpdGlvbikpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzIuc3RhZ2dlckZyb20gPSBmdW5jdGlvbiBzdGFnZ2VyRnJvbSh0YXJnZXRzLCBkdXJhdGlvbiwgdmFycywgc3RhZ2dlciwgcG9zaXRpb24sIG9uQ29tcGxldGVBbGwsIG9uQ29tcGxldGVBbGxQYXJhbXMpIHtcbiAgICB2YXJzLnJ1bkJhY2t3YXJkcyA9IDE7XG4gICAgX2luaGVyaXREZWZhdWx0cyh2YXJzKS5pbW1lZGlhdGVSZW5kZXIgPSBfaXNOb3RGYWxzZSh2YXJzLmltbWVkaWF0ZVJlbmRlcik7XG4gICAgcmV0dXJuIHRoaXMuc3RhZ2dlclRvKHRhcmdldHMsIGR1cmF0aW9uLCB2YXJzLCBzdGFnZ2VyLCBwb3NpdGlvbiwgb25Db21wbGV0ZUFsbCwgb25Db21wbGV0ZUFsbFBhcmFtcyk7XG4gIH07XG5cbiAgX3Byb3RvMi5zdGFnZ2VyRnJvbVRvID0gZnVuY3Rpb24gc3RhZ2dlckZyb21Ubyh0YXJnZXRzLCBkdXJhdGlvbiwgZnJvbVZhcnMsIHRvVmFycywgc3RhZ2dlciwgcG9zaXRpb24sIG9uQ29tcGxldGVBbGwsIG9uQ29tcGxldGVBbGxQYXJhbXMpIHtcbiAgICB0b1ZhcnMuc3RhcnRBdCA9IGZyb21WYXJzO1xuICAgIF9pbmhlcml0RGVmYXVsdHModG9WYXJzKS5pbW1lZGlhdGVSZW5kZXIgPSBfaXNOb3RGYWxzZSh0b1ZhcnMuaW1tZWRpYXRlUmVuZGVyKTtcbiAgICByZXR1cm4gdGhpcy5zdGFnZ2VyVG8odGFyZ2V0cywgZHVyYXRpb24sIHRvVmFycywgc3RhZ2dlciwgcG9zaXRpb24sIG9uQ29tcGxldGVBbGwsIG9uQ29tcGxldGVBbGxQYXJhbXMpO1xuICB9O1xuXG4gIF9wcm90bzIucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKHRvdGFsVGltZSwgc3VwcHJlc3NFdmVudHMsIGZvcmNlKSB7XG4gICAgdmFyIHByZXZUaW1lID0gdGhpcy5fdGltZSxcbiAgICAgICAgdER1ciA9IHRoaXMuX2RpcnR5ID8gdGhpcy50b3RhbER1cmF0aW9uKCkgOiB0aGlzLl90RHVyLFxuICAgICAgICBkdXIgPSB0aGlzLl9kdXIsXG4gICAgICAgIHRUaW1lID0gdGhpcyAhPT0gX2dsb2JhbFRpbWVsaW5lICYmIHRvdGFsVGltZSA+IHREdXIgLSBfdGlueU51bSAmJiB0b3RhbFRpbWUgPj0gMCA/IHREdXIgOiB0b3RhbFRpbWUgPCBfdGlueU51bSA/IDAgOiB0b3RhbFRpbWUsXG4gICAgICAgIGNyb3NzaW5nU3RhcnQgPSB0aGlzLl96VGltZSA8IDAgIT09IHRvdGFsVGltZSA8IDAgJiYgKHRoaXMuX2luaXR0ZWQgfHwgIWR1ciksXG4gICAgICAgIHRpbWUsXG4gICAgICAgIGNoaWxkLFxuICAgICAgICBuZXh0LFxuICAgICAgICBpdGVyYXRpb24sXG4gICAgICAgIGN5Y2xlRHVyYXRpb24sXG4gICAgICAgIHByZXZQYXVzZWQsXG4gICAgICAgIHBhdXNlVHdlZW4sXG4gICAgICAgIHRpbWVTY2FsZSxcbiAgICAgICAgcHJldlN0YXJ0LFxuICAgICAgICBwcmV2SXRlcmF0aW9uLFxuICAgICAgICB5b3lvLFxuICAgICAgICBpc1lveW87XG5cbiAgICBpZiAodFRpbWUgIT09IHRoaXMuX3RUaW1lIHx8IGZvcmNlIHx8IGNyb3NzaW5nU3RhcnQpIHtcbiAgICAgIGlmIChwcmV2VGltZSAhPT0gdGhpcy5fdGltZSAmJiBkdXIpIHtcbiAgICAgICAgLy9pZiB0b3RhbER1cmF0aW9uKCkgZmluZHMgYSBjaGlsZCB3aXRoIGEgbmVnYXRpdmUgc3RhcnRUaW1lIGFuZCBzbW9vdGhDaGlsZFRpbWluZyBpcyB0cnVlLCB0aGluZ3MgZ2V0IHNoaWZ0ZWQgYXJvdW5kIGludGVybmFsbHkgc28gd2UgbmVlZCB0byBhZGp1c3QgdGhlIHRpbWUgYWNjb3JkaW5nbHkuIEZvciBleGFtcGxlLCBpZiBhIHR3ZWVuIHN0YXJ0cyBhdCAtMzAgd2UgbXVzdCBzaGlmdCBFVkVSWVRISU5HIGZvcndhcmQgMzAgc2Vjb25kcyBhbmQgbW92ZSB0aGlzIHRpbWVsaW5lJ3Mgc3RhcnRUaW1lIGJhY2t3YXJkIGJ5IDMwIHNlY29uZHMgc28gdGhhdCB0aGluZ3MgYWxpZ24gd2l0aCB0aGUgcGxheWhlYWQgKG5vIGp1bXApLlxuICAgICAgICB0VGltZSArPSB0aGlzLl90aW1lIC0gcHJldlRpbWU7XG4gICAgICAgIHRvdGFsVGltZSArPSB0aGlzLl90aW1lIC0gcHJldlRpbWU7XG4gICAgICB9XG5cbiAgICAgIHRpbWUgPSB0VGltZTtcbiAgICAgIHByZXZTdGFydCA9IHRoaXMuX3N0YXJ0O1xuICAgICAgdGltZVNjYWxlID0gdGhpcy5fdHM7XG4gICAgICBwcmV2UGF1c2VkID0gIXRpbWVTY2FsZTtcblxuICAgICAgaWYgKGNyb3NzaW5nU3RhcnQpIHtcbiAgICAgICAgZHVyIHx8IChwcmV2VGltZSA9IHRoaXMuX3pUaW1lKTsgLy93aGVuIHRoZSBwbGF5aGVhZCBhcnJpdmVzIGF0IEVYQUNUTFkgdGltZSAwIChyaWdodCBvbiB0b3ApIG9mIGEgemVyby1kdXJhdGlvbiB0aW1lbGluZSwgd2UgbmVlZCB0byBkaXNjZXJuIGlmIGV2ZW50cyBhcmUgc3VwcHJlc3NlZCBzbyB0aGF0IHdoZW4gdGhlIHBsYXloZWFkIG1vdmVzIGFnYWluIChuZXh0IHRpbWUpLCBpdCdsbCB0cmlnZ2VyIHRoZSBjYWxsYmFjay4gSWYgZXZlbnRzIGFyZSBOT1Qgc3VwcHJlc3NlZCwgb2J2aW91c2x5IHRoZSBjYWxsYmFjayB3b3VsZCBiZSB0cmlnZ2VyZWQgaW4gdGhpcyByZW5kZXIuIEJhc2ljYWxseSwgdGhlIGNhbGxiYWNrIHNob3VsZCBmaXJlIGVpdGhlciB3aGVuIHRoZSBwbGF5aGVhZCBBUlJJVkVTIG9yIExFQVZFUyB0aGlzIGV4YWN0IHNwb3QsIG5vdCBib3RoLiBJbWFnaW5lIGRvaW5nIGEgdGltZWxpbmUuc2VlaygwKSBhbmQgdGhlcmUncyBhIGNhbGxiYWNrIHRoYXQgc2l0cyBhdCAwLiBTaW5jZSBldmVudHMgYXJlIHN1cHByZXNzZWQgb24gdGhhdCBzZWVrKCkgYnkgZGVmYXVsdCwgbm90aGluZyB3aWxsIGZpcmUsIGJ1dCB3aGVuIHRoZSBwbGF5aGVhZCBtb3ZlcyBvZmYgb2YgdGhhdCBwb3NpdGlvbiwgdGhlIGNhbGxiYWNrIHNob3VsZCBmaXJlLiBUaGlzIGJlaGF2aW9yIGlzIHdoYXQgcGVvcGxlIGludHVpdGl2ZWx5IGV4cGVjdC5cblxuICAgICAgICAodG90YWxUaW1lIHx8ICFzdXBwcmVzc0V2ZW50cykgJiYgKHRoaXMuX3pUaW1lID0gdG90YWxUaW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX3JlcGVhdCkge1xuICAgICAgICAvL2FkanVzdCB0aGUgdGltZSBmb3IgcmVwZWF0cyBhbmQgeW95b3NcbiAgICAgICAgeW95byA9IHRoaXMuX3lveW87XG4gICAgICAgIGN5Y2xlRHVyYXRpb24gPSBkdXIgKyB0aGlzLl9yRGVsYXk7XG4gICAgICAgIHRpbWUgPSBfcm91bmQodFRpbWUgJSBjeWNsZUR1cmF0aW9uKTsgLy9yb3VuZCB0byBhdm9pZCBmbG9hdGluZyBwb2ludCBlcnJvcnMuICg0ICUgMC44IHNob3VsZCBiZSAwIGJ1dCBzb21lIGJyb3dzZXJzIHJlcG9ydCBpdCBhcyAwLjc5OTk5OTk5ISlcblxuICAgICAgICBpZiAodFRpbWUgPT09IHREdXIpIHtcbiAgICAgICAgICAvLyB0aGUgdER1ciA9PT0gdFRpbWUgaXMgZm9yIGVkZ2UgY2FzZXMgd2hlcmUgdGhlcmUncyBhIGxlbmd0aHkgZGVjaW1hbCBvbiB0aGUgZHVyYXRpb24gYW5kIGl0IG1heSByZWFjaCB0aGUgdmVyeSBlbmQgYnV0IHRoZSB0aW1lIGlzIHJlbmRlcmVkIGFzIG5vdC1xdWl0ZS10aGVyZSAocmVtZW1iZXIsIHREdXIgaXMgcm91bmRlZCB0byA0IGRlY2ltYWxzIHdoZXJlYXMgZHVyIGlzbid0KVxuICAgICAgICAgIGl0ZXJhdGlvbiA9IHRoaXMuX3JlcGVhdDtcbiAgICAgICAgICB0aW1lID0gZHVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZXJhdGlvbiA9IH5+KHRUaW1lIC8gY3ljbGVEdXJhdGlvbik7XG5cbiAgICAgICAgICBpZiAoaXRlcmF0aW9uICYmIGl0ZXJhdGlvbiA9PT0gdFRpbWUgLyBjeWNsZUR1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aW1lID0gZHVyO1xuICAgICAgICAgICAgaXRlcmF0aW9uLS07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGltZSA+IGR1ciAmJiAodGltZSA9IGR1cik7XG4gICAgICAgIH1cblxuICAgICAgICBwcmV2SXRlcmF0aW9uID0gX2FuaW1hdGlvbkN5Y2xlKHRoaXMuX3RUaW1lLCBjeWNsZUR1cmF0aW9uKTtcbiAgICAgICAgIXByZXZUaW1lICYmIHRoaXMuX3RUaW1lICYmIHByZXZJdGVyYXRpb24gIT09IGl0ZXJhdGlvbiAmJiAocHJldkl0ZXJhdGlvbiA9IGl0ZXJhdGlvbik7IC8vIGVkZ2UgY2FzZSAtIGlmIHNvbWVvbmUgZG9lcyBhZGRQYXVzZSgpIGF0IHRoZSB2ZXJ5IGJlZ2lubmluZyBvZiBhIHJlcGVhdGluZyB0aW1lbGluZSwgdGhhdCBwYXVzZSBpcyB0ZWNobmljYWxseSBhdCB0aGUgc2FtZSBzcG90IGFzIHRoZSBlbmQgd2hpY2ggY2F1c2VzIHRoaXMuX3RpbWUgdG8gZ2V0IHNldCB0byAwIHdoZW4gdGhlIHRvdGFsVGltZSB3b3VsZCBub3JtYWxseSBwbGFjZSB0aGUgcGxheWhlYWQgYXQgdGhlIGVuZC4gU2VlIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9mb3J1bXMvdG9waWMvMjM4MjMtY2xvc2luZy1uYXYtYW5pbWF0aW9uLW5vdC13b3JraW5nLW9uLWllLWFuZC1pcGhvbmUtNi1tYXliZS1vdGhlci1vbGRlci1icm93c2VyLz90YWI9Y29tbWVudHMjY29tbWVudC0xMTMwMDVcblxuICAgICAgICBpZiAoeW95byAmJiBpdGVyYXRpb24gJiAxKSB7XG4gICAgICAgICAgdGltZSA9IGR1ciAtIHRpbWU7XG4gICAgICAgICAgaXNZb3lvID0gMTtcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICBtYWtlIHN1cmUgY2hpbGRyZW4gYXQgdGhlIGVuZC9iZWdpbm5pbmcgb2YgdGhlIHRpbWVsaW5lIGFyZSByZW5kZXJlZCBwcm9wZXJseS4gSWYsIGZvciBleGFtcGxlLFxuICAgICAgICBhIDMtc2Vjb25kIGxvbmcgdGltZWxpbmUgcmVuZGVyZWQgYXQgMi45IHNlY29uZHMgcHJldmlvdXNseSwgYW5kIG5vdyByZW5kZXJzIGF0IDMuMiBzZWNvbmRzICh3aGljaFxuICAgICAgICB3b3VsZCBnZXQgdHJhbnNsYXRlZCB0byAyLjggc2Vjb25kcyBpZiB0aGUgdGltZWxpbmUgeW95b3Mgb3IgMC4yIHNlY29uZHMgaWYgaXQganVzdCByZXBlYXRzKSwgdGhlcmVcbiAgICAgICAgY291bGQgYmUgYSBjYWxsYmFjayBvciBhIHNob3J0IHR3ZWVuIHRoYXQncyBhdCAyLjk1IG9yIDMgc2Vjb25kcyBpbiB3aGljaCB3b3VsZG4ndCByZW5kZXIuIFNvXG4gICAgICAgIHdlIG5lZWQgdG8gcHVzaCB0aGUgdGltZWxpbmUgdG8gdGhlIGVuZCAoYW5kL29yIGJlZ2lubmluZyBkZXBlbmRpbmcgb24gaXRzIHlveW8gdmFsdWUpLiBBbHNvIHdlIG11c3RcbiAgICAgICAgZW5zdXJlIHRoYXQgemVyby1kdXJhdGlvbiB0d2VlbnMgYXQgdGhlIHZlcnkgYmVnaW5uaW5nIG9yIGVuZCBvZiB0aGUgVGltZWxpbmUgd29yay5cbiAgICAgICAgKi9cblxuXG4gICAgICAgIGlmIChpdGVyYXRpb24gIT09IHByZXZJdGVyYXRpb24gJiYgIXRoaXMuX2xvY2spIHtcbiAgICAgICAgICB2YXIgcmV3aW5kaW5nID0geW95byAmJiBwcmV2SXRlcmF0aW9uICYgMSxcbiAgICAgICAgICAgICAgZG9lc1dyYXAgPSByZXdpbmRpbmcgPT09ICh5b3lvICYmIGl0ZXJhdGlvbiAmIDEpO1xuICAgICAgICAgIGl0ZXJhdGlvbiA8IHByZXZJdGVyYXRpb24gJiYgKHJld2luZGluZyA9ICFyZXdpbmRpbmcpO1xuICAgICAgICAgIHByZXZUaW1lID0gcmV3aW5kaW5nID8gMCA6IGR1cjtcbiAgICAgICAgICB0aGlzLl9sb2NrID0gMTtcbiAgICAgICAgICB0aGlzLnJlbmRlcihwcmV2VGltZSB8fCAoaXNZb3lvID8gMCA6IF9yb3VuZChpdGVyYXRpb24gKiBjeWNsZUR1cmF0aW9uKSksIHN1cHByZXNzRXZlbnRzLCAhZHVyKS5fbG9jayA9IDA7XG4gICAgICAgICAgIXN1cHByZXNzRXZlbnRzICYmIHRoaXMucGFyZW50ICYmIF9jYWxsYmFjayh0aGlzLCBcIm9uUmVwZWF0XCIpO1xuICAgICAgICAgIHRoaXMudmFycy5yZXBlYXRSZWZyZXNoICYmICFpc1lveW8gJiYgKHRoaXMuaW52YWxpZGF0ZSgpLl9sb2NrID0gMSk7XG5cbiAgICAgICAgICBpZiAocHJldlRpbWUgIT09IHRoaXMuX3RpbWUgfHwgcHJldlBhdXNlZCAhPT0gIXRoaXMuX3RzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkdXIgPSB0aGlzLl9kdXI7IC8vIGluIGNhc2UgdGhlIGR1cmF0aW9uIGNoYW5nZWQgaW4gdGhlIG9uUmVwZWF0XG5cbiAgICAgICAgICB0RHVyID0gdGhpcy5fdER1cjtcblxuICAgICAgICAgIGlmIChkb2VzV3JhcCkge1xuICAgICAgICAgICAgdGhpcy5fbG9jayA9IDI7XG4gICAgICAgICAgICBwcmV2VGltZSA9IHJld2luZGluZyA/IGR1ciA6IC0wLjAwMDE7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcihwcmV2VGltZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnZhcnMucmVwZWF0UmVmcmVzaCAmJiAhaXNZb3lvICYmIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX2xvY2sgPSAwO1xuXG4gICAgICAgICAgaWYgKCF0aGlzLl90cyAmJiAhcHJldlBhdXNlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfSAvL2luIG9yZGVyIGZvciB5b3lvRWFzZSB0byB3b3JrIHByb3Blcmx5IHdoZW4gdGhlcmUncyBhIHN0YWdnZXIsIHdlIG11c3Qgc3dhcCBvdXQgdGhlIGVhc2UgaW4gZWFjaCBzdWItdHdlZW4uXG5cblxuICAgICAgICAgIF9wcm9wYWdhdGVZb3lvRWFzZSh0aGlzLCBpc1lveW8pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9oYXNQYXVzZSAmJiAhdGhpcy5fZm9yY2luZyAmJiB0aGlzLl9sb2NrIDwgMikge1xuICAgICAgICBwYXVzZVR3ZWVuID0gX2ZpbmROZXh0UGF1c2VUd2Vlbih0aGlzLCBfcm91bmQocHJldlRpbWUpLCBfcm91bmQodGltZSkpO1xuXG4gICAgICAgIGlmIChwYXVzZVR3ZWVuKSB7XG4gICAgICAgICAgdFRpbWUgLT0gdGltZSAtICh0aW1lID0gcGF1c2VUd2Vlbi5fc3RhcnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3RUaW1lID0gdFRpbWU7XG4gICAgICB0aGlzLl90aW1lID0gdGltZTtcbiAgICAgIHRoaXMuX2FjdCA9ICF0aW1lU2NhbGU7IC8vYXMgbG9uZyBhcyBpdCdzIG5vdCBwYXVzZWQsIGZvcmNlIGl0IHRvIGJlIGFjdGl2ZSBzbyB0aGF0IGlmIHRoZSB1c2VyIHJlbmRlcnMgaW5kZXBlbmRlbnQgb2YgdGhlIHBhcmVudCB0aW1lbGluZSwgaXQnbGwgYmUgZm9yY2VkIHRvIHJlLXJlbmRlciBvbiB0aGUgbmV4dCB0aWNrLlxuXG4gICAgICBpZiAoIXRoaXMuX2luaXR0ZWQpIHtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUgPSB0aGlzLnZhcnMub25VcGRhdGU7XG4gICAgICAgIHRoaXMuX2luaXR0ZWQgPSAxO1xuICAgICAgICB0aGlzLl96VGltZSA9IHRvdGFsVGltZTtcbiAgICAgIH1cblxuICAgICAgIXByZXZUaW1lICYmIHRpbWUgJiYgIXN1cHByZXNzRXZlbnRzICYmIF9jYWxsYmFjayh0aGlzLCBcIm9uU3RhcnRcIik7XG5cbiAgICAgIGlmICh0aW1lID49IHByZXZUaW1lICYmIHRvdGFsVGltZSA+PSAwKSB7XG4gICAgICAgIGNoaWxkID0gdGhpcy5fZmlyc3Q7XG5cbiAgICAgICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgICAgbmV4dCA9IGNoaWxkLl9uZXh0O1xuXG4gICAgICAgICAgaWYgKChjaGlsZC5fYWN0IHx8IHRpbWUgPj0gY2hpbGQuX3N0YXJ0KSAmJiBjaGlsZC5fdHMgJiYgcGF1c2VUd2VlbiAhPT0gY2hpbGQpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgLy8gYW4gZXh0cmVtZSBlZGdlIGNhc2UgLSB0aGUgY2hpbGQncyByZW5kZXIgY291bGQgZG8gc29tZXRoaW5nIGxpa2Uga2lsbCgpIHRoZSBcIm5leHRcIiBvbmUgaW4gdGhlIGxpbmtlZCBsaXN0LCBvciByZXBhcmVudCBpdC4gSW4gdGhhdCBjYXNlIHdlIG11c3QgcmUtaW5pdGlhdGUgdGhlIHdob2xlIHJlbmRlciB0byBiZSBzYWZlLlxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXIodG90YWxUaW1lLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5yZW5kZXIoY2hpbGQuX3RzID4gMCA/ICh0aW1lIC0gY2hpbGQuX3N0YXJ0KSAqIGNoaWxkLl90cyA6IChjaGlsZC5fZGlydHkgPyBjaGlsZC50b3RhbER1cmF0aW9uKCkgOiBjaGlsZC5fdER1cikgKyAodGltZSAtIGNoaWxkLl9zdGFydCkgKiBjaGlsZC5fdHMsIHN1cHByZXNzRXZlbnRzLCBmb3JjZSk7XG5cbiAgICAgICAgICAgIGlmICh0aW1lICE9PSB0aGlzLl90aW1lIHx8ICF0aGlzLl90cyAmJiAhcHJldlBhdXNlZCkge1xuICAgICAgICAgICAgICAvL2luIGNhc2UgYSB0d2VlbiBwYXVzZXMgb3Igc2Vla3MgdGhlIHRpbWVsaW5lIHdoZW4gcmVuZGVyaW5nLCBsaWtlIGluc2lkZSBvZiBhbiBvblVwZGF0ZS9vbkNvbXBsZXRlXG4gICAgICAgICAgICAgIHBhdXNlVHdlZW4gPSAwO1xuICAgICAgICAgICAgICBuZXh0ICYmICh0VGltZSArPSB0aGlzLl96VGltZSA9IC1fdGlueU51bSk7IC8vIGl0IGRpZG4ndCBmaW5pc2ggcmVuZGVyaW5nLCBzbyBmbGFnIHpUaW1lIGFzIG5lZ2F0aXZlIHNvIHRoYXQgc28gdGhhdCB0aGUgbmV4dCB0aW1lIHJlbmRlcigpIGlzIGNhbGxlZCBpdCdsbCBiZSBmb3JjZWQgKHRvIHJlbmRlciBhbnkgcmVtYWluaW5nIGNoaWxkcmVuKVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNoaWxkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGQgPSB0aGlzLl9sYXN0O1xuICAgICAgICB2YXIgYWRqdXN0ZWRUaW1lID0gdG90YWxUaW1lIDwgMCA/IHRvdGFsVGltZSA6IHRpbWU7IC8vd2hlbiB0aGUgcGxheWhlYWQgZ29lcyBiYWNrd2FyZCBiZXlvbmQgdGhlIHN0YXJ0IG9mIHRoaXMgdGltZWxpbmUsIHdlIG11c3QgcGFzcyB0aGF0IGluZm9ybWF0aW9uIGRvd24gdG8gdGhlIGNoaWxkIGFuaW1hdGlvbnMgc28gdGhhdCB6ZXJvLWR1cmF0aW9uIHR3ZWVucyBrbm93IHdoZXRoZXIgdG8gcmVuZGVyIHRoZWlyIHN0YXJ0aW5nIG9yIGVuZGluZyB2YWx1ZXMuXG5cbiAgICAgICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgICAgbmV4dCA9IGNoaWxkLl9wcmV2O1xuXG4gICAgICAgICAgaWYgKChjaGlsZC5fYWN0IHx8IGFkanVzdGVkVGltZSA8PSBjaGlsZC5fZW5kKSAmJiBjaGlsZC5fdHMgJiYgcGF1c2VUd2VlbiAhPT0gY2hpbGQpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgLy8gYW4gZXh0cmVtZSBlZGdlIGNhc2UgLSB0aGUgY2hpbGQncyByZW5kZXIgY291bGQgZG8gc29tZXRoaW5nIGxpa2Uga2lsbCgpIHRoZSBcIm5leHRcIiBvbmUgaW4gdGhlIGxpbmtlZCBsaXN0LCBvciByZXBhcmVudCBpdC4gSW4gdGhhdCBjYXNlIHdlIG11c3QgcmUtaW5pdGlhdGUgdGhlIHdob2xlIHJlbmRlciB0byBiZSBzYWZlLlxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXIodG90YWxUaW1lLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5yZW5kZXIoY2hpbGQuX3RzID4gMCA/IChhZGp1c3RlZFRpbWUgLSBjaGlsZC5fc3RhcnQpICogY2hpbGQuX3RzIDogKGNoaWxkLl9kaXJ0eSA/IGNoaWxkLnRvdGFsRHVyYXRpb24oKSA6IGNoaWxkLl90RHVyKSArIChhZGp1c3RlZFRpbWUgLSBjaGlsZC5fc3RhcnQpICogY2hpbGQuX3RzLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpO1xuXG4gICAgICAgICAgICBpZiAodGltZSAhPT0gdGhpcy5fdGltZSB8fCAhdGhpcy5fdHMgJiYgIXByZXZQYXVzZWQpIHtcbiAgICAgICAgICAgICAgLy9pbiBjYXNlIGEgdHdlZW4gcGF1c2VzIG9yIHNlZWtzIHRoZSB0aW1lbGluZSB3aGVuIHJlbmRlcmluZywgbGlrZSBpbnNpZGUgb2YgYW4gb25VcGRhdGUvb25Db21wbGV0ZVxuICAgICAgICAgICAgICBwYXVzZVR3ZWVuID0gMDtcbiAgICAgICAgICAgICAgbmV4dCAmJiAodFRpbWUgKz0gdGhpcy5felRpbWUgPSBhZGp1c3RlZFRpbWUgPyAtX3RpbnlOdW0gOiBfdGlueU51bSk7IC8vIGl0IGRpZG4ndCBmaW5pc2ggcmVuZGVyaW5nLCBzbyBhZGp1c3QgelRpbWUgc28gdGhhdCBzbyB0aGF0IHRoZSBuZXh0IHRpbWUgcmVuZGVyKCkgaXMgY2FsbGVkIGl0J2xsIGJlIGZvcmNlZCAodG8gcmVuZGVyIGFueSByZW1haW5pbmcgY2hpbGRyZW4pXG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hpbGQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXVzZVR3ZWVuICYmICFzdXBwcmVzc0V2ZW50cykge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgIHBhdXNlVHdlZW4ucmVuZGVyKHRpbWUgPj0gcHJldlRpbWUgPyAwIDogLV90aW55TnVtKS5felRpbWUgPSB0aW1lID49IHByZXZUaW1lID8gMSA6IC0xO1xuXG4gICAgICAgIGlmICh0aGlzLl90cykge1xuICAgICAgICAgIC8vdGhlIGNhbGxiYWNrIHJlc3VtZWQgcGxheWJhY2shIFNvIHNpbmNlIHdlIG1heSBoYXZlIGhlbGQgYmFjayB0aGUgcGxheWhlYWQgZHVlIHRvIHdoZXJlIHRoZSBwYXVzZSBpcyBwb3NpdGlvbmVkLCBnbyBhaGVhZCBhbmQganVtcCB0byB3aGVyZSBpdCdzIFNVUFBPU0VEIHRvIGJlIChpZiBubyBwYXVzZSBoYXBwZW5lZCkuXG4gICAgICAgICAgdGhpcy5fc3RhcnQgPSBwcmV2U3RhcnQ7IC8vaWYgdGhlIHBhdXNlIHdhcyBhdCBhbiBlYXJsaWVyIHRpbWUgYW5kIHRoZSB1c2VyIHJlc3VtZWQgaW4gdGhlIGNhbGxiYWNrLCBpdCBjb3VsZCByZXBvc2l0aW9uIHRoZSB0aW1lbGluZSAoY2hhbmdpbmcgaXRzIHN0YXJ0VGltZSksIHRocm93aW5nIHRoaW5ncyBvZmYgc2xpZ2h0bHksIHNvIHdlIG1ha2Ugc3VyZSB0aGUgX3N0YXJ0IGRvZXNuJ3Qgc2hpZnQuXG5cbiAgICAgICAgICBfc2V0RW5kKHRoaXMpO1xuXG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHRvdGFsVGltZSwgc3VwcHJlc3NFdmVudHMsIGZvcmNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9vblVwZGF0ZSAmJiAhc3VwcHJlc3NFdmVudHMgJiYgX2NhbGxiYWNrKHRoaXMsIFwib25VcGRhdGVcIiwgdHJ1ZSk7XG4gICAgICBpZiAodFRpbWUgPT09IHREdXIgJiYgdER1ciA+PSB0aGlzLnRvdGFsRHVyYXRpb24oKSB8fCAhdFRpbWUgJiYgcHJldlRpbWUpIGlmIChwcmV2U3RhcnQgPT09IHRoaXMuX3N0YXJ0IHx8IE1hdGguYWJzKHRpbWVTY2FsZSkgIT09IE1hdGguYWJzKHRoaXMuX3RzKSkgaWYgKCF0aGlzLl9sb2NrKSB7XG4gICAgICAgICh0b3RhbFRpbWUgfHwgIWR1cikgJiYgKHRUaW1lID09PSB0RHVyICYmIHRoaXMuX3RzID4gMCB8fCAhdFRpbWUgJiYgdGhpcy5fdHMgPCAwKSAmJiBfcmVtb3ZlRnJvbVBhcmVudCh0aGlzLCAxKTsgLy8gZG9uJ3QgcmVtb3ZlIGlmIHRoZSB0aW1lbGluZSBpcyByZXZlcnNlZCBhbmQgdGhlIHBsYXloZWFkIGlzbid0IGF0IDAsIG90aGVyd2lzZSB0bC5wcm9ncmVzcygxKS5yZXZlcnNlKCkgd29uJ3Qgd29yay4gT25seSByZW1vdmUgaWYgdGhlIHBsYXloZWFkIGlzIGF0IHRoZSBlbmQgYW5kIHRpbWVTY2FsZSBpcyBwb3NpdGl2ZSwgb3IgaWYgdGhlIHBsYXloZWFkIGlzIGF0IDAgYW5kIHRoZSB0aW1lU2NhbGUgaXMgbmVnYXRpdmUuXG5cbiAgICAgICAgaWYgKCFzdXBwcmVzc0V2ZW50cyAmJiAhKHRvdGFsVGltZSA8IDAgJiYgIXByZXZUaW1lKSAmJiAodFRpbWUgfHwgcHJldlRpbWUpKSB7XG4gICAgICAgICAgX2NhbGxiYWNrKHRoaXMsIHRUaW1lID09PSB0RHVyID8gXCJvbkNvbXBsZXRlXCIgOiBcIm9uUmV2ZXJzZUNvbXBsZXRlXCIsIHRydWUpO1xuXG4gICAgICAgICAgdGhpcy5fcHJvbSAmJiAhKHRUaW1lIDwgdER1ciAmJiB0aGlzLnRpbWVTY2FsZSgpID4gMCkgJiYgdGhpcy5fcHJvbSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgX3Byb3RvMi5hZGQgPSBmdW5jdGlvbiBhZGQoY2hpbGQsIHBvc2l0aW9uKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAoIV9pc051bWJlcihwb3NpdGlvbikpIHtcbiAgICAgIHBvc2l0aW9uID0gX3BhcnNlUG9zaXRpb24odGhpcywgcG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmICghKGNoaWxkIGluc3RhbmNlb2YgQW5pbWF0aW9uKSkge1xuICAgICAgaWYgKF9pc0FycmF5KGNoaWxkKSkge1xuICAgICAgICBjaGlsZC5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmFkZChvYmosIHBvc2l0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2lzU3RyaW5nKGNoaWxkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRMYWJlbChjaGlsZCwgcG9zaXRpb24pO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2lzRnVuY3Rpb24oY2hpbGQpKSB7XG4gICAgICAgIGNoaWxkID0gVHdlZW4uZGVsYXllZENhbGwoMCwgY2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMgIT09IGNoaWxkID8gX2FkZFRvVGltZWxpbmUodGhpcywgY2hpbGQsIHBvc2l0aW9uKSA6IHRoaXM7IC8vZG9uJ3QgYWxsb3cgYSB0aW1lbGluZSB0byBiZSBhZGRlZCB0byBpdHNlbGYgYXMgYSBjaGlsZCFcbiAgfTtcblxuICBfcHJvdG8yLmdldENoaWxkcmVuID0gZnVuY3Rpb24gZ2V0Q2hpbGRyZW4obmVzdGVkLCB0d2VlbnMsIHRpbWVsaW5lcywgaWdub3JlQmVmb3JlVGltZSkge1xuICAgIGlmIChuZXN0ZWQgPT09IHZvaWQgMCkge1xuICAgICAgbmVzdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodHdlZW5zID09PSB2b2lkIDApIHtcbiAgICAgIHR3ZWVucyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHRpbWVsaW5lcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0aW1lbGluZXMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpZ25vcmVCZWZvcmVUaW1lID09PSB2b2lkIDApIHtcbiAgICAgIGlnbm9yZUJlZm9yZVRpbWUgPSAtX2JpZ051bTtcbiAgICB9XG5cbiAgICB2YXIgYSA9IFtdLFxuICAgICAgICBjaGlsZCA9IHRoaXMuX2ZpcnN0O1xuXG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQuX3N0YXJ0ID49IGlnbm9yZUJlZm9yZVRpbWUpIHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVHdlZW4pIHtcbiAgICAgICAgICB0d2VlbnMgJiYgYS5wdXNoKGNoaWxkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aW1lbGluZXMgJiYgYS5wdXNoKGNoaWxkKTtcbiAgICAgICAgICBuZXN0ZWQgJiYgYS5wdXNoLmFwcGx5KGEsIGNoaWxkLmdldENoaWxkcmVuKHRydWUsIHR3ZWVucywgdGltZWxpbmVzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2hpbGQgPSBjaGlsZC5fbmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcblxuICBfcHJvdG8yLmdldEJ5SWQgPSBmdW5jdGlvbiBnZXRCeUlkKGlkKSB7XG4gICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLmdldENoaWxkcmVuKDEsIDEsIDEpLFxuICAgICAgICBpID0gYW5pbWF0aW9ucy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBpZiAoYW5pbWF0aW9uc1tpXS52YXJzLmlkID09PSBpZCkge1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvMi5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoY2hpbGQpIHtcbiAgICBpZiAoX2lzU3RyaW5nKGNoaWxkKSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlTGFiZWwoY2hpbGQpO1xuICAgIH1cblxuICAgIGlmIChfaXNGdW5jdGlvbihjaGlsZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmtpbGxUd2VlbnNPZihjaGlsZCk7XG4gICAgfVxuXG4gICAgX3JlbW92ZUxpbmtlZExpc3RJdGVtKHRoaXMsIGNoaWxkKTtcblxuICAgIGlmIChjaGlsZCA9PT0gdGhpcy5fcmVjZW50KSB7XG4gICAgICB0aGlzLl9yZWNlbnQgPSB0aGlzLl9sYXN0O1xuICAgIH1cblxuICAgIHJldHVybiBfdW5jYWNoZSh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8yLnRvdGFsVGltZSA9IGZ1bmN0aW9uIHRvdGFsVGltZShfdG90YWxUaW1lMiwgc3VwcHJlc3NFdmVudHMpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90VGltZTtcbiAgICB9XG5cbiAgICB0aGlzLl9mb3JjaW5nID0gMTtcblxuICAgIGlmICghdGhpcy5fZHAgJiYgdGhpcy5fdHMpIHtcbiAgICAgIC8vc3BlY2lhbCBjYXNlIGZvciB0aGUgZ2xvYmFsIHRpbWVsaW5lIChvciBhbnkgb3RoZXIgdGhhdCBoYXMgbm8gcGFyZW50IG9yIGRldGFjaGVkIHBhcmVudCkuXG4gICAgICB0aGlzLl9zdGFydCA9IF9yb3VuZChfdGlja2VyLnRpbWUgLSAodGhpcy5fdHMgPiAwID8gX3RvdGFsVGltZTIgLyB0aGlzLl90cyA6ICh0aGlzLnRvdGFsRHVyYXRpb24oKSAtIF90b3RhbFRpbWUyKSAvIC10aGlzLl90cykpO1xuICAgIH1cblxuICAgIF9BbmltYXRpb24ucHJvdG90eXBlLnRvdGFsVGltZS5jYWxsKHRoaXMsIF90b3RhbFRpbWUyLCBzdXBwcmVzc0V2ZW50cyk7XG5cbiAgICB0aGlzLl9mb3JjaW5nID0gMDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8yLmFkZExhYmVsID0gZnVuY3Rpb24gYWRkTGFiZWwobGFiZWwsIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5sYWJlbHNbbGFiZWxdID0gX3BhcnNlUG9zaXRpb24odGhpcywgcG9zaXRpb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzIucmVtb3ZlTGFiZWwgPSBmdW5jdGlvbiByZW1vdmVMYWJlbChsYWJlbCkge1xuICAgIGRlbGV0ZSB0aGlzLmxhYmVsc1tsYWJlbF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgX3Byb3RvMi5hZGRQYXVzZSA9IGZ1bmN0aW9uIGFkZFBhdXNlKHBvc2l0aW9uLCBjYWxsYmFjaywgcGFyYW1zKSB7XG4gICAgdmFyIHQgPSBUd2Vlbi5kZWxheWVkQ2FsbCgwLCBjYWxsYmFjayB8fCBfZW1wdHlGdW5jLCBwYXJhbXMpO1xuICAgIHQuZGF0YSA9IFwiaXNQYXVzZVwiO1xuICAgIHRoaXMuX2hhc1BhdXNlID0gMTtcbiAgICByZXR1cm4gX2FkZFRvVGltZWxpbmUodGhpcywgdCwgX3BhcnNlUG9zaXRpb24odGhpcywgcG9zaXRpb24pKTtcbiAgfTtcblxuICBfcHJvdG8yLnJlbW92ZVBhdXNlID0gZnVuY3Rpb24gcmVtb3ZlUGF1c2UocG9zaXRpb24pIHtcbiAgICB2YXIgY2hpbGQgPSB0aGlzLl9maXJzdDtcbiAgICBwb3NpdGlvbiA9IF9wYXJzZVBvc2l0aW9uKHRoaXMsIHBvc2l0aW9uKTtcblxuICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLl9zdGFydCA9PT0gcG9zaXRpb24gJiYgY2hpbGQuZGF0YSA9PT0gXCJpc1BhdXNlXCIpIHtcbiAgICAgICAgX3JlbW92ZUZyb21QYXJlbnQoY2hpbGQpO1xuICAgICAgfVxuXG4gICAgICBjaGlsZCA9IGNoaWxkLl9uZXh0O1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8yLmtpbGxUd2VlbnNPZiA9IGZ1bmN0aW9uIGtpbGxUd2VlbnNPZih0YXJnZXRzLCBwcm9wcywgb25seUFjdGl2ZSkge1xuICAgIHZhciB0d2VlbnMgPSB0aGlzLmdldFR3ZWVuc09mKHRhcmdldHMsIG9ubHlBY3RpdmUpLFxuICAgICAgICBpID0gdHdlZW5zLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIF9vdmVyd3JpdGluZ1R3ZWVuICE9PSB0d2VlbnNbaV0gJiYgdHdlZW5zW2ldLmtpbGwodGFyZ2V0cywgcHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzIuZ2V0VHdlZW5zT2YgPSBmdW5jdGlvbiBnZXRUd2VlbnNPZih0YXJnZXRzLCBvbmx5QWN0aXZlKSB7XG4gICAgdmFyIGEgPSBbXSxcbiAgICAgICAgcGFyc2VkVGFyZ2V0cyA9IHRvQXJyYXkodGFyZ2V0cyksXG4gICAgICAgIGNoaWxkID0gdGhpcy5fZmlyc3QsXG4gICAgICAgIGlzR2xvYmFsVGltZSA9IF9pc051bWJlcihvbmx5QWN0aXZlKSxcbiAgICAgICAgLy8gYSBudW1iZXIgaXMgaW50ZXJwcmV0ZWQgYXMgYSBnbG9iYWwgdGltZS4gSWYgdGhlIGFuaW1hdGlvbiBzcGFuc1xuICAgIGNoaWxkcmVuO1xuXG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUd2Vlbikge1xuICAgICAgICBpZiAoX2FycmF5Q29udGFpbnNBbnkoY2hpbGQuX3RhcmdldHMsIHBhcnNlZFRhcmdldHMpICYmIChpc0dsb2JhbFRpbWUgPyAoIV9vdmVyd3JpdGluZ1R3ZWVuIHx8IGNoaWxkLl9pbml0dGVkICYmIGNoaWxkLl90cykgJiYgY2hpbGQuZ2xvYmFsVGltZSgwKSA8PSBvbmx5QWN0aXZlICYmIGNoaWxkLmdsb2JhbFRpbWUoY2hpbGQudG90YWxEdXJhdGlvbigpKSA+IG9ubHlBY3RpdmUgOiAhb25seUFjdGl2ZSB8fCBjaGlsZC5pc0FjdGl2ZSgpKSkge1xuICAgICAgICAgIC8vIG5vdGU6IGlmIHRoaXMgaXMgZm9yIG92ZXJ3cml0aW5nLCBpdCBzaG91bGQgb25seSBiZSBmb3IgdHdlZW5zIHRoYXQgYXJlbid0IHBhdXNlZCBhbmQgYXJlIGluaXR0ZWQuXG4gICAgICAgICAgYS5wdXNoKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgoY2hpbGRyZW4gPSBjaGlsZC5nZXRUd2VlbnNPZihwYXJzZWRUYXJnZXRzLCBvbmx5QWN0aXZlKSkubGVuZ3RoKSB7XG4gICAgICAgIGEucHVzaC5hcHBseShhLCBjaGlsZHJlbik7XG4gICAgICB9XG5cbiAgICAgIGNoaWxkID0gY2hpbGQuX25leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG5cbiAgX3Byb3RvMi50d2VlblRvID0gZnVuY3Rpb24gdHdlZW5Ubyhwb3NpdGlvbiwgdmFycykge1xuICAgIHZhcnMgPSB2YXJzIHx8IHt9O1xuXG4gICAgdmFyIHRsID0gdGhpcyxcbiAgICAgICAgZW5kVGltZSA9IF9wYXJzZVBvc2l0aW9uKHRsLCBwb3NpdGlvbiksXG4gICAgICAgIF92YXJzID0gdmFycyxcbiAgICAgICAgc3RhcnRBdCA9IF92YXJzLnN0YXJ0QXQsXG4gICAgICAgIF9vblN0YXJ0ID0gX3ZhcnMub25TdGFydCxcbiAgICAgICAgb25TdGFydFBhcmFtcyA9IF92YXJzLm9uU3RhcnRQYXJhbXMsXG4gICAgICAgIHR3ZWVuID0gVHdlZW4udG8odGwsIF9zZXREZWZhdWx0cyh2YXJzLCB7XG4gICAgICBlYXNlOiBcIm5vbmVcIixcbiAgICAgIGxhenk6IGZhbHNlLFxuICAgICAgdGltZTogZW5kVGltZSxcbiAgICAgIG92ZXJ3cml0ZTogXCJhdXRvXCIsXG4gICAgICBkdXJhdGlvbjogdmFycy5kdXJhdGlvbiB8fCBNYXRoLmFicygoZW5kVGltZSAtIChzdGFydEF0ICYmIFwidGltZVwiIGluIHN0YXJ0QXQgPyBzdGFydEF0LnRpbWUgOiB0bC5fdGltZSkpIC8gdGwudGltZVNjYWxlKCkpIHx8IF90aW55TnVtLFxuICAgICAgb25TdGFydDogZnVuY3Rpb24gb25TdGFydCgpIHtcbiAgICAgICAgdGwucGF1c2UoKTtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gdmFycy5kdXJhdGlvbiB8fCBNYXRoLmFicygoZW5kVGltZSAtIHRsLl90aW1lKSAvIHRsLnRpbWVTY2FsZSgpKTtcbiAgICAgICAgdHdlZW4uX2R1ciAhPT0gZHVyYXRpb24gJiYgX3NldER1cmF0aW9uKHR3ZWVuLCBkdXJhdGlvbiwgMCwgMSkucmVuZGVyKHR3ZWVuLl90aW1lLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgX29uU3RhcnQgJiYgX29uU3RhcnQuYXBwbHkodHdlZW4sIG9uU3RhcnRQYXJhbXMgfHwgW10pOyAvL2luIGNhc2UgdGhlIHVzZXIgaGFkIGFuIG9uU3RhcnQgaW4gdGhlIHZhcnMgLSB3ZSBkb24ndCB3YW50IHRvIG92ZXJ3cml0ZSBpdC5cbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICByZXR1cm4gdHdlZW47XG4gIH07XG5cbiAgX3Byb3RvMi50d2VlbkZyb21UbyA9IGZ1bmN0aW9uIHR3ZWVuRnJvbVRvKGZyb21Qb3NpdGlvbiwgdG9Qb3NpdGlvbiwgdmFycykge1xuICAgIHJldHVybiB0aGlzLnR3ZWVuVG8odG9Qb3NpdGlvbiwgX3NldERlZmF1bHRzKHtcbiAgICAgIHN0YXJ0QXQ6IHtcbiAgICAgICAgdGltZTogX3BhcnNlUG9zaXRpb24odGhpcywgZnJvbVBvc2l0aW9uKVxuICAgICAgfVxuICAgIH0sIHZhcnMpKTtcbiAgfTtcblxuICBfcHJvdG8yLnJlY2VudCA9IGZ1bmN0aW9uIHJlY2VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVjZW50O1xuICB9O1xuXG4gIF9wcm90bzIubmV4dExhYmVsID0gZnVuY3Rpb24gbmV4dExhYmVsKGFmdGVyVGltZSkge1xuICAgIGlmIChhZnRlclRpbWUgPT09IHZvaWQgMCkge1xuICAgICAgYWZ0ZXJUaW1lID0gdGhpcy5fdGltZTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2dldExhYmVsSW5EaXJlY3Rpb24odGhpcywgX3BhcnNlUG9zaXRpb24odGhpcywgYWZ0ZXJUaW1lKSk7XG4gIH07XG5cbiAgX3Byb3RvMi5wcmV2aW91c0xhYmVsID0gZnVuY3Rpb24gcHJldmlvdXNMYWJlbChiZWZvcmVUaW1lKSB7XG4gICAgaWYgKGJlZm9yZVRpbWUgPT09IHZvaWQgMCkge1xuICAgICAgYmVmb3JlVGltZSA9IHRoaXMuX3RpbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9nZXRMYWJlbEluRGlyZWN0aW9uKHRoaXMsIF9wYXJzZVBvc2l0aW9uKHRoaXMsIGJlZm9yZVRpbWUpLCAxKTtcbiAgfTtcblxuICBfcHJvdG8yLmN1cnJlbnRMYWJlbCA9IGZ1bmN0aW9uIGN1cnJlbnRMYWJlbCh2YWx1ZSkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gdGhpcy5zZWVrKHZhbHVlLCB0cnVlKSA6IHRoaXMucHJldmlvdXNMYWJlbCh0aGlzLl90aW1lICsgX3RpbnlOdW0pO1xuICB9O1xuXG4gIF9wcm90bzIuc2hpZnRDaGlsZHJlbiA9IGZ1bmN0aW9uIHNoaWZ0Q2hpbGRyZW4oYW1vdW50LCBhZGp1c3RMYWJlbHMsIGlnbm9yZUJlZm9yZVRpbWUpIHtcbiAgICBpZiAoaWdub3JlQmVmb3JlVGltZSA9PT0gdm9pZCAwKSB7XG4gICAgICBpZ25vcmVCZWZvcmVUaW1lID0gMDtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGQgPSB0aGlzLl9maXJzdCxcbiAgICAgICAgbGFiZWxzID0gdGhpcy5sYWJlbHMsXG4gICAgICAgIHA7XG5cbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC5fc3RhcnQgPj0gaWdub3JlQmVmb3JlVGltZSkge1xuICAgICAgICBjaGlsZC5fc3RhcnQgKz0gYW1vdW50O1xuICAgICAgICBjaGlsZC5fZW5kICs9IGFtb3VudDtcbiAgICAgIH1cblxuICAgICAgY2hpbGQgPSBjaGlsZC5fbmV4dDtcbiAgICB9XG5cbiAgICBpZiAoYWRqdXN0TGFiZWxzKSB7XG4gICAgICBmb3IgKHAgaW4gbGFiZWxzKSB7XG4gICAgICAgIGlmIChsYWJlbHNbcF0gPj0gaWdub3JlQmVmb3JlVGltZSkge1xuICAgICAgICAgIGxhYmVsc1twXSArPSBhbW91bnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX3VuY2FjaGUodGhpcyk7XG4gIH07XG5cbiAgX3Byb3RvMi5pbnZhbGlkYXRlID0gZnVuY3Rpb24gaW52YWxpZGF0ZSgpIHtcbiAgICB2YXIgY2hpbGQgPSB0aGlzLl9maXJzdDtcbiAgICB0aGlzLl9sb2NrID0gMDtcblxuICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgY2hpbGQuaW52YWxpZGF0ZSgpO1xuICAgICAgY2hpbGQgPSBjaGlsZC5fbmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gX0FuaW1hdGlvbi5wcm90b3R5cGUuaW52YWxpZGF0ZS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIF9wcm90bzIuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihpbmNsdWRlTGFiZWxzKSB7XG4gICAgaWYgKGluY2x1ZGVMYWJlbHMgPT09IHZvaWQgMCkge1xuICAgICAgaW5jbHVkZUxhYmVscyA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkID0gdGhpcy5fZmlyc3QsXG4gICAgICAgIG5leHQ7XG5cbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgIG5leHQgPSBjaGlsZC5fbmV4dDtcbiAgICAgIHRoaXMucmVtb3ZlKGNoaWxkKTtcbiAgICAgIGNoaWxkID0gbmV4dDtcbiAgICB9XG5cbiAgICB0aGlzLl90aW1lID0gdGhpcy5fdFRpbWUgPSB0aGlzLl9wVGltZSA9IDA7XG4gICAgaW5jbHVkZUxhYmVscyAmJiAodGhpcy5sYWJlbHMgPSB7fSk7XG4gICAgcmV0dXJuIF91bmNhY2hlKHRoaXMpO1xuICB9O1xuXG4gIF9wcm90bzIudG90YWxEdXJhdGlvbiA9IGZ1bmN0aW9uIHRvdGFsRHVyYXRpb24odmFsdWUpIHtcbiAgICB2YXIgbWF4ID0gMCxcbiAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgIGNoaWxkID0gc2VsZi5fbGFzdCxcbiAgICAgICAgcHJldlN0YXJ0ID0gX2JpZ051bSxcbiAgICAgICAgcHJldixcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIHBhcmVudDtcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gc2VsZi50aW1lU2NhbGUoKHNlbGYuX3JlcGVhdCA8IDAgPyBzZWxmLmR1cmF0aW9uKCkgOiBzZWxmLnRvdGFsRHVyYXRpb24oKSkgLyAoc2VsZi5yZXZlcnNlZCgpID8gLXZhbHVlIDogdmFsdWUpKTtcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5fZGlydHkpIHtcbiAgICAgIHBhcmVudCA9IHNlbGYucGFyZW50O1xuXG4gICAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgcHJldiA9IGNoaWxkLl9wcmV2OyAvL3JlY29yZCBpdCBoZXJlIGluIGNhc2UgdGhlIHR3ZWVuIGNoYW5nZXMgcG9zaXRpb24gaW4gdGhlIHNlcXVlbmNlLi4uXG5cbiAgICAgICAgY2hpbGQuX2RpcnR5ICYmIGNoaWxkLnRvdGFsRHVyYXRpb24oKTsgLy9jb3VsZCBjaGFuZ2UgdGhlIHR3ZWVuLl9zdGFydFRpbWUsIHNvIG1ha2Ugc3VyZSB0aGUgYW5pbWF0aW9uJ3MgY2FjaGUgaXMgY2xlYW4gYmVmb3JlIGFuYWx5emluZyBpdC5cblxuICAgICAgICBzdGFydCA9IGNoaWxkLl9zdGFydDtcblxuICAgICAgICBpZiAoc3RhcnQgPiBwcmV2U3RhcnQgJiYgc2VsZi5fc29ydCAmJiBjaGlsZC5fdHMgJiYgIXNlbGYuX2xvY2spIHtcbiAgICAgICAgICAvL2luIGNhc2Ugb25lIG9mIHRoZSB0d2VlbnMgc2hpZnRlZCBvdXQgb2Ygb3JkZXIsIGl0IG5lZWRzIHRvIGJlIHJlLWluc2VydGVkIGludG8gdGhlIGNvcnJlY3QgcG9zaXRpb24gaW4gdGhlIHNlcXVlbmNlXG4gICAgICAgICAgc2VsZi5fbG9jayA9IDE7IC8vcHJldmVudCBlbmRsZXNzIHJlY3Vyc2l2ZSBjYWxscyAtIHRoZXJlIGFyZSBtZXRob2RzIHRoYXQgZ2V0IHRyaWdnZXJlZCB0aGF0IGNoZWNrIGR1cmF0aW9uL3RvdGFsRHVyYXRpb24gd2hlbiB3ZSBhZGQoKS5cblxuICAgICAgICAgIF9hZGRUb1RpbWVsaW5lKHNlbGYsIGNoaWxkLCBzdGFydCAtIGNoaWxkLl9kZWxheSwgMSkuX2xvY2sgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZTdGFydCA9IHN0YXJ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0IDwgMCAmJiBjaGlsZC5fdHMpIHtcbiAgICAgICAgICAvL2NoaWxkcmVuIGFyZW4ndCBhbGxvd2VkIHRvIGhhdmUgbmVnYXRpdmUgc3RhcnRUaW1lcyB1bmxlc3Mgc21vb3RoQ2hpbGRUaW1pbmcgaXMgdHJ1ZSwgc28gYWRqdXN0IGhlcmUgaWYgb25lIGlzIGZvdW5kLlxuICAgICAgICAgIG1heCAtPSBzdGFydDtcblxuICAgICAgICAgIGlmICghcGFyZW50ICYmICFzZWxmLl9kcCB8fCBwYXJlbnQgJiYgcGFyZW50LnNtb290aENoaWxkVGltaW5nKSB7XG4gICAgICAgICAgICBzZWxmLl9zdGFydCArPSBzdGFydCAvIHNlbGYuX3RzO1xuICAgICAgICAgICAgc2VsZi5fdGltZSAtPSBzdGFydDtcbiAgICAgICAgICAgIHNlbGYuX3RUaW1lIC09IHN0YXJ0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuc2hpZnRDaGlsZHJlbigtc3RhcnQsIGZhbHNlLCAtMWU5OTkpO1xuICAgICAgICAgIHByZXZTdGFydCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZC5fZW5kID4gbWF4ICYmIGNoaWxkLl90cyAmJiAobWF4ID0gY2hpbGQuX2VuZCk7XG4gICAgICAgIGNoaWxkID0gcHJldjtcbiAgICAgIH1cblxuICAgICAgX3NldER1cmF0aW9uKHNlbGYsIHNlbGYgPT09IF9nbG9iYWxUaW1lbGluZSAmJiBzZWxmLl90aW1lID4gbWF4ID8gc2VsZi5fdGltZSA6IG1heCwgMSwgMSk7XG5cbiAgICAgIHNlbGYuX2RpcnR5ID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZi5fdER1cjtcbiAgfTtcblxuICBUaW1lbGluZS51cGRhdGVSb290ID0gZnVuY3Rpb24gdXBkYXRlUm9vdCh0aW1lKSB7XG4gICAgaWYgKF9nbG9iYWxUaW1lbGluZS5fdHMpIHtcbiAgICAgIF9sYXp5U2FmZVJlbmRlcihfZ2xvYmFsVGltZWxpbmUsIF9wYXJlbnRUb0NoaWxkVG90YWxUaW1lKHRpbWUsIF9nbG9iYWxUaW1lbGluZSkpO1xuXG4gICAgICBfbGFzdFJlbmRlcmVkRnJhbWUgPSBfdGlja2VyLmZyYW1lO1xuICAgIH1cblxuICAgIGlmIChfdGlja2VyLmZyYW1lID49IF9uZXh0R0NGcmFtZSkge1xuICAgICAgX25leHRHQ0ZyYW1lICs9IF9jb25maWcuYXV0b1NsZWVwIHx8IDEyMDtcbiAgICAgIHZhciBjaGlsZCA9IF9nbG9iYWxUaW1lbGluZS5fZmlyc3Q7XG4gICAgICBpZiAoIWNoaWxkIHx8ICFjaGlsZC5fdHMpIGlmIChfY29uZmlnLmF1dG9TbGVlcCAmJiBfdGlja2VyLl9saXN0ZW5lcnMubGVuZ3RoIDwgMikge1xuICAgICAgICB3aGlsZSAoY2hpbGQgJiYgIWNoaWxkLl90cykge1xuICAgICAgICAgIGNoaWxkID0gY2hpbGQuX25leHQ7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZCB8fCBfdGlja2VyLnNsZWVwKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBUaW1lbGluZTtcbn0oQW5pbWF0aW9uKTtcblxuX3NldERlZmF1bHRzKFRpbWVsaW5lLnByb3RvdHlwZSwge1xuICBfbG9jazogMCxcbiAgX2hhc1BhdXNlOiAwLFxuICBfZm9yY2luZzogMFxufSk7XG5cbnZhciBfYWRkQ29tcGxleFN0cmluZ1Byb3BUd2VlbiA9IGZ1bmN0aW9uIF9hZGRDb21wbGV4U3RyaW5nUHJvcFR3ZWVuKHRhcmdldCwgcHJvcCwgc3RhcnQsIGVuZCwgc2V0dGVyLCBzdHJpbmdGaWx0ZXIsIGZ1bmNQYXJhbSkge1xuICAvL25vdGU6IHdlIGNhbGwgX2FkZENvbXBsZXhTdHJpbmdQcm9wVHdlZW4uY2FsbCh0d2Vlbkluc3RhbmNlLi4uKSB0byBlbnN1cmUgdGhhdCBpdCdzIHNjb3BlZCBwcm9wZXJseS4gV2UgbWF5IGNhbGwgaXQgZnJvbSB3aXRoaW4gYSBwbHVnaW4gdG9vLCB0aHVzIFwidGhpc1wiIHdvdWxkIHJlZmVyIHRvIHRoZSBwbHVnaW4uXG4gIHZhciBwdCA9IG5ldyBQcm9wVHdlZW4odGhpcy5fcHQsIHRhcmdldCwgcHJvcCwgMCwgMSwgX3JlbmRlckNvbXBsZXhTdHJpbmcsIG51bGwsIHNldHRlciksXG4gICAgICBpbmRleCA9IDAsXG4gICAgICBtYXRjaEluZGV4ID0gMCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHN0YXJ0TnVtcyxcbiAgICAgIGNvbG9yLFxuICAgICAgZW5kTnVtLFxuICAgICAgY2h1bmssXG4gICAgICBzdGFydE51bSxcbiAgICAgIGhhc1JhbmRvbSxcbiAgICAgIGE7XG4gIHB0LmIgPSBzdGFydDtcbiAgcHQuZSA9IGVuZDtcbiAgc3RhcnQgKz0gXCJcIjsgLy9lbnN1cmUgdmFsdWVzIGFyZSBzdHJpbmdzXG5cbiAgZW5kICs9IFwiXCI7XG5cbiAgaWYgKGhhc1JhbmRvbSA9IH5lbmQuaW5kZXhPZihcInJhbmRvbShcIikpIHtcbiAgICBlbmQgPSBfcmVwbGFjZVJhbmRvbShlbmQpO1xuICB9XG5cbiAgaWYgKHN0cmluZ0ZpbHRlcikge1xuICAgIGEgPSBbc3RhcnQsIGVuZF07XG4gICAgc3RyaW5nRmlsdGVyKGEsIHRhcmdldCwgcHJvcCk7IC8vcGFzcyBhbiBhcnJheSB3aXRoIHRoZSBzdGFydGluZyBhbmQgZW5kaW5nIHZhbHVlcyBhbmQgbGV0IHRoZSBmaWx0ZXIgZG8gd2hhdGV2ZXIgaXQgbmVlZHMgdG8gdGhlIHZhbHVlcy5cblxuICAgIHN0YXJ0ID0gYVswXTtcbiAgICBlbmQgPSBhWzFdO1xuICB9XG5cbiAgc3RhcnROdW1zID0gc3RhcnQubWF0Y2goX2NvbXBsZXhTdHJpbmdOdW1FeHApIHx8IFtdO1xuXG4gIHdoaWxlIChyZXN1bHQgPSBfY29tcGxleFN0cmluZ051bUV4cC5leGVjKGVuZCkpIHtcbiAgICBlbmROdW0gPSByZXN1bHRbMF07XG4gICAgY2h1bmsgPSBlbmQuc3Vic3RyaW5nKGluZGV4LCByZXN1bHQuaW5kZXgpO1xuXG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICBjb2xvciA9IChjb2xvciArIDEpICUgNTtcbiAgICB9IGVsc2UgaWYgKGNodW5rLnN1YnN0cigtNSkgPT09IFwicmdiYShcIikge1xuICAgICAgY29sb3IgPSAxO1xuICAgIH1cblxuICAgIGlmIChlbmROdW0gIT09IHN0YXJ0TnVtc1ttYXRjaEluZGV4KytdKSB7XG4gICAgICBzdGFydE51bSA9IHBhcnNlRmxvYXQoc3RhcnROdW1zW21hdGNoSW5kZXggLSAxXSkgfHwgMDsgLy90aGVzZSBuZXN0ZWQgUHJvcFR3ZWVucyBhcmUgaGFuZGxlZCBpbiBhIHNwZWNpYWwgd2F5IC0gd2UnbGwgbmV2ZXIgYWN0dWFsbHkgY2FsbCBhIHJlbmRlciBvciBzZXR0ZXIgbWV0aG9kIG9uIHRoZW0uIFdlJ2xsIGp1c3QgbG9vcCB0aHJvdWdoIHRoZW0gaW4gdGhlIHBhcmVudCBjb21wbGV4IHN0cmluZyBQcm9wVHdlZW4ncyByZW5kZXIgbWV0aG9kLlxuXG4gICAgICBwdC5fcHQgPSB7XG4gICAgICAgIF9uZXh0OiBwdC5fcHQsXG4gICAgICAgIHA6IGNodW5rIHx8IG1hdGNoSW5kZXggPT09IDEgPyBjaHVuayA6IFwiLFwiLFxuICAgICAgICAvL25vdGU6IFNWRyBzcGVjIGFsbG93cyBvbWlzc2lvbiBvZiBjb21tYS9zcGFjZSB3aGVuIGEgbmVnYXRpdmUgc2lnbiBpcyB3ZWRnZWQgYmV0d2VlbiB0d28gbnVtYmVycywgbGlrZSAyLjUtNS4zIGluc3RlYWQgb2YgMi41LC01LjMgYnV0IHdoZW4gdHdlZW5pbmcsIHRoZSBuZWdhdGl2ZSB2YWx1ZSBtYXkgc3dpdGNoIHRvIHBvc2l0aXZlLCBzbyB3ZSBpbnNlcnQgdGhlIGNvbW1hIGp1c3QgaW4gY2FzZS5cbiAgICAgICAgczogc3RhcnROdW0sXG4gICAgICAgIGM6IGVuZE51bS5jaGFyQXQoMSkgPT09IFwiPVwiID8gcGFyc2VGbG9hdChlbmROdW0uc3Vic3RyKDIpKSAqIChlbmROdW0uY2hhckF0KDApID09PSBcIi1cIiA/IC0xIDogMSkgOiBwYXJzZUZsb2F0KGVuZE51bSkgLSBzdGFydE51bSxcbiAgICAgICAgbTogY29sb3IgJiYgY29sb3IgPCA0ID8gTWF0aC5yb3VuZCA6IDBcbiAgICAgIH07XG4gICAgICBpbmRleCA9IF9jb21wbGV4U3RyaW5nTnVtRXhwLmxhc3RJbmRleDtcbiAgICB9XG4gIH1cblxuICBwdC5jID0gaW5kZXggPCBlbmQubGVuZ3RoID8gZW5kLnN1YnN0cmluZyhpbmRleCwgZW5kLmxlbmd0aCkgOiBcIlwiOyAvL3dlIHVzZSB0aGUgXCJjXCIgb2YgdGhlIFByb3BUd2VlbiB0byBzdG9yZSB0aGUgZmluYWwgcGFydCBvZiB0aGUgc3RyaW5nIChhZnRlciB0aGUgbGFzdCBudW1iZXIpXG5cbiAgcHQuZnAgPSBmdW5jUGFyYW07XG5cbiAgaWYgKF9yZWxFeHAudGVzdChlbmQpIHx8IGhhc1JhbmRvbSkge1xuICAgIHB0LmUgPSAwOyAvL2lmIHRoZSBlbmQgc3RyaW5nIGNvbnRhaW5zIHJlbGF0aXZlIHZhbHVlcyBvciBkeW5hbWljIHJhbmRvbSguLi4pIHZhbHVlcywgZGVsZXRlIHRoZSBlbmQgaXQgc28gdGhhdCBvbiB0aGUgZmluYWwgcmVuZGVyIHdlIGRvbid0IGFjdHVhbGx5IHNldCBpdCB0byB0aGUgc3RyaW5nIHdpdGggKz0gb3IgLT0gY2hhcmFjdGVycyAoZm9yY2VzIGl0IHRvIHVzZSB0aGUgY2FsY3VsYXRlZCB2YWx1ZSkuXG4gIH1cblxuICB0aGlzLl9wdCA9IHB0OyAvL3N0YXJ0IHRoZSBsaW5rZWQgbGlzdCB3aXRoIHRoaXMgbmV3IFByb3BUd2Vlbi4gUmVtZW1iZXIsIHdlIGNhbGwgX2FkZENvbXBsZXhTdHJpbmdQcm9wVHdlZW4uY2FsbCh0d2Vlbkluc3RhbmNlLi4uKSB0byBlbnN1cmUgdGhhdCBpdCdzIHNjb3BlZCBwcm9wZXJseS4gV2UgbWF5IGNhbGwgaXQgZnJvbSB3aXRoaW4gYSBwbHVnaW4gdG9vLCB0aHVzIFwidGhpc1wiIHdvdWxkIHJlZmVyIHRvIHRoZSBwbHVnaW4uXG5cbiAgcmV0dXJuIHB0O1xufSxcbiAgICBfYWRkUHJvcFR3ZWVuID0gZnVuY3Rpb24gX2FkZFByb3BUd2Vlbih0YXJnZXQsIHByb3AsIHN0YXJ0LCBlbmQsIGluZGV4LCB0YXJnZXRzLCBtb2RpZmllciwgc3RyaW5nRmlsdGVyLCBmdW5jUGFyYW0pIHtcbiAgX2lzRnVuY3Rpb24oZW5kKSAmJiAoZW5kID0gZW5kKGluZGV4IHx8IDAsIHRhcmdldCwgdGFyZ2V0cykpO1xuICB2YXIgY3VycmVudFZhbHVlID0gdGFyZ2V0W3Byb3BdLFxuICAgICAgcGFyc2VkU3RhcnQgPSBzdGFydCAhPT0gXCJnZXRcIiA/IHN0YXJ0IDogIV9pc0Z1bmN0aW9uKGN1cnJlbnRWYWx1ZSkgPyBjdXJyZW50VmFsdWUgOiBmdW5jUGFyYW0gPyB0YXJnZXRbcHJvcC5pbmRleE9mKFwic2V0XCIpIHx8ICFfaXNGdW5jdGlvbih0YXJnZXRbXCJnZXRcIiArIHByb3Auc3Vic3RyKDMpXSkgPyBwcm9wIDogXCJnZXRcIiArIHByb3Auc3Vic3RyKDMpXShmdW5jUGFyYW0pIDogdGFyZ2V0W3Byb3BdKCksXG4gICAgICBzZXR0ZXIgPSAhX2lzRnVuY3Rpb24oY3VycmVudFZhbHVlKSA/IF9zZXR0ZXJQbGFpbiA6IGZ1bmNQYXJhbSA/IF9zZXR0ZXJGdW5jV2l0aFBhcmFtIDogX3NldHRlckZ1bmMsXG4gICAgICBwdDtcblxuICBpZiAoX2lzU3RyaW5nKGVuZCkpIHtcbiAgICBpZiAofmVuZC5pbmRleE9mKFwicmFuZG9tKFwiKSkge1xuICAgICAgZW5kID0gX3JlcGxhY2VSYW5kb20oZW5kKTtcbiAgICB9XG5cbiAgICBpZiAoZW5kLmNoYXJBdCgxKSA9PT0gXCI9XCIpIHtcbiAgICAgIGVuZCA9IHBhcnNlRmxvYXQocGFyc2VkU3RhcnQpICsgcGFyc2VGbG9hdChlbmQuc3Vic3RyKDIpKSAqIChlbmQuY2hhckF0KDApID09PSBcIi1cIiA/IC0xIDogMSkgKyAoZ2V0VW5pdChwYXJzZWRTdGFydCkgfHwgMCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHBhcnNlZFN0YXJ0ICE9PSBlbmQpIHtcbiAgICBpZiAoIWlzTmFOKHBhcnNlZFN0YXJ0ICogZW5kKSkge1xuICAgICAgcHQgPSBuZXcgUHJvcFR3ZWVuKHRoaXMuX3B0LCB0YXJnZXQsIHByb3AsICtwYXJzZWRTdGFydCB8fCAwLCBlbmQgLSAocGFyc2VkU3RhcnQgfHwgMCksIHR5cGVvZiBjdXJyZW50VmFsdWUgPT09IFwiYm9vbGVhblwiID8gX3JlbmRlckJvb2xlYW4gOiBfcmVuZGVyUGxhaW4sIDAsIHNldHRlcik7XG4gICAgICBmdW5jUGFyYW0gJiYgKHB0LmZwID0gZnVuY1BhcmFtKTtcbiAgICAgIG1vZGlmaWVyICYmIHB0Lm1vZGlmaWVyKG1vZGlmaWVyLCB0aGlzLCB0YXJnZXQpO1xuICAgICAgcmV0dXJuIHRoaXMuX3B0ID0gcHQ7XG4gICAgfVxuXG4gICAgIWN1cnJlbnRWYWx1ZSAmJiAhKHByb3AgaW4gdGFyZ2V0KSAmJiBfbWlzc2luZ1BsdWdpbihwcm9wLCBlbmQpO1xuICAgIHJldHVybiBfYWRkQ29tcGxleFN0cmluZ1Byb3BUd2Vlbi5jYWxsKHRoaXMsIHRhcmdldCwgcHJvcCwgcGFyc2VkU3RhcnQsIGVuZCwgc2V0dGVyLCBzdHJpbmdGaWx0ZXIgfHwgX2NvbmZpZy5zdHJpbmdGaWx0ZXIsIGZ1bmNQYXJhbSk7XG4gIH1cbn0sXG4gICAgLy9jcmVhdGVzIGEgY29weSBvZiB0aGUgdmFycyBvYmplY3QgYW5kIHByb2Nlc3NlcyBhbnkgZnVuY3Rpb24tYmFzZWQgdmFsdWVzIChwdXR0aW5nIHRoZSByZXN1bHRpbmcgdmFsdWVzIGRpcmVjdGx5IGludG8gdGhlIGNvcHkpIGFzIHdlbGwgYXMgc3RyaW5ncyB3aXRoIFwicmFuZG9tKClcIiBpbiB0aGVtLiBJdCBkb2VzIE5PVCBwcm9jZXNzIHJlbGF0aXZlIHZhbHVlcy5cbl9wcm9jZXNzVmFycyA9IGZ1bmN0aW9uIF9wcm9jZXNzVmFycyh2YXJzLCBpbmRleCwgdGFyZ2V0LCB0YXJnZXRzLCB0d2Vlbikge1xuICBfaXNGdW5jdGlvbih2YXJzKSAmJiAodmFycyA9IF9wYXJzZUZ1bmNPclN0cmluZyh2YXJzLCB0d2VlbiwgaW5kZXgsIHRhcmdldCwgdGFyZ2V0cykpO1xuXG4gIGlmICghX2lzT2JqZWN0KHZhcnMpIHx8IHZhcnMuc3R5bGUgJiYgdmFycy5ub2RlVHlwZSB8fCBfaXNBcnJheSh2YXJzKSB8fCBfaXNUeXBlZEFycmF5KHZhcnMpKSB7XG4gICAgcmV0dXJuIF9pc1N0cmluZyh2YXJzKSA/IF9wYXJzZUZ1bmNPclN0cmluZyh2YXJzLCB0d2VlbiwgaW5kZXgsIHRhcmdldCwgdGFyZ2V0cykgOiB2YXJzO1xuICB9XG5cbiAgdmFyIGNvcHkgPSB7fSxcbiAgICAgIHA7XG5cbiAgZm9yIChwIGluIHZhcnMpIHtcbiAgICBjb3B5W3BdID0gX3BhcnNlRnVuY09yU3RyaW5nKHZhcnNbcF0sIHR3ZWVuLCBpbmRleCwgdGFyZ2V0LCB0YXJnZXRzKTtcbiAgfVxuXG4gIHJldHVybiBjb3B5O1xufSxcbiAgICBfY2hlY2tQbHVnaW4gPSBmdW5jdGlvbiBfY2hlY2tQbHVnaW4ocHJvcGVydHksIHZhcnMsIHR3ZWVuLCBpbmRleCwgdGFyZ2V0LCB0YXJnZXRzKSB7XG4gIHZhciBwbHVnaW4sIHB0LCBwdExvb2t1cCwgaTtcblxuICBpZiAoX3BsdWdpbnNbcHJvcGVydHldICYmIChwbHVnaW4gPSBuZXcgX3BsdWdpbnNbcHJvcGVydHldKCkpLmluaXQodGFyZ2V0LCBwbHVnaW4ucmF3VmFycyA/IHZhcnNbcHJvcGVydHldIDogX3Byb2Nlc3NWYXJzKHZhcnNbcHJvcGVydHldLCBpbmRleCwgdGFyZ2V0LCB0YXJnZXRzLCB0d2VlbiksIHR3ZWVuLCBpbmRleCwgdGFyZ2V0cykgIT09IGZhbHNlKSB7XG4gICAgdHdlZW4uX3B0ID0gcHQgPSBuZXcgUHJvcFR3ZWVuKHR3ZWVuLl9wdCwgdGFyZ2V0LCBwcm9wZXJ0eSwgMCwgMSwgcGx1Z2luLnJlbmRlciwgcGx1Z2luLCAwLCBwbHVnaW4ucHJpb3JpdHkpO1xuXG4gICAgaWYgKHR3ZWVuICE9PSBfcXVpY2tUd2Vlbikge1xuICAgICAgcHRMb29rdXAgPSB0d2Vlbi5fcHRMb29rdXBbdHdlZW4uX3RhcmdldHMuaW5kZXhPZih0YXJnZXQpXTsgLy9ub3RlOiB3ZSBjYW4ndCB1c2UgdHdlZW4uX3B0TG9va3VwW2luZGV4XSBiZWNhdXNlIGZvciBzdGFnZ2VyZWQgdHdlZW5zLCB0aGUgaW5kZXggZnJvbSB0aGUgZnVsbFRhcmdldHMgYXJyYXkgd29uJ3QgbWF0Y2ggd2hhdCBpdCBpcyBpbiBlYWNoIGluZGl2aWR1YWwgdHdlZW4gdGhhdCBzcGF3bnMgZnJvbSB0aGUgc3RhZ2dlci5cblxuICAgICAgaSA9IHBsdWdpbi5fcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHB0TG9va3VwW3BsdWdpbi5fcHJvcHNbaV1dID0gcHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBsdWdpbjtcbn0sXG4gICAgX292ZXJ3cml0aW5nVHdlZW4sXG4gICAgLy9zdG9yZSBhIHJlZmVyZW5jZSB0ZW1wb3JhcmlseSBzbyB3ZSBjYW4gYXZvaWQgb3ZlcndyaXRpbmcgaXRzZWxmLlxuX2luaXRUd2VlbiA9IGZ1bmN0aW9uIF9pbml0VHdlZW4odHdlZW4sIHRpbWUpIHtcbiAgdmFyIHZhcnMgPSB0d2Vlbi52YXJzLFxuICAgICAgZWFzZSA9IHZhcnMuZWFzZSxcbiAgICAgIHN0YXJ0QXQgPSB2YXJzLnN0YXJ0QXQsXG4gICAgICBpbW1lZGlhdGVSZW5kZXIgPSB2YXJzLmltbWVkaWF0ZVJlbmRlcixcbiAgICAgIGxhenkgPSB2YXJzLmxhenksXG4gICAgICBvblVwZGF0ZSA9IHZhcnMub25VcGRhdGUsXG4gICAgICBvblVwZGF0ZVBhcmFtcyA9IHZhcnMub25VcGRhdGVQYXJhbXMsXG4gICAgICBjYWxsYmFja1Njb3BlID0gdmFycy5jYWxsYmFja1Njb3BlLFxuICAgICAgcnVuQmFja3dhcmRzID0gdmFycy5ydW5CYWNrd2FyZHMsXG4gICAgICB5b3lvRWFzZSA9IHZhcnMueW95b0Vhc2UsXG4gICAgICBrZXlmcmFtZXMgPSB2YXJzLmtleWZyYW1lcyxcbiAgICAgIGF1dG9SZXZlcnQgPSB2YXJzLmF1dG9SZXZlcnQsXG4gICAgICBkdXIgPSB0d2Vlbi5fZHVyLFxuICAgICAgcHJldlN0YXJ0QXQgPSB0d2Vlbi5fc3RhcnRBdCxcbiAgICAgIHRhcmdldHMgPSB0d2Vlbi5fdGFyZ2V0cyxcbiAgICAgIHBhcmVudCA9IHR3ZWVuLnBhcmVudCxcbiAgICAgIGZ1bGxUYXJnZXRzID0gcGFyZW50ICYmIHBhcmVudC5kYXRhID09PSBcIm5lc3RlZFwiID8gcGFyZW50LnBhcmVudC5fdGFyZ2V0cyA6IHRhcmdldHMsXG4gICAgICBhdXRvT3ZlcndyaXRlID0gdHdlZW4uX292ZXJ3cml0ZSA9PT0gXCJhdXRvXCIsXG4gICAgICB0bCA9IHR3ZWVuLnRpbWVsaW5lLFxuICAgICAgY2xlYW5WYXJzLFxuICAgICAgaSxcbiAgICAgIHAsXG4gICAgICBwdCxcbiAgICAgIHRhcmdldCxcbiAgICAgIGhhc1ByaW9yaXR5LFxuICAgICAgZ3NEYXRhLFxuICAgICAgaGFybmVzcyxcbiAgICAgIHBsdWdpbixcbiAgICAgIHB0TG9va3VwLFxuICAgICAgaW5kZXgsXG4gICAgICBoYXJuZXNzVmFycyxcbiAgICAgIG92ZXJ3cml0dGVuO1xuICB0bCAmJiAoIWtleWZyYW1lcyB8fCAhZWFzZSkgJiYgKGVhc2UgPSBcIm5vbmVcIik7XG4gIHR3ZWVuLl9lYXNlID0gX3BhcnNlRWFzZShlYXNlLCBfZGVmYXVsdHMuZWFzZSk7XG4gIHR3ZWVuLl95RWFzZSA9IHlveW9FYXNlID8gX2ludmVydEVhc2UoX3BhcnNlRWFzZSh5b3lvRWFzZSA9PT0gdHJ1ZSA/IGVhc2UgOiB5b3lvRWFzZSwgX2RlZmF1bHRzLmVhc2UpKSA6IDA7XG5cbiAgaWYgKHlveW9FYXNlICYmIHR3ZWVuLl95b3lvICYmICF0d2Vlbi5fcmVwZWF0KSB7XG4gICAgLy90aGVyZSBtdXN0IGhhdmUgYmVlbiBhIHBhcmVudCB0aW1lbGluZSB3aXRoIHlveW86dHJ1ZSB0aGF0IGlzIGN1cnJlbnRseSBpbiBpdHMgeW95byBwaGFzZSwgc28gZmxpcCB0aGUgZWFzZXMuXG4gICAgeW95b0Vhc2UgPSB0d2Vlbi5feUVhc2U7XG4gICAgdHdlZW4uX3lFYXNlID0gdHdlZW4uX2Vhc2U7XG4gICAgdHdlZW4uX2Vhc2UgPSB5b3lvRWFzZTtcbiAgfVxuXG4gIGlmICghdGwpIHtcbiAgICAvL2lmIHRoZXJlJ3MgYW4gaW50ZXJuYWwgdGltZWxpbmUsIHNraXAgYWxsIHRoZSBwYXJzaW5nIGJlY2F1c2Ugd2UgcGFzc2VkIHRoYXQgdGFzayBkb3duIHRoZSBjaGFpbi5cbiAgICBoYXJuZXNzID0gdGFyZ2V0c1swXSA/IF9nZXRDYWNoZSh0YXJnZXRzWzBdKS5oYXJuZXNzIDogMDtcbiAgICBoYXJuZXNzVmFycyA9IGhhcm5lc3MgJiYgdmFyc1toYXJuZXNzLnByb3BdOyAvL3NvbWVvbmUgbWF5IG5lZWQgdG8gc3BlY2lmeSBDU1Mtc3BlY2lmaWMgdmFsdWVzIEFORCBub24tQ1NTIHZhbHVlcywgbGlrZSBpZiB0aGUgZWxlbWVudCBoYXMgYW4gXCJ4XCIgcHJvcGVydHkgcGx1cyBpdCdzIGEgc3RhbmRhcmQgRE9NIGVsZW1lbnQuIFdlIGFsbG93IHBlb3BsZSB0byBkaXN0aW5ndWlzaCBieSB3cmFwcGluZyBwbHVnaW4tc3BlY2lmaWMgc3R1ZmYgaW4gYSBjc3M6e30gb2JqZWN0IGZvciBleGFtcGxlLlxuXG4gICAgY2xlYW5WYXJzID0gX2NvcHlFeGNsdWRpbmcodmFycywgX3Jlc2VydmVkUHJvcHMpO1xuICAgIHByZXZTdGFydEF0ICYmIHByZXZTdGFydEF0LnJlbmRlcigtMSwgdHJ1ZSkua2lsbCgpO1xuXG4gICAgaWYgKHN0YXJ0QXQpIHtcbiAgICAgIF9yZW1vdmVGcm9tUGFyZW50KHR3ZWVuLl9zdGFydEF0ID0gVHdlZW4uc2V0KHRhcmdldHMsIF9zZXREZWZhdWx0cyh7XG4gICAgICAgIGRhdGE6IFwiaXNTdGFydFwiLFxuICAgICAgICBvdmVyd3JpdGU6IGZhbHNlLFxuICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgaW1tZWRpYXRlUmVuZGVyOiB0cnVlLFxuICAgICAgICBsYXp5OiBfaXNOb3RGYWxzZShsYXp5KSxcbiAgICAgICAgc3RhcnRBdDogbnVsbCxcbiAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgIG9uVXBkYXRlOiBvblVwZGF0ZSxcbiAgICAgICAgb25VcGRhdGVQYXJhbXM6IG9uVXBkYXRlUGFyYW1zLFxuICAgICAgICBjYWxsYmFja1Njb3BlOiBjYWxsYmFja1Njb3BlLFxuICAgICAgICBzdGFnZ2VyOiAwXG4gICAgICB9LCBzdGFydEF0KSkpOyAvL2NvcHkgdGhlIHByb3BlcnRpZXMvdmFsdWVzIGludG8gYSBuZXcgb2JqZWN0IHRvIGF2b2lkIGNvbGxpc2lvbnMsIGxpa2UgdmFyIHRvID0ge3g6MH0sIGZyb20gPSB7eDo1MDB9OyB0aW1lbGluZS5mcm9tVG8oZSwgZnJvbSwgdG8pLmZyb21UbyhlLCB0bywgZnJvbSk7XG5cblxuICAgICAgaWYgKGltbWVkaWF0ZVJlbmRlcikge1xuICAgICAgICBpZiAodGltZSA+IDApIHtcbiAgICAgICAgICBhdXRvUmV2ZXJ0IHx8ICh0d2Vlbi5fc3RhcnRBdCA9IDApOyAvL3R3ZWVucyB0aGF0IHJlbmRlciBpbW1lZGlhdGVseSAobGlrZSBtb3N0IGZyb20oKSBhbmQgZnJvbVRvKCkgdHdlZW5zKSBzaG91bGRuJ3QgcmV2ZXJ0IHdoZW4gdGhlaXIgcGFyZW50IHRpbWVsaW5lJ3MgcGxheWhlYWQgZ29lcyBiYWNrd2FyZCBwYXN0IHRoZSBzdGFydFRpbWUgYmVjYXVzZSB0aGUgaW5pdGlhbCByZW5kZXIgY291bGQgaGF2ZSBoYXBwZW5lZCBhbnl0aW1lIGFuZCBpdCBzaG91bGRuJ3QgYmUgZGlyZWN0bHkgY29ycmVsYXRlZCB0byB0aGlzIHR3ZWVuJ3Mgc3RhcnRUaW1lLiBJbWFnaW5lIHNldHRpbmcgdXAgYSBjb21wbGV4IGFuaW1hdGlvbiB3aGVyZSB0aGUgYmVnaW5uaW5nIHN0YXRlcyBvZiB2YXJpb3VzIG9iamVjdHMgYXJlIHJlbmRlcmVkIGltbWVkaWF0ZWx5IGJ1dCB0aGUgdHdlZW4gZG9lc24ndCBoYXBwZW4gZm9yIHF1aXRlIHNvbWUgdGltZSAtIGlmIHdlIHJldmVydCB0byB0aGUgc3RhcnRpbmcgdmFsdWVzIGFzIHNvb24gYXMgdGhlIHBsYXloZWFkIGdvZXMgYmFja3dhcmQgcGFzdCB0aGUgdHdlZW4ncyBzdGFydFRpbWUsIGl0IHdpbGwgdGhyb3cgdGhpbmdzIG9mZiB2aXN1YWxseS4gUmV2ZXJzaW9uIHNob3VsZCBvbmx5IGhhcHBlbiBpbiBUaW1lbGluZSBpbnN0YW5jZXMgd2hlcmUgaW1tZWRpYXRlUmVuZGVyIHdhcyBmYWxzZSBvciB3aGVuIGF1dG9SZXZlcnQgaXMgZXhwbGljaXRseSBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgfSBlbHNlIGlmIChkdXIgJiYgISh0aW1lIDwgMCAmJiBwcmV2U3RhcnRBdCkpIHtcbiAgICAgICAgICB0aW1lICYmICh0d2Vlbi5felRpbWUgPSB0aW1lKTtcbiAgICAgICAgICByZXR1cm47IC8vd2Ugc2tpcCBpbml0aWFsaXphdGlvbiBoZXJlIHNvIHRoYXQgb3ZlcndyaXRpbmcgZG9lc24ndCBvY2N1ciB1bnRpbCB0aGUgdHdlZW4gYWN0dWFsbHkgYmVnaW5zLiBPdGhlcndpc2UsIGlmIHlvdSBjcmVhdGUgc2V2ZXJhbCBpbW1lZGlhdGVSZW5kZXI6dHJ1ZSB0d2VlbnMgb2YgdGhlIHNhbWUgdGFyZ2V0L3Byb3BlcnRpZXMgdG8gZHJvcCBpbnRvIGEgVGltZWxpbmUsIHRoZSBsYXN0IG9uZSBjcmVhdGVkIHdvdWxkIG92ZXJ3cml0ZSB0aGUgZmlyc3Qgb25lcyBiZWNhdXNlIHRoZXkgZGlkbid0IGdldCBwbGFjZWQgaW50byB0aGUgdGltZWxpbmUgeWV0IGJlZm9yZSB0aGUgZmlyc3QgcmVuZGVyIG9jY3VycyBhbmQga2lja3MgaW4gb3ZlcndyaXRpbmcuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJ1bkJhY2t3YXJkcyAmJiBkdXIpIHtcbiAgICAgIC8vZnJvbSgpIHR3ZWVucyBtdXN0IGJlIGhhbmRsZWQgdW5pcXVlbHk6IHRoZWlyIGJlZ2lubmluZyB2YWx1ZXMgbXVzdCBiZSByZW5kZXJlZCBidXQgd2UgZG9uJ3Qgd2FudCBvdmVyd3JpdGluZyB0byBvY2N1ciB5ZXQgKHdoZW4gdGltZSBpcyBzdGlsbCAwKS4gV2FpdCB1bnRpbCB0aGUgdHdlZW4gYWN0dWFsbHkgYmVnaW5zIGJlZm9yZSBkb2luZyBhbGwgdGhlIHJvdXRpbmVzIGxpa2Ugb3ZlcndyaXRpbmcuIEF0IHRoYXQgdGltZSwgd2Ugc2hvdWxkIHJlbmRlciBhdCB0aGUgRU5EIG9mIHRoZSB0d2VlbiB0byBlbnN1cmUgdGhhdCB0aGluZ3MgaW5pdGlhbGl6ZSBjb3JyZWN0bHkgKHJlbWVtYmVyLCBmcm9tKCkgdHdlZW5zIGdvIGJhY2t3YXJkcylcbiAgICAgIGlmIChwcmV2U3RhcnRBdCkge1xuICAgICAgICAhYXV0b1JldmVydCAmJiAodHdlZW4uX3N0YXJ0QXQgPSAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpbWUgJiYgKGltbWVkaWF0ZVJlbmRlciA9IGZhbHNlKTsgLy9pbiByYXJlIGNhc2VzIChsaWtlIGlmIGEgZnJvbSgpIHR3ZWVuIHJ1bnMgYW5kIHRoZW4gaXMgaW52YWxpZGF0ZSgpLWVkKSwgaW1tZWRpYXRlUmVuZGVyIGNvdWxkIGJlIHRydWUgYnV0IHRoZSBpbml0aWFsIGZvcmNlZC1yZW5kZXIgZ2V0cyBza2lwcGVkLCBzbyB0aGVyZSdzIG5vIG5lZWQgdG8gZm9yY2UgdGhlIHJlbmRlciBpbiB0aGlzIGNvbnRleHQgd2hlbiB0aGUgX3RpbWUgaXMgZ3JlYXRlciB0aGFuIDBcblxuICAgICAgICBwID0gX3NldERlZmF1bHRzKHtcbiAgICAgICAgICBvdmVyd3JpdGU6IGZhbHNlLFxuICAgICAgICAgIGRhdGE6IFwiaXNGcm9tU3RhcnRcIixcbiAgICAgICAgICAvL3dlIHRhZyB0aGUgdHdlZW4gd2l0aCBhcyBcImlzRnJvbVN0YXJ0XCIgc28gdGhhdCBpZiBbaW5zaWRlIGEgcGx1Z2luXSB3ZSBuZWVkIHRvIG9ubHkgZG8gc29tZXRoaW5nIGF0IHRoZSB2ZXJ5IEVORCBvZiBhIHR3ZWVuLCB3ZSBoYXZlIGEgd2F5IG9mIGlkZW50aWZ5aW5nIHRoaXMgdHdlZW4gYXMgbWVyZWx5IHRoZSBvbmUgdGhhdCdzIHNldHRpbmcgdGhlIGJlZ2lubmluZyB2YWx1ZXMgZm9yIGEgXCJmcm9tKClcIiB0d2Vlbi4gRm9yIGV4YW1wbGUsIGNsZWFyUHJvcHMgaW4gQ1NTUGx1Z2luIHNob3VsZCBvbmx5IGdldCBhcHBsaWVkIGF0IHRoZSB2ZXJ5IEVORCBvZiBhIHR3ZWVuIGFuZCB3aXRob3V0IHRoaXMgdGFnLCBmcm9tKC4uLntoZWlnaHQ6MTAwLCBjbGVhclByb3BzOlwiaGVpZ2h0XCIsIGRlbGF5OjF9KSB3b3VsZCB3aXBlIHRoZSBoZWlnaHQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgdHdlZW4gYW5kIGFmdGVyIDEgc2Vjb25kLCBpdCdkIGtpY2sgYmFjayBpbi5cbiAgICAgICAgICBsYXp5OiBpbW1lZGlhdGVSZW5kZXIgJiYgX2lzTm90RmFsc2UobGF6eSksXG4gICAgICAgICAgaW1tZWRpYXRlUmVuZGVyOiBpbW1lZGlhdGVSZW5kZXIsXG4gICAgICAgICAgLy96ZXJvLWR1cmF0aW9uIHR3ZWVucyByZW5kZXIgaW1tZWRpYXRlbHkgYnkgZGVmYXVsdCwgYnV0IGlmIHdlJ3JlIG5vdCBzcGVjaWZpY2FsbHkgaW5zdHJ1Y3RlZCB0byByZW5kZXIgdGhpcyB0d2VlbiBpbW1lZGlhdGVseSwgd2Ugc2hvdWxkIHNraXAgdGhpcyBhbmQgbWVyZWx5IF9pbml0KCkgdG8gcmVjb3JkIHRoZSBzdGFydGluZyB2YWx1ZXMgKHJlbmRlcmluZyB0aGVtIGltbWVkaWF0ZWx5IHdvdWxkIHB1c2ggdGhlbSB0byBjb21wbGV0aW9uIHdoaWNoIGlzIHdhc3RlZnVsIGluIHRoYXQgY2FzZSAtIHdlJ2QgaGF2ZSB0byByZW5kZXIoLTEpIGltbWVkaWF0ZWx5IGFmdGVyKVxuICAgICAgICAgIHN0YWdnZXI6IDAsXG4gICAgICAgICAgcGFyZW50OiBwYXJlbnQgLy9lbnN1cmVzIHRoYXQgbmVzdGVkIHR3ZWVucyB0aGF0IGhhZCBhIHN0YWdnZXIgYXJlIGhhbmRsZWQgcHJvcGVybHksIGxpa2UgZ3NhcC5mcm9tKFwiLmNsYXNzXCIsIHt5OmdzYXAudXRpbHMud3JhcChbLTEwMCwxMDBdKX0pXG5cbiAgICAgICAgfSwgY2xlYW5WYXJzKTtcbiAgICAgICAgaGFybmVzc1ZhcnMgJiYgKHBbaGFybmVzcy5wcm9wXSA9IGhhcm5lc3NWYXJzKTsgLy8gaW4gY2FzZSBzb21lb25lIGRvZXMgc29tZXRoaW5nIGxpa2UgLmZyb20oLi4uLCB7Y3NzOnt9fSlcblxuICAgICAgICBfcmVtb3ZlRnJvbVBhcmVudCh0d2Vlbi5fc3RhcnRBdCA9IFR3ZWVuLnNldCh0YXJnZXRzLCBwKSk7XG5cbiAgICAgICAgaWYgKCFpbW1lZGlhdGVSZW5kZXIpIHtcbiAgICAgICAgICBfaW5pdFR3ZWVuKHR3ZWVuLl9zdGFydEF0LCBfdGlueU51bSk7IC8vZW5zdXJlcyB0aGF0IHRoZSBpbml0aWFsIHZhbHVlcyBhcmUgcmVjb3JkZWRcblxuICAgICAgICB9IGVsc2UgaWYgKCF0aW1lKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHdlZW4uX3B0ID0gMDtcbiAgICBsYXp5ID0gZHVyICYmIF9pc05vdEZhbHNlKGxhenkpIHx8IGxhenkgJiYgIWR1cjtcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuICAgICAgZ3NEYXRhID0gdGFyZ2V0Ll9nc2FwIHx8IF9oYXJuZXNzKHRhcmdldHMpW2ldLl9nc2FwO1xuICAgICAgdHdlZW4uX3B0TG9va3VwW2ldID0gcHRMb29rdXAgPSB7fTtcbiAgICAgIF9sYXp5TG9va3VwW2dzRGF0YS5pZF0gJiYgX2xhenlUd2VlbnMubGVuZ3RoICYmIF9sYXp5UmVuZGVyKCk7IC8vaWYgb3RoZXIgdHdlZW5zIG9mIHRoZSBzYW1lIHRhcmdldCBoYXZlIHJlY2VudGx5IGluaXR0ZWQgYnV0IGhhdmVuJ3QgcmVuZGVyZWQgeWV0LCB3ZSd2ZSBnb3QgdG8gZm9yY2UgdGhlIHJlbmRlciBzbyB0aGF0IHRoZSBzdGFydGluZyB2YWx1ZXMgYXJlIGNvcnJlY3QgKGltYWdpbmUgcG9wdWxhdGluZyBhIHRpbWVsaW5lIHdpdGggYSBidW5jaCBvZiBzZXF1ZW50aWFsIHR3ZWVucyBhbmQgdGhlbiBqdW1waW5nIHRvIHRoZSBlbmQpXG5cbiAgICAgIGluZGV4ID0gZnVsbFRhcmdldHMgPT09IHRhcmdldHMgPyBpIDogZnVsbFRhcmdldHMuaW5kZXhPZih0YXJnZXQpO1xuXG4gICAgICBpZiAoaGFybmVzcyAmJiAocGx1Z2luID0gbmV3IGhhcm5lc3MoKSkuaW5pdCh0YXJnZXQsIGhhcm5lc3NWYXJzIHx8IGNsZWFuVmFycywgdHdlZW4sIGluZGV4LCBmdWxsVGFyZ2V0cykgIT09IGZhbHNlKSB7XG4gICAgICAgIHR3ZWVuLl9wdCA9IHB0ID0gbmV3IFByb3BUd2Vlbih0d2Vlbi5fcHQsIHRhcmdldCwgcGx1Z2luLm5hbWUsIDAsIDEsIHBsdWdpbi5yZW5kZXIsIHBsdWdpbiwgMCwgcGx1Z2luLnByaW9yaXR5KTtcblxuICAgICAgICBwbHVnaW4uX3Byb3BzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBwdExvb2t1cFtuYW1lXSA9IHB0O1xuICAgICAgICB9KTtcblxuICAgICAgICBwbHVnaW4ucHJpb3JpdHkgJiYgKGhhc1ByaW9yaXR5ID0gMSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaGFybmVzcyB8fCBoYXJuZXNzVmFycykge1xuICAgICAgICBmb3IgKHAgaW4gY2xlYW5WYXJzKSB7XG4gICAgICAgICAgaWYgKF9wbHVnaW5zW3BdICYmIChwbHVnaW4gPSBfY2hlY2tQbHVnaW4ocCwgY2xlYW5WYXJzLCB0d2VlbiwgaW5kZXgsIHRhcmdldCwgZnVsbFRhcmdldHMpKSkge1xuICAgICAgICAgICAgcGx1Z2luLnByaW9yaXR5ICYmIChoYXNQcmlvcml0eSA9IDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwdExvb2t1cFtwXSA9IHB0ID0gX2FkZFByb3BUd2Vlbi5jYWxsKHR3ZWVuLCB0YXJnZXQsIHAsIFwiZ2V0XCIsIGNsZWFuVmFyc1twXSwgaW5kZXgsIGZ1bGxUYXJnZXRzLCAwLCB2YXJzLnN0cmluZ0ZpbHRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHR3ZWVuLl9vcCAmJiB0d2Vlbi5fb3BbaV0gJiYgdHdlZW4ua2lsbCh0YXJnZXQsIHR3ZWVuLl9vcFtpXSk7XG5cbiAgICAgIGlmIChhdXRvT3ZlcndyaXRlICYmIHR3ZWVuLl9wdCkge1xuICAgICAgICBfb3ZlcndyaXRpbmdUd2VlbiA9IHR3ZWVuO1xuXG4gICAgICAgIF9nbG9iYWxUaW1lbGluZS5raWxsVHdlZW5zT2YodGFyZ2V0LCBwdExvb2t1cCwgdHdlZW4uZ2xvYmFsVGltZSgwKSk7IC8vQWxzbyBtYWtlIHN1cmUgdGhlIG92ZXJ3cml0aW5nIGRvZXNuJ3Qgb3ZlcndyaXRlIFRISVMgdHdlZW4hISFcblxuXG4gICAgICAgIG92ZXJ3cml0dGVuID0gIXR3ZWVuLnBhcmVudDtcbiAgICAgICAgX292ZXJ3cml0aW5nVHdlZW4gPSAwO1xuICAgICAgfVxuXG4gICAgICB0d2Vlbi5fcHQgJiYgbGF6eSAmJiAoX2xhenlMb29rdXBbZ3NEYXRhLmlkXSA9IDEpO1xuICAgIH1cblxuICAgIGhhc1ByaW9yaXR5ICYmIF9zb3J0UHJvcFR3ZWVuc0J5UHJpb3JpdHkodHdlZW4pO1xuICAgIHR3ZWVuLl9vbkluaXQgJiYgdHdlZW4uX29uSW5pdCh0d2Vlbik7IC8vcGx1Z2lucyBsaWtlIFJvdW5kUHJvcHMgbXVzdCB3YWl0IHVudGlsIEFMTCBvZiB0aGUgUHJvcFR3ZWVucyBhcmUgaW5zdGFudGlhdGVkLiBJbiB0aGUgcGx1Z2luJ3MgaW5pdCgpIGZ1bmN0aW9uLCBpdCBzZXRzIHRoZSBfb25Jbml0IG9uIHRoZSB0d2VlbiBpbnN0YW5jZS4gTWF5IG5vdCBiZSBwcmV0dHkvaW50dWl0aXZlLCBidXQgaXQncyBmYXN0IGFuZCBrZWVwcyBmaWxlIHNpemUgZG93bi5cbiAgfVxuXG4gIHR3ZWVuLl9mcm9tID0gIXRsICYmICEhdmFycy5ydW5CYWNrd2FyZHM7IC8vbmVzdGVkIHRpbWVsaW5lcyBzaG91bGQgbmV2ZXIgcnVuIGJhY2t3YXJkcyAtIHRoZSBiYWNrd2FyZHMtbmVzcyBpcyBpbiB0aGUgY2hpbGQgdHdlZW5zLlxuXG4gIHR3ZWVuLl9vblVwZGF0ZSA9IG9uVXBkYXRlO1xuICB0d2Vlbi5faW5pdHRlZCA9ICghdHdlZW4uX29wIHx8IHR3ZWVuLl9wdCkgJiYgIW92ZXJ3cml0dGVuOyAvLyBpZiBvdmVyd3JpdHRlblByb3BzIHJlc3VsdGVkIGluIHRoZSBlbnRpcmUgdHdlZW4gYmVpbmcga2lsbGVkLCBkbyBOT1QgZmxhZyBpdCBhcyBpbml0dGVkIG9yIGVsc2UgaXQgbWF5IHJlbmRlciBmb3Igb25lIHRpY2suXG59LFxuICAgIF9hZGRBbGlhc2VzVG9WYXJzID0gZnVuY3Rpb24gX2FkZEFsaWFzZXNUb1ZhcnModGFyZ2V0cywgdmFycykge1xuICB2YXIgaGFybmVzcyA9IHRhcmdldHNbMF0gPyBfZ2V0Q2FjaGUodGFyZ2V0c1swXSkuaGFybmVzcyA6IDAsXG4gICAgICBwcm9wZXJ0eUFsaWFzZXMgPSBoYXJuZXNzICYmIGhhcm5lc3MuYWxpYXNlcyxcbiAgICAgIGNvcHksXG4gICAgICBwLFxuICAgICAgaSxcbiAgICAgIGFsaWFzZXM7XG5cbiAgaWYgKCFwcm9wZXJ0eUFsaWFzZXMpIHtcbiAgICByZXR1cm4gdmFycztcbiAgfVxuXG4gIGNvcHkgPSBfbWVyZ2Uoe30sIHZhcnMpO1xuXG4gIGZvciAocCBpbiBwcm9wZXJ0eUFsaWFzZXMpIHtcbiAgICBpZiAocCBpbiBjb3B5KSB7XG4gICAgICBhbGlhc2VzID0gcHJvcGVydHlBbGlhc2VzW3BdLnNwbGl0KFwiLFwiKTtcbiAgICAgIGkgPSBhbGlhc2VzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb3B5W2FsaWFzZXNbaV1dID0gY29weVtwXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29weTtcbn0sXG4gICAgX3BhcnNlRnVuY09yU3RyaW5nID0gZnVuY3Rpb24gX3BhcnNlRnVuY09yU3RyaW5nKHZhbHVlLCB0d2VlbiwgaSwgdGFyZ2V0LCB0YXJnZXRzKSB7XG4gIHJldHVybiBfaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKHR3ZWVuLCBpLCB0YXJnZXQsIHRhcmdldHMpIDogX2lzU3RyaW5nKHZhbHVlKSAmJiB+dmFsdWUuaW5kZXhPZihcInJhbmRvbShcIikgPyBfcmVwbGFjZVJhbmRvbSh2YWx1ZSkgOiB2YWx1ZTtcbn0sXG4gICAgX3N0YWdnZXJUd2VlblByb3BzID0gX2NhbGxiYWNrTmFtZXMgKyBcInJlcGVhdCxyZXBlYXREZWxheSx5b3lvLHJlcGVhdFJlZnJlc2gseW95b0Vhc2VcIixcbiAgICBfc3RhZ2dlclByb3BzVG9Ta2lwID0gKF9zdGFnZ2VyVHdlZW5Qcm9wcyArIFwiLGlkLHN0YWdnZXIsZGVsYXksZHVyYXRpb24scGF1c2VkLHNjcm9sbFRyaWdnZXJcIikuc3BsaXQoXCIsXCIpO1xuLypcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUV0VFTlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG5cbmV4cG9ydCB2YXIgVHdlZW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9BbmltYXRpb24yKSB7XG4gIF9pbmhlcml0c0xvb3NlKFR3ZWVuLCBfQW5pbWF0aW9uMik7XG5cbiAgZnVuY3Rpb24gVHdlZW4odGFyZ2V0cywgdmFycywgdGltZSwgc2tpcEluaGVyaXQpIHtcbiAgICB2YXIgX3RoaXMzO1xuXG4gICAgaWYgKHR5cGVvZiB2YXJzID09PSBcIm51bWJlclwiKSB7XG4gICAgICB0aW1lLmR1cmF0aW9uID0gdmFycztcbiAgICAgIHZhcnMgPSB0aW1lO1xuICAgICAgdGltZSA9IG51bGw7XG4gICAgfVxuXG4gICAgX3RoaXMzID0gX0FuaW1hdGlvbjIuY2FsbCh0aGlzLCBza2lwSW5oZXJpdCA/IHZhcnMgOiBfaW5oZXJpdERlZmF1bHRzKHZhcnMpLCB0aW1lKSB8fCB0aGlzO1xuICAgIHZhciBfdGhpczMkdmFycyA9IF90aGlzMy52YXJzLFxuICAgICAgICBkdXJhdGlvbiA9IF90aGlzMyR2YXJzLmR1cmF0aW9uLFxuICAgICAgICBkZWxheSA9IF90aGlzMyR2YXJzLmRlbGF5LFxuICAgICAgICBpbW1lZGlhdGVSZW5kZXIgPSBfdGhpczMkdmFycy5pbW1lZGlhdGVSZW5kZXIsXG4gICAgICAgIHN0YWdnZXIgPSBfdGhpczMkdmFycy5zdGFnZ2VyLFxuICAgICAgICBvdmVyd3JpdGUgPSBfdGhpczMkdmFycy5vdmVyd3JpdGUsXG4gICAgICAgIGtleWZyYW1lcyA9IF90aGlzMyR2YXJzLmtleWZyYW1lcyxcbiAgICAgICAgZGVmYXVsdHMgPSBfdGhpczMkdmFycy5kZWZhdWx0cyxcbiAgICAgICAgc2Nyb2xsVHJpZ2dlciA9IF90aGlzMyR2YXJzLnNjcm9sbFRyaWdnZXIsXG4gICAgICAgIHlveW9FYXNlID0gX3RoaXMzJHZhcnMueW95b0Vhc2UsXG4gICAgICAgIHBhcmVudCA9IF90aGlzMy5wYXJlbnQsXG4gICAgICAgIHBhcnNlZFRhcmdldHMgPSAoX2lzQXJyYXkodGFyZ2V0cykgfHwgX2lzVHlwZWRBcnJheSh0YXJnZXRzKSA/IF9pc051bWJlcih0YXJnZXRzWzBdKSA6IFwibGVuZ3RoXCIgaW4gdmFycykgPyBbdGFyZ2V0c10gOiB0b0FycmF5KHRhcmdldHMpLFxuICAgICAgICB0bCxcbiAgICAgICAgaSxcbiAgICAgICAgY29weSxcbiAgICAgICAgbCxcbiAgICAgICAgcCxcbiAgICAgICAgY3VyVGFyZ2V0LFxuICAgICAgICBzdGFnZ2VyRnVuYyxcbiAgICAgICAgc3RhZ2dlclZhcnNUb01lcmdlO1xuICAgIF90aGlzMy5fdGFyZ2V0cyA9IHBhcnNlZFRhcmdldHMubGVuZ3RoID8gX2hhcm5lc3MocGFyc2VkVGFyZ2V0cykgOiBfd2FybihcIkdTQVAgdGFyZ2V0IFwiICsgdGFyZ2V0cyArIFwiIG5vdCBmb3VuZC4gaHR0cHM6Ly9ncmVlbnNvY2suY29tXCIsICFfY29uZmlnLm51bGxUYXJnZXRXYXJuKSB8fCBbXTtcbiAgICBfdGhpczMuX3B0TG9va3VwID0gW107IC8vUHJvcFR3ZWVuIGxvb2t1cC4gQW4gYXJyYXkgY29udGFpbmluZyBhbiBvYmplY3QgZm9yIGVhY2ggdGFyZ2V0LCBoYXZpbmcga2V5cyBmb3IgZWFjaCB0d2VlbmluZyBwcm9wZXJ0eVxuXG4gICAgX3RoaXMzLl9vdmVyd3JpdGUgPSBvdmVyd3JpdGU7XG5cbiAgICBpZiAoa2V5ZnJhbWVzIHx8IHN0YWdnZXIgfHwgX2lzRnVuY09yU3RyaW5nKGR1cmF0aW9uKSB8fCBfaXNGdW5jT3JTdHJpbmcoZGVsYXkpKSB7XG4gICAgICB2YXJzID0gX3RoaXMzLnZhcnM7XG4gICAgICB0bCA9IF90aGlzMy50aW1lbGluZSA9IG5ldyBUaW1lbGluZSh7XG4gICAgICAgIGRhdGE6IFwibmVzdGVkXCIsXG4gICAgICAgIGRlZmF1bHRzOiBkZWZhdWx0cyB8fCB7fVxuICAgICAgfSk7XG4gICAgICB0bC5raWxsKCk7XG4gICAgICB0bC5wYXJlbnQgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMyk7XG5cbiAgICAgIGlmIChrZXlmcmFtZXMpIHtcbiAgICAgICAgX3NldERlZmF1bHRzKHRsLnZhcnMuZGVmYXVsdHMsIHtcbiAgICAgICAgICBlYXNlOiBcIm5vbmVcIlxuICAgICAgICB9KTtcblxuICAgICAgICBrZXlmcmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgICByZXR1cm4gdGwudG8ocGFyc2VkVGFyZ2V0cywgZnJhbWUsIFwiPlwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsID0gcGFyc2VkVGFyZ2V0cy5sZW5ndGg7XG4gICAgICAgIHN0YWdnZXJGdW5jID0gc3RhZ2dlciA/IGRpc3RyaWJ1dGUoc3RhZ2dlcikgOiBfZW1wdHlGdW5jO1xuXG4gICAgICAgIGlmIChfaXNPYmplY3Qoc3RhZ2dlcikpIHtcbiAgICAgICAgICAvL3VzZXJzIGNhbiBwYXNzIGluIGNhbGxiYWNrcyBsaWtlIG9uU3RhcnQvb25Db21wbGV0ZSBpbiB0aGUgc3RhZ2dlciBvYmplY3QuIFRoZXNlIHNob3VsZCBmaXJlIHdpdGggZWFjaCBpbmRpdmlkdWFsIHR3ZWVuLlxuICAgICAgICAgIGZvciAocCBpbiBzdGFnZ2VyKSB7XG4gICAgICAgICAgICBpZiAofl9zdGFnZ2VyVHdlZW5Qcm9wcy5pbmRleE9mKHApKSB7XG4gICAgICAgICAgICAgIHN0YWdnZXJWYXJzVG9NZXJnZSB8fCAoc3RhZ2dlclZhcnNUb01lcmdlID0ge30pO1xuICAgICAgICAgICAgICBzdGFnZ2VyVmFyc1RvTWVyZ2VbcF0gPSBzdGFnZ2VyW3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBjb3B5ID0ge307XG5cbiAgICAgICAgICBmb3IgKHAgaW4gdmFycykge1xuICAgICAgICAgICAgaWYgKF9zdGFnZ2VyUHJvcHNUb1NraXAuaW5kZXhPZihwKSA8IDApIHtcbiAgICAgICAgICAgICAgY29weVtwXSA9IHZhcnNbcF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29weS5zdGFnZ2VyID0gMDtcbiAgICAgICAgICB5b3lvRWFzZSAmJiAoY29weS55b3lvRWFzZSA9IHlveW9FYXNlKTtcbiAgICAgICAgICBzdGFnZ2VyVmFyc1RvTWVyZ2UgJiYgX21lcmdlKGNvcHksIHN0YWdnZXJWYXJzVG9NZXJnZSk7XG4gICAgICAgICAgY3VyVGFyZ2V0ID0gcGFyc2VkVGFyZ2V0c1tpXTsgLy9kb24ndCBqdXN0IGNvcHkgZHVyYXRpb24gb3IgZGVsYXkgYmVjYXVzZSBpZiB0aGV5J3JlIGEgc3RyaW5nIG9yIGZ1bmN0aW9uLCB3ZSdkIGVuZCB1cCBpbiBhbiBpbmZpbml0ZSBsb29wIGJlY2F1c2UgX2lzRnVuY09yU3RyaW5nKCkgd291bGQgZXZhbHVhdGUgYXMgdHJ1ZSBpbiB0aGUgY2hpbGQgdHdlZW5zLCBlbnRlcmluZyB0aGlzIGxvb3AsIGV0Yy4gU28gd2UgcGFyc2UgdGhlIHZhbHVlIHN0cmFpZ2h0IGZyb20gdmFycyBhbmQgZGVmYXVsdCB0byAwLlxuXG4gICAgICAgICAgY29weS5kdXJhdGlvbiA9ICtfcGFyc2VGdW5jT3JTdHJpbmcoZHVyYXRpb24sIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMzKSwgaSwgY3VyVGFyZ2V0LCBwYXJzZWRUYXJnZXRzKTtcbiAgICAgICAgICBjb3B5LmRlbGF5ID0gKCtfcGFyc2VGdW5jT3JTdHJpbmcoZGVsYXksIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMzKSwgaSwgY3VyVGFyZ2V0LCBwYXJzZWRUYXJnZXRzKSB8fCAwKSAtIF90aGlzMy5fZGVsYXk7XG5cbiAgICAgICAgICBpZiAoIXN0YWdnZXIgJiYgbCA9PT0gMSAmJiBjb3B5LmRlbGF5KSB7XG4gICAgICAgICAgICAvLyBpZiBzb21lb25lIGRvZXMgZGVsYXk6XCJyYW5kb20oMSwgNSlcIiwgcmVwZWF0Oi0xLCBmb3IgZXhhbXBsZSwgdGhlIGRlbGF5IHNob3VsZG4ndCBiZSBpbnNpZGUgdGhlIHJlcGVhdC5cbiAgICAgICAgICAgIF90aGlzMy5fZGVsYXkgPSBkZWxheSA9IGNvcHkuZGVsYXk7XG4gICAgICAgICAgICBfdGhpczMuX3N0YXJ0ICs9IGRlbGF5O1xuICAgICAgICAgICAgY29weS5kZWxheSA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGwudG8oY3VyVGFyZ2V0LCBjb3B5LCBzdGFnZ2VyRnVuYyhpLCBjdXJUYXJnZXQsIHBhcnNlZFRhcmdldHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRsLmR1cmF0aW9uKCkgPyBkdXJhdGlvbiA9IGRlbGF5ID0gMCA6IF90aGlzMy50aW1lbGluZSA9IDA7IC8vIGlmIHRoZSB0aW1lbGluZSdzIGR1cmF0aW9uIGlzIDAsIHdlIGRvbid0IG5lZWQgYSB0aW1lbGluZSBpbnRlcm5hbGx5IVxuICAgICAgfVxuXG4gICAgICBkdXJhdGlvbiB8fCBfdGhpczMuZHVyYXRpb24oZHVyYXRpb24gPSB0bC5kdXJhdGlvbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMzLnRpbWVsaW5lID0gMDsgLy9zcGVlZCBvcHRpbWl6YXRpb24sIGZhc3RlciBsb29rdXBzIChubyBnb2luZyB1cCB0aGUgcHJvdG90eXBlIGNoYWluKVxuICAgIH1cblxuICAgIGlmIChvdmVyd3JpdGUgPT09IHRydWUpIHtcbiAgICAgIF9vdmVyd3JpdGluZ1R3ZWVuID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczMpO1xuXG4gICAgICBfZ2xvYmFsVGltZWxpbmUua2lsbFR3ZWVuc09mKHBhcnNlZFRhcmdldHMpO1xuXG4gICAgICBfb3ZlcndyaXRpbmdUd2VlbiA9IDA7XG4gICAgfVxuXG4gICAgcGFyZW50ICYmIF9wb3N0QWRkQ2hlY2tzKHBhcmVudCwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczMpKTtcblxuICAgIGlmIChpbW1lZGlhdGVSZW5kZXIgfHwgIWR1cmF0aW9uICYmICFrZXlmcmFtZXMgJiYgX3RoaXMzLl9zdGFydCA9PT0gX3JvdW5kKHBhcmVudC5fdGltZSkgJiYgX2lzTm90RmFsc2UoaW1tZWRpYXRlUmVuZGVyKSAmJiBfaGFzTm9QYXVzZWRBbmNlc3RvcnMoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczMpKSAmJiBwYXJlbnQuZGF0YSAhPT0gXCJuZXN0ZWRcIikge1xuICAgICAgX3RoaXMzLl90VGltZSA9IC1fdGlueU51bTsgLy9mb3JjZXMgYSByZW5kZXIgd2l0aG91dCBoYXZpbmcgdG8gc2V0IHRoZSByZW5kZXIoKSBcImZvcmNlXCIgcGFyYW1ldGVyIHRvIHRydWUgYmVjYXVzZSB3ZSB3YW50IHRvIGFsbG93IGxhenlpbmcgYnkgZGVmYXVsdCAodXNpbmcgdGhlIFwiZm9yY2VcIiBwYXJhbWV0ZXIgYWx3YXlzIGZvcmNlcyBhbiBpbW1lZGlhdGUgZnVsbCByZW5kZXIpXG5cbiAgICAgIF90aGlzMy5yZW5kZXIoTWF0aC5tYXgoMCwgLWRlbGF5KSk7IC8vaW4gY2FzZSBkZWxheSBpcyBuZWdhdGl2ZVxuXG4gICAgfVxuXG4gICAgc2Nyb2xsVHJpZ2dlciAmJiBfc2Nyb2xsVHJpZ2dlcihfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMyksIHNjcm9sbFRyaWdnZXIpO1xuICAgIHJldHVybiBfdGhpczM7XG4gIH1cblxuICB2YXIgX3Byb3RvMyA9IFR3ZWVuLnByb3RvdHlwZTtcblxuICBfcHJvdG8zLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcih0b3RhbFRpbWUsIHN1cHByZXNzRXZlbnRzLCBmb3JjZSkge1xuICAgIHZhciBwcmV2VGltZSA9IHRoaXMuX3RpbWUsXG4gICAgICAgIHREdXIgPSB0aGlzLl90RHVyLFxuICAgICAgICBkdXIgPSB0aGlzLl9kdXIsXG4gICAgICAgIHRUaW1lID0gdG90YWxUaW1lID4gdER1ciAtIF90aW55TnVtICYmIHRvdGFsVGltZSA+PSAwID8gdER1ciA6IHRvdGFsVGltZSA8IF90aW55TnVtID8gMCA6IHRvdGFsVGltZSxcbiAgICAgICAgdGltZSxcbiAgICAgICAgcHQsXG4gICAgICAgIGl0ZXJhdGlvbixcbiAgICAgICAgY3ljbGVEdXJhdGlvbixcbiAgICAgICAgcHJldkl0ZXJhdGlvbixcbiAgICAgICAgaXNZb3lvLFxuICAgICAgICByYXRpbyxcbiAgICAgICAgdGltZWxpbmUsXG4gICAgICAgIHlveW9FYXNlO1xuXG4gICAgaWYgKCFkdXIpIHtcbiAgICAgIF9yZW5kZXJaZXJvRHVyYXRpb25Ud2Vlbih0aGlzLCB0b3RhbFRpbWUsIHN1cHByZXNzRXZlbnRzLCBmb3JjZSk7XG4gICAgfSBlbHNlIGlmICh0VGltZSAhPT0gdGhpcy5fdFRpbWUgfHwgIXRvdGFsVGltZSB8fCBmb3JjZSB8fCB0aGlzLl9zdGFydEF0ICYmIHRoaXMuX3pUaW1lIDwgMCAhPT0gdG90YWxUaW1lIDwgMCkge1xuICAgICAgLy90aGlzIHNlbnNlcyBpZiB3ZSdyZSBjcm9zc2luZyBvdmVyIHRoZSBzdGFydCB0aW1lLCBpbiB3aGljaCBjYXNlIHdlIG11c3QgcmVjb3JkIF96VGltZSBhbmQgZm9yY2UgdGhlIHJlbmRlciwgYnV0IHdlIGRvIGl0IGluIHRoaXMgbGVuZ3RoeSBjb25kaXRpb25hbCB3YXkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKHVzdWFsbHkgd2UgY2FuIHNraXAgdGhlIGNhbGN1bGF0aW9ucyk6IHRoaXMuX2luaXR0ZWQgJiYgKHRoaXMuX3pUaW1lIDwgMCkgIT09ICh0b3RhbFRpbWUgPCAwKVxuICAgICAgdGltZSA9IHRUaW1lO1xuICAgICAgdGltZWxpbmUgPSB0aGlzLnRpbWVsaW5lO1xuXG4gICAgICBpZiAodGhpcy5fcmVwZWF0KSB7XG4gICAgICAgIC8vYWRqdXN0IHRoZSB0aW1lIGZvciByZXBlYXRzIGFuZCB5b3lvc1xuICAgICAgICBjeWNsZUR1cmF0aW9uID0gZHVyICsgdGhpcy5fckRlbGF5O1xuICAgICAgICB0aW1lID0gX3JvdW5kKHRUaW1lICUgY3ljbGVEdXJhdGlvbik7IC8vcm91bmQgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgZXJyb3JzLiAoNCAlIDAuOCBzaG91bGQgYmUgMCBidXQgc29tZSBicm93c2VycyByZXBvcnQgaXQgYXMgMC43OTk5OTk5OSEpXG5cbiAgICAgICAgaWYgKHRUaW1lID09PSB0RHVyKSB7XG4gICAgICAgICAgLy8gdGhlIHREdXIgPT09IHRUaW1lIGlzIGZvciBlZGdlIGNhc2VzIHdoZXJlIHRoZXJlJ3MgYSBsZW5ndGh5IGRlY2ltYWwgb24gdGhlIGR1cmF0aW9uIGFuZCBpdCBtYXkgcmVhY2ggdGhlIHZlcnkgZW5kIGJ1dCB0aGUgdGltZSBpcyByZW5kZXJlZCBhcyBub3QtcXVpdGUtdGhlcmUgKHJlbWVtYmVyLCB0RHVyIGlzIHJvdW5kZWQgdG8gNCBkZWNpbWFscyB3aGVyZWFzIGR1ciBpc24ndClcbiAgICAgICAgICBpdGVyYXRpb24gPSB0aGlzLl9yZXBlYXQ7XG4gICAgICAgICAgdGltZSA9IGR1cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVyYXRpb24gPSB+fih0VGltZSAvIGN5Y2xlRHVyYXRpb24pO1xuXG4gICAgICAgICAgaWYgKGl0ZXJhdGlvbiAmJiBpdGVyYXRpb24gPT09IHRUaW1lIC8gY3ljbGVEdXJhdGlvbikge1xuICAgICAgICAgICAgdGltZSA9IGR1cjtcbiAgICAgICAgICAgIGl0ZXJhdGlvbi0tO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRpbWUgPiBkdXIgJiYgKHRpbWUgPSBkdXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaXNZb3lvID0gdGhpcy5feW95byAmJiBpdGVyYXRpb24gJiAxO1xuXG4gICAgICAgIGlmIChpc1lveW8pIHtcbiAgICAgICAgICB5b3lvRWFzZSA9IHRoaXMuX3lFYXNlO1xuICAgICAgICAgIHRpbWUgPSBkdXIgLSB0aW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldkl0ZXJhdGlvbiA9IF9hbmltYXRpb25DeWNsZSh0aGlzLl90VGltZSwgY3ljbGVEdXJhdGlvbik7XG5cbiAgICAgICAgaWYgKHRpbWUgPT09IHByZXZUaW1lICYmICFmb3JjZSAmJiB0aGlzLl9pbml0dGVkKSB7XG4gICAgICAgICAgLy9jb3VsZCBiZSBkdXJpbmcgdGhlIHJlcGVhdERlbGF5IHBhcnQuIE5vIG5lZWQgdG8gcmVuZGVyIGFuZCBmaXJlIGNhbGxiYWNrcy5cbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVyYXRpb24gIT09IHByZXZJdGVyYXRpb24pIHtcbiAgICAgICAgICB0aW1lbGluZSAmJiB0aGlzLl95RWFzZSAmJiBfcHJvcGFnYXRlWW95b0Vhc2UodGltZWxpbmUsIGlzWW95byk7IC8vcmVwZWF0UmVmcmVzaCBmdW5jdGlvbmFsaXR5XG5cbiAgICAgICAgICBpZiAodGhpcy52YXJzLnJlcGVhdFJlZnJlc2ggJiYgIWlzWW95byAmJiAhdGhpcy5fbG9jaykge1xuICAgICAgICAgICAgdGhpcy5fbG9jayA9IGZvcmNlID0gMTsgLy9mb3JjZSwgb3RoZXJ3aXNlIGlmIGxhenkgaXMgdHJ1ZSwgdGhlIF9hdHRlbXB0SW5pdFR3ZWVuKCkgd2lsbCByZXR1cm4gYW5kIHdlJ2xsIGp1bXAgb3V0IGFuZCBnZXQgY2F1Z2h0IGJvdW5jaW5nIG9uIGVhY2ggdGljay5cblxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoX3JvdW5kKGN5Y2xlRHVyYXRpb24gKiBpdGVyYXRpb24pLCB0cnVlKS5pbnZhbGlkYXRlKCkuX2xvY2sgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2luaXR0ZWQpIHtcbiAgICAgICAgaWYgKF9hdHRlbXB0SW5pdFR3ZWVuKHRoaXMsIHRvdGFsVGltZSA8IDAgPyB0b3RhbFRpbWUgOiB0aW1lLCBmb3JjZSwgc3VwcHJlc3NFdmVudHMpKSB7XG4gICAgICAgICAgdGhpcy5fdFRpbWUgPSAwOyAvLyBpbiBjb25zdHJ1Y3RvciBpZiBpbW1lZGlhdGVSZW5kZXIgaXMgdHJ1ZSwgd2Ugc2V0IF90VGltZSB0byAtX3RpbnlOdW0gdG8gaGF2ZSB0aGUgcGxheWhlYWQgY3Jvc3MgdGhlIHN0YXJ0aW5nIHBvaW50IGJ1dCB3ZSBjYW4ndCBsZWF2ZSBfdFRpbWUgYXMgYSBuZWdhdGl2ZSBudW1iZXIuXG5cbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkdXIgIT09IHRoaXMuX2R1cikge1xuICAgICAgICAgIC8vIHdoaWxlIGluaXR0aW5nLCBhIHBsdWdpbiBsaWtlIEluZXJ0aWFQbHVnaW4gbWlnaHQgYWx0ZXIgdGhlIGR1cmF0aW9uLCBzbyByZXJ1biBmcm9tIHRoZSBzdGFydCB0byBlbnN1cmUgZXZlcnl0aGluZyByZW5kZXJzIGFzIGl0IHNob3VsZC5cbiAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXIodG90YWxUaW1lLCBzdXBwcmVzc0V2ZW50cywgZm9yY2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3RUaW1lID0gdFRpbWU7XG4gICAgICB0aGlzLl90aW1lID0gdGltZTtcblxuICAgICAgaWYgKCF0aGlzLl9hY3QgJiYgdGhpcy5fdHMpIHtcbiAgICAgICAgdGhpcy5fYWN0ID0gMTsgLy9hcyBsb25nIGFzIGl0J3Mgbm90IHBhdXNlZCwgZm9yY2UgaXQgdG8gYmUgYWN0aXZlIHNvIHRoYXQgaWYgdGhlIHVzZXIgcmVuZGVycyBpbmRlcGVuZGVudCBvZiB0aGUgcGFyZW50IHRpbWVsaW5lLCBpdCdsbCBiZSBmb3JjZWQgdG8gcmUtcmVuZGVyIG9uIHRoZSBuZXh0IHRpY2suXG5cbiAgICAgICAgdGhpcy5fbGF6eSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmF0aW8gPSByYXRpbyA9ICh5b3lvRWFzZSB8fCB0aGlzLl9lYXNlKSh0aW1lIC8gZHVyKTtcblxuICAgICAgaWYgKHRoaXMuX2Zyb20pIHtcbiAgICAgICAgdGhpcy5yYXRpbyA9IHJhdGlvID0gMSAtIHJhdGlvO1xuICAgICAgfVxuXG4gICAgICB0aW1lICYmICFwcmV2VGltZSAmJiAhc3VwcHJlc3NFdmVudHMgJiYgX2NhbGxiYWNrKHRoaXMsIFwib25TdGFydFwiKTtcbiAgICAgIHB0ID0gdGhpcy5fcHQ7XG5cbiAgICAgIHdoaWxlIChwdCkge1xuICAgICAgICBwdC5yKHJhdGlvLCBwdC5kKTtcbiAgICAgICAgcHQgPSBwdC5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgdGltZWxpbmUgJiYgdGltZWxpbmUucmVuZGVyKHRvdGFsVGltZSA8IDAgPyB0b3RhbFRpbWUgOiAhdGltZSAmJiBpc1lveW8gPyAtX3RpbnlOdW0gOiB0aW1lbGluZS5fZHVyICogcmF0aW8sIHN1cHByZXNzRXZlbnRzLCBmb3JjZSkgfHwgdGhpcy5fc3RhcnRBdCAmJiAodGhpcy5felRpbWUgPSB0b3RhbFRpbWUpO1xuXG4gICAgICBpZiAodGhpcy5fb25VcGRhdGUgJiYgIXN1cHByZXNzRXZlbnRzKSB7XG4gICAgICAgIHRvdGFsVGltZSA8IDAgJiYgdGhpcy5fc3RhcnRBdCAmJiB0aGlzLl9zdGFydEF0LnJlbmRlcih0b3RhbFRpbWUsIHRydWUsIGZvcmNlKTsgLy9ub3RlOiBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgd2UgdHVjayB0aGlzIGNvbmRpdGlvbmFsIGxvZ2ljIGluc2lkZSBsZXNzIHRyYXZlbGVkIGFyZWFzIChtb3N0IHR3ZWVucyBkb24ndCBoYXZlIGFuIG9uVXBkYXRlKS4gV2UnZCBqdXN0IGhhdmUgaXQgYXQgdGhlIGVuZCBiZWZvcmUgdGhlIG9uQ29tcGxldGUsIGJ1dCB0aGUgdmFsdWVzIHNob3VsZCBiZSB1cGRhdGVkIGJlZm9yZSBhbnkgb25VcGRhdGUgaXMgY2FsbGVkLCBzbyB3ZSBBTFNPIHB1dCBpdCBoZXJlIGFuZCB0aGVuIGlmIGl0J3Mgbm90IGNhbGxlZCwgd2UgZG8gc28gbGF0ZXIgbmVhciB0aGUgb25Db21wbGV0ZS5cblxuICAgICAgICBfY2FsbGJhY2sodGhpcywgXCJvblVwZGF0ZVwiKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcmVwZWF0ICYmIGl0ZXJhdGlvbiAhPT0gcHJldkl0ZXJhdGlvbiAmJiB0aGlzLnZhcnMub25SZXBlYXQgJiYgIXN1cHByZXNzRXZlbnRzICYmIHRoaXMucGFyZW50ICYmIF9jYWxsYmFjayh0aGlzLCBcIm9uUmVwZWF0XCIpO1xuXG4gICAgICBpZiAoKHRUaW1lID09PSB0aGlzLl90RHVyIHx8ICF0VGltZSkgJiYgdGhpcy5fdFRpbWUgPT09IHRUaW1lKSB7XG4gICAgICAgIHRvdGFsVGltZSA8IDAgJiYgdGhpcy5fc3RhcnRBdCAmJiAhdGhpcy5fb25VcGRhdGUgJiYgdGhpcy5fc3RhcnRBdC5yZW5kZXIodG90YWxUaW1lLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgKHRvdGFsVGltZSB8fCAhZHVyKSAmJiAodFRpbWUgPT09IHRoaXMuX3REdXIgJiYgdGhpcy5fdHMgPiAwIHx8ICF0VGltZSAmJiB0aGlzLl90cyA8IDApICYmIF9yZW1vdmVGcm9tUGFyZW50KHRoaXMsIDEpOyAvLyBkb24ndCByZW1vdmUgaWYgd2UncmUgcmVuZGVyaW5nIGF0IGV4YWN0bHkgYSB0aW1lIG9mIDAsIGFzIHRoZXJlIGNvdWxkIGJlIGF1dG9SZXZlcnQgdmFsdWVzIHRoYXQgc2hvdWxkIGdldCBzZXQgb24gdGhlIG5leHQgdGljayAoaWYgdGhlIHBsYXloZWFkIGdvZXMgYmFja3dhcmQgYmV5b25kIHRoZSBzdGFydFRpbWUsIG5lZ2F0aXZlIHRvdGFsVGltZSkuIERvbid0IHJlbW92ZSBpZiB0aGUgdGltZWxpbmUgaXMgcmV2ZXJzZWQgYW5kIHRoZSBwbGF5aGVhZCBpc24ndCBhdCAwLCBvdGhlcndpc2UgdGwucHJvZ3Jlc3MoMSkucmV2ZXJzZSgpIHdvbid0IHdvcmsuIE9ubHkgcmVtb3ZlIGlmIHRoZSBwbGF5aGVhZCBpcyBhdCB0aGUgZW5kIGFuZCB0aW1lU2NhbGUgaXMgcG9zaXRpdmUsIG9yIGlmIHRoZSBwbGF5aGVhZCBpcyBhdCAwIGFuZCB0aGUgdGltZVNjYWxlIGlzIG5lZ2F0aXZlLlxuXG4gICAgICAgIGlmICghc3VwcHJlc3NFdmVudHMgJiYgISh0b3RhbFRpbWUgPCAwICYmICFwcmV2VGltZSkgJiYgKHRUaW1lIHx8IHByZXZUaW1lKSkge1xuICAgICAgICAgIC8vIGlmIHByZXZUaW1lIGFuZCB0VGltZSBhcmUgemVybywgd2Ugc2hvdWxkbid0IGZpcmUgdGhlIG9uUmV2ZXJzZUNvbXBsZXRlLiBUaGlzIGNvdWxkIGhhcHBlbiBpZiB5b3UgZ3NhcC50byguLi4ge3BhdXNlZDp0cnVlfSkucGxheSgpO1xuICAgICAgICAgIF9jYWxsYmFjayh0aGlzLCB0VGltZSA9PT0gdER1ciA/IFwib25Db21wbGV0ZVwiIDogXCJvblJldmVyc2VDb21wbGV0ZVwiLCB0cnVlKTtcblxuICAgICAgICAgIHRoaXMuX3Byb20gJiYgISh0VGltZSA8IHREdXIgJiYgdGhpcy50aW1lU2NhbGUoKSA+IDApICYmIHRoaXMuX3Byb20oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90bzMudGFyZ2V0cyA9IGZ1bmN0aW9uIHRhcmdldHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldHM7XG4gIH07XG5cbiAgX3Byb3RvMy5pbnZhbGlkYXRlID0gZnVuY3Rpb24gaW52YWxpZGF0ZSgpIHtcbiAgICB0aGlzLl9wdCA9IHRoaXMuX29wID0gdGhpcy5fc3RhcnRBdCA9IHRoaXMuX29uVXBkYXRlID0gdGhpcy5fYWN0ID0gdGhpcy5fbGF6eSA9IDA7XG4gICAgdGhpcy5fcHRMb29rdXAgPSBbXTtcbiAgICB0aGlzLnRpbWVsaW5lICYmIHRoaXMudGltZWxpbmUuaW52YWxpZGF0ZSgpO1xuICAgIHJldHVybiBfQW5pbWF0aW9uMi5wcm90b3R5cGUuaW52YWxpZGF0ZS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIF9wcm90bzMua2lsbCA9IGZ1bmN0aW9uIGtpbGwodGFyZ2V0cywgdmFycykge1xuICAgIGlmICh2YXJzID09PSB2b2lkIDApIHtcbiAgICAgIHZhcnMgPSBcImFsbFwiO1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0cyAmJiAoIXZhcnMgfHwgdmFycyA9PT0gXCJhbGxcIikpIHtcbiAgICAgIHRoaXMuX2xhenkgPSAwO1xuXG4gICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcnJ1cHQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGltZWxpbmUpIHtcbiAgICAgIHZhciB0RHVyID0gdGhpcy50aW1lbGluZS50b3RhbER1cmF0aW9uKCk7XG4gICAgICB0aGlzLnRpbWVsaW5lLmtpbGxUd2VlbnNPZih0YXJnZXRzLCB2YXJzLCBfb3ZlcndyaXRpbmdUd2VlbiAmJiBfb3ZlcndyaXRpbmdUd2Vlbi52YXJzLm92ZXJ3cml0ZSAhPT0gdHJ1ZSkuX2ZpcnN0IHx8IF9pbnRlcnJ1cHQodGhpcyk7IC8vIGlmIG5vdGhpbmcgaXMgbGVmdCB0d2Vlbm5nLCBpbnRlcnJ1cHQuXG5cbiAgICAgIHRoaXMucGFyZW50ICYmIHREdXIgIT09IHRoaXMudGltZWxpbmUudG90YWxEdXJhdGlvbigpICYmIF9zZXREdXJhdGlvbih0aGlzLCB0aGlzLl9kdXIgKiB0aGlzLnRpbWVsaW5lLl90RHVyIC8gdER1ciwgMCwgMSk7IC8vIGlmIGEgbmVzdGVkIHR3ZWVuIGlzIGtpbGxlZCB0aGF0IGNoYW5nZXMgdGhlIGR1cmF0aW9uLCBpdCBzaG91bGQgYWZmZWN0IHRoaXMgdHdlZW4ncyBkdXJhdGlvbi4gV2UgbXVzdCB1c2UgdGhlIHJhdGlvLCB0aG91Z2gsIGJlY2F1c2Ugc29tZXRpbWVzIHRoZSBpbnRlcm5hbCB0aW1lbGluZSBpcyBzdHJldGNoZWQgbGlrZSBmb3Iga2V5ZnJhbWVzIHdoZXJlIHRoZXkgZG9uJ3QgYWxsIGFkZCB1cCB0byB3aGF0ZXZlciB0aGUgcGFyZW50IHR3ZWVuJ3MgZHVyYXRpb24gd2FzIHNldCB0by5cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIHBhcnNlZFRhcmdldHMgPSB0aGlzLl90YXJnZXRzLFxuICAgICAgICBraWxsaW5nVGFyZ2V0cyA9IHRhcmdldHMgPyB0b0FycmF5KHRhcmdldHMpIDogcGFyc2VkVGFyZ2V0cyxcbiAgICAgICAgcHJvcFR3ZWVuTG9va3VwID0gdGhpcy5fcHRMb29rdXAsXG4gICAgICAgIGZpcnN0UFQgPSB0aGlzLl9wdCxcbiAgICAgICAgb3ZlcndyaXR0ZW5Qcm9wcyxcbiAgICAgICAgY3VyTG9va3VwLFxuICAgICAgICBjdXJPdmVyd3JpdGVQcm9wcyxcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHAsXG4gICAgICAgIHB0LFxuICAgICAgICBpO1xuXG4gICAgaWYgKCghdmFycyB8fCB2YXJzID09PSBcImFsbFwiKSAmJiBfYXJyYXlzTWF0Y2gocGFyc2VkVGFyZ2V0cywga2lsbGluZ1RhcmdldHMpKSB7XG4gICAgICB2YXJzID09PSBcImFsbFwiICYmICh0aGlzLl9wdCA9IDApO1xuICAgICAgcmV0dXJuIF9pbnRlcnJ1cHQodGhpcyk7XG4gICAgfVxuXG4gICAgb3ZlcndyaXR0ZW5Qcm9wcyA9IHRoaXMuX29wID0gdGhpcy5fb3AgfHwgW107XG5cbiAgICBpZiAodmFycyAhPT0gXCJhbGxcIikge1xuICAgICAgLy9zbyBwZW9wbGUgY2FuIHBhc3MgaW4gYSBjb21tYS1kZWxpbWl0ZWQgbGlzdCBvZiBwcm9wZXJ0eSBuYW1lc1xuICAgICAgaWYgKF9pc1N0cmluZyh2YXJzKSkge1xuICAgICAgICBwID0ge307XG5cbiAgICAgICAgX2ZvckVhY2hOYW1lKHZhcnMsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIHBbbmFtZV0gPSAxO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXJzID0gcDtcbiAgICAgIH1cblxuICAgICAgdmFycyA9IF9hZGRBbGlhc2VzVG9WYXJzKHBhcnNlZFRhcmdldHMsIHZhcnMpO1xuICAgIH1cblxuICAgIGkgPSBwYXJzZWRUYXJnZXRzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGlmICh+a2lsbGluZ1RhcmdldHMuaW5kZXhPZihwYXJzZWRUYXJnZXRzW2ldKSkge1xuICAgICAgICBjdXJMb29rdXAgPSBwcm9wVHdlZW5Mb29rdXBbaV07XG5cbiAgICAgICAgaWYgKHZhcnMgPT09IFwiYWxsXCIpIHtcbiAgICAgICAgICBvdmVyd3JpdHRlblByb3BzW2ldID0gdmFycztcbiAgICAgICAgICBwcm9wcyA9IGN1ckxvb2t1cDtcbiAgICAgICAgICBjdXJPdmVyd3JpdGVQcm9wcyA9IHt9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1ck92ZXJ3cml0ZVByb3BzID0gb3ZlcndyaXR0ZW5Qcm9wc1tpXSA9IG92ZXJ3cml0dGVuUHJvcHNbaV0gfHwge307XG4gICAgICAgICAgcHJvcHMgPSB2YXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChwIGluIHByb3BzKSB7XG4gICAgICAgICAgcHQgPSBjdXJMb29rdXAgJiYgY3VyTG9va3VwW3BdO1xuXG4gICAgICAgICAgaWYgKHB0KSB7XG4gICAgICAgICAgICBpZiAoIShcImtpbGxcIiBpbiBwdC5kKSB8fCBwdC5kLmtpbGwocCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgX3JlbW92ZUxpbmtlZExpc3RJdGVtKHRoaXMsIHB0LCBcIl9wdFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVsZXRlIGN1ckxvb2t1cFtwXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY3VyT3ZlcndyaXRlUHJvcHMgIT09IFwiYWxsXCIpIHtcbiAgICAgICAgICAgIGN1ck92ZXJ3cml0ZVByb3BzW3BdID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9pbml0dGVkICYmICF0aGlzLl9wdCAmJiBmaXJzdFBUICYmIF9pbnRlcnJ1cHQodGhpcyk7IC8vaWYgYWxsIHR3ZWVuaW5nIHByb3BlcnRpZXMgYXJlIGtpbGxlZCwga2lsbCB0aGUgdHdlZW4uIFdpdGhvdXQgdGhpcyBsaW5lLCBpZiB0aGVyZSdzIGEgdHdlZW4gd2l0aCBtdWx0aXBsZSB0YXJnZXRzIGFuZCB0aGVuIHlvdSBraWxsVHdlZW5zT2YoKSBlYWNoIHRhcmdldCBpbmRpdmlkdWFsbHksIHRoZSB0d2VlbiB3b3VsZCB0ZWNobmljYWxseSBzdGlsbCByZW1haW4gYWN0aXZlIGFuZCBmaXJlIGl0cyBvbkNvbXBsZXRlIGV2ZW4gdGhvdWdoIHRoZXJlIGFyZW4ndCBhbnkgbW9yZSBwcm9wZXJ0aWVzIHR3ZWVuaW5nLlxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgVHdlZW4udG8gPSBmdW5jdGlvbiB0byh0YXJnZXRzLCB2YXJzKSB7XG4gICAgcmV0dXJuIG5ldyBUd2Vlbih0YXJnZXRzLCB2YXJzLCBhcmd1bWVudHNbMl0pO1xuICB9O1xuXG4gIFR3ZWVuLmZyb20gPSBmdW5jdGlvbiBmcm9tKHRhcmdldHMsIHZhcnMpIHtcbiAgICByZXR1cm4gbmV3IFR3ZWVuKHRhcmdldHMsIF9wYXJzZVZhcnMoYXJndW1lbnRzLCAxKSk7XG4gIH07XG5cbiAgVHdlZW4uZGVsYXllZENhbGwgPSBmdW5jdGlvbiBkZWxheWVkQ2FsbChkZWxheSwgY2FsbGJhY2ssIHBhcmFtcywgc2NvcGUpIHtcbiAgICByZXR1cm4gbmV3IFR3ZWVuKGNhbGxiYWNrLCAwLCB7XG4gICAgICBpbW1lZGlhdGVSZW5kZXI6IGZhbHNlLFxuICAgICAgbGF6eTogZmFsc2UsXG4gICAgICBvdmVyd3JpdGU6IGZhbHNlLFxuICAgICAgZGVsYXk6IGRlbGF5LFxuICAgICAgb25Db21wbGV0ZTogY2FsbGJhY2ssXG4gICAgICBvblJldmVyc2VDb21wbGV0ZTogY2FsbGJhY2ssXG4gICAgICBvbkNvbXBsZXRlUGFyYW1zOiBwYXJhbXMsXG4gICAgICBvblJldmVyc2VDb21wbGV0ZVBhcmFtczogcGFyYW1zLFxuICAgICAgY2FsbGJhY2tTY29wZTogc2NvcGVcbiAgICB9KTtcbiAgfTtcblxuICBUd2Vlbi5mcm9tVG8gPSBmdW5jdGlvbiBmcm9tVG8odGFyZ2V0cywgZnJvbVZhcnMsIHRvVmFycykge1xuICAgIHJldHVybiBuZXcgVHdlZW4odGFyZ2V0cywgX3BhcnNlVmFycyhhcmd1bWVudHMsIDIpKTtcbiAgfTtcblxuICBUd2Vlbi5zZXQgPSBmdW5jdGlvbiBzZXQodGFyZ2V0cywgdmFycykge1xuICAgIHZhcnMuZHVyYXRpb24gPSAwO1xuICAgIHZhcnMucmVwZWF0RGVsYXkgfHwgKHZhcnMucmVwZWF0ID0gMCk7XG4gICAgcmV0dXJuIG5ldyBUd2Vlbih0YXJnZXRzLCB2YXJzKTtcbiAgfTtcblxuICBUd2Vlbi5raWxsVHdlZW5zT2YgPSBmdW5jdGlvbiBraWxsVHdlZW5zT2YodGFyZ2V0cywgcHJvcHMsIG9ubHlBY3RpdmUpIHtcbiAgICByZXR1cm4gX2dsb2JhbFRpbWVsaW5lLmtpbGxUd2VlbnNPZih0YXJnZXRzLCBwcm9wcywgb25seUFjdGl2ZSk7XG4gIH07XG5cbiAgcmV0dXJuIFR3ZWVuO1xufShBbmltYXRpb24pO1xuXG5fc2V0RGVmYXVsdHMoVHdlZW4ucHJvdG90eXBlLCB7XG4gIF90YXJnZXRzOiBbXSxcbiAgX2xhenk6IDAsXG4gIF9zdGFydEF0OiAwLFxuICBfb3A6IDAsXG4gIF9vbkluaXQ6IDBcbn0pOyAvL2FkZCB0aGUgcGVydGluZW50IHRpbWVsaW5lIG1ldGhvZHMgdG8gVHdlZW4gaW5zdGFuY2VzIHNvIHRoYXQgdXNlcnMgY2FuIGNoYWluIGNvbnZlbmllbnRseSBhbmQgY3JlYXRlIGEgdGltZWxpbmUgYXV0b21hdGljYWxseS4gKHJlbW92ZWQgZHVlIHRvIGNvbmNlcm5zIHRoYXQgaXQnZCB1bHRpbWF0ZWx5IGFkZCB0byBtb3JlIGNvbmZ1c2lvbiBlc3BlY2lhbGx5IGZvciBiZWdpbm5lcnMpXG4vLyBfZm9yRWFjaE5hbWUoXCJ0byxmcm9tLGZyb21UbyxzZXQsY2FsbCxhZGQsYWRkTGFiZWwsYWRkUGF1c2VcIiwgbmFtZSA9PiB7XG4vLyBcdFR3ZWVuLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuLy8gXHRcdGxldCB0bCA9IG5ldyBUaW1lbGluZSgpO1xuLy8gXHRcdHJldHVybiBfYWRkVG9UaW1lbGluZSh0bCwgdGhpcylbbmFtZV0uYXBwbHkodGwsIHRvQXJyYXkoYXJndW1lbnRzKSk7XG4vLyBcdH1cbi8vIH0pO1xuLy9mb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS4gTGV2ZXJhZ2UgdGhlIHRpbWVsaW5lIGNhbGxzLlxuXG5cbl9mb3JFYWNoTmFtZShcInN0YWdnZXJUbyxzdGFnZ2VyRnJvbSxzdGFnZ2VyRnJvbVRvXCIsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIFR3ZWVuW25hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bCA9IG5ldyBUaW1lbGluZSgpLFxuICAgICAgICBwYXJhbXMgPSBfc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcGFyYW1zLnNwbGljZShuYW1lID09PSBcInN0YWdnZXJGcm9tVG9cIiA/IDUgOiA0LCAwLCAwKTtcbiAgICByZXR1cm4gdGxbbmFtZV0uYXBwbHkodGwsIHBhcmFtcyk7XG4gIH07XG59KTtcbi8qXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUFJPUFRXRUVOXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cblxudmFyIF9zZXR0ZXJQbGFpbiA9IGZ1bmN0aW9uIF9zZXR0ZXJQbGFpbih0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICByZXR1cm4gdGFyZ2V0W3Byb3BlcnR5XSA9IHZhbHVlO1xufSxcbiAgICBfc2V0dGVyRnVuYyA9IGZ1bmN0aW9uIF9zZXR0ZXJGdW5jKHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gIHJldHVybiB0YXJnZXRbcHJvcGVydHldKHZhbHVlKTtcbn0sXG4gICAgX3NldHRlckZ1bmNXaXRoUGFyYW0gPSBmdW5jdGlvbiBfc2V0dGVyRnVuY1dpdGhQYXJhbSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgZGF0YSkge1xuICByZXR1cm4gdGFyZ2V0W3Byb3BlcnR5XShkYXRhLmZwLCB2YWx1ZSk7XG59LFxuICAgIF9zZXR0ZXJBdHRyaWJ1dGUgPSBmdW5jdGlvbiBfc2V0dGVyQXR0cmlidXRlKHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gIHJldHVybiB0YXJnZXQuc2V0QXR0cmlidXRlKHByb3BlcnR5LCB2YWx1ZSk7XG59LFxuICAgIF9nZXRTZXR0ZXIgPSBmdW5jdGlvbiBfZ2V0U2V0dGVyKHRhcmdldCwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIF9pc0Z1bmN0aW9uKHRhcmdldFtwcm9wZXJ0eV0pID8gX3NldHRlckZ1bmMgOiBfaXNVbmRlZmluZWQodGFyZ2V0W3Byb3BlcnR5XSkgJiYgdGFyZ2V0LnNldEF0dHJpYnV0ZSA/IF9zZXR0ZXJBdHRyaWJ1dGUgOiBfc2V0dGVyUGxhaW47XG59LFxuICAgIF9yZW5kZXJQbGFpbiA9IGZ1bmN0aW9uIF9yZW5kZXJQbGFpbihyYXRpbywgZGF0YSkge1xuICByZXR1cm4gZGF0YS5zZXQoZGF0YS50LCBkYXRhLnAsIE1hdGgucm91bmQoKGRhdGEucyArIGRhdGEuYyAqIHJhdGlvKSAqIDEwMDAwKSAvIDEwMDAwLCBkYXRhKTtcbn0sXG4gICAgX3JlbmRlckJvb2xlYW4gPSBmdW5jdGlvbiBfcmVuZGVyQm9vbGVhbihyYXRpbywgZGF0YSkge1xuICByZXR1cm4gZGF0YS5zZXQoZGF0YS50LCBkYXRhLnAsICEhKGRhdGEucyArIGRhdGEuYyAqIHJhdGlvKSwgZGF0YSk7XG59LFxuICAgIF9yZW5kZXJDb21wbGV4U3RyaW5nID0gZnVuY3Rpb24gX3JlbmRlckNvbXBsZXhTdHJpbmcocmF0aW8sIGRhdGEpIHtcbiAgdmFyIHB0ID0gZGF0YS5fcHQsXG4gICAgICBzID0gXCJcIjtcblxuICBpZiAoIXJhdGlvICYmIGRhdGEuYikge1xuICAgIC8vYiA9IGJlZ2lubmluZyBzdHJpbmdcbiAgICBzID0gZGF0YS5iO1xuICB9IGVsc2UgaWYgKHJhdGlvID09PSAxICYmIGRhdGEuZSkge1xuICAgIC8vZSA9IGVuZGluZyBzdHJpbmdcbiAgICBzID0gZGF0YS5lO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChwdCkge1xuICAgICAgcyA9IHB0LnAgKyAocHQubSA/IHB0Lm0ocHQucyArIHB0LmMgKiByYXRpbykgOiBNYXRoLnJvdW5kKChwdC5zICsgcHQuYyAqIHJhdGlvKSAqIDEwMDAwKSAvIDEwMDAwKSArIHM7IC8vd2UgdXNlIHRoZSBcInBcIiBwcm9wZXJ0eSBmb3IgdGhlIHRleHQgaW5iZXR3ZWVuIChsaWtlIGEgc3VmZml4KS4gQW5kIGluIHRoZSBjb250ZXh0IG9mIGEgY29tcGxleCBzdHJpbmcsIHRoZSBtb2RpZmllciAobSkgaXMgdHlwaWNhbGx5IGp1c3QgTWF0aC5yb3VuZCgpLCBsaWtlIGZvciBSR0IgY29sb3JzLlxuXG4gICAgICBwdCA9IHB0Ll9uZXh0O1xuICAgIH1cblxuICAgIHMgKz0gZGF0YS5jOyAvL3dlIHVzZSB0aGUgXCJjXCIgb2YgdGhlIFByb3BUd2VlbiB0byBzdG9yZSB0aGUgZmluYWwgY2h1bmsgb2Ygbm9uLW51bWVyaWMgdGV4dC5cbiAgfVxuXG4gIGRhdGEuc2V0KGRhdGEudCwgZGF0YS5wLCBzLCBkYXRhKTtcbn0sXG4gICAgX3JlbmRlclByb3BUd2VlbnMgPSBmdW5jdGlvbiBfcmVuZGVyUHJvcFR3ZWVucyhyYXRpbywgZGF0YSkge1xuICB2YXIgcHQgPSBkYXRhLl9wdDtcblxuICB3aGlsZSAocHQpIHtcbiAgICBwdC5yKHJhdGlvLCBwdC5kKTtcbiAgICBwdCA9IHB0Ll9uZXh0O1xuICB9XG59LFxuICAgIF9hZGRQbHVnaW5Nb2RpZmllciA9IGZ1bmN0aW9uIF9hZGRQbHVnaW5Nb2RpZmllcihtb2RpZmllciwgdHdlZW4sIHRhcmdldCwgcHJvcGVydHkpIHtcbiAgdmFyIHB0ID0gdGhpcy5fcHQsXG4gICAgICBuZXh0O1xuXG4gIHdoaWxlIChwdCkge1xuICAgIG5leHQgPSBwdC5fbmV4dDtcbiAgICBwdC5wID09PSBwcm9wZXJ0eSAmJiBwdC5tb2RpZmllcihtb2RpZmllciwgdHdlZW4sIHRhcmdldCk7XG4gICAgcHQgPSBuZXh0O1xuICB9XG59LFxuICAgIF9raWxsUHJvcFR3ZWVuc09mID0gZnVuY3Rpb24gX2tpbGxQcm9wVHdlZW5zT2YocHJvcGVydHkpIHtcbiAgdmFyIHB0ID0gdGhpcy5fcHQsXG4gICAgICBoYXNOb25EZXBlbmRlbnRSZW1haW5pbmcsXG4gICAgICBuZXh0O1xuXG4gIHdoaWxlIChwdCkge1xuICAgIG5leHQgPSBwdC5fbmV4dDtcblxuICAgIGlmIChwdC5wID09PSBwcm9wZXJ0eSAmJiAhcHQub3AgfHwgcHQub3AgPT09IHByb3BlcnR5KSB7XG4gICAgICBfcmVtb3ZlTGlua2VkTGlzdEl0ZW0odGhpcywgcHQsIFwiX3B0XCIpO1xuICAgIH0gZWxzZSBpZiAoIXB0LmRlcCkge1xuICAgICAgaGFzTm9uRGVwZW5kZW50UmVtYWluaW5nID0gMTtcbiAgICB9XG5cbiAgICBwdCA9IG5leHQ7XG4gIH1cblxuICByZXR1cm4gIWhhc05vbkRlcGVuZGVudFJlbWFpbmluZztcbn0sXG4gICAgX3NldHRlcldpdGhNb2RpZmllciA9IGZ1bmN0aW9uIF9zZXR0ZXJXaXRoTW9kaWZpZXIodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIGRhdGEpIHtcbiAgZGF0YS5tU2V0KHRhcmdldCwgcHJvcGVydHksIGRhdGEubS5jYWxsKGRhdGEudHdlZW4sIHZhbHVlLCBkYXRhLm10KSwgZGF0YSk7XG59LFxuICAgIF9zb3J0UHJvcFR3ZWVuc0J5UHJpb3JpdHkgPSBmdW5jdGlvbiBfc29ydFByb3BUd2VlbnNCeVByaW9yaXR5KHBhcmVudCkge1xuICB2YXIgcHQgPSBwYXJlbnQuX3B0LFxuICAgICAgbmV4dCxcbiAgICAgIHB0MixcbiAgICAgIGZpcnN0LFxuICAgICAgbGFzdDsgLy9zb3J0cyB0aGUgUHJvcFR3ZWVuIGxpbmtlZCBsaXN0IGluIG9yZGVyIG9mIHByaW9yaXR5IGJlY2F1c2Ugc29tZSBwbHVnaW5zIG5lZWQgdG8gZG8gdGhlaXIgd29yayBhZnRlciBBTEwgb2YgdGhlIFByb3BUd2VlbnMgd2VyZSBjcmVhdGVkIChsaWtlIFJvdW5kUHJvcHNQbHVnaW4gYW5kIE1vZGlmaWVyc1BsdWdpbilcblxuICB3aGlsZSAocHQpIHtcbiAgICBuZXh0ID0gcHQuX25leHQ7XG4gICAgcHQyID0gZmlyc3Q7XG5cbiAgICB3aGlsZSAocHQyICYmIHB0Mi5wciA+IHB0LnByKSB7XG4gICAgICBwdDIgPSBwdDIuX25leHQ7XG4gICAgfVxuXG4gICAgaWYgKHB0Ll9wcmV2ID0gcHQyID8gcHQyLl9wcmV2IDogbGFzdCkge1xuICAgICAgcHQuX3ByZXYuX25leHQgPSBwdDtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlyc3QgPSBwdDtcbiAgICB9XG5cbiAgICBpZiAocHQuX25leHQgPSBwdDIpIHtcbiAgICAgIHB0Mi5fcHJldiA9IHB0O1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0ID0gcHQ7XG4gICAgfVxuXG4gICAgcHQgPSBuZXh0O1xuICB9XG5cbiAgcGFyZW50Ll9wdCA9IGZpcnN0O1xufTsgLy9Qcm9wVHdlZW4ga2V5OiB0ID0gdGFyZ2V0LCBwID0gcHJvcCwgciA9IHJlbmRlcmVyLCBkID0gZGF0YSwgcyA9IHN0YXJ0LCBjID0gY2hhbmdlLCBvcCA9IG92ZXJ3cml0ZVByb3BlcnR5IChPTkxZIHBvcHVsYXRlZCB3aGVuIGl0J3MgZGlmZmVyZW50IHRoYW4gcCksIHByID0gcHJpb3JpdHksIF9uZXh0L19wcmV2IGZvciB0aGUgbGlua2VkIGxpc3Qgc2libGluZ3MsIHNldCA9IHNldHRlciwgbSA9IG1vZGlmaWVyLCBtU2V0ID0gbW9kaWZpZXJTZXR0ZXIgKHRoZSBvcmlnaW5hbCBzZXR0ZXIsIGJlZm9yZSBhIG1vZGlmaWVyIHdhcyBhZGRlZClcblxuXG5leHBvcnQgdmFyIFByb3BUd2VlbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFByb3BUd2VlbihuZXh0LCB0YXJnZXQsIHByb3AsIHN0YXJ0LCBjaGFuZ2UsIHJlbmRlcmVyLCBkYXRhLCBzZXR0ZXIsIHByaW9yaXR5KSB7XG4gICAgdGhpcy50ID0gdGFyZ2V0O1xuICAgIHRoaXMucyA9IHN0YXJ0O1xuICAgIHRoaXMuYyA9IGNoYW5nZTtcbiAgICB0aGlzLnAgPSBwcm9wO1xuICAgIHRoaXMuciA9IHJlbmRlcmVyIHx8IF9yZW5kZXJQbGFpbjtcbiAgICB0aGlzLmQgPSBkYXRhIHx8IHRoaXM7XG4gICAgdGhpcy5zZXQgPSBzZXR0ZXIgfHwgX3NldHRlclBsYWluO1xuICAgIHRoaXMucHIgPSBwcmlvcml0eSB8fCAwO1xuICAgIHRoaXMuX25leHQgPSBuZXh0O1xuXG4gICAgaWYgKG5leHQpIHtcbiAgICAgIG5leHQuX3ByZXYgPSB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBfcHJvdG80ID0gUHJvcFR3ZWVuLnByb3RvdHlwZTtcblxuICBfcHJvdG80Lm1vZGlmaWVyID0gZnVuY3Rpb24gbW9kaWZpZXIoZnVuYywgdHdlZW4sIHRhcmdldCkge1xuICAgIHRoaXMubVNldCA9IHRoaXMubVNldCB8fCB0aGlzLnNldDsgLy9pbiBjYXNlIGl0IHdhcyBhbHJlYWR5IHNldCAoYSBQcm9wVHdlZW4gY2FuIG9ubHkgaGF2ZSBvbmUgbW9kaWZpZXIpXG5cbiAgICB0aGlzLnNldCA9IF9zZXR0ZXJXaXRoTW9kaWZpZXI7XG4gICAgdGhpcy5tID0gZnVuYztcbiAgICB0aGlzLm10ID0gdGFyZ2V0OyAvL21vZGlmaWVyIHRhcmdldFxuXG4gICAgdGhpcy50d2VlbiA9IHR3ZWVuO1xuICB9O1xuXG4gIHJldHVybiBQcm9wVHdlZW47XG59KCk7IC8vSW5pdGlhbGl6YXRpb24gdGFza3NcblxuX2ZvckVhY2hOYW1lKF9jYWxsYmFja05hbWVzICsgXCJwYXJlbnQsZHVyYXRpb24sZWFzZSxkZWxheSxvdmVyd3JpdGUscnVuQmFja3dhcmRzLHN0YXJ0QXQseW95byxpbW1lZGlhdGVSZW5kZXIscmVwZWF0LHJlcGVhdERlbGF5LGRhdGEscGF1c2VkLHJldmVyc2VkLGxhenksY2FsbGJhY2tTY29wZSxzdHJpbmdGaWx0ZXIsaWQseW95b0Vhc2Usc3RhZ2dlcixpbmhlcml0LHJlcGVhdFJlZnJlc2gsa2V5ZnJhbWVzLGF1dG9SZXZlcnQsc2Nyb2xsVHJpZ2dlclwiLCBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gX3Jlc2VydmVkUHJvcHNbbmFtZV0gPSAxO1xufSk7XG5cbl9nbG9iYWxzLlR3ZWVuTWF4ID0gX2dsb2JhbHMuVHdlZW5MaXRlID0gVHdlZW47XG5fZ2xvYmFscy5UaW1lbGluZUxpdGUgPSBfZ2xvYmFscy5UaW1lbGluZU1heCA9IFRpbWVsaW5lO1xuX2dsb2JhbFRpbWVsaW5lID0gbmV3IFRpbWVsaW5lKHtcbiAgc29ydENoaWxkcmVuOiBmYWxzZSxcbiAgZGVmYXVsdHM6IF9kZWZhdWx0cyxcbiAgYXV0b1JlbW92ZUNoaWxkcmVuOiB0cnVlLFxuICBpZDogXCJyb290XCIsXG4gIHNtb290aENoaWxkVGltaW5nOiB0cnVlXG59KTtcbl9jb25maWcuc3RyaW5nRmlsdGVyID0gX2NvbG9yU3RyaW5nRmlsdGVyO1xuLypcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHU0FQXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbnZhciBfZ3NhcCA9IHtcbiAgcmVnaXN0ZXJQbHVnaW46IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICByZXR1cm4gX2NyZWF0ZVBsdWdpbihjb25maWcpO1xuICAgIH0pO1xuICB9LFxuICB0aW1lbGluZTogZnVuY3Rpb24gdGltZWxpbmUodmFycykge1xuICAgIHJldHVybiBuZXcgVGltZWxpbmUodmFycyk7XG4gIH0sXG4gIGdldFR3ZWVuc09mOiBmdW5jdGlvbiBnZXRUd2VlbnNPZih0YXJnZXRzLCBvbmx5QWN0aXZlKSB7XG4gICAgcmV0dXJuIF9nbG9iYWxUaW1lbGluZS5nZXRUd2VlbnNPZih0YXJnZXRzLCBvbmx5QWN0aXZlKTtcbiAgfSxcbiAgZ2V0UHJvcGVydHk6IGZ1bmN0aW9uIGdldFByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHVuaXQsIHVuY2FjaGUpIHtcbiAgICBfaXNTdHJpbmcodGFyZ2V0KSAmJiAodGFyZ2V0ID0gdG9BcnJheSh0YXJnZXQpWzBdKTsgLy9pbiBjYXNlIHNlbGVjdG9yIHRleHQgb3IgYW4gYXJyYXkgaXMgcGFzc2VkIGluXG5cbiAgICB2YXIgZ2V0dGVyID0gX2dldENhY2hlKHRhcmdldCB8fCB7fSkuZ2V0LFxuICAgICAgICBmb3JtYXQgPSB1bml0ID8gX3Bhc3NUaHJvdWdoIDogX251bWVyaWNJZlBvc3NpYmxlO1xuXG4gICAgdW5pdCA9PT0gXCJuYXRpdmVcIiAmJiAodW5pdCA9IFwiXCIpO1xuICAgIHJldHVybiAhdGFyZ2V0ID8gdGFyZ2V0IDogIXByb3BlcnR5ID8gZnVuY3Rpb24gKHByb3BlcnR5LCB1bml0LCB1bmNhY2hlKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KChfcGx1Z2luc1twcm9wZXJ0eV0gJiYgX3BsdWdpbnNbcHJvcGVydHldLmdldCB8fCBnZXR0ZXIpKHRhcmdldCwgcHJvcGVydHksIHVuaXQsIHVuY2FjaGUpKTtcbiAgICB9IDogZm9ybWF0KChfcGx1Z2luc1twcm9wZXJ0eV0gJiYgX3BsdWdpbnNbcHJvcGVydHldLmdldCB8fCBnZXR0ZXIpKHRhcmdldCwgcHJvcGVydHksIHVuaXQsIHVuY2FjaGUpKTtcbiAgfSxcbiAgcXVpY2tTZXR0ZXI6IGZ1bmN0aW9uIHF1aWNrU2V0dGVyKHRhcmdldCwgcHJvcGVydHksIHVuaXQpIHtcbiAgICB0YXJnZXQgPSB0b0FycmF5KHRhcmdldCk7XG5cbiAgICBpZiAodGFyZ2V0Lmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBzZXR0ZXJzID0gdGFyZ2V0Lm1hcChmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gZ3NhcC5xdWlja1NldHRlcih0LCBwcm9wZXJ0eSwgdW5pdCk7XG4gICAgICB9KSxcbiAgICAgICAgICBsID0gc2V0dGVycy5sZW5ndGg7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBpID0gbDtcblxuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgc2V0dGVyc1tpXSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGFyZ2V0ID0gdGFyZ2V0WzBdIHx8IHt9O1xuXG4gICAgdmFyIFBsdWdpbiA9IF9wbHVnaW5zW3Byb3BlcnR5XSxcbiAgICAgICAgY2FjaGUgPSBfZ2V0Q2FjaGUodGFyZ2V0KSxcbiAgICAgICAgcCA9IGNhY2hlLmhhcm5lc3MgJiYgKGNhY2hlLmhhcm5lc3MuYWxpYXNlcyB8fCB7fSlbcHJvcGVydHldIHx8IHByb3BlcnR5LFxuICAgICAgICAvLyBpbiBjYXNlIGl0J3MgYW4gYWxpYXMsIGxpa2UgXCJyb3RhdGVcIiBmb3IgXCJyb3RhdGlvblwiLlxuICAgIHNldHRlciA9IFBsdWdpbiA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyIHAgPSBuZXcgUGx1Z2luKCk7XG4gICAgICBfcXVpY2tUd2Vlbi5fcHQgPSAwO1xuICAgICAgcC5pbml0KHRhcmdldCwgdW5pdCA/IHZhbHVlICsgdW5pdCA6IHZhbHVlLCBfcXVpY2tUd2VlbiwgMCwgW3RhcmdldF0pO1xuICAgICAgcC5yZW5kZXIoMSwgcCk7XG4gICAgICBfcXVpY2tUd2Vlbi5fcHQgJiYgX3JlbmRlclByb3BUd2VlbnMoMSwgX3F1aWNrVHdlZW4pO1xuICAgIH0gOiBjYWNoZS5zZXQodGFyZ2V0LCBwKTtcblxuICAgIHJldHVybiBQbHVnaW4gPyBzZXR0ZXIgOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBzZXR0ZXIodGFyZ2V0LCBwLCB1bml0ID8gdmFsdWUgKyB1bml0IDogdmFsdWUsIGNhY2hlLCAxKTtcbiAgICB9O1xuICB9LFxuICBpc1R3ZWVuaW5nOiBmdW5jdGlvbiBpc1R3ZWVuaW5nKHRhcmdldHMpIHtcbiAgICByZXR1cm4gX2dsb2JhbFRpbWVsaW5lLmdldFR3ZWVuc09mKHRhcmdldHMsIHRydWUpLmxlbmd0aCA+IDA7XG4gIH0sXG4gIGRlZmF1bHRzOiBmdW5jdGlvbiBkZWZhdWx0cyh2YWx1ZSkge1xuICAgIHZhbHVlICYmIHZhbHVlLmVhc2UgJiYgKHZhbHVlLmVhc2UgPSBfcGFyc2VFYXNlKHZhbHVlLmVhc2UsIF9kZWZhdWx0cy5lYXNlKSk7XG4gICAgcmV0dXJuIF9tZXJnZURlZXAoX2RlZmF1bHRzLCB2YWx1ZSB8fCB7fSk7XG4gIH0sXG4gIGNvbmZpZzogZnVuY3Rpb24gY29uZmlnKHZhbHVlKSB7XG4gICAgcmV0dXJuIF9tZXJnZURlZXAoX2NvbmZpZywgdmFsdWUgfHwge30pO1xuICB9LFxuICByZWdpc3RlckVmZmVjdDogZnVuY3Rpb24gcmVnaXN0ZXJFZmZlY3QoX3JlZikge1xuICAgIHZhciBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgICBlZmZlY3QgPSBfcmVmLmVmZmVjdCxcbiAgICAgICAgcGx1Z2lucyA9IF9yZWYucGx1Z2lucyxcbiAgICAgICAgZGVmYXVsdHMgPSBfcmVmLmRlZmF1bHRzLFxuICAgICAgICBleHRlbmRUaW1lbGluZSA9IF9yZWYuZXh0ZW5kVGltZWxpbmU7XG4gICAgKHBsdWdpbnMgfHwgXCJcIikuc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbk5hbWUpIHtcbiAgICAgIHJldHVybiBwbHVnaW5OYW1lICYmICFfcGx1Z2luc1twbHVnaW5OYW1lXSAmJiAhX2dsb2JhbHNbcGx1Z2luTmFtZV0gJiYgX3dhcm4obmFtZSArIFwiIGVmZmVjdCByZXF1aXJlcyBcIiArIHBsdWdpbk5hbWUgKyBcIiBwbHVnaW4uXCIpO1xuICAgIH0pO1xuXG4gICAgX2VmZmVjdHNbbmFtZV0gPSBmdW5jdGlvbiAodGFyZ2V0cywgdmFycywgdGwpIHtcbiAgICAgIHJldHVybiBlZmZlY3QodG9BcnJheSh0YXJnZXRzKSwgX3NldERlZmF1bHRzKHZhcnMgfHwge30sIGRlZmF1bHRzKSwgdGwpO1xuICAgIH07XG5cbiAgICBpZiAoZXh0ZW5kVGltZWxpbmUpIHtcbiAgICAgIFRpbWVsaW5lLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uICh0YXJnZXRzLCB2YXJzLCBwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQoX2VmZmVjdHNbbmFtZV0odGFyZ2V0cywgX2lzT2JqZWN0KHZhcnMpID8gdmFycyA6IChwb3NpdGlvbiA9IHZhcnMpICYmIHt9LCB0aGlzKSwgcG9zaXRpb24pO1xuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHJlZ2lzdGVyRWFzZTogZnVuY3Rpb24gcmVnaXN0ZXJFYXNlKG5hbWUsIGVhc2UpIHtcbiAgICBfZWFzZU1hcFtuYW1lXSA9IF9wYXJzZUVhc2UoZWFzZSk7XG4gIH0sXG4gIHBhcnNlRWFzZTogZnVuY3Rpb24gcGFyc2VFYXNlKGVhc2UsIGRlZmF1bHRFYXNlKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBfcGFyc2VFYXNlKGVhc2UsIGRlZmF1bHRFYXNlKSA6IF9lYXNlTWFwO1xuICB9LFxuICBnZXRCeUlkOiBmdW5jdGlvbiBnZXRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIF9nbG9iYWxUaW1lbGluZS5nZXRCeUlkKGlkKTtcbiAgfSxcbiAgZXhwb3J0Um9vdDogZnVuY3Rpb24gZXhwb3J0Um9vdCh2YXJzLCBpbmNsdWRlRGVsYXllZENhbGxzKSB7XG4gICAgaWYgKHZhcnMgPT09IHZvaWQgMCkge1xuICAgICAgdmFycyA9IHt9O1xuICAgIH1cblxuICAgIHZhciB0bCA9IG5ldyBUaW1lbGluZSh2YXJzKSxcbiAgICAgICAgY2hpbGQsXG4gICAgICAgIG5leHQ7XG4gICAgdGwuc21vb3RoQ2hpbGRUaW1pbmcgPSBfaXNOb3RGYWxzZSh2YXJzLnNtb290aENoaWxkVGltaW5nKTtcblxuICAgIF9nbG9iYWxUaW1lbGluZS5yZW1vdmUodGwpO1xuXG4gICAgdGwuX2RwID0gMDsgLy9vdGhlcndpc2UgaXQnbGwgZ2V0IHJlLWFjdGl2YXRlZCB3aGVuIGFkZGluZyBjaGlsZHJlbiBhbmQgYmUgcmUtaW50cm9kdWNlZCBpbnRvIF9nbG9iYWxUaW1lbGluZSdzIGxpbmtlZCBsaXN0ICh0aGVuIGFkZGVkIHRvIGl0c2VsZikuXG5cbiAgICB0bC5fdGltZSA9IHRsLl90VGltZSA9IF9nbG9iYWxUaW1lbGluZS5fdGltZTtcbiAgICBjaGlsZCA9IF9nbG9iYWxUaW1lbGluZS5fZmlyc3Q7XG5cbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgIG5leHQgPSBjaGlsZC5fbmV4dDtcblxuICAgICAgaWYgKGluY2x1ZGVEZWxheWVkQ2FsbHMgfHwgISghY2hpbGQuX2R1ciAmJiBjaGlsZCBpbnN0YW5jZW9mIFR3ZWVuICYmIGNoaWxkLnZhcnMub25Db21wbGV0ZSA9PT0gY2hpbGQuX3RhcmdldHNbMF0pKSB7XG4gICAgICAgIF9hZGRUb1RpbWVsaW5lKHRsLCBjaGlsZCwgY2hpbGQuX3N0YXJ0IC0gY2hpbGQuX2RlbGF5KTtcbiAgICAgIH1cblxuICAgICAgY2hpbGQgPSBuZXh0O1xuICAgIH1cblxuICAgIF9hZGRUb1RpbWVsaW5lKF9nbG9iYWxUaW1lbGluZSwgdGwsIDApO1xuXG4gICAgcmV0dXJuIHRsO1xuICB9LFxuICB1dGlsczoge1xuICAgIHdyYXA6IHdyYXAsXG4gICAgd3JhcFlveW86IHdyYXBZb3lvLFxuICAgIGRpc3RyaWJ1dGU6IGRpc3RyaWJ1dGUsXG4gICAgcmFuZG9tOiByYW5kb20sXG4gICAgc25hcDogc25hcCxcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZSxcbiAgICBnZXRVbml0OiBnZXRVbml0LFxuICAgIGNsYW1wOiBjbGFtcCxcbiAgICBzcGxpdENvbG9yOiBzcGxpdENvbG9yLFxuICAgIHRvQXJyYXk6IHRvQXJyYXksXG4gICAgbWFwUmFuZ2U6IG1hcFJhbmdlLFxuICAgIHBpcGU6IHBpcGUsXG4gICAgdW5pdGl6ZTogdW5pdGl6ZSxcbiAgICBpbnRlcnBvbGF0ZTogaW50ZXJwb2xhdGUsXG4gICAgc2h1ZmZsZTogc2h1ZmZsZVxuICB9LFxuICBpbnN0YWxsOiBfaW5zdGFsbCxcbiAgZWZmZWN0czogX2VmZmVjdHMsXG4gIHRpY2tlcjogX3RpY2tlcixcbiAgdXBkYXRlUm9vdDogVGltZWxpbmUudXBkYXRlUm9vdCxcbiAgcGx1Z2luczogX3BsdWdpbnMsXG4gIGdsb2JhbFRpbWVsaW5lOiBfZ2xvYmFsVGltZWxpbmUsXG4gIGNvcmU6IHtcbiAgICBQcm9wVHdlZW46IFByb3BUd2VlbixcbiAgICBnbG9iYWxzOiBfYWRkR2xvYmFsLFxuICAgIFR3ZWVuOiBUd2VlbixcbiAgICBUaW1lbGluZTogVGltZWxpbmUsXG4gICAgQW5pbWF0aW9uOiBBbmltYXRpb24sXG4gICAgZ2V0Q2FjaGU6IF9nZXRDYWNoZSxcbiAgICBfcmVtb3ZlTGlua2VkTGlzdEl0ZW06IF9yZW1vdmVMaW5rZWRMaXN0SXRlbVxuICB9XG59O1xuXG5fZm9yRWFjaE5hbWUoXCJ0byxmcm9tLGZyb21UbyxkZWxheWVkQ2FsbCxzZXQsa2lsbFR3ZWVuc09mXCIsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBfZ3NhcFtuYW1lXSA9IFR3ZWVuW25hbWVdO1xufSk7XG5cbl90aWNrZXIuYWRkKFRpbWVsaW5lLnVwZGF0ZVJvb3QpO1xuXG5fcXVpY2tUd2VlbiA9IF9nc2FwLnRvKHt9LCB7XG4gIGR1cmF0aW9uOiAwXG59KTsgLy8gLS0tLSBFWFRSQSBQTFVHSU5TIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnZhciBfZ2V0UGx1Z2luUHJvcFR3ZWVuID0gZnVuY3Rpb24gX2dldFBsdWdpblByb3BUd2VlbihwbHVnaW4sIHByb3ApIHtcbiAgdmFyIHB0ID0gcGx1Z2luLl9wdDtcblxuICB3aGlsZSAocHQgJiYgcHQucCAhPT0gcHJvcCAmJiBwdC5vcCAhPT0gcHJvcCAmJiBwdC5mcCAhPT0gcHJvcCkge1xuICAgIHB0ID0gcHQuX25leHQ7XG4gIH1cblxuICByZXR1cm4gcHQ7XG59LFxuICAgIF9hZGRNb2RpZmllcnMgPSBmdW5jdGlvbiBfYWRkTW9kaWZpZXJzKHR3ZWVuLCBtb2RpZmllcnMpIHtcbiAgdmFyIHRhcmdldHMgPSB0d2Vlbi5fdGFyZ2V0cyxcbiAgICAgIHAsXG4gICAgICBpLFxuICAgICAgcHQ7XG5cbiAgZm9yIChwIGluIG1vZGlmaWVycykge1xuICAgIGkgPSB0YXJnZXRzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHB0ID0gdHdlZW4uX3B0TG9va3VwW2ldW3BdO1xuXG4gICAgICBpZiAocHQgJiYgKHB0ID0gcHQuZCkpIHtcbiAgICAgICAgaWYgKHB0Ll9wdCkge1xuICAgICAgICAgIC8vIGlzIGEgcGx1Z2luXG4gICAgICAgICAgcHQgPSBfZ2V0UGx1Z2luUHJvcFR3ZWVuKHB0LCBwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB0ICYmIHB0Lm1vZGlmaWVyICYmIHB0Lm1vZGlmaWVyKG1vZGlmaWVyc1twXSwgdHdlZW4sIHRhcmdldHNbaV0sIHApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSxcbiAgICBfYnVpbGRNb2RpZmllclBsdWdpbiA9IGZ1bmN0aW9uIF9idWlsZE1vZGlmaWVyUGx1Z2luKG5hbWUsIG1vZGlmaWVyKSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICByYXdWYXJzOiAxLFxuICAgIC8vZG9uJ3QgcHJlLXByb2Nlc3MgZnVuY3Rpb24tYmFzZWQgdmFsdWVzIG9yIFwicmFuZG9tKClcIiBzdHJpbmdzLlxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQodGFyZ2V0LCB2YXJzLCB0d2Vlbikge1xuICAgICAgdHdlZW4uX29uSW5pdCA9IGZ1bmN0aW9uICh0d2Vlbikge1xuICAgICAgICB2YXIgdGVtcCwgcDtcblxuICAgICAgICBpZiAoX2lzU3RyaW5nKHZhcnMpKSB7XG4gICAgICAgICAgdGVtcCA9IHt9O1xuXG4gICAgICAgICAgX2ZvckVhY2hOYW1lKHZhcnMsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGVtcFtuYW1lXSA9IDE7XG4gICAgICAgICAgfSk7IC8vaWYgdGhlIHVzZXIgcGFzc2VzIGluIGEgY29tbWEtZGVsaW1pdGVkIGxpc3Qgb2YgcHJvcGVydHkgbmFtZXMgdG8gcm91bmRQcm9wcywgbGlrZSBcIngseVwiLCB3ZSByb3VuZCB0byB3aG9sZSBudW1iZXJzLlxuXG5cbiAgICAgICAgICB2YXJzID0gdGVtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RpZmllcikge1xuICAgICAgICAgIHRlbXAgPSB7fTtcblxuICAgICAgICAgIGZvciAocCBpbiB2YXJzKSB7XG4gICAgICAgICAgICB0ZW1wW3BdID0gbW9kaWZpZXIodmFyc1twXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFycyA9IHRlbXA7XG4gICAgICAgIH1cblxuICAgICAgICBfYWRkTW9kaWZpZXJzKHR3ZWVuLCB2YXJzKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTsgLy9yZWdpc3RlciBjb3JlIHBsdWdpbnNcblxuXG5leHBvcnQgdmFyIGdzYXAgPSBfZ3NhcC5yZWdpc3RlclBsdWdpbih7XG4gIG5hbWU6IFwiYXR0clwiLFxuICBpbml0OiBmdW5jdGlvbiBpbml0KHRhcmdldCwgdmFycywgdHdlZW4sIGluZGV4LCB0YXJnZXRzKSB7XG4gICAgdmFyIHAsIHB0O1xuXG4gICAgZm9yIChwIGluIHZhcnMpIHtcbiAgICAgIHB0ID0gdGhpcy5hZGQodGFyZ2V0LCBcInNldEF0dHJpYnV0ZVwiLCAodGFyZ2V0LmdldEF0dHJpYnV0ZShwKSB8fCAwKSArIFwiXCIsIHZhcnNbcF0sIGluZGV4LCB0YXJnZXRzLCAwLCAwLCBwKTtcbiAgICAgIHB0ICYmIChwdC5vcCA9IHApO1xuXG4gICAgICB0aGlzLl9wcm9wcy5wdXNoKHApO1xuICAgIH1cbiAgfVxufSwge1xuICBuYW1lOiBcImVuZEFycmF5XCIsXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQodGFyZ2V0LCB2YWx1ZSkge1xuICAgIHZhciBpID0gdmFsdWUubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdGhpcy5hZGQodGFyZ2V0LCBpLCB0YXJnZXRbaV0gfHwgMCwgdmFsdWVbaV0pO1xuICAgIH1cbiAgfVxufSwgX2J1aWxkTW9kaWZpZXJQbHVnaW4oXCJyb3VuZFByb3BzXCIsIF9yb3VuZE1vZGlmaWVyKSwgX2J1aWxkTW9kaWZpZXJQbHVnaW4oXCJtb2RpZmllcnNcIiksIF9idWlsZE1vZGlmaWVyUGx1Z2luKFwic25hcFwiLCBzbmFwKSkgfHwgX2dzYXA7IC8vdG8gcHJldmVudCB0aGUgY29yZSBwbHVnaW5zIGZyb20gYmVpbmcgZHJvcHBlZCB2aWEgYWdncmVzc2l2ZSB0cmVlIHNoYWtpbmcsIHdlIG11c3QgaW5jbHVkZSB0aGVtIGluIHRoZSB2YXJpYWJsZSBkZWNsYXJhdGlvbiBpbiB0aGlzIHdheS5cblxuVHdlZW4udmVyc2lvbiA9IFRpbWVsaW5lLnZlcnNpb24gPSBnc2FwLnZlcnNpb24gPSBcIjMuNS4xXCI7XG5fY29yZVJlYWR5ID0gMTtcblxuaWYgKF93aW5kb3dFeGlzdHMoKSkge1xuICBfd2FrZSgpO1xufVxuXG52YXIgUG93ZXIwID0gX2Vhc2VNYXAuUG93ZXIwLFxuICAgIFBvd2VyMSA9IF9lYXNlTWFwLlBvd2VyMSxcbiAgICBQb3dlcjIgPSBfZWFzZU1hcC5Qb3dlcjIsXG4gICAgUG93ZXIzID0gX2Vhc2VNYXAuUG93ZXIzLFxuICAgIFBvd2VyNCA9IF9lYXNlTWFwLlBvd2VyNCxcbiAgICBMaW5lYXIgPSBfZWFzZU1hcC5MaW5lYXIsXG4gICAgUXVhZCA9IF9lYXNlTWFwLlF1YWQsXG4gICAgQ3ViaWMgPSBfZWFzZU1hcC5DdWJpYyxcbiAgICBRdWFydCA9IF9lYXNlTWFwLlF1YXJ0LFxuICAgIFF1aW50ID0gX2Vhc2VNYXAuUXVpbnQsXG4gICAgU3Ryb25nID0gX2Vhc2VNYXAuU3Ryb25nLFxuICAgIEVsYXN0aWMgPSBfZWFzZU1hcC5FbGFzdGljLFxuICAgIEJhY2sgPSBfZWFzZU1hcC5CYWNrLFxuICAgIFN0ZXBwZWRFYXNlID0gX2Vhc2VNYXAuU3RlcHBlZEVhc2UsXG4gICAgQm91bmNlID0gX2Vhc2VNYXAuQm91bmNlLFxuICAgIFNpbmUgPSBfZWFzZU1hcC5TaW5lLFxuICAgIEV4cG8gPSBfZWFzZU1hcC5FeHBvLFxuICAgIENpcmMgPSBfZWFzZU1hcC5DaXJjO1xuZXhwb3J0IHsgUG93ZXIwLCBQb3dlcjEsIFBvd2VyMiwgUG93ZXIzLCBQb3dlcjQsIExpbmVhciwgUXVhZCwgQ3ViaWMsIFF1YXJ0LCBRdWludCwgU3Ryb25nLCBFbGFzdGljLCBCYWNrLCBTdGVwcGVkRWFzZSwgQm91bmNlLCBTaW5lLCBFeHBvLCBDaXJjIH07XG5leHBvcnQgeyBUd2VlbiBhcyBUd2Vlbk1heCwgVHdlZW4gYXMgVHdlZW5MaXRlLCBUaW1lbGluZSBhcyBUaW1lbGluZU1heCwgVGltZWxpbmUgYXMgVGltZWxpbmVMaXRlLCBnc2FwIGFzIGRlZmF1bHQsIHdyYXAsIHdyYXBZb3lvLCBkaXN0cmlidXRlLCByYW5kb20sIHNuYXAsIG5vcm1hbGl6ZSwgZ2V0VW5pdCwgY2xhbXAsIHNwbGl0Q29sb3IsIHRvQXJyYXksIG1hcFJhbmdlLCBwaXBlLCB1bml0aXplLCBpbnRlcnBvbGF0ZSwgc2h1ZmZsZSB9OyAvL2V4cG9ydCBzb21lIGludGVybmFsIG1ldGhvZHMvb3JvamVjdHMgZm9yIHVzZSBpbiBDU1NQbHVnaW4gc28gdGhhdCB3ZSBjYW4gZXh0ZXJuYWxpemUgdGhhdCBmaWxlIGFuZCBhbGxvdyBjdXN0b20gYnVpbGRzIHRoYXQgZXhjbHVkZSBpdC5cblxuZXhwb3J0IHsgX2dldFByb3BlcnR5LCBfbnVtRXhwLCBfbnVtV2l0aFVuaXRFeHAsIF9pc1N0cmluZywgX2lzVW5kZWZpbmVkLCBfcmVuZGVyQ29tcGxleFN0cmluZywgX3JlbEV4cCwgX3NldERlZmF1bHRzLCBfcmVtb3ZlTGlua2VkTGlzdEl0ZW0sIF9mb3JFYWNoTmFtZSwgX3NvcnRQcm9wVHdlZW5zQnlQcmlvcml0eSwgX2NvbG9yU3RyaW5nRmlsdGVyLCBfcmVwbGFjZVJhbmRvbSwgX2NoZWNrUGx1Z2luLCBfcGx1Z2lucywgX3RpY2tlciwgX2NvbmZpZywgX3JvdW5kTW9kaWZpZXIsIF9yb3VuZCwgX21pc3NpbmdQbHVnaW4sIF9nZXRTZXR0ZXIsIF9nZXRDYWNoZSB9OyIsICIvKiFcbiAqIENTU1BsdWdpbiAzLjUuMVxuICogaHR0cHM6Ly9ncmVlbnNvY2suY29tXG4gKlxuICogQ29weXJpZ2h0IDIwMDgtMjAyMCwgR3JlZW5Tb2NrLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogU3ViamVjdCB0byB0aGUgdGVybXMgYXQgaHR0cHM6Ly9ncmVlbnNvY2suY29tL3N0YW5kYXJkLWxpY2Vuc2Ugb3IgZm9yXG4gKiBDbHViIEdyZWVuU29jayBtZW1iZXJzLCB0aGUgYWdyZWVtZW50IGlzc3VlZCB3aXRoIHRoYXQgbWVtYmVyc2hpcC5cbiAqIEBhdXRob3I6IEphY2sgRG95bGUsIGphY2tAZ3JlZW5zb2NrLmNvbVxuKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCB7IGdzYXAsIF9nZXRQcm9wZXJ0eSwgX251bUV4cCwgX251bVdpdGhVbml0RXhwLCBnZXRVbml0LCBfaXNTdHJpbmcsIF9pc1VuZGVmaW5lZCwgX3JlbmRlckNvbXBsZXhTdHJpbmcsIF9yZWxFeHAsIF9mb3JFYWNoTmFtZSwgX3NvcnRQcm9wVHdlZW5zQnlQcmlvcml0eSwgX2NvbG9yU3RyaW5nRmlsdGVyLCBfY2hlY2tQbHVnaW4sIF9yZXBsYWNlUmFuZG9tLCBfcGx1Z2lucywgR1NDYWNoZSwgUHJvcFR3ZWVuLCBfY29uZmlnLCBfdGlja2VyLCBfcm91bmQsIF9taXNzaW5nUGx1Z2luLCBfZ2V0U2V0dGVyLCBfZ2V0Q2FjaGUsIF9zZXREZWZhdWx0cywgX3JlbW92ZUxpbmtlZExpc3RJdGVtIC8vZm9yIHRoZSBjb21tZW50ZWQtb3V0IGNsYXNzTmFtZSBmZWF0dXJlLlxufSBmcm9tIFwiLi9nc2FwLWNvcmUuanNcIjtcblxudmFyIF93aW4sXG4gICAgX2RvYyxcbiAgICBfZG9jRWxlbWVudCxcbiAgICBfcGx1Z2luSW5pdHRlZCxcbiAgICBfdGVtcERpdixcbiAgICBfdGVtcERpdlN0eWxlcixcbiAgICBfcmVjZW50U2V0dGVyUGx1Z2luLFxuICAgIF93aW5kb3dFeGlzdHMgPSBmdW5jdGlvbiBfd2luZG93RXhpc3RzKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbn0sXG4gICAgX3RyYW5zZm9ybVByb3BzID0ge30sXG4gICAgX1JBRDJERUcgPSAxODAgLyBNYXRoLlBJLFxuICAgIF9ERUcyUkFEID0gTWF0aC5QSSAvIDE4MCxcbiAgICBfYXRhbjIgPSBNYXRoLmF0YW4yLFxuICAgIF9iaWdOdW0gPSAxZTgsXG4gICAgX2NhcHNFeHAgPSAvKFtBLVpdKS9nLFxuICAgIF9ob3Jpem9udGFsRXhwID0gLyg/OmxlZnR8cmlnaHR8d2lkdGh8bWFyZ2lufHBhZGRpbmd8eCkvaSxcbiAgICBfY29tcGxleEV4cCA9IC9bXFxzLFxcKF1cXFMvLFxuICAgIF9wcm9wZXJ0eUFsaWFzZXMgPSB7XG4gIGF1dG9BbHBoYTogXCJvcGFjaXR5LHZpc2liaWxpdHlcIixcbiAgc2NhbGU6IFwic2NhbGVYLHNjYWxlWVwiLFxuICBhbHBoYTogXCJvcGFjaXR5XCJcbn0sXG4gICAgX3JlbmRlckNTU1Byb3AgPSBmdW5jdGlvbiBfcmVuZGVyQ1NTUHJvcChyYXRpbywgZGF0YSkge1xuICByZXR1cm4gZGF0YS5zZXQoZGF0YS50LCBkYXRhLnAsIE1hdGgucm91bmQoKGRhdGEucyArIGRhdGEuYyAqIHJhdGlvKSAqIDEwMDAwKSAvIDEwMDAwICsgZGF0YS51LCBkYXRhKTtcbn0sXG4gICAgX3JlbmRlclByb3BXaXRoRW5kID0gZnVuY3Rpb24gX3JlbmRlclByb3BXaXRoRW5kKHJhdGlvLCBkYXRhKSB7XG4gIHJldHVybiBkYXRhLnNldChkYXRhLnQsIGRhdGEucCwgcmF0aW8gPT09IDEgPyBkYXRhLmUgOiBNYXRoLnJvdW5kKChkYXRhLnMgKyBkYXRhLmMgKiByYXRpbykgKiAxMDAwMCkgLyAxMDAwMCArIGRhdGEudSwgZGF0YSk7XG59LFxuICAgIF9yZW5kZXJDU1NQcm9wV2l0aEJlZ2lubmluZyA9IGZ1bmN0aW9uIF9yZW5kZXJDU1NQcm9wV2l0aEJlZ2lubmluZyhyYXRpbywgZGF0YSkge1xuICByZXR1cm4gZGF0YS5zZXQoZGF0YS50LCBkYXRhLnAsIHJhdGlvID8gTWF0aC5yb3VuZCgoZGF0YS5zICsgZGF0YS5jICogcmF0aW8pICogMTAwMDApIC8gMTAwMDAgKyBkYXRhLnUgOiBkYXRhLmIsIGRhdGEpO1xufSxcbiAgICAvL2lmIHVuaXRzIGNoYW5nZSwgd2UgbmVlZCBhIHdheSB0byByZW5kZXIgdGhlIG9yaWdpbmFsIHVuaXQvdmFsdWUgd2hlbiB0aGUgdHdlZW4gZ29lcyBhbGwgdGhlIHdheSBiYWNrIHRvIHRoZSBiZWdpbm5pbmcgKHJhdGlvOjApXG5fcmVuZGVyUm91bmRlZENTU1Byb3AgPSBmdW5jdGlvbiBfcmVuZGVyUm91bmRlZENTU1Byb3AocmF0aW8sIGRhdGEpIHtcbiAgdmFyIHZhbHVlID0gZGF0YS5zICsgZGF0YS5jICogcmF0aW87XG4gIGRhdGEuc2V0KGRhdGEudCwgZGF0YS5wLCB+fih2YWx1ZSArICh2YWx1ZSA8IDAgPyAtLjUgOiAuNSkpICsgZGF0YS51LCBkYXRhKTtcbn0sXG4gICAgX3JlbmRlck5vblR3ZWVuaW5nVmFsdWUgPSBmdW5jdGlvbiBfcmVuZGVyTm9uVHdlZW5pbmdWYWx1ZShyYXRpbywgZGF0YSkge1xuICByZXR1cm4gZGF0YS5zZXQoZGF0YS50LCBkYXRhLnAsIHJhdGlvID8gZGF0YS5lIDogZGF0YS5iLCBkYXRhKTtcbn0sXG4gICAgX3JlbmRlck5vblR3ZWVuaW5nVmFsdWVPbmx5QXRFbmQgPSBmdW5jdGlvbiBfcmVuZGVyTm9uVHdlZW5pbmdWYWx1ZU9ubHlBdEVuZChyYXRpbywgZGF0YSkge1xuICByZXR1cm4gZGF0YS5zZXQoZGF0YS50LCBkYXRhLnAsIHJhdGlvICE9PSAxID8gZGF0YS5iIDogZGF0YS5lLCBkYXRhKTtcbn0sXG4gICAgX3NldHRlckNTU1N0eWxlID0gZnVuY3Rpb24gX3NldHRlckNTU1N0eWxlKHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gIHJldHVybiB0YXJnZXQuc3R5bGVbcHJvcGVydHldID0gdmFsdWU7XG59LFxuICAgIF9zZXR0ZXJDU1NQcm9wID0gZnVuY3Rpb24gX3NldHRlckNTU1Byb3AodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgcmV0dXJuIHRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpO1xufSxcbiAgICBfc2V0dGVyVHJhbnNmb3JtID0gZnVuY3Rpb24gX3NldHRlclRyYW5zZm9ybSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICByZXR1cm4gdGFyZ2V0Ll9nc2FwW3Byb3BlcnR5XSA9IHZhbHVlO1xufSxcbiAgICBfc2V0dGVyU2NhbGUgPSBmdW5jdGlvbiBfc2V0dGVyU2NhbGUodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgcmV0dXJuIHRhcmdldC5fZ3NhcC5zY2FsZVggPSB0YXJnZXQuX2dzYXAuc2NhbGVZID0gdmFsdWU7XG59LFxuICAgIF9zZXR0ZXJTY2FsZVdpdGhSZW5kZXIgPSBmdW5jdGlvbiBfc2V0dGVyU2NhbGVXaXRoUmVuZGVyKHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCBkYXRhLCByYXRpbykge1xuICB2YXIgY2FjaGUgPSB0YXJnZXQuX2dzYXA7XG4gIGNhY2hlLnNjYWxlWCA9IGNhY2hlLnNjYWxlWSA9IHZhbHVlO1xuICBjYWNoZS5yZW5kZXJUcmFuc2Zvcm0ocmF0aW8sIGNhY2hlKTtcbn0sXG4gICAgX3NldHRlclRyYW5zZm9ybVdpdGhSZW5kZXIgPSBmdW5jdGlvbiBfc2V0dGVyVHJhbnNmb3JtV2l0aFJlbmRlcih0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgZGF0YSwgcmF0aW8pIHtcbiAgdmFyIGNhY2hlID0gdGFyZ2V0Ll9nc2FwO1xuICBjYWNoZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgY2FjaGUucmVuZGVyVHJhbnNmb3JtKHJhdGlvLCBjYWNoZSk7XG59LFxuICAgIF90cmFuc2Zvcm1Qcm9wID0gXCJ0cmFuc2Zvcm1cIixcbiAgICBfdHJhbnNmb3JtT3JpZ2luUHJvcCA9IF90cmFuc2Zvcm1Qcm9wICsgXCJPcmlnaW5cIixcbiAgICBfc3VwcG9ydHMzRCxcbiAgICBfY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50KHR5cGUsIG5zKSB7XG4gIHZhciBlID0gX2RvYy5jcmVhdGVFbGVtZW50TlMgPyBfZG9jLmNyZWF0ZUVsZW1lbnROUygobnMgfHwgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIpLnJlcGxhY2UoL15odHRwcy8sIFwiaHR0cFwiKSwgdHlwZSkgOiBfZG9jLmNyZWF0ZUVsZW1lbnQodHlwZSk7IC8vc29tZSBzZXJ2ZXJzIHN3YXAgaW4gaHR0cHMgZm9yIGh0dHAgaW4gdGhlIG5hbWVzcGFjZSB3aGljaCBjYW4gYnJlYWsgdGhpbmdzLCBtYWtpbmcgXCJzdHlsZVwiIGluYWNjZXNzaWJsZS5cblxuICByZXR1cm4gZS5zdHlsZSA/IGUgOiBfZG9jLmNyZWF0ZUVsZW1lbnQodHlwZSk7IC8vc29tZSBlbnZpcm9ubWVudHMgd29uJ3QgYWxsb3cgYWNjZXNzIHRvIHRoZSBlbGVtZW50J3Mgc3R5bGUgd2hlbiBjcmVhdGVkIHdpdGggYSBuYW1lc3BhY2UgaW4gd2hpY2ggY2FzZSB3ZSBkZWZhdWx0IHRvIHRoZSBzdGFuZGFyZCBjcmVhdGVFbGVtZW50KCkgdG8gd29yayBhcm91bmQgdGhlIGlzc3VlLiBBbHNvIG5vdGUgdGhhdCB3aGVuIEdTQVAgaXMgZW1iZWRkZWQgZGlyZWN0bHkgaW5zaWRlIGFuIFNWRyBmaWxlLCBjcmVhdGVFbGVtZW50KCkgd29uJ3QgYWxsb3cgYWNjZXNzIHRvIHRoZSBzdHlsZSBvYmplY3QgaW4gRmlyZWZveCAoc2VlIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9mb3J1bXMvdG9waWMvMjAyMTUtcHJvYmxlbS11c2luZy10d2Vlbm1heC1pbi1zdGFuZGFsb25lLXNlbGYtY29udGFpbmluZy1zdmctZmlsZS1lcnItY2Fubm90LXNldC1wcm9wZXJ0eS1jc3N0ZXh0LW9mLXVuZGVmaW5lZC8pLlxufSxcbiAgICBfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSA9IGZ1bmN0aW9uIF9nZXRDb21wdXRlZFByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHNraXBQcmVmaXhGYWxsYmFjaykge1xuICB2YXIgY3MgPSBnZXRDb21wdXRlZFN0eWxlKHRhcmdldCk7XG4gIHJldHVybiBjc1twcm9wZXJ0eV0gfHwgY3MuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eS5yZXBsYWNlKF9jYXBzRXhwLCBcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKSB8fCBjcy5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KSB8fCAhc2tpcFByZWZpeEZhbGxiYWNrICYmIF9nZXRDb21wdXRlZFByb3BlcnR5KHRhcmdldCwgX2NoZWNrUHJvcFByZWZpeChwcm9wZXJ0eSkgfHwgcHJvcGVydHksIDEpIHx8IFwiXCI7IC8vY3NzIHZhcmlhYmxlcyBtYXkgbm90IG5lZWQgY2FwcyBzd2FwcGVkIG91dCBmb3IgZGFzaGVzIGFuZCBsb3dlcmNhc2UuXG59LFxuICAgIF9wcmVmaXhlcyA9IFwiTyxNb3osbXMsTXMsV2Via2l0XCIuc3BsaXQoXCIsXCIpLFxuICAgIF9jaGVja1Byb3BQcmVmaXggPSBmdW5jdGlvbiBfY2hlY2tQcm9wUHJlZml4KHByb3BlcnR5LCBlbGVtZW50LCBwcmVmZXJQcmVmaXgpIHtcbiAgdmFyIGUgPSBlbGVtZW50IHx8IF90ZW1wRGl2LFxuICAgICAgcyA9IGUuc3R5bGUsXG4gICAgICBpID0gNTtcblxuICBpZiAocHJvcGVydHkgaW4gcyAmJiAhcHJlZmVyUHJlZml4KSB7XG4gICAgcmV0dXJuIHByb3BlcnR5O1xuICB9XG5cbiAgcHJvcGVydHkgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnN1YnN0cigxKTtcblxuICB3aGlsZSAoaS0tICYmICEoX3ByZWZpeGVzW2ldICsgcHJvcGVydHkgaW4gcykpIHt9XG5cbiAgcmV0dXJuIGkgPCAwID8gbnVsbCA6IChpID09PSAzID8gXCJtc1wiIDogaSA+PSAwID8gX3ByZWZpeGVzW2ldIDogXCJcIikgKyBwcm9wZXJ0eTtcbn0sXG4gICAgX2luaXRDb3JlID0gZnVuY3Rpb24gX2luaXRDb3JlKCkge1xuICBpZiAoX3dpbmRvd0V4aXN0cygpICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgIF93aW4gPSB3aW5kb3c7XG4gICAgX2RvYyA9IF93aW4uZG9jdW1lbnQ7XG4gICAgX2RvY0VsZW1lbnQgPSBfZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICBfdGVtcERpdiA9IF9jcmVhdGVFbGVtZW50KFwiZGl2XCIpIHx8IHtcbiAgICAgIHN0eWxlOiB7fVxuICAgIH07XG4gICAgX3RlbXBEaXZTdHlsZXIgPSBfY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBfdHJhbnNmb3JtUHJvcCA9IF9jaGVja1Byb3BQcmVmaXgoX3RyYW5zZm9ybVByb3ApO1xuICAgIF90cmFuc2Zvcm1PcmlnaW5Qcm9wID0gX3RyYW5zZm9ybVByb3AgKyBcIk9yaWdpblwiO1xuICAgIF90ZW1wRGl2LnN0eWxlLmNzc1RleHQgPSBcImJvcmRlci13aWR0aDowO2xpbmUtaGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7cGFkZGluZzowXCI7IC8vbWFrZSBzdXJlIHRvIG92ZXJyaWRlIGNlcnRhaW4gcHJvcGVydGllcyB0aGF0IG1heSBjb250YW1pbmF0ZSBtZWFzdXJlbWVudHMsIGluIGNhc2UgdGhlIHVzZXIgaGFzIG92ZXJyZWFjaGluZyBzdHlsZSBzaGVldHMuXG5cbiAgICBfc3VwcG9ydHMzRCA9ICEhX2NoZWNrUHJvcFByZWZpeChcInBlcnNwZWN0aXZlXCIpO1xuICAgIF9wbHVnaW5Jbml0dGVkID0gMTtcbiAgfVxufSxcbiAgICBfZ2V0QkJveEhhY2sgPSBmdW5jdGlvbiBfZ2V0QkJveEhhY2soc3dhcElmUG9zc2libGUpIHtcbiAgLy93b3JrcyBhcm91bmQgaXNzdWVzIGluIHNvbWUgYnJvd3NlcnMgKGxpa2UgRmlyZWZveCkgdGhhdCBkb24ndCBjb3JyZWN0bHkgcmVwb3J0IGdldEJCb3goKSBvbiBTVkcgZWxlbWVudHMgaW5zaWRlIGEgPGRlZnM+IGVsZW1lbnQgYW5kL29yIDxtYXNrPi4gV2UgdHJ5IGNyZWF0aW5nIGFuIFNWRywgYWRkaW5nIGl0IHRvIHRoZSBkb2N1bWVudEVsZW1lbnQgYW5kIHRvc3MgdGhlIGVsZW1lbnQgaW4gdGhlcmUgc28gdGhhdCBpdCdzIGRlZmluaXRlbHkgcGFydCBvZiB0aGUgcmVuZGVyaW5nIHRyZWUsIHRoZW4gZ3JhYiB0aGUgYmJveCBhbmQgaWYgaXQgd29ya3MsIHdlIGFjdHVhbGx5IHN3YXAgb3V0IHRoZSBvcmlnaW5hbCBnZXRCQm94KCkgbWV0aG9kIGZvciBvdXIgb3duIHRoYXQgZG9lcyB0aGVzZSBleHRyYSBzdGVwcyB3aGVuZXZlciBnZXRCQm94IGlzIG5lZWRlZC4gVGhpcyBoZWxwcyBlbnN1cmUgdGhhdCBwZXJmb3JtYW5jZSBpcyBvcHRpbWFsIChvbmx5IGRvIGFsbCB0aGVzZSBleHRyYSBzdGVwcyB3aGVuIGFic29sdXRlbHkgbmVjZXNzYXJ5Li4ubW9zdCBlbGVtZW50cyBkb24ndCBuZWVkIGl0KS5cbiAgdmFyIHN2ZyA9IF9jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHRoaXMub3duZXJTVkdFbGVtZW50ICYmIHRoaXMub3duZXJTVkdFbGVtZW50LmdldEF0dHJpYnV0ZShcInhtbG5zXCIpIHx8IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiksXG4gICAgICBvbGRQYXJlbnQgPSB0aGlzLnBhcmVudE5vZGUsXG4gICAgICBvbGRTaWJsaW5nID0gdGhpcy5uZXh0U2libGluZyxcbiAgICAgIG9sZENTUyA9IHRoaXMuc3R5bGUuY3NzVGV4dCxcbiAgICAgIGJib3g7XG5cbiAgX2RvY0VsZW1lbnQuYXBwZW5kQ2hpbGQoc3ZnKTtcblxuICBzdmcuYXBwZW5kQ2hpbGQodGhpcyk7XG4gIHRoaXMuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICBpZiAoc3dhcElmUG9zc2libGUpIHtcbiAgICB0cnkge1xuICAgICAgYmJveCA9IHRoaXMuZ2V0QkJveCgpO1xuICAgICAgdGhpcy5fZ3NhcEJCb3ggPSB0aGlzLmdldEJCb3g7IC8vc3RvcmUgdGhlIG9yaWdpbmFsXG5cbiAgICAgIHRoaXMuZ2V0QkJveCA9IF9nZXRCQm94SGFjaztcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9IGVsc2UgaWYgKHRoaXMuX2dzYXBCQm94KSB7XG4gICAgYmJveCA9IHRoaXMuX2dzYXBCQm94KCk7XG4gIH1cblxuICBpZiAob2xkUGFyZW50KSB7XG4gICAgaWYgKG9sZFNpYmxpbmcpIHtcbiAgICAgIG9sZFBhcmVudC5pbnNlcnRCZWZvcmUodGhpcywgb2xkU2libGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9sZFBhcmVudC5hcHBlbmRDaGlsZCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBfZG9jRWxlbWVudC5yZW1vdmVDaGlsZChzdmcpO1xuXG4gIHRoaXMuc3R5bGUuY3NzVGV4dCA9IG9sZENTUztcbiAgcmV0dXJuIGJib3g7XG59LFxuICAgIF9nZXRBdHRyaWJ1dGVGYWxsYmFja3MgPSBmdW5jdGlvbiBfZ2V0QXR0cmlidXRlRmFsbGJhY2tzKHRhcmdldCwgYXR0cmlidXRlc0FycmF5KSB7XG4gIHZhciBpID0gYXR0cmlidXRlc0FycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlc0FycmF5W2ldKSkge1xuICAgICAgcmV0dXJuIHRhcmdldC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlc0FycmF5W2ldKTtcbiAgICB9XG4gIH1cbn0sXG4gICAgX2dldEJCb3ggPSBmdW5jdGlvbiBfZ2V0QkJveCh0YXJnZXQpIHtcbiAgdmFyIGJvdW5kcztcblxuICB0cnkge1xuICAgIGJvdW5kcyA9IHRhcmdldC5nZXRCQm94KCk7IC8vRmlyZWZveCB0aHJvd3MgZXJyb3JzIGlmIHlvdSB0cnkgY2FsbGluZyBnZXRCQm94KCkgb24gYW4gU1ZHIGVsZW1lbnQgdGhhdCdzIG5vdCByZW5kZXJlZCAobGlrZSBpbiBhIDxzeW1ib2w+IG9yIDxkZWZzPikuIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTYxMjExOFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGJvdW5kcyA9IF9nZXRCQm94SGFjay5jYWxsKHRhcmdldCwgdHJ1ZSk7XG4gIH1cblxuICBib3VuZHMgJiYgKGJvdW5kcy53aWR0aCB8fCBib3VuZHMuaGVpZ2h0KSB8fCB0YXJnZXQuZ2V0QkJveCA9PT0gX2dldEJCb3hIYWNrIHx8IChib3VuZHMgPSBfZ2V0QkJveEhhY2suY2FsbCh0YXJnZXQsIHRydWUpKTsgLy9zb21lIGJyb3dzZXJzIChsaWtlIEZpcmVmb3gpIG1pc3JlcG9ydCB0aGUgYm91bmRzIGlmIHRoZSBlbGVtZW50IGhhcyB6ZXJvIHdpZHRoIGFuZCBoZWlnaHQgKGl0IGp1c3QgYXNzdW1lcyBpdCdzIGF0IHg6MCwgeTowKSwgdGh1cyB3ZSBuZWVkIHRvIG1hbnVhbGx5IGdyYWIgdGhlIHBvc2l0aW9uIGluIHRoYXQgY2FzZS5cblxuICByZXR1cm4gYm91bmRzICYmICFib3VuZHMud2lkdGggJiYgIWJvdW5kcy54ICYmICFib3VuZHMueSA/IHtcbiAgICB4OiArX2dldEF0dHJpYnV0ZUZhbGxiYWNrcyh0YXJnZXQsIFtcInhcIiwgXCJjeFwiLCBcIngxXCJdKSB8fCAwLFxuICAgIHk6ICtfZ2V0QXR0cmlidXRlRmFsbGJhY2tzKHRhcmdldCwgW1wieVwiLCBcImN5XCIsIFwieTFcIl0pIHx8IDAsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwXG4gIH0gOiBib3VuZHM7XG59LFxuICAgIF9pc1NWRyA9IGZ1bmN0aW9uIF9pc1NWRyhlKSB7XG4gIHJldHVybiAhIShlLmdldENUTSAmJiAoIWUucGFyZW50Tm9kZSB8fCBlLm93bmVyU1ZHRWxlbWVudCkgJiYgX2dldEJCb3goZSkpO1xufSxcbiAgICAvL3JlcG9ydHMgaWYgdGhlIGVsZW1lbnQgaXMgYW4gU1ZHIG9uIHdoaWNoIGdldEJCb3goKSBhY3R1YWxseSB3b3Jrc1xuX3JlbW92ZVByb3BlcnR5ID0gZnVuY3Rpb24gX3JlbW92ZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHkpIHtcbiAgaWYgKHByb3BlcnR5KSB7XG4gICAgdmFyIHN0eWxlID0gdGFyZ2V0LnN0eWxlO1xuXG4gICAgaWYgKHByb3BlcnR5IGluIF90cmFuc2Zvcm1Qcm9wcyAmJiBwcm9wZXJ0eSAhPT0gX3RyYW5zZm9ybU9yaWdpblByb3ApIHtcbiAgICAgIHByb3BlcnR5ID0gX3RyYW5zZm9ybVByb3A7XG4gICAgfVxuXG4gICAgaWYgKHN0eWxlLnJlbW92ZVByb3BlcnR5KSB7XG4gICAgICBpZiAocHJvcGVydHkuc3Vic3RyKDAsIDIpID09PSBcIm1zXCIgfHwgcHJvcGVydHkuc3Vic3RyKDAsIDYpID09PSBcIndlYmtpdFwiKSB7XG4gICAgICAgIC8vTWljcm9zb2Z0IGFuZCBzb21lIFdlYmtpdCBicm93c2VycyBkb24ndCBjb25mb3JtIHRvIHRoZSBzdGFuZGFyZCBvZiBjYXBpdGFsaXppbmcgdGhlIGZpcnN0IHByZWZpeCBjaGFyYWN0ZXIsIHNvIHdlIGFkanVzdCBzbyB0aGF0IHdoZW4gd2UgcHJlZml4IHRoZSBjYXBzIHdpdGggYSBkYXNoLCBpdCdzIGNvcnJlY3QgKG90aGVyd2lzZSBpdCdkIGJlIFwibXMtdHJhbnNmb3JtXCIgaW5zdGVhZCBvZiBcIi1tcy10cmFuc2Zvcm1cIiBmb3IgSUU5LCBmb3IgZXhhbXBsZSlcbiAgICAgICAgcHJvcGVydHkgPSBcIi1cIiArIHByb3BlcnR5O1xuICAgICAgfVxuXG4gICAgICBzdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wZXJ0eS5yZXBsYWNlKF9jYXBzRXhwLCBcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9ub3RlOiBvbGQgdmVyc2lvbnMgb2YgSUUgdXNlIFwicmVtb3ZlQXR0cmlidXRlKClcIiBpbnN0ZWFkIG9mIFwicmVtb3ZlUHJvcGVydHkoKVwiXG4gICAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUocHJvcGVydHkpO1xuICAgIH1cbiAgfVxufSxcbiAgICBfYWRkTm9uVHdlZW5pbmdQVCA9IGZ1bmN0aW9uIF9hZGROb25Ud2VlbmluZ1BUKHBsdWdpbiwgdGFyZ2V0LCBwcm9wZXJ0eSwgYmVnaW5uaW5nLCBlbmQsIG9ubHlTZXRBdEVuZCkge1xuICB2YXIgcHQgPSBuZXcgUHJvcFR3ZWVuKHBsdWdpbi5fcHQsIHRhcmdldCwgcHJvcGVydHksIDAsIDEsIG9ubHlTZXRBdEVuZCA/IF9yZW5kZXJOb25Ud2VlbmluZ1ZhbHVlT25seUF0RW5kIDogX3JlbmRlck5vblR3ZWVuaW5nVmFsdWUpO1xuICBwbHVnaW4uX3B0ID0gcHQ7XG4gIHB0LmIgPSBiZWdpbm5pbmc7XG4gIHB0LmUgPSBlbmQ7XG5cbiAgcGx1Z2luLl9wcm9wcy5wdXNoKHByb3BlcnR5KTtcblxuICByZXR1cm4gcHQ7XG59LFxuICAgIF9ub25Db252ZXJ0aWJsZVVuaXRzID0ge1xuICBkZWc6IDEsXG4gIHJhZDogMSxcbiAgdHVybjogMVxufSxcbiAgICAvL3Rha2VzIGEgc2luZ2xlIHZhbHVlIGxpa2UgMjBweCBhbmQgY29udmVydHMgaXQgdG8gdGhlIHVuaXQgc3BlY2lmaWVkLCBsaWtlIFwiJVwiLCByZXR1cm5pbmcgb25seSB0aGUgbnVtZXJpYyBhbW91bnQuXG5fY29udmVydFRvVW5pdCA9IGZ1bmN0aW9uIF9jb252ZXJ0VG9Vbml0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCB1bml0KSB7XG4gIHZhciBjdXJWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpIHx8IDAsXG4gICAgICBjdXJVbml0ID0gKHZhbHVlICsgXCJcIikudHJpbSgpLnN1YnN0cigoY3VyVmFsdWUgKyBcIlwiKS5sZW5ndGgpIHx8IFwicHhcIixcbiAgICAgIC8vIHNvbWUgYnJvd3NlcnMgbGVhdmUgZXh0cmEgd2hpdGVzcGFjZSBhdCB0aGUgYmVnaW5uaW5nIG9mIENTUyB2YXJpYWJsZXMsIGhlbmNlIHRoZSBuZWVkIHRvIHRyaW0oKVxuICBzdHlsZSA9IF90ZW1wRGl2LnN0eWxlLFxuICAgICAgaG9yaXpvbnRhbCA9IF9ob3Jpem9udGFsRXhwLnRlc3QocHJvcGVydHkpLFxuICAgICAgaXNSb290U1ZHID0gdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdmdcIixcbiAgICAgIG1lYXN1cmVQcm9wZXJ0eSA9IChpc1Jvb3RTVkcgPyBcImNsaWVudFwiIDogXCJvZmZzZXRcIikgKyAoaG9yaXpvbnRhbCA/IFwiV2lkdGhcIiA6IFwiSGVpZ2h0XCIpLFxuICAgICAgYW1vdW50ID0gMTAwLFxuICAgICAgdG9QaXhlbHMgPSB1bml0ID09PSBcInB4XCIsXG4gICAgICB0b1BlcmNlbnQgPSB1bml0ID09PSBcIiVcIixcbiAgICAgIHB4LFxuICAgICAgcGFyZW50LFxuICAgICAgY2FjaGUsXG4gICAgICBpc1NWRztcblxuICBpZiAodW5pdCA9PT0gY3VyVW5pdCB8fCAhY3VyVmFsdWUgfHwgX25vbkNvbnZlcnRpYmxlVW5pdHNbdW5pdF0gfHwgX25vbkNvbnZlcnRpYmxlVW5pdHNbY3VyVW5pdF0pIHtcbiAgICByZXR1cm4gY3VyVmFsdWU7XG4gIH1cblxuICBjdXJVbml0ICE9PSBcInB4XCIgJiYgIXRvUGl4ZWxzICYmIChjdXJWYWx1ZSA9IF9jb252ZXJ0VG9Vbml0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCBcInB4XCIpKTtcbiAgaXNTVkcgPSB0YXJnZXQuZ2V0Q1RNICYmIF9pc1NWRyh0YXJnZXQpO1xuXG4gIGlmICh0b1BlcmNlbnQgJiYgKF90cmFuc2Zvcm1Qcm9wc1twcm9wZXJ0eV0gfHwgfnByb3BlcnR5LmluZGV4T2YoXCJhZGl1c1wiKSkpIHtcbiAgICAvL3RyYW5zZm9ybXMgYW5kIGJvcmRlclJhZGl1cyBhcmUgcmVsYXRpdmUgdG8gdGhlIHNpemUgb2YgdGhlIGVsZW1lbnQgaXRzZWxmIVxuICAgIHJldHVybiBfcm91bmQoY3VyVmFsdWUgLyAoaXNTVkcgPyB0YXJnZXQuZ2V0QkJveCgpW2hvcml6b250YWwgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiXSA6IHRhcmdldFttZWFzdXJlUHJvcGVydHldKSAqIGFtb3VudCk7XG4gIH1cblxuICBzdHlsZVtob3Jpem9udGFsID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIl0gPSBhbW91bnQgKyAodG9QaXhlbHMgPyBjdXJVbml0IDogdW5pdCk7XG4gIHBhcmVudCA9IH5wcm9wZXJ0eS5pbmRleE9mKFwiYWRpdXNcIikgfHwgdW5pdCA9PT0gXCJlbVwiICYmIHRhcmdldC5hcHBlbmRDaGlsZCAmJiAhaXNSb290U1ZHID8gdGFyZ2V0IDogdGFyZ2V0LnBhcmVudE5vZGU7XG5cbiAgaWYgKGlzU1ZHKSB7XG4gICAgcGFyZW50ID0gKHRhcmdldC5vd25lclNWR0VsZW1lbnQgfHwge30pLnBhcmVudE5vZGU7XG4gIH1cblxuICBpZiAoIXBhcmVudCB8fCBwYXJlbnQgPT09IF9kb2MgfHwgIXBhcmVudC5hcHBlbmRDaGlsZCkge1xuICAgIHBhcmVudCA9IF9kb2MuYm9keTtcbiAgfVxuXG4gIGNhY2hlID0gcGFyZW50Ll9nc2FwO1xuXG4gIGlmIChjYWNoZSAmJiB0b1BlcmNlbnQgJiYgY2FjaGUud2lkdGggJiYgaG9yaXpvbnRhbCAmJiBjYWNoZS50aW1lID09PSBfdGlja2VyLnRpbWUpIHtcbiAgICByZXR1cm4gX3JvdW5kKGN1clZhbHVlIC8gY2FjaGUud2lkdGggKiBhbW91bnQpO1xuICB9IGVsc2Uge1xuICAgICh0b1BlcmNlbnQgfHwgY3VyVW5pdCA9PT0gXCIlXCIpICYmIChzdHlsZS5wb3NpdGlvbiA9IF9nZXRDb21wdXRlZFByb3BlcnR5KHRhcmdldCwgXCJwb3NpdGlvblwiKSk7XG4gICAgcGFyZW50ID09PSB0YXJnZXQgJiYgKHN0eWxlLnBvc2l0aW9uID0gXCJzdGF0aWNcIik7IC8vIGxpa2UgZm9yIGJvcmRlclJhZGl1cywgaWYgaXQncyBhICUgd2UgbXVzdCBoYXZlIGl0IHJlbGF0aXZlIHRvIHRoZSB0YXJnZXQgaXRzZWxmIGJ1dCB0aGF0IG1heSBub3QgaGF2ZSBwb3NpdGlvbjogcmVsYXRpdmUgb3IgcG9zaXRpb246IGFic29sdXRlIGluIHdoaWNoIGNhc2UgaXQnZCBnbyB1cCB0aGUgY2hhaW4gdW50aWwgaXQgZmluZHMgaXRzIG9mZnNldFBhcmVudCAoYmFkKS4gcG9zaXRpb246IHN0YXRpYyBwcm90ZWN0cyBhZ2FpbnN0IHRoYXQuXG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoX3RlbXBEaXYpO1xuICAgIHB4ID0gX3RlbXBEaXZbbWVhc3VyZVByb3BlcnR5XTtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoX3RlbXBEaXYpO1xuICAgIHN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXG4gICAgaWYgKGhvcml6b250YWwgJiYgdG9QZXJjZW50KSB7XG4gICAgICBjYWNoZSA9IF9nZXRDYWNoZShwYXJlbnQpO1xuICAgICAgY2FjaGUudGltZSA9IF90aWNrZXIudGltZTtcbiAgICAgIGNhY2hlLndpZHRoID0gcGFyZW50W21lYXN1cmVQcm9wZXJ0eV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9yb3VuZCh0b1BpeGVscyA/IHB4ICogY3VyVmFsdWUgLyBhbW91bnQgOiBweCAmJiBjdXJWYWx1ZSA/IGFtb3VudCAvIHB4ICogY3VyVmFsdWUgOiAwKTtcbn0sXG4gICAgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdW5pdCwgdW5jYWNoZSkge1xuICB2YXIgdmFsdWU7XG4gIF9wbHVnaW5Jbml0dGVkIHx8IF9pbml0Q29yZSgpO1xuXG4gIGlmIChwcm9wZXJ0eSBpbiBfcHJvcGVydHlBbGlhc2VzICYmIHByb3BlcnR5ICE9PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgcHJvcGVydHkgPSBfcHJvcGVydHlBbGlhc2VzW3Byb3BlcnR5XTtcblxuICAgIGlmICh+cHJvcGVydHkuaW5kZXhPZihcIixcIikpIHtcbiAgICAgIHByb3BlcnR5ID0gcHJvcGVydHkuc3BsaXQoXCIsXCIpWzBdO1xuICAgIH1cbiAgfVxuXG4gIGlmIChfdHJhbnNmb3JtUHJvcHNbcHJvcGVydHldICYmIHByb3BlcnR5ICE9PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgdmFsdWUgPSBfcGFyc2VUcmFuc2Zvcm0odGFyZ2V0LCB1bmNhY2hlKTtcbiAgICB2YWx1ZSA9IHByb3BlcnR5ICE9PSBcInRyYW5zZm9ybU9yaWdpblwiID8gdmFsdWVbcHJvcGVydHldIDogX2ZpcnN0VHdvT25seShfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSh0YXJnZXQsIF90cmFuc2Zvcm1PcmlnaW5Qcm9wKSkgKyBcIiBcIiArIHZhbHVlLnpPcmlnaW4gKyBcInB4XCI7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSB0YXJnZXQuc3R5bGVbcHJvcGVydHldO1xuXG4gICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gXCJhdXRvXCIgfHwgdW5jYWNoZSB8fCB+KHZhbHVlICsgXCJcIikuaW5kZXhPZihcImNhbGMoXCIpKSB7XG4gICAgICB2YWx1ZSA9IF9zcGVjaWFsUHJvcHNbcHJvcGVydHldICYmIF9zcGVjaWFsUHJvcHNbcHJvcGVydHldKHRhcmdldCwgcHJvcGVydHksIHVuaXQpIHx8IF9nZXRDb21wdXRlZFByb3BlcnR5KHRhcmdldCwgcHJvcGVydHkpIHx8IF9nZXRQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5KSB8fCAocHJvcGVydHkgPT09IFwib3BhY2l0eVwiID8gMSA6IDApOyAvLyBub3RlOiBzb21lIGJyb3dzZXJzLCBsaWtlIEZpcmVmb3gsIGRvbid0IHJlcG9ydCBib3JkZXJSYWRpdXMgY29ycmVjdGx5ISBJbnN0ZWFkLCBpdCBvbmx5IHJlcG9ydHMgZXZlcnkgY29ybmVyIGxpa2UgIGJvcmRlclRvcExlZnRSYWRpdXNcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5pdCAmJiAhfih2YWx1ZSArIFwiXCIpLmluZGV4T2YoXCIgXCIpID8gX2NvbnZlcnRUb1VuaXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHVuaXQpICsgdW5pdCA6IHZhbHVlO1xufSxcbiAgICBfdHdlZW5Db21wbGV4Q1NTU3RyaW5nID0gZnVuY3Rpb24gX3R3ZWVuQ29tcGxleENTU1N0cmluZyh0YXJnZXQsIHByb3AsIHN0YXJ0LCBlbmQpIHtcbiAgLy9ub3RlOiB3ZSBjYWxsIF90d2VlbkNvbXBsZXhDU1NTdHJpbmcuY2FsbChwbHVnaW5JbnN0YW5jZS4uLikgdG8gZW5zdXJlIHRoYXQgaXQncyBzY29wZWQgcHJvcGVybHkuIFdlIG1heSBjYWxsIGl0IGZyb20gd2l0aGluIGEgcGx1Z2luIHRvbywgdGh1cyBcInRoaXNcIiB3b3VsZCByZWZlciB0byB0aGUgcGx1Z2luLlxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0ID09PSBcIm5vbmVcIikge1xuICAgIC8vIHNvbWUgYnJvd3NlcnMgbGlrZSBTYWZhcmkgYWN0dWFsbHkgUFJFRkVSIHRoZSBwcmVmaXhlZCBwcm9wZXJ0eSBhbmQgbWlzLXJlcG9ydCB0aGUgdW5wcmVmaXhlZCB2YWx1ZSBsaWtlIGNsaXBQYXRoIChCVUcpLiBJbiBvdGhlciB3b3JkcywgZXZlbiB0aG91Z2ggY2xpcFBhdGggZXhpc3RzIGluIHRoZSBzdHlsZSAoXCJjbGlwUGF0aFwiIGluIHRhcmdldC5zdHlsZSkgYW5kIGl0J3Mgc2V0IGluIHRoZSBDU1MgcHJvcGVybHkgKGFsb25nIHdpdGggLXdlYmtpdC1jbGlwLXBhdGgpLCBTYWZhcmkgcmVwb3J0cyBjbGlwUGF0aCBhcyBcIm5vbmVcIiB3aGVyZWFzIFdlYmtpdENsaXBQYXRoIHJlcG9ydHMgYWNjdXJhdGVseSBsaWtlIFwiZWxsaXBzZSgxMDAlIDAlIGF0IDUwJSAwJSlcIiwgc28gaW4gdGhpcyBjYXNlIHdlIG11c3QgU1dJVENIIHRvIHVzaW5nIHRoZSBwcmVmaXhlZCBwcm9wZXJ0eSBpbnN0ZWFkLiBTZWUgaHR0cHM6Ly9ncmVlbnNvY2suY29tL2ZvcnVtcy90b3BpYy8xODMxMC1jbGlwcGF0aC1kb2VzbnQtd29yay1vbi1pb3MvXG4gICAgdmFyIHAgPSBfY2hlY2tQcm9wUHJlZml4KHByb3AsIHRhcmdldCwgMSksXG4gICAgICAgIHMgPSBwICYmIF9nZXRDb21wdXRlZFByb3BlcnR5KHRhcmdldCwgcCwgMSk7XG5cbiAgICBpZiAocyAmJiBzICE9PSBzdGFydCkge1xuICAgICAgcHJvcCA9IHA7XG4gICAgICBzdGFydCA9IHM7XG4gICAgfSBlbHNlIGlmIChwcm9wID09PSBcImJvcmRlckNvbG9yXCIpIHtcbiAgICAgIHN0YXJ0ID0gX2dldENvbXB1dGVkUHJvcGVydHkodGFyZ2V0LCBcImJvcmRlclRvcENvbG9yXCIpOyAvLyBGaXJlZm94IGJ1ZzogYWx3YXlzIHJlcG9ydHMgXCJib3JkZXJDb2xvclwiIGFzIFwiXCIsIHNvIHdlIG11c3QgZmFsbCBiYWNrIHRvIGJvcmRlclRvcENvbG9yLiBTZWUgaHR0cHM6Ly9ncmVlbnNvY2suY29tL2ZvcnVtcy90b3BpYy8yNDU4My1ob3ctdG8tcmV0dXJuLWNvbG9ycy10aGF0LWktaGFkLWFmdGVyLXJldmVyc2UvXG4gICAgfVxuICB9XG5cbiAgdmFyIHB0ID0gbmV3IFByb3BUd2Vlbih0aGlzLl9wdCwgdGFyZ2V0LnN0eWxlLCBwcm9wLCAwLCAxLCBfcmVuZGVyQ29tcGxleFN0cmluZyksXG4gICAgICBpbmRleCA9IDAsXG4gICAgICBtYXRjaEluZGV4ID0gMCxcbiAgICAgIGEsXG4gICAgICByZXN1bHQsXG4gICAgICBzdGFydFZhbHVlcyxcbiAgICAgIHN0YXJ0TnVtLFxuICAgICAgY29sb3IsXG4gICAgICBzdGFydFZhbHVlLFxuICAgICAgZW5kVmFsdWUsXG4gICAgICBlbmROdW0sXG4gICAgICBjaHVuayxcbiAgICAgIGVuZFVuaXQsXG4gICAgICBzdGFydFVuaXQsXG4gICAgICByZWxhdGl2ZSxcbiAgICAgIGVuZFZhbHVlcztcbiAgcHQuYiA9IHN0YXJ0O1xuICBwdC5lID0gZW5kO1xuICBzdGFydCArPSBcIlwiOyAvL2Vuc3VyZSB2YWx1ZXMgYXJlIHN0cmluZ3NcblxuICBlbmQgKz0gXCJcIjtcblxuICBpZiAoZW5kID09PSBcImF1dG9cIikge1xuICAgIHRhcmdldC5zdHlsZVtwcm9wXSA9IGVuZDtcbiAgICBlbmQgPSBfZ2V0Q29tcHV0ZWRQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHx8IGVuZDtcbiAgICB0YXJnZXQuc3R5bGVbcHJvcF0gPSBzdGFydDtcbiAgfVxuXG4gIGEgPSBbc3RhcnQsIGVuZF07XG5cbiAgX2NvbG9yU3RyaW5nRmlsdGVyKGEpOyAvL3Bhc3MgYW4gYXJyYXkgd2l0aCB0aGUgc3RhcnRpbmcgYW5kIGVuZGluZyB2YWx1ZXMgYW5kIGxldCB0aGUgZmlsdGVyIGRvIHdoYXRldmVyIGl0IG5lZWRzIHRvIHRoZSB2YWx1ZXMuIElmIGNvbG9ycyBhcmUgZm91bmQsIGl0IHJldHVybnMgdHJ1ZSBhbmQgdGhlbiB3ZSBtdXN0IG1hdGNoIHdoZXJlIHRoZSBjb2xvciBzaG93cyB1cCBvcmRlci13aXNlIGJlY2F1c2UgZm9yIHRoaW5ncyBsaWtlIGJveFNoYWRvdywgc29tZXRpbWVzIHRoZSBicm93c2VyIHByb3ZpZGVzIHRoZSBjb21wdXRlZCB2YWx1ZXMgd2l0aCB0aGUgY29sb3IgRklSU1QsIGJ1dCB0aGUgdXNlciBwcm92aWRlcyBpdCB3aXRoIHRoZSBjb2xvciBMQVNULCBzbyBmbGlwIHRoZW0gaWYgbmVjZXNzYXJ5LiBTYW1lIGZvciBkcm9wLXNoYWRvdygpLlxuXG5cbiAgc3RhcnQgPSBhWzBdO1xuICBlbmQgPSBhWzFdO1xuICBzdGFydFZhbHVlcyA9IHN0YXJ0Lm1hdGNoKF9udW1XaXRoVW5pdEV4cCkgfHwgW107XG4gIGVuZFZhbHVlcyA9IGVuZC5tYXRjaChfbnVtV2l0aFVuaXRFeHApIHx8IFtdO1xuXG4gIGlmIChlbmRWYWx1ZXMubGVuZ3RoKSB7XG4gICAgd2hpbGUgKHJlc3VsdCA9IF9udW1XaXRoVW5pdEV4cC5leGVjKGVuZCkpIHtcbiAgICAgIGVuZFZhbHVlID0gcmVzdWx0WzBdO1xuICAgICAgY2h1bmsgPSBlbmQuc3Vic3RyaW5nKGluZGV4LCByZXN1bHQuaW5kZXgpO1xuXG4gICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgY29sb3IgPSAoY29sb3IgKyAxKSAlIDU7XG4gICAgICB9IGVsc2UgaWYgKGNodW5rLnN1YnN0cigtNSkgPT09IFwicmdiYShcIiB8fCBjaHVuay5zdWJzdHIoLTUpID09PSBcImhzbGEoXCIpIHtcbiAgICAgICAgY29sb3IgPSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoZW5kVmFsdWUgIT09IChzdGFydFZhbHVlID0gc3RhcnRWYWx1ZXNbbWF0Y2hJbmRleCsrXSB8fCBcIlwiKSkge1xuICAgICAgICBzdGFydE51bSA9IHBhcnNlRmxvYXQoc3RhcnRWYWx1ZSkgfHwgMDtcbiAgICAgICAgc3RhcnRVbml0ID0gc3RhcnRWYWx1ZS5zdWJzdHIoKHN0YXJ0TnVtICsgXCJcIikubGVuZ3RoKTtcbiAgICAgICAgcmVsYXRpdmUgPSBlbmRWYWx1ZS5jaGFyQXQoMSkgPT09IFwiPVwiID8gKyhlbmRWYWx1ZS5jaGFyQXQoMCkgKyBcIjFcIikgOiAwO1xuXG4gICAgICAgIGlmIChyZWxhdGl2ZSkge1xuICAgICAgICAgIGVuZFZhbHVlID0gZW5kVmFsdWUuc3Vic3RyKDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW5kTnVtID0gcGFyc2VGbG9hdChlbmRWYWx1ZSk7XG4gICAgICAgIGVuZFVuaXQgPSBlbmRWYWx1ZS5zdWJzdHIoKGVuZE51bSArIFwiXCIpLmxlbmd0aCk7XG4gICAgICAgIGluZGV4ID0gX251bVdpdGhVbml0RXhwLmxhc3RJbmRleCAtIGVuZFVuaXQubGVuZ3RoO1xuXG4gICAgICAgIGlmICghZW5kVW5pdCkge1xuICAgICAgICAgIC8vaWYgc29tZXRoaW5nIGxpa2UgXCJwZXJzcGVjdGl2ZTozMDBcIiBpcyBwYXNzZWQgaW4gYW5kIHdlIG11c3QgYWRkIGEgdW5pdCB0byB0aGUgZW5kXG4gICAgICAgICAgZW5kVW5pdCA9IGVuZFVuaXQgfHwgX2NvbmZpZy51bml0c1twcm9wXSB8fCBzdGFydFVuaXQ7XG5cbiAgICAgICAgICBpZiAoaW5kZXggPT09IGVuZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVuZCArPSBlbmRVbml0O1xuICAgICAgICAgICAgcHQuZSArPSBlbmRVbml0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydFVuaXQgIT09IGVuZFVuaXQpIHtcbiAgICAgICAgICBzdGFydE51bSA9IF9jb252ZXJ0VG9Vbml0KHRhcmdldCwgcHJvcCwgc3RhcnRWYWx1ZSwgZW5kVW5pdCkgfHwgMDtcbiAgICAgICAgfSAvL3RoZXNlIG5lc3RlZCBQcm9wVHdlZW5zIGFyZSBoYW5kbGVkIGluIGEgc3BlY2lhbCB3YXkgLSB3ZSdsbCBuZXZlciBhY3R1YWxseSBjYWxsIGEgcmVuZGVyIG9yIHNldHRlciBtZXRob2Qgb24gdGhlbS4gV2UnbGwganVzdCBsb29wIHRocm91Z2ggdGhlbSBpbiB0aGUgcGFyZW50IGNvbXBsZXggc3RyaW5nIFByb3BUd2VlbidzIHJlbmRlciBtZXRob2QuXG5cblxuICAgICAgICBwdC5fcHQgPSB7XG4gICAgICAgICAgX25leHQ6IHB0Ll9wdCxcbiAgICAgICAgICBwOiBjaHVuayB8fCBtYXRjaEluZGV4ID09PSAxID8gY2h1bmsgOiBcIixcIixcbiAgICAgICAgICAvL25vdGU6IFNWRyBzcGVjIGFsbG93cyBvbWlzc2lvbiBvZiBjb21tYS9zcGFjZSB3aGVuIGEgbmVnYXRpdmUgc2lnbiBpcyB3ZWRnZWQgYmV0d2VlbiB0d28gbnVtYmVycywgbGlrZSAyLjUtNS4zIGluc3RlYWQgb2YgMi41LC01LjMgYnV0IHdoZW4gdHdlZW5pbmcsIHRoZSBuZWdhdGl2ZSB2YWx1ZSBtYXkgc3dpdGNoIHRvIHBvc2l0aXZlLCBzbyB3ZSBpbnNlcnQgdGhlIGNvbW1hIGp1c3QgaW4gY2FzZS5cbiAgICAgICAgICBzOiBzdGFydE51bSxcbiAgICAgICAgICBjOiByZWxhdGl2ZSA/IHJlbGF0aXZlICogZW5kTnVtIDogZW5kTnVtIC0gc3RhcnROdW0sXG4gICAgICAgICAgbTogY29sb3IgJiYgY29sb3IgPCA0ID8gTWF0aC5yb3VuZCA6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwdC5jID0gaW5kZXggPCBlbmQubGVuZ3RoID8gZW5kLnN1YnN0cmluZyhpbmRleCwgZW5kLmxlbmd0aCkgOiBcIlwiOyAvL3dlIHVzZSB0aGUgXCJjXCIgb2YgdGhlIFByb3BUd2VlbiB0byBzdG9yZSB0aGUgZmluYWwgcGFydCBvZiB0aGUgc3RyaW5nIChhZnRlciB0aGUgbGFzdCBudW1iZXIpXG4gIH0gZWxzZSB7XG4gICAgcHQuciA9IHByb3AgPT09IFwiZGlzcGxheVwiICYmIGVuZCA9PT0gXCJub25lXCIgPyBfcmVuZGVyTm9uVHdlZW5pbmdWYWx1ZU9ubHlBdEVuZCA6IF9yZW5kZXJOb25Ud2VlbmluZ1ZhbHVlO1xuICB9XG5cbiAgaWYgKF9yZWxFeHAudGVzdChlbmQpKSB7XG4gICAgcHQuZSA9IDA7IC8vaWYgdGhlIGVuZCBzdHJpbmcgY29udGFpbnMgcmVsYXRpdmUgdmFsdWVzIG9yIGR5bmFtaWMgcmFuZG9tKC4uLikgdmFsdWVzLCBkZWxldGUgdGhlIGVuZCBpdCBzbyB0aGF0IG9uIHRoZSBmaW5hbCByZW5kZXIgd2UgZG9uJ3QgYWN0dWFsbHkgc2V0IGl0IHRvIHRoZSBzdHJpbmcgd2l0aCArPSBvciAtPSBjaGFyYWN0ZXJzIChmb3JjZXMgaXQgdG8gdXNlIHRoZSBjYWxjdWxhdGVkIHZhbHVlKS5cbiAgfVxuXG4gIHRoaXMuX3B0ID0gcHQ7IC8vc3RhcnQgdGhlIGxpbmtlZCBsaXN0IHdpdGggdGhpcyBuZXcgUHJvcFR3ZWVuLiBSZW1lbWJlciwgd2UgY2FsbCBfdHdlZW5Db21wbGV4Q1NTU3RyaW5nLmNhbGwocGx1Z2luSW5zdGFuY2UuLi4pIHRvIGVuc3VyZSB0aGF0IGl0J3Mgc2NvcGVkIHByb3Blcmx5LiBXZSBtYXkgY2FsbCBpdCBmcm9tIHdpdGhpbiBhbm90aGVyIHBsdWdpbiB0b28sIHRodXMgXCJ0aGlzXCIgd291bGQgcmVmZXIgdG8gdGhlIHBsdWdpbi5cblxuICByZXR1cm4gcHQ7XG59LFxuICAgIF9rZXl3b3JkVG9QZXJjZW50ID0ge1xuICB0b3A6IFwiMCVcIixcbiAgYm90dG9tOiBcIjEwMCVcIixcbiAgbGVmdDogXCIwJVwiLFxuICByaWdodDogXCIxMDAlXCIsXG4gIGNlbnRlcjogXCI1MCVcIlxufSxcbiAgICBfY29udmVydEtleXdvcmRzVG9QZXJjZW50YWdlcyA9IGZ1bmN0aW9uIF9jb252ZXJ0S2V5d29yZHNUb1BlcmNlbnRhZ2VzKHZhbHVlKSB7XG4gIHZhciBzcGxpdCA9IHZhbHVlLnNwbGl0KFwiIFwiKSxcbiAgICAgIHggPSBzcGxpdFswXSxcbiAgICAgIHkgPSBzcGxpdFsxXSB8fCBcIjUwJVwiO1xuXG4gIGlmICh4ID09PSBcInRvcFwiIHx8IHggPT09IFwiYm90dG9tXCIgfHwgeSA9PT0gXCJsZWZ0XCIgfHwgeSA9PT0gXCJyaWdodFwiKSB7XG4gICAgLy90aGUgdXNlciBwcm92aWRlZCB0aGVtIGluIHRoZSB3cm9uZyBvcmRlciwgc28gZmxpcCB0aGVtXG4gICAgdmFsdWUgPSB4O1xuICAgIHggPSB5O1xuICAgIHkgPSB2YWx1ZTtcbiAgfVxuXG4gIHNwbGl0WzBdID0gX2tleXdvcmRUb1BlcmNlbnRbeF0gfHwgeDtcbiAgc3BsaXRbMV0gPSBfa2V5d29yZFRvUGVyY2VudFt5XSB8fCB5O1xuICByZXR1cm4gc3BsaXQuam9pbihcIiBcIik7XG59LFxuICAgIF9yZW5kZXJDbGVhclByb3BzID0gZnVuY3Rpb24gX3JlbmRlckNsZWFyUHJvcHMocmF0aW8sIGRhdGEpIHtcbiAgaWYgKGRhdGEudHdlZW4gJiYgZGF0YS50d2Vlbi5fdGltZSA9PT0gZGF0YS50d2Vlbi5fZHVyKSB7XG4gICAgdmFyIHRhcmdldCA9IGRhdGEudCxcbiAgICAgICAgc3R5bGUgPSB0YXJnZXQuc3R5bGUsXG4gICAgICAgIHByb3BzID0gZGF0YS51LFxuICAgICAgICBjYWNoZSA9IHRhcmdldC5fZ3NhcCxcbiAgICAgICAgcHJvcCxcbiAgICAgICAgY2xlYXJUcmFuc2Zvcm1zLFxuICAgICAgICBpO1xuXG4gICAgaWYgKHByb3BzID09PSBcImFsbFwiIHx8IHByb3BzID09PSB0cnVlKSB7XG4gICAgICBzdHlsZS5jc3NUZXh0ID0gXCJcIjtcbiAgICAgIGNsZWFyVHJhbnNmb3JtcyA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3BzID0gcHJvcHMuc3BsaXQoXCIsXCIpO1xuICAgICAgaSA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKC0taSA+IC0xKSB7XG4gICAgICAgIHByb3AgPSBwcm9wc1tpXTtcblxuICAgICAgICBpZiAoX3RyYW5zZm9ybVByb3BzW3Byb3BdKSB7XG4gICAgICAgICAgY2xlYXJUcmFuc2Zvcm1zID0gMTtcbiAgICAgICAgICBwcm9wID0gcHJvcCA9PT0gXCJ0cmFuc2Zvcm1PcmlnaW5cIiA/IF90cmFuc2Zvcm1PcmlnaW5Qcm9wIDogX3RyYW5zZm9ybVByb3A7XG4gICAgICAgIH1cblxuICAgICAgICBfcmVtb3ZlUHJvcGVydHkodGFyZ2V0LCBwcm9wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2xlYXJUcmFuc2Zvcm1zKSB7XG4gICAgICBfcmVtb3ZlUHJvcGVydHkodGFyZ2V0LCBfdHJhbnNmb3JtUHJvcCk7XG5cbiAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICBjYWNoZS5zdmcgJiYgdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKTtcblxuICAgICAgICBfcGFyc2VUcmFuc2Zvcm0odGFyZ2V0LCAxKTsgLy8gZm9yY2UgYWxsIHRoZSBjYWNoZWQgdmFsdWVzIGJhY2sgdG8gXCJub3JtYWxcIi9pZGVudGl0eSwgb3RoZXJ3aXNlIGlmIHRoZXJlJ3MgYW5vdGhlciB0d2VlbiB0aGF0J3MgYWxyZWFkeSBzZXQgdG8gcmVuZGVyIHRyYW5zZm9ybXMgb24gdGhpcyBlbGVtZW50LCBpdCBjb3VsZCBkaXNwbGF5IHRoZSB3cm9uZyB2YWx1ZXMuXG5cblxuICAgICAgICBjYWNoZS51bmNhY2hlID0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sXG4gICAgLy8gbm90ZTogc3BlY2lhbFByb3BzIHNob3VsZCByZXR1cm4gMSBpZiAoYW5kIG9ubHkgaWYpIHRoZXkgaGF2ZSBhIG5vbi16ZXJvIHByaW9yaXR5LiBJdCBpbmRpY2F0ZXMgd2UgbmVlZCB0byBzb3J0IHRoZSBsaW5rZWQgbGlzdC5cbl9zcGVjaWFsUHJvcHMgPSB7XG4gIGNsZWFyUHJvcHM6IGZ1bmN0aW9uIGNsZWFyUHJvcHMocGx1Z2luLCB0YXJnZXQsIHByb3BlcnR5LCBlbmRWYWx1ZSwgdHdlZW4pIHtcbiAgICBpZiAodHdlZW4uZGF0YSAhPT0gXCJpc0Zyb21TdGFydFwiKSB7XG4gICAgICB2YXIgcHQgPSBwbHVnaW4uX3B0ID0gbmV3IFByb3BUd2VlbihwbHVnaW4uX3B0LCB0YXJnZXQsIHByb3BlcnR5LCAwLCAwLCBfcmVuZGVyQ2xlYXJQcm9wcyk7XG4gICAgICBwdC51ID0gZW5kVmFsdWU7XG4gICAgICBwdC5wciA9IC0xMDtcbiAgICAgIHB0LnR3ZWVuID0gdHdlZW47XG5cbiAgICAgIHBsdWdpbi5fcHJvcHMucHVzaChwcm9wZXJ0eSk7XG5cbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfVxuICAvKiBjbGFzc05hbWUgZmVhdHVyZSAoYWJvdXQgMC40a2IgZ3ppcHBlZCkuXG4gICwgY2xhc3NOYW1lKHBsdWdpbiwgdGFyZ2V0LCBwcm9wZXJ0eSwgZW5kVmFsdWUsIHR3ZWVuKSB7XG4gIFx0bGV0IF9yZW5kZXJDbGFzc05hbWUgPSAocmF0aW8sIGRhdGEpID0+IHtcbiAgXHRcdFx0ZGF0YS5jc3MucmVuZGVyKHJhdGlvLCBkYXRhLmNzcyk7XG4gIFx0XHRcdGlmICghcmF0aW8gfHwgcmF0aW8gPT09IDEpIHtcbiAgXHRcdFx0XHRsZXQgaW5saW5lID0gZGF0YS5ybXYsXG4gIFx0XHRcdFx0XHR0YXJnZXQgPSBkYXRhLnQsXG4gIFx0XHRcdFx0XHRwO1xuICBcdFx0XHRcdHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCByYXRpbyA/IGRhdGEuZSA6IGRhdGEuYik7XG4gIFx0XHRcdFx0Zm9yIChwIGluIGlubGluZSkge1xuICBcdFx0XHRcdFx0X3JlbW92ZVByb3BlcnR5KHRhcmdldCwgcCk7XG4gIFx0XHRcdFx0fVxuICBcdFx0XHR9XG4gIFx0XHR9LFxuICBcdFx0X2dldEFsbFN0eWxlcyA9ICh0YXJnZXQpID0+IHtcbiAgXHRcdFx0bGV0IHN0eWxlcyA9IHt9LFxuICBcdFx0XHRcdGNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLFxuICBcdFx0XHRcdHA7XG4gIFx0XHRcdGZvciAocCBpbiBjb21wdXRlZCkge1xuICBcdFx0XHRcdGlmIChpc05hTihwKSAmJiBwICE9PSBcImNzc1RleHRcIiAmJiBwICE9PSBcImxlbmd0aFwiKSB7XG4gIFx0XHRcdFx0XHRzdHlsZXNbcF0gPSBjb21wdXRlZFtwXTtcbiAgXHRcdFx0XHR9XG4gIFx0XHRcdH1cbiAgXHRcdFx0X3NldERlZmF1bHRzKHN0eWxlcywgX3BhcnNlVHJhbnNmb3JtKHRhcmdldCwgMSkpO1xuICBcdFx0XHRyZXR1cm4gc3R5bGVzO1xuICBcdFx0fSxcbiAgXHRcdHN0YXJ0Q2xhc3NMaXN0ID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLFxuICBcdFx0c3R5bGUgPSB0YXJnZXQuc3R5bGUsXG4gIFx0XHRjc3NUZXh0ID0gc3R5bGUuY3NzVGV4dCxcbiAgXHRcdGNhY2hlID0gdGFyZ2V0Ll9nc2FwLFxuICBcdFx0Y2xhc3NQVCA9IGNhY2hlLmNsYXNzUFQsXG4gIFx0XHRpbmxpbmVUb1JlbW92ZUF0RW5kID0ge30sXG4gIFx0XHRkYXRhID0ge3Q6dGFyZ2V0LCBwbHVnaW46cGx1Z2luLCBybXY6aW5saW5lVG9SZW1vdmVBdEVuZCwgYjpzdGFydENsYXNzTGlzdCwgZTooZW5kVmFsdWUuY2hhckF0KDEpICE9PSBcIj1cIikgPyBlbmRWYWx1ZSA6IHN0YXJ0Q2xhc3NMaXN0LnJlcGxhY2UobmV3IFJlZ0V4cChcIig/OlxcXFxzfF4pXCIgKyBlbmRWYWx1ZS5zdWJzdHIoMikgKyBcIig/IVtcXFxcdy1dKVwiKSwgXCJcIikgKyAoKGVuZFZhbHVlLmNoYXJBdCgwKSA9PT0gXCIrXCIpID8gXCIgXCIgKyBlbmRWYWx1ZS5zdWJzdHIoMikgOiBcIlwiKX0sXG4gIFx0XHRjaGFuZ2luZ1ZhcnMgPSB7fSxcbiAgXHRcdHN0YXJ0VmFycyA9IF9nZXRBbGxTdHlsZXModGFyZ2V0KSxcbiAgXHRcdHRyYW5zZm9ybVJlbGF0ZWQgPSAvKHRyYW5zZm9ybXxwZXJzcGVjdGl2ZSkvaSxcbiAgXHRcdGVuZFZhcnMsIHA7XG4gIFx0aWYgKGNsYXNzUFQpIHtcbiAgXHRcdGNsYXNzUFQucigxLCBjbGFzc1BULmQpO1xuICBcdFx0X3JlbW92ZUxpbmtlZExpc3RJdGVtKGNsYXNzUFQuZC5wbHVnaW4sIGNsYXNzUFQsIFwiX3B0XCIpO1xuICBcdH1cbiAgXHR0YXJnZXQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgZGF0YS5lKTtcbiAgXHRlbmRWYXJzID0gX2dldEFsbFN0eWxlcyh0YXJnZXQsIHRydWUpO1xuICBcdHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBzdGFydENsYXNzTGlzdCk7XG4gIFx0Zm9yIChwIGluIGVuZFZhcnMpIHtcbiAgXHRcdGlmIChlbmRWYXJzW3BdICE9PSBzdGFydFZhcnNbcF0gJiYgIXRyYW5zZm9ybVJlbGF0ZWQudGVzdChwKSkge1xuICBcdFx0XHRjaGFuZ2luZ1ZhcnNbcF0gPSBlbmRWYXJzW3BdO1xuICBcdFx0XHRpZiAoIXN0eWxlW3BdICYmIHN0eWxlW3BdICE9PSBcIjBcIikge1xuICBcdFx0XHRcdGlubGluZVRvUmVtb3ZlQXRFbmRbcF0gPSAxO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0fVxuICBcdGNhY2hlLmNsYXNzUFQgPSBwbHVnaW4uX3B0ID0gbmV3IFByb3BUd2VlbihwbHVnaW4uX3B0LCB0YXJnZXQsIFwiY2xhc3NOYW1lXCIsIDAsIDAsIF9yZW5kZXJDbGFzc05hbWUsIGRhdGEsIDAsIC0xMSk7XG4gIFx0aWYgKHN0eWxlLmNzc1RleHQgIT09IGNzc1RleHQpIHsgLy9vbmx5IGFwcGx5IGlmIHRoaW5ncyBjaGFuZ2UuIE90aGVyd2lzZSwgaW4gY2FzZXMgbGlrZSBhIGJhY2tncm91bmQtaW1hZ2UgdGhhdCdzIHB1bGxlZCBkeW5hbWljYWxseSwgaXQgY291bGQgY2F1c2UgYSByZWZyZXNoLiBTZWUgaHR0cHM6Ly9ncmVlbnNvY2suY29tL2ZvcnVtcy90b3BpYy8yMDM2OC1wb3NzaWJsZS1nc2FwLWJ1Zy1zd2l0Y2hpbmctY2xhc3NuYW1lcy1pbi1jaHJvbWUvLlxuICBcdFx0c3R5bGUuY3NzVGV4dCA9IGNzc1RleHQ7IC8vd2UgcmVjb3JkZWQgY3NzVGV4dCBiZWZvcmUgd2Ugc3dhcHBlZCBjbGFzc2VzIGFuZCByYW4gX2dldEFsbFN0eWxlcygpIGJlY2F1c2UgaW4gY2FzZXMgd2hlbiBhIGNsYXNzTmFtZSB0d2VlbiBpcyBvdmVyd3JpdHRlbiwgd2UgcmVtb3ZlIGFsbCB0aGUgcmVsYXRlZCB0d2VlbmluZyBwcm9wZXJ0aWVzIGZyb20gdGhhdCBjbGFzcyBjaGFuZ2UgKG90aGVyd2lzZSBjbGFzcy1zcGVjaWZpYyBzdHVmZiBjYW4ndCBvdmVycmlkZSBwcm9wZXJ0aWVzIHdlJ3ZlIGRpcmVjdGx5IHNldCBvbiB0aGUgdGFyZ2V0J3Mgc3R5bGUgb2JqZWN0IGR1ZSB0byBzcGVjaWZpY2l0eSkuXG4gIFx0fVxuICBcdF9wYXJzZVRyYW5zZm9ybSh0YXJnZXQsIHRydWUpOyAvL3RvIGNsZWFyIHRoZSBjYWNoaW5nIG9mIHRyYW5zZm9ybXNcbiAgXHRkYXRhLmNzcyA9IG5ldyBnc2FwLnBsdWdpbnMuY3NzKCk7XG4gIFx0ZGF0YS5jc3MuaW5pdCh0YXJnZXQsIGNoYW5naW5nVmFycywgdHdlZW4pO1xuICBcdHBsdWdpbi5fcHJvcHMucHVzaCguLi5kYXRhLmNzcy5fcHJvcHMpO1xuICBcdHJldHVybiAxO1xuICB9XG4gICovXG5cbn0sXG5cbi8qXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVFJBTlNGT1JNU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuX2lkZW50aXR5MkRNYXRyaXggPSBbMSwgMCwgMCwgMSwgMCwgMF0sXG4gICAgX3JvdGF0aW9uYWxQcm9wZXJ0aWVzID0ge30sXG4gICAgX2lzTnVsbFRyYW5zZm9ybSA9IGZ1bmN0aW9uIF9pc051bGxUcmFuc2Zvcm0odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBcIm1hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKVwiIHx8IHZhbHVlID09PSBcIm5vbmVcIiB8fCAhdmFsdWU7XG59LFxuICAgIF9nZXRDb21wdXRlZFRyYW5zZm9ybU1hdHJpeEFzQXJyYXkgPSBmdW5jdGlvbiBfZ2V0Q29tcHV0ZWRUcmFuc2Zvcm1NYXRyaXhBc0FycmF5KHRhcmdldCkge1xuICB2YXIgbWF0cml4U3RyaW5nID0gX2dldENvbXB1dGVkUHJvcGVydHkodGFyZ2V0LCBfdHJhbnNmb3JtUHJvcCk7XG5cbiAgcmV0dXJuIF9pc051bGxUcmFuc2Zvcm0obWF0cml4U3RyaW5nKSA/IF9pZGVudGl0eTJETWF0cml4IDogbWF0cml4U3RyaW5nLnN1YnN0cig3KS5tYXRjaChfbnVtRXhwKS5tYXAoX3JvdW5kKTtcbn0sXG4gICAgX2dldE1hdHJpeCA9IGZ1bmN0aW9uIF9nZXRNYXRyaXgodGFyZ2V0LCBmb3JjZTJEKSB7XG4gIHZhciBjYWNoZSA9IHRhcmdldC5fZ3NhcCB8fCBfZ2V0Q2FjaGUodGFyZ2V0KSxcbiAgICAgIHN0eWxlID0gdGFyZ2V0LnN0eWxlLFxuICAgICAgbWF0cml4ID0gX2dldENvbXB1dGVkVHJhbnNmb3JtTWF0cml4QXNBcnJheSh0YXJnZXQpLFxuICAgICAgcGFyZW50LFxuICAgICAgbmV4dFNpYmxpbmcsXG4gICAgICB0ZW1wLFxuICAgICAgYWRkZWRUb0RPTTtcblxuICBpZiAoY2FjaGUuc3ZnICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikpIHtcbiAgICB0ZW1wID0gdGFyZ2V0LnRyYW5zZm9ybS5iYXNlVmFsLmNvbnNvbGlkYXRlKCkubWF0cml4OyAvL2Vuc3VyZXMgdGhhdCBldmVuIGNvbXBsZXggdmFsdWVzIGxpa2UgXCJ0cmFuc2xhdGUoNTAsNjApIHJvdGF0ZSgxMzUsMCwwKVwiIGFyZSBwYXJzZWQgYmVjYXVzZSBpdCBtYXNoZXMgaXQgaW50byBhIG1hdHJpeC5cblxuICAgIG1hdHJpeCA9IFt0ZW1wLmEsIHRlbXAuYiwgdGVtcC5jLCB0ZW1wLmQsIHRlbXAuZSwgdGVtcC5mXTtcbiAgICByZXR1cm4gbWF0cml4LmpvaW4oXCIsXCIpID09PSBcIjEsMCwwLDEsMCwwXCIgPyBfaWRlbnRpdHkyRE1hdHJpeCA6IG1hdHJpeDtcbiAgfSBlbHNlIGlmIChtYXRyaXggPT09IF9pZGVudGl0eTJETWF0cml4ICYmICF0YXJnZXQub2Zmc2V0UGFyZW50ICYmIHRhcmdldCAhPT0gX2RvY0VsZW1lbnQgJiYgIWNhY2hlLnN2Zykge1xuICAgIC8vbm90ZTogaWYgb2Zmc2V0UGFyZW50IGlzIG51bGwsIHRoYXQgbWVhbnMgdGhlIGVsZW1lbnQgaXNuJ3QgaW4gdGhlIG5vcm1hbCBkb2N1bWVudCBmbG93LCBsaWtlIGlmIGl0IGhhcyBkaXNwbGF5Om5vbmUgb3Igb25lIG9mIGl0cyBhbmNlc3RvcnMgaGFzIGRpc3BsYXk6bm9uZSkuIEZpcmVmb3ggcmV0dXJucyBudWxsIGZvciBnZXRDb21wdXRlZFN0eWxlKCkgaWYgdGhlIGVsZW1lbnQgaXMgaW4gYW4gaWZyYW1lIHRoYXQgaGFzIGRpc3BsYXk6bm9uZS4gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTQ4Mzk3XG4gICAgLy9icm93c2VycyBkb24ndCByZXBvcnQgdHJhbnNmb3JtcyBhY2N1cmF0ZWx5IHVubGVzcyB0aGUgZWxlbWVudCBpcyBpbiB0aGUgRE9NIGFuZCBoYXMgYSBkaXNwbGF5IHZhbHVlIHRoYXQncyBub3QgXCJub25lXCIuIEZpcmVmb3ggYW5kIE1pY3Jvc29mdCBicm93c2VycyBoYXZlIGEgcGFydGlhbCBidWcgd2hlcmUgdGhleSdsbCByZXBvcnQgdHJhbnNmb3JtcyBldmVuIGlmIGRpc3BsYXk6bm9uZSBCVVQgbm90IGFueSBwZXJjZW50YWdlLWJhc2VkIHZhbHVlcyBsaWtlIHRyYW5zbGF0ZSgtNTAlLCA4cHgpIHdpbGwgYmUgcmVwb3J0ZWQgYXMgaWYgaXQncyB0cmFuc2xhdGUoMCwgOHB4KS5cbiAgICB0ZW1wID0gc3R5bGUuZGlzcGxheTtcbiAgICBzdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIHBhcmVudCA9IHRhcmdldC5wYXJlbnROb2RlO1xuXG4gICAgaWYgKCFwYXJlbnQgfHwgIXRhcmdldC5vZmZzZXRQYXJlbnQpIHtcbiAgICAgIC8vIG5vdGU6IGluIDMuMy4wIHdlIHN3aXRjaGVkIHRhcmdldC5vZmZzZXRQYXJlbnQgdG8gX2RvYy5ib2R5LmNvbnRhaW5zKHRhcmdldCkgdG8gYXZvaWQgW3NvbWV0aW1lcyB1bm5lY2Vzc2FyeV0gTXV0YXRpb25PYnNlcnZlciBjYWxscyBidXQgdGhhdCB3YXNuJ3QgYWRlcXVhdGUgYmVjYXVzZSB0aGVyZSBhcmUgZWRnZSBjYXNlcyB3aGVyZSBuZXN0ZWQgcG9zaXRpb246IGZpeGVkIGVsZW1lbnRzIG5lZWQgdG8gZ2V0IHJlcGFyZW50ZWQgdG8gYWNjdXJhdGVseSBzZW5zZSB0cmFuc2Zvcm1zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dyZWVuc29jay9HU0FQL2lzc3Vlcy8zODggYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmVlbnNvY2svR1NBUC9pc3N1ZXMvMzc1XG4gICAgICBhZGRlZFRvRE9NID0gMTsgLy9mbGFnXG5cbiAgICAgIG5leHRTaWJsaW5nID0gdGFyZ2V0Lm5leHRTaWJsaW5nO1xuXG4gICAgICBfZG9jRWxlbWVudC5hcHBlbmRDaGlsZCh0YXJnZXQpOyAvL3dlIG11c3QgYWRkIGl0IHRvIHRoZSBET00gaW4gb3JkZXIgdG8gZ2V0IHZhbHVlcyBwcm9wZXJseVxuXG4gICAgfVxuXG4gICAgbWF0cml4ID0gX2dldENvbXB1dGVkVHJhbnNmb3JtTWF0cml4QXNBcnJheSh0YXJnZXQpO1xuICAgIHRlbXAgPyBzdHlsZS5kaXNwbGF5ID0gdGVtcCA6IF9yZW1vdmVQcm9wZXJ0eSh0YXJnZXQsIFwiZGlzcGxheVwiKTtcblxuICAgIGlmIChhZGRlZFRvRE9NKSB7XG4gICAgICBuZXh0U2libGluZyA/IHBhcmVudC5pbnNlcnRCZWZvcmUodGFyZ2V0LCBuZXh0U2libGluZykgOiBwYXJlbnQgPyBwYXJlbnQuYXBwZW5kQ2hpbGQodGFyZ2V0KSA6IF9kb2NFbGVtZW50LnJlbW92ZUNoaWxkKHRhcmdldCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZvcmNlMkQgJiYgbWF0cml4Lmxlbmd0aCA+IDYgPyBbbWF0cml4WzBdLCBtYXRyaXhbMV0sIG1hdHJpeFs0XSwgbWF0cml4WzVdLCBtYXRyaXhbMTJdLCBtYXRyaXhbMTNdXSA6IG1hdHJpeDtcbn0sXG4gICAgX2FwcGx5U1ZHT3JpZ2luID0gZnVuY3Rpb24gX2FwcGx5U1ZHT3JpZ2luKHRhcmdldCwgb3JpZ2luLCBvcmlnaW5Jc0Fic29sdXRlLCBzbW9vdGgsIG1hdHJpeEFycmF5LCBwbHVnaW5Ub0FkZFByb3BUd2VlbnNUbykge1xuICB2YXIgY2FjaGUgPSB0YXJnZXQuX2dzYXAsXG4gICAgICBtYXRyaXggPSBtYXRyaXhBcnJheSB8fCBfZ2V0TWF0cml4KHRhcmdldCwgdHJ1ZSksXG4gICAgICB4T3JpZ2luT2xkID0gY2FjaGUueE9yaWdpbiB8fCAwLFxuICAgICAgeU9yaWdpbk9sZCA9IGNhY2hlLnlPcmlnaW4gfHwgMCxcbiAgICAgIHhPZmZzZXRPbGQgPSBjYWNoZS54T2Zmc2V0IHx8IDAsXG4gICAgICB5T2Zmc2V0T2xkID0gY2FjaGUueU9mZnNldCB8fCAwLFxuICAgICAgYSA9IG1hdHJpeFswXSxcbiAgICAgIGIgPSBtYXRyaXhbMV0sXG4gICAgICBjID0gbWF0cml4WzJdLFxuICAgICAgZCA9IG1hdHJpeFszXSxcbiAgICAgIHR4ID0gbWF0cml4WzRdLFxuICAgICAgdHkgPSBtYXRyaXhbNV0sXG4gICAgICBvcmlnaW5TcGxpdCA9IG9yaWdpbi5zcGxpdChcIiBcIiksXG4gICAgICB4T3JpZ2luID0gcGFyc2VGbG9hdChvcmlnaW5TcGxpdFswXSkgfHwgMCxcbiAgICAgIHlPcmlnaW4gPSBwYXJzZUZsb2F0KG9yaWdpblNwbGl0WzFdKSB8fCAwLFxuICAgICAgYm91bmRzLFxuICAgICAgZGV0ZXJtaW5hbnQsXG4gICAgICB4LFxuICAgICAgeTtcblxuICBpZiAoIW9yaWdpbklzQWJzb2x1dGUpIHtcbiAgICBib3VuZHMgPSBfZ2V0QkJveCh0YXJnZXQpO1xuICAgIHhPcmlnaW4gPSBib3VuZHMueCArICh+b3JpZ2luU3BsaXRbMF0uaW5kZXhPZihcIiVcIikgPyB4T3JpZ2luIC8gMTAwICogYm91bmRzLndpZHRoIDogeE9yaWdpbik7XG4gICAgeU9yaWdpbiA9IGJvdW5kcy55ICsgKH4ob3JpZ2luU3BsaXRbMV0gfHwgb3JpZ2luU3BsaXRbMF0pLmluZGV4T2YoXCIlXCIpID8geU9yaWdpbiAvIDEwMCAqIGJvdW5kcy5oZWlnaHQgOiB5T3JpZ2luKTtcbiAgfSBlbHNlIGlmIChtYXRyaXggIT09IF9pZGVudGl0eTJETWF0cml4ICYmIChkZXRlcm1pbmFudCA9IGEgKiBkIC0gYiAqIGMpKSB7XG4gICAgLy9pZiBpdCdzIHplcm8gKGxpa2UgaWYgc2NhbGVYIGFuZCBzY2FsZVkgYXJlIHplcm8pLCBza2lwIGl0IHRvIGF2b2lkIGVycm9ycyB3aXRoIGRpdmlkaW5nIGJ5IHplcm8uXG4gICAgeCA9IHhPcmlnaW4gKiAoZCAvIGRldGVybWluYW50KSArIHlPcmlnaW4gKiAoLWMgLyBkZXRlcm1pbmFudCkgKyAoYyAqIHR5IC0gZCAqIHR4KSAvIGRldGVybWluYW50O1xuICAgIHkgPSB4T3JpZ2luICogKC1iIC8gZGV0ZXJtaW5hbnQpICsgeU9yaWdpbiAqIChhIC8gZGV0ZXJtaW5hbnQpIC0gKGEgKiB0eSAtIGIgKiB0eCkgLyBkZXRlcm1pbmFudDtcbiAgICB4T3JpZ2luID0geDtcbiAgICB5T3JpZ2luID0geTtcbiAgfVxuXG4gIGlmIChzbW9vdGggfHwgc21vb3RoICE9PSBmYWxzZSAmJiBjYWNoZS5zbW9vdGgpIHtcbiAgICB0eCA9IHhPcmlnaW4gLSB4T3JpZ2luT2xkO1xuICAgIHR5ID0geU9yaWdpbiAtIHlPcmlnaW5PbGQ7XG4gICAgY2FjaGUueE9mZnNldCA9IHhPZmZzZXRPbGQgKyAodHggKiBhICsgdHkgKiBjKSAtIHR4O1xuICAgIGNhY2hlLnlPZmZzZXQgPSB5T2Zmc2V0T2xkICsgKHR4ICogYiArIHR5ICogZCkgLSB0eTtcbiAgfSBlbHNlIHtcbiAgICBjYWNoZS54T2Zmc2V0ID0gY2FjaGUueU9mZnNldCA9IDA7XG4gIH1cblxuICBjYWNoZS54T3JpZ2luID0geE9yaWdpbjtcbiAgY2FjaGUueU9yaWdpbiA9IHlPcmlnaW47XG4gIGNhY2hlLnNtb290aCA9ICEhc21vb3RoO1xuICBjYWNoZS5vcmlnaW4gPSBvcmlnaW47XG4gIGNhY2hlLm9yaWdpbklzQWJzb2x1dGUgPSAhIW9yaWdpbklzQWJzb2x1dGU7XG4gIHRhcmdldC5zdHlsZVtfdHJhbnNmb3JtT3JpZ2luUHJvcF0gPSBcIjBweCAwcHhcIjsgLy9vdGhlcndpc2UsIGlmIHNvbWVvbmUgc2V0cyAgYW4gb3JpZ2luIHZpYSBDU1MsIGl0IHdpbGwgbGlrZWx5IGludGVyZmVyZSB3aXRoIHRoZSBTVkcgdHJhbnNmb3JtIGF0dHJpYnV0ZSBvbmVzIChiZWNhdXNlIHJlbWVtYmVyLCB3ZSdyZSBiYWtpbmcgdGhlIG9yaWdpbiBpbnRvIHRoZSBtYXRyaXgoKSB2YWx1ZSkuXG5cbiAgaWYgKHBsdWdpblRvQWRkUHJvcFR3ZWVuc1RvKSB7XG4gICAgX2FkZE5vblR3ZWVuaW5nUFQocGx1Z2luVG9BZGRQcm9wVHdlZW5zVG8sIGNhY2hlLCBcInhPcmlnaW5cIiwgeE9yaWdpbk9sZCwgeE9yaWdpbik7XG5cbiAgICBfYWRkTm9uVHdlZW5pbmdQVChwbHVnaW5Ub0FkZFByb3BUd2VlbnNUbywgY2FjaGUsIFwieU9yaWdpblwiLCB5T3JpZ2luT2xkLCB5T3JpZ2luKTtcblxuICAgIF9hZGROb25Ud2VlbmluZ1BUKHBsdWdpblRvQWRkUHJvcFR3ZWVuc1RvLCBjYWNoZSwgXCJ4T2Zmc2V0XCIsIHhPZmZzZXRPbGQsIGNhY2hlLnhPZmZzZXQpO1xuXG4gICAgX2FkZE5vblR3ZWVuaW5nUFQocGx1Z2luVG9BZGRQcm9wVHdlZW5zVG8sIGNhY2hlLCBcInlPZmZzZXRcIiwgeU9mZnNldE9sZCwgY2FjaGUueU9mZnNldCk7XG4gIH1cblxuICB0YXJnZXQuc2V0QXR0cmlidXRlKFwiZGF0YS1zdmctb3JpZ2luXCIsIHhPcmlnaW4gKyBcIiBcIiArIHlPcmlnaW4pO1xufSxcbiAgICBfcGFyc2VUcmFuc2Zvcm0gPSBmdW5jdGlvbiBfcGFyc2VUcmFuc2Zvcm0odGFyZ2V0LCB1bmNhY2hlKSB7XG4gIHZhciBjYWNoZSA9IHRhcmdldC5fZ3NhcCB8fCBuZXcgR1NDYWNoZSh0YXJnZXQpO1xuXG4gIGlmIChcInhcIiBpbiBjYWNoZSAmJiAhdW5jYWNoZSAmJiAhY2FjaGUudW5jYWNoZSkge1xuICAgIHJldHVybiBjYWNoZTtcbiAgfVxuXG4gIHZhciBzdHlsZSA9IHRhcmdldC5zdHlsZSxcbiAgICAgIGludmVydGVkU2NhbGVYID0gY2FjaGUuc2NhbGVYIDwgMCxcbiAgICAgIHB4ID0gXCJweFwiLFxuICAgICAgZGVnID0gXCJkZWdcIixcbiAgICAgIG9yaWdpbiA9IF9nZXRDb21wdXRlZFByb3BlcnR5KHRhcmdldCwgX3RyYW5zZm9ybU9yaWdpblByb3ApIHx8IFwiMFwiLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB6LFxuICAgICAgc2NhbGVYLFxuICAgICAgc2NhbGVZLFxuICAgICAgcm90YXRpb24sXG4gICAgICByb3RhdGlvblgsXG4gICAgICByb3RhdGlvblksXG4gICAgICBza2V3WCxcbiAgICAgIHNrZXdZLFxuICAgICAgcGVyc3BlY3RpdmUsXG4gICAgICB4T3JpZ2luLFxuICAgICAgeU9yaWdpbixcbiAgICAgIG1hdHJpeCxcbiAgICAgIGFuZ2xlLFxuICAgICAgY29zLFxuICAgICAgc2luLFxuICAgICAgYSxcbiAgICAgIGIsXG4gICAgICBjLFxuICAgICAgZCxcbiAgICAgIGExMixcbiAgICAgIGEyMixcbiAgICAgIHQxLFxuICAgICAgdDIsXG4gICAgICB0MyxcbiAgICAgIGExMyxcbiAgICAgIGEyMyxcbiAgICAgIGEzMyxcbiAgICAgIGE0MixcbiAgICAgIGE0MyxcbiAgICAgIGEzMjtcbiAgeCA9IHkgPSB6ID0gcm90YXRpb24gPSByb3RhdGlvblggPSByb3RhdGlvblkgPSBza2V3WCA9IHNrZXdZID0gcGVyc3BlY3RpdmUgPSAwO1xuICBzY2FsZVggPSBzY2FsZVkgPSAxO1xuICBjYWNoZS5zdmcgPSAhISh0YXJnZXQuZ2V0Q1RNICYmIF9pc1NWRyh0YXJnZXQpKTtcbiAgbWF0cml4ID0gX2dldE1hdHJpeCh0YXJnZXQsIGNhY2hlLnN2Zyk7XG5cbiAgaWYgKGNhY2hlLnN2Zykge1xuICAgIHQxID0gIWNhY2hlLnVuY2FjaGUgJiYgdGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtc3ZnLW9yaWdpblwiKTtcblxuICAgIF9hcHBseVNWR09yaWdpbih0YXJnZXQsIHQxIHx8IG9yaWdpbiwgISF0MSB8fCBjYWNoZS5vcmlnaW5Jc0Fic29sdXRlLCBjYWNoZS5zbW9vdGggIT09IGZhbHNlLCBtYXRyaXgpO1xuICB9XG5cbiAgeE9yaWdpbiA9IGNhY2hlLnhPcmlnaW4gfHwgMDtcbiAgeU9yaWdpbiA9IGNhY2hlLnlPcmlnaW4gfHwgMDtcblxuICBpZiAobWF0cml4ICE9PSBfaWRlbnRpdHkyRE1hdHJpeCkge1xuICAgIGEgPSBtYXRyaXhbMF07IC8vYTExXG5cbiAgICBiID0gbWF0cml4WzFdOyAvL2EyMVxuXG4gICAgYyA9IG1hdHJpeFsyXTsgLy9hMzFcblxuICAgIGQgPSBtYXRyaXhbM107IC8vYTQxXG5cbiAgICB4ID0gYTEyID0gbWF0cml4WzRdO1xuICAgIHkgPSBhMjIgPSBtYXRyaXhbNV07IC8vMkQgbWF0cml4XG5cbiAgICBpZiAobWF0cml4Lmxlbmd0aCA9PT0gNikge1xuICAgICAgc2NhbGVYID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuICAgICAgc2NhbGVZID0gTWF0aC5zcXJ0KGQgKiBkICsgYyAqIGMpO1xuICAgICAgcm90YXRpb24gPSBhIHx8IGIgPyBfYXRhbjIoYiwgYSkgKiBfUkFEMkRFRyA6IDA7IC8vbm90ZTogaWYgc2NhbGVYIGlzIDAsIHdlIGNhbm5vdCBhY2N1cmF0ZWx5IG1lYXN1cmUgcm90YXRpb24uIFNhbWUgZm9yIHNrZXdYIHdpdGggYSBzY2FsZVkgb2YgMC4gVGhlcmVmb3JlLCB3ZSBkZWZhdWx0IHRvIHRoZSBwcmV2aW91c2x5IHJlY29yZGVkIHZhbHVlIChvciB6ZXJvIGlmIHRoYXQgZG9lc24ndCBleGlzdCkuXG5cbiAgICAgIHNrZXdYID0gYyB8fCBkID8gX2F0YW4yKGMsIGQpICogX1JBRDJERUcgKyByb3RhdGlvbiA6IDA7XG4gICAgICBza2V3WCAmJiAoc2NhbGVZICo9IE1hdGguY29zKHNrZXdYICogX0RFRzJSQUQpKTtcblxuICAgICAgaWYgKGNhY2hlLnN2Zykge1xuICAgICAgICB4IC09IHhPcmlnaW4gLSAoeE9yaWdpbiAqIGEgKyB5T3JpZ2luICogYyk7XG4gICAgICAgIHkgLT0geU9yaWdpbiAtICh4T3JpZ2luICogYiArIHlPcmlnaW4gKiBkKTtcbiAgICAgIH0gLy8zRCBtYXRyaXhcblxuICAgIH0gZWxzZSB7XG4gICAgICBhMzIgPSBtYXRyaXhbNl07XG4gICAgICBhNDIgPSBtYXRyaXhbN107XG4gICAgICBhMTMgPSBtYXRyaXhbOF07XG4gICAgICBhMjMgPSBtYXRyaXhbOV07XG4gICAgICBhMzMgPSBtYXRyaXhbMTBdO1xuICAgICAgYTQzID0gbWF0cml4WzExXTtcbiAgICAgIHggPSBtYXRyaXhbMTJdO1xuICAgICAgeSA9IG1hdHJpeFsxM107XG4gICAgICB6ID0gbWF0cml4WzE0XTtcbiAgICAgIGFuZ2xlID0gX2F0YW4yKGEzMiwgYTMzKTtcbiAgICAgIHJvdGF0aW9uWCA9IGFuZ2xlICogX1JBRDJERUc7IC8vcm90YXRpb25YXG5cbiAgICAgIGlmIChhbmdsZSkge1xuICAgICAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuICAgICAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgICAgICB0MSA9IGExMiAqIGNvcyArIGExMyAqIHNpbjtcbiAgICAgICAgdDIgPSBhMjIgKiBjb3MgKyBhMjMgKiBzaW47XG4gICAgICAgIHQzID0gYTMyICogY29zICsgYTMzICogc2luO1xuICAgICAgICBhMTMgPSBhMTIgKiAtc2luICsgYTEzICogY29zO1xuICAgICAgICBhMjMgPSBhMjIgKiAtc2luICsgYTIzICogY29zO1xuICAgICAgICBhMzMgPSBhMzIgKiAtc2luICsgYTMzICogY29zO1xuICAgICAgICBhNDMgPSBhNDIgKiAtc2luICsgYTQzICogY29zO1xuICAgICAgICBhMTIgPSB0MTtcbiAgICAgICAgYTIyID0gdDI7XG4gICAgICAgIGEzMiA9IHQzO1xuICAgICAgfSAvL3JvdGF0aW9uWVxuXG5cbiAgICAgIGFuZ2xlID0gX2F0YW4yKC1jLCBhMzMpO1xuICAgICAgcm90YXRpb25ZID0gYW5nbGUgKiBfUkFEMkRFRztcblxuICAgICAgaWYgKGFuZ2xlKSB7XG4gICAgICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG4gICAgICAgIHNpbiA9IE1hdGguc2luKC1hbmdsZSk7XG4gICAgICAgIHQxID0gYSAqIGNvcyAtIGExMyAqIHNpbjtcbiAgICAgICAgdDIgPSBiICogY29zIC0gYTIzICogc2luO1xuICAgICAgICB0MyA9IGMgKiBjb3MgLSBhMzMgKiBzaW47XG4gICAgICAgIGE0MyA9IGQgKiBzaW4gKyBhNDMgKiBjb3M7XG4gICAgICAgIGEgPSB0MTtcbiAgICAgICAgYiA9IHQyO1xuICAgICAgICBjID0gdDM7XG4gICAgICB9IC8vcm90YXRpb25aXG5cblxuICAgICAgYW5nbGUgPSBfYXRhbjIoYiwgYSk7XG4gICAgICByb3RhdGlvbiA9IGFuZ2xlICogX1JBRDJERUc7XG5cbiAgICAgIGlmIChhbmdsZSkge1xuICAgICAgICBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgdDEgPSBhICogY29zICsgYiAqIHNpbjtcbiAgICAgICAgdDIgPSBhMTIgKiBjb3MgKyBhMjIgKiBzaW47XG4gICAgICAgIGIgPSBiICogY29zIC0gYSAqIHNpbjtcbiAgICAgICAgYTIyID0gYTIyICogY29zIC0gYTEyICogc2luO1xuICAgICAgICBhID0gdDE7XG4gICAgICAgIGExMiA9IHQyO1xuICAgICAgfVxuXG4gICAgICBpZiAocm90YXRpb25YICYmIE1hdGguYWJzKHJvdGF0aW9uWCkgKyBNYXRoLmFicyhyb3RhdGlvbikgPiAzNTkuOSkge1xuICAgICAgICAvL3doZW4gcm90YXRpb25ZIGlzIHNldCwgaXQgd2lsbCBvZnRlbiBiZSBwYXJzZWQgYXMgMTgwIGRlZ3JlZXMgZGlmZmVyZW50IHRoYW4gaXQgc2hvdWxkIGJlLCBhbmQgcm90YXRpb25YIGFuZCByb3RhdGlvbiBib3RoIGJlaW5nIDE4MCAoaXQgbG9va3MgdGhlIHNhbWUpLCBzbyB3ZSBhZGp1c3QgZm9yIHRoYXQgaGVyZS5cbiAgICAgICAgcm90YXRpb25YID0gcm90YXRpb24gPSAwO1xuICAgICAgICByb3RhdGlvblkgPSAxODAgLSByb3RhdGlvblk7XG4gICAgICB9XG5cbiAgICAgIHNjYWxlWCA9IF9yb3VuZChNYXRoLnNxcnQoYSAqIGEgKyBiICogYiArIGMgKiBjKSk7XG4gICAgICBzY2FsZVkgPSBfcm91bmQoTWF0aC5zcXJ0KGEyMiAqIGEyMiArIGEzMiAqIGEzMikpO1xuICAgICAgYW5nbGUgPSBfYXRhbjIoYTEyLCBhMjIpO1xuICAgICAgc2tld1ggPSBNYXRoLmFicyhhbmdsZSkgPiAwLjAwMDIgPyBhbmdsZSAqIF9SQUQyREVHIDogMDtcbiAgICAgIHBlcnNwZWN0aXZlID0gYTQzID8gMSAvIChhNDMgPCAwID8gLWE0MyA6IGE0MykgOiAwO1xuICAgIH1cblxuICAgIGlmIChjYWNoZS5zdmcpIHtcbiAgICAgIC8vc2Vuc2UgaWYgdGhlcmUgYXJlIENTUyB0cmFuc2Zvcm1zIGFwcGxpZWQgb24gYW4gU1ZHIGVsZW1lbnQgaW4gd2hpY2ggY2FzZSB3ZSBtdXN0IG92ZXJ3cml0ZSB0aGVtIHdoZW4gcmVuZGVyaW5nLiBUaGUgdHJhbnNmb3JtIGF0dHJpYnV0ZSBpcyBtb3JlIHJlbGlhYmxlIGNyb3NzLWJyb3dzZXIsIGJ1dCB3ZSBjYW4ndCBqdXN0IHJlbW92ZSB0aGUgQ1NTIG9uZXMgYmVjYXVzZSB0aGV5IG1heSBiZSBhcHBsaWVkIGluIGEgQ1NTIHJ1bGUgc29tZXdoZXJlIChub3QganVzdCBpbmxpbmUpLlxuICAgICAgdDEgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpO1xuICAgICAgY2FjaGUuZm9yY2VDU1MgPSB0YXJnZXQuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIFwiXCIpIHx8ICFfaXNOdWxsVHJhbnNmb3JtKF9nZXRDb21wdXRlZFByb3BlcnR5KHRhcmdldCwgX3RyYW5zZm9ybVByb3ApKTtcbiAgICAgIHQxICYmIHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgdDEpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChNYXRoLmFicyhza2V3WCkgPiA5MCAmJiBNYXRoLmFicyhza2V3WCkgPCAyNzApIHtcbiAgICBpZiAoaW52ZXJ0ZWRTY2FsZVgpIHtcbiAgICAgIHNjYWxlWCAqPSAtMTtcbiAgICAgIHNrZXdYICs9IHJvdGF0aW9uIDw9IDAgPyAxODAgOiAtMTgwO1xuICAgICAgcm90YXRpb24gKz0gcm90YXRpb24gPD0gMCA/IDE4MCA6IC0xODA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjYWxlWSAqPSAtMTtcbiAgICAgIHNrZXdYICs9IHNrZXdYIDw9IDAgPyAxODAgOiAtMTgwO1xuICAgIH1cbiAgfVxuXG4gIGNhY2hlLnggPSAoKGNhY2hlLnhQZXJjZW50ID0geCAmJiBNYXRoLnJvdW5kKHRhcmdldC5vZmZzZXRXaWR0aCAvIDIpID09PSBNYXRoLnJvdW5kKC14KSA/IC01MCA6IDApID8gMCA6IHgpICsgcHg7XG4gIGNhY2hlLnkgPSAoKGNhY2hlLnlQZXJjZW50ID0geSAmJiBNYXRoLnJvdW5kKHRhcmdldC5vZmZzZXRIZWlnaHQgLyAyKSA9PT0gTWF0aC5yb3VuZCgteSkgPyAtNTAgOiAwKSA/IDAgOiB5KSArIHB4O1xuICBjYWNoZS56ID0geiArIHB4O1xuICBjYWNoZS5zY2FsZVggPSBfcm91bmQoc2NhbGVYKTtcbiAgY2FjaGUuc2NhbGVZID0gX3JvdW5kKHNjYWxlWSk7XG4gIGNhY2hlLnJvdGF0aW9uID0gX3JvdW5kKHJvdGF0aW9uKSArIGRlZztcbiAgY2FjaGUucm90YXRpb25YID0gX3JvdW5kKHJvdGF0aW9uWCkgKyBkZWc7XG4gIGNhY2hlLnJvdGF0aW9uWSA9IF9yb3VuZChyb3RhdGlvblkpICsgZGVnO1xuICBjYWNoZS5za2V3WCA9IHNrZXdYICsgZGVnO1xuICBjYWNoZS5za2V3WSA9IHNrZXdZICsgZGVnO1xuICBjYWNoZS50cmFuc2Zvcm1QZXJzcGVjdGl2ZSA9IHBlcnNwZWN0aXZlICsgcHg7XG5cbiAgaWYgKGNhY2hlLnpPcmlnaW4gPSBwYXJzZUZsb2F0KG9yaWdpbi5zcGxpdChcIiBcIilbMl0pIHx8IDApIHtcbiAgICBzdHlsZVtfdHJhbnNmb3JtT3JpZ2luUHJvcF0gPSBfZmlyc3RUd29Pbmx5KG9yaWdpbik7XG4gIH1cblxuICBjYWNoZS54T2Zmc2V0ID0gY2FjaGUueU9mZnNldCA9IDA7XG4gIGNhY2hlLmZvcmNlM0QgPSBfY29uZmlnLmZvcmNlM0Q7XG4gIGNhY2hlLnJlbmRlclRyYW5zZm9ybSA9IGNhY2hlLnN2ZyA/IF9yZW5kZXJTVkdUcmFuc2Zvcm1zIDogX3N1cHBvcnRzM0QgPyBfcmVuZGVyQ1NTVHJhbnNmb3JtcyA6IF9yZW5kZXJOb24zRFRyYW5zZm9ybXM7XG4gIGNhY2hlLnVuY2FjaGUgPSAwO1xuICByZXR1cm4gY2FjaGU7XG59LFxuICAgIF9maXJzdFR3b09ubHkgPSBmdW5jdGlvbiBfZmlyc3RUd29Pbmx5KHZhbHVlKSB7XG4gIHJldHVybiAodmFsdWUgPSB2YWx1ZS5zcGxpdChcIiBcIikpWzBdICsgXCIgXCIgKyB2YWx1ZVsxXTtcbn0sXG4gICAgLy9mb3IgaGFuZGxpbmcgdHJhbnNmb3JtT3JpZ2luIHZhbHVlcywgc3RyaXBwaW5nIG91dCB0aGUgM3JkIGRpbWVuc2lvblxuX2FkZFB4VHJhbnNsYXRlID0gZnVuY3Rpb24gX2FkZFB4VHJhbnNsYXRlKHRhcmdldCwgc3RhcnQsIHZhbHVlKSB7XG4gIHZhciB1bml0ID0gZ2V0VW5pdChzdGFydCk7XG4gIHJldHVybiBfcm91bmQocGFyc2VGbG9hdChzdGFydCkgKyBwYXJzZUZsb2F0KF9jb252ZXJ0VG9Vbml0KHRhcmdldCwgXCJ4XCIsIHZhbHVlICsgXCJweFwiLCB1bml0KSkpICsgdW5pdDtcbn0sXG4gICAgX3JlbmRlck5vbjNEVHJhbnNmb3JtcyA9IGZ1bmN0aW9uIF9yZW5kZXJOb24zRFRyYW5zZm9ybXMocmF0aW8sIGNhY2hlKSB7XG4gIGNhY2hlLnogPSBcIjBweFwiO1xuICBjYWNoZS5yb3RhdGlvblkgPSBjYWNoZS5yb3RhdGlvblggPSBcIjBkZWdcIjtcbiAgY2FjaGUuZm9yY2UzRCA9IDA7XG5cbiAgX3JlbmRlckNTU1RyYW5zZm9ybXMocmF0aW8sIGNhY2hlKTtcbn0sXG4gICAgX3plcm9EZWcgPSBcIjBkZWdcIixcbiAgICBfemVyb1B4ID0gXCIwcHhcIixcbiAgICBfZW5kUGFyZW50aGVzaXMgPSBcIikgXCIsXG4gICAgX3JlbmRlckNTU1RyYW5zZm9ybXMgPSBmdW5jdGlvbiBfcmVuZGVyQ1NTVHJhbnNmb3JtcyhyYXRpbywgY2FjaGUpIHtcbiAgdmFyIF9yZWYgPSBjYWNoZSB8fCB0aGlzLFxuICAgICAgeFBlcmNlbnQgPSBfcmVmLnhQZXJjZW50LFxuICAgICAgeVBlcmNlbnQgPSBfcmVmLnlQZXJjZW50LFxuICAgICAgeCA9IF9yZWYueCxcbiAgICAgIHkgPSBfcmVmLnksXG4gICAgICB6ID0gX3JlZi56LFxuICAgICAgcm90YXRpb24gPSBfcmVmLnJvdGF0aW9uLFxuICAgICAgcm90YXRpb25ZID0gX3JlZi5yb3RhdGlvblksXG4gICAgICByb3RhdGlvblggPSBfcmVmLnJvdGF0aW9uWCxcbiAgICAgIHNrZXdYID0gX3JlZi5za2V3WCxcbiAgICAgIHNrZXdZID0gX3JlZi5za2V3WSxcbiAgICAgIHNjYWxlWCA9IF9yZWYuc2NhbGVYLFxuICAgICAgc2NhbGVZID0gX3JlZi5zY2FsZVksXG4gICAgICB0cmFuc2Zvcm1QZXJzcGVjdGl2ZSA9IF9yZWYudHJhbnNmb3JtUGVyc3BlY3RpdmUsXG4gICAgICBmb3JjZTNEID0gX3JlZi5mb3JjZTNELFxuICAgICAgdGFyZ2V0ID0gX3JlZi50YXJnZXQsXG4gICAgICB6T3JpZ2luID0gX3JlZi56T3JpZ2luLFxuICAgICAgdHJhbnNmb3JtcyA9IFwiXCIsXG4gICAgICB1c2UzRCA9IGZvcmNlM0QgPT09IFwiYXV0b1wiICYmIHJhdGlvICYmIHJhdGlvICE9PSAxIHx8IGZvcmNlM0QgPT09IHRydWU7IC8vIFNhZmFyaSBoYXMgYSBidWcgdGhhdCBjYXVzZXMgaXQgbm90IHRvIHJlbmRlciAzRCB0cmFuc2Zvcm0tb3JpZ2luIHZhbHVlcyBwcm9wZXJseSwgc28gd2UgZm9yY2UgdGhlIHogb3JpZ2luIHRvIDAsIHJlY29yZCBpdCBpbiB0aGUgY2FjaGUsIGFuZCB0aGVuIGRvIHRoZSBtYXRoIGhlcmUgdG8gb2Zmc2V0IHRoZSB0cmFuc2xhdGUgdmFsdWVzIGFjY29yZGluZ2x5IChiYXNpY2FsbHkgZG8gdGhlIDNEIHRyYW5zZm9ybS1vcmlnaW4gcGFydCBtYW51YWxseSlcblxuXG4gIGlmICh6T3JpZ2luICYmIChyb3RhdGlvblggIT09IF96ZXJvRGVnIHx8IHJvdGF0aW9uWSAhPT0gX3plcm9EZWcpKSB7XG4gICAgdmFyIGFuZ2xlID0gcGFyc2VGbG9hdChyb3RhdGlvblkpICogX0RFRzJSQUQsXG4gICAgICAgIGExMyA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgYTMzID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICBjb3M7XG5cbiAgICBhbmdsZSA9IHBhcnNlRmxvYXQocm90YXRpb25YKSAqIF9ERUcyUkFEO1xuICAgIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB4ID0gX2FkZFB4VHJhbnNsYXRlKHRhcmdldCwgeCwgYTEzICogY29zICogLXpPcmlnaW4pO1xuICAgIHkgPSBfYWRkUHhUcmFuc2xhdGUodGFyZ2V0LCB5LCAtTWF0aC5zaW4oYW5nbGUpICogLXpPcmlnaW4pO1xuICAgIHogPSBfYWRkUHhUcmFuc2xhdGUodGFyZ2V0LCB6LCBhMzMgKiBjb3MgKiAtek9yaWdpbiArIHpPcmlnaW4pO1xuICB9XG5cbiAgaWYgKHRyYW5zZm9ybVBlcnNwZWN0aXZlICE9PSBfemVyb1B4KSB7XG4gICAgdHJhbnNmb3JtcyArPSBcInBlcnNwZWN0aXZlKFwiICsgdHJhbnNmb3JtUGVyc3BlY3RpdmUgKyBfZW5kUGFyZW50aGVzaXM7XG4gIH1cblxuICBpZiAoeFBlcmNlbnQgfHwgeVBlcmNlbnQpIHtcbiAgICB0cmFuc2Zvcm1zICs9IFwidHJhbnNsYXRlKFwiICsgeFBlcmNlbnQgKyBcIiUsIFwiICsgeVBlcmNlbnQgKyBcIiUpIFwiO1xuICB9XG5cbiAgaWYgKHVzZTNEIHx8IHggIT09IF96ZXJvUHggfHwgeSAhPT0gX3plcm9QeCB8fCB6ICE9PSBfemVyb1B4KSB7XG4gICAgdHJhbnNmb3JtcyArPSB6ICE9PSBfemVyb1B4IHx8IHVzZTNEID8gXCJ0cmFuc2xhdGUzZChcIiArIHggKyBcIiwgXCIgKyB5ICsgXCIsIFwiICsgeiArIFwiKSBcIiA6IFwidHJhbnNsYXRlKFwiICsgeCArIFwiLCBcIiArIHkgKyBfZW5kUGFyZW50aGVzaXM7XG4gIH1cblxuICBpZiAocm90YXRpb24gIT09IF96ZXJvRGVnKSB7XG4gICAgdHJhbnNmb3JtcyArPSBcInJvdGF0ZShcIiArIHJvdGF0aW9uICsgX2VuZFBhcmVudGhlc2lzO1xuICB9XG5cbiAgaWYgKHJvdGF0aW9uWSAhPT0gX3plcm9EZWcpIHtcbiAgICB0cmFuc2Zvcm1zICs9IFwicm90YXRlWShcIiArIHJvdGF0aW9uWSArIF9lbmRQYXJlbnRoZXNpcztcbiAgfVxuXG4gIGlmIChyb3RhdGlvblggIT09IF96ZXJvRGVnKSB7XG4gICAgdHJhbnNmb3JtcyArPSBcInJvdGF0ZVgoXCIgKyByb3RhdGlvblggKyBfZW5kUGFyZW50aGVzaXM7XG4gIH1cblxuICBpZiAoc2tld1ggIT09IF96ZXJvRGVnIHx8IHNrZXdZICE9PSBfemVyb0RlZykge1xuICAgIHRyYW5zZm9ybXMgKz0gXCJza2V3KFwiICsgc2tld1ggKyBcIiwgXCIgKyBza2V3WSArIF9lbmRQYXJlbnRoZXNpcztcbiAgfVxuXG4gIGlmIChzY2FsZVggIT09IDEgfHwgc2NhbGVZICE9PSAxKSB7XG4gICAgdHJhbnNmb3JtcyArPSBcInNjYWxlKFwiICsgc2NhbGVYICsgXCIsIFwiICsgc2NhbGVZICsgX2VuZFBhcmVudGhlc2lzO1xuICB9XG5cbiAgdGFyZ2V0LnN0eWxlW190cmFuc2Zvcm1Qcm9wXSA9IHRyYW5zZm9ybXMgfHwgXCJ0cmFuc2xhdGUoMCwgMClcIjtcbn0sXG4gICAgX3JlbmRlclNWR1RyYW5zZm9ybXMgPSBmdW5jdGlvbiBfcmVuZGVyU1ZHVHJhbnNmb3JtcyhyYXRpbywgY2FjaGUpIHtcbiAgdmFyIF9yZWYyID0gY2FjaGUgfHwgdGhpcyxcbiAgICAgIHhQZXJjZW50ID0gX3JlZjIueFBlcmNlbnQsXG4gICAgICB5UGVyY2VudCA9IF9yZWYyLnlQZXJjZW50LFxuICAgICAgeCA9IF9yZWYyLngsXG4gICAgICB5ID0gX3JlZjIueSxcbiAgICAgIHJvdGF0aW9uID0gX3JlZjIucm90YXRpb24sXG4gICAgICBza2V3WCA9IF9yZWYyLnNrZXdYLFxuICAgICAgc2tld1kgPSBfcmVmMi5za2V3WSxcbiAgICAgIHNjYWxlWCA9IF9yZWYyLnNjYWxlWCxcbiAgICAgIHNjYWxlWSA9IF9yZWYyLnNjYWxlWSxcbiAgICAgIHRhcmdldCA9IF9yZWYyLnRhcmdldCxcbiAgICAgIHhPcmlnaW4gPSBfcmVmMi54T3JpZ2luLFxuICAgICAgeU9yaWdpbiA9IF9yZWYyLnlPcmlnaW4sXG4gICAgICB4T2Zmc2V0ID0gX3JlZjIueE9mZnNldCxcbiAgICAgIHlPZmZzZXQgPSBfcmVmMi55T2Zmc2V0LFxuICAgICAgZm9yY2VDU1MgPSBfcmVmMi5mb3JjZUNTUyxcbiAgICAgIHR4ID0gcGFyc2VGbG9hdCh4KSxcbiAgICAgIHR5ID0gcGFyc2VGbG9hdCh5KSxcbiAgICAgIGExMSxcbiAgICAgIGEyMSxcbiAgICAgIGExMixcbiAgICAgIGEyMixcbiAgICAgIHRlbXA7XG5cbiAgcm90YXRpb24gPSBwYXJzZUZsb2F0KHJvdGF0aW9uKTtcbiAgc2tld1ggPSBwYXJzZUZsb2F0KHNrZXdYKTtcbiAgc2tld1kgPSBwYXJzZUZsb2F0KHNrZXdZKTtcblxuICBpZiAoc2tld1kpIHtcbiAgICAvL2ZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3ZSBjb21iaW5lIGFsbCBza2V3aW5nIGludG8gdGhlIHNrZXdYIGFuZCByb3RhdGlvbiB2YWx1ZXMuIFJlbWVtYmVyLCBhIHNrZXdZIG9mIDEwIGRlZ3JlZXMgbG9va3MgdGhlIHNhbWUgYXMgYSByb3RhdGlvbiBvZiAxMCBkZWdyZWVzIHBsdXMgYSBza2V3WCBvZiAxMCBkZWdyZWVzLlxuICAgIHNrZXdZID0gcGFyc2VGbG9hdChza2V3WSk7XG4gICAgc2tld1ggKz0gc2tld1k7XG4gICAgcm90YXRpb24gKz0gc2tld1k7XG4gIH1cblxuICBpZiAocm90YXRpb24gfHwgc2tld1gpIHtcbiAgICByb3RhdGlvbiAqPSBfREVHMlJBRDtcbiAgICBza2V3WCAqPSBfREVHMlJBRDtcbiAgICBhMTEgPSBNYXRoLmNvcyhyb3RhdGlvbikgKiBzY2FsZVg7XG4gICAgYTIxID0gTWF0aC5zaW4ocm90YXRpb24pICogc2NhbGVYO1xuICAgIGExMiA9IE1hdGguc2luKHJvdGF0aW9uIC0gc2tld1gpICogLXNjYWxlWTtcbiAgICBhMjIgPSBNYXRoLmNvcyhyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcblxuICAgIGlmIChza2V3WCkge1xuICAgICAgc2tld1kgKj0gX0RFRzJSQUQ7XG4gICAgICB0ZW1wID0gTWF0aC50YW4oc2tld1ggLSBza2V3WSk7XG4gICAgICB0ZW1wID0gTWF0aC5zcXJ0KDEgKyB0ZW1wICogdGVtcCk7XG4gICAgICBhMTIgKj0gdGVtcDtcbiAgICAgIGEyMiAqPSB0ZW1wO1xuXG4gICAgICBpZiAoc2tld1kpIHtcbiAgICAgICAgdGVtcCA9IE1hdGgudGFuKHNrZXdZKTtcbiAgICAgICAgdGVtcCA9IE1hdGguc3FydCgxICsgdGVtcCAqIHRlbXApO1xuICAgICAgICBhMTEgKj0gdGVtcDtcbiAgICAgICAgYTIxICo9IHRlbXA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYTExID0gX3JvdW5kKGExMSk7XG4gICAgYTIxID0gX3JvdW5kKGEyMSk7XG4gICAgYTEyID0gX3JvdW5kKGExMik7XG4gICAgYTIyID0gX3JvdW5kKGEyMik7XG4gIH0gZWxzZSB7XG4gICAgYTExID0gc2NhbGVYO1xuICAgIGEyMiA9IHNjYWxlWTtcbiAgICBhMjEgPSBhMTIgPSAwO1xuICB9XG5cbiAgaWYgKHR4ICYmICF+KHggKyBcIlwiKS5pbmRleE9mKFwicHhcIikgfHwgdHkgJiYgIX4oeSArIFwiXCIpLmluZGV4T2YoXCJweFwiKSkge1xuICAgIHR4ID0gX2NvbnZlcnRUb1VuaXQodGFyZ2V0LCBcInhcIiwgeCwgXCJweFwiKTtcbiAgICB0eSA9IF9jb252ZXJ0VG9Vbml0KHRhcmdldCwgXCJ5XCIsIHksIFwicHhcIik7XG4gIH1cblxuICBpZiAoeE9yaWdpbiB8fCB5T3JpZ2luIHx8IHhPZmZzZXQgfHwgeU9mZnNldCkge1xuICAgIHR4ID0gX3JvdW5kKHR4ICsgeE9yaWdpbiAtICh4T3JpZ2luICogYTExICsgeU9yaWdpbiAqIGExMikgKyB4T2Zmc2V0KTtcbiAgICB0eSA9IF9yb3VuZCh0eSArIHlPcmlnaW4gLSAoeE9yaWdpbiAqIGEyMSArIHlPcmlnaW4gKiBhMjIpICsgeU9mZnNldCk7XG4gIH1cblxuICBpZiAoeFBlcmNlbnQgfHwgeVBlcmNlbnQpIHtcbiAgICAvL1RoZSBTVkcgc3BlYyBkb2Vzbid0IHN1cHBvcnQgcGVyY2VudGFnZS1iYXNlZCB0cmFuc2xhdGlvbiBpbiB0aGUgXCJ0cmFuc2Zvcm1cIiBhdHRyaWJ1dGUsIHNvIHdlIG1lcmdlIGl0IGludG8gdGhlIHRyYW5zbGF0aW9uIHRvIHNpbXVsYXRlIGl0LlxuICAgIHRlbXAgPSB0YXJnZXQuZ2V0QkJveCgpO1xuICAgIHR4ID0gX3JvdW5kKHR4ICsgeFBlcmNlbnQgLyAxMDAgKiB0ZW1wLndpZHRoKTtcbiAgICB0eSA9IF9yb3VuZCh0eSArIHlQZXJjZW50IC8gMTAwICogdGVtcC5oZWlnaHQpO1xuICB9XG5cbiAgdGVtcCA9IFwibWF0cml4KFwiICsgYTExICsgXCIsXCIgKyBhMjEgKyBcIixcIiArIGExMiArIFwiLFwiICsgYTIyICsgXCIsXCIgKyB0eCArIFwiLFwiICsgdHkgKyBcIilcIjtcbiAgdGFyZ2V0LnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCB0ZW1wKTtcblxuICBpZiAoZm9yY2VDU1MpIHtcbiAgICAvL3NvbWUgYnJvd3NlcnMgcHJpb3JpdGl6ZSBDU1MgdHJhbnNmb3JtcyBvdmVyIHRoZSB0cmFuc2Zvcm0gYXR0cmlidXRlLiBXaGVuIHdlIHNlbnNlIHRoYXQgdGhlIHVzZXIgaGFzIENTUyB0cmFuc2Zvcm1zIGFwcGxpZWQsIHdlIG11c3Qgb3ZlcndyaXRlIHRoZW0gdGhpcyB3YXkgKG90aGVyd2lzZSBzb21lIGJyb3dzZXIgc2ltcGx5IHdvbid0IHJlbmRlciB0aGUgIHRyYW5zZm9ybSBhdHRyaWJ1dGUgY2hhbmdlcyEpXG4gICAgdGFyZ2V0LnN0eWxlW190cmFuc2Zvcm1Qcm9wXSA9IHRlbXA7XG4gIH1cbn0sXG4gICAgX2FkZFJvdGF0aW9uYWxQcm9wVHdlZW4gPSBmdW5jdGlvbiBfYWRkUm90YXRpb25hbFByb3BUd2VlbihwbHVnaW4sIHRhcmdldCwgcHJvcGVydHksIHN0YXJ0TnVtLCBlbmRWYWx1ZSwgcmVsYXRpdmUpIHtcbiAgdmFyIGNhcCA9IDM2MCxcbiAgICAgIGlzU3RyaW5nID0gX2lzU3RyaW5nKGVuZFZhbHVlKSxcbiAgICAgIGVuZE51bSA9IHBhcnNlRmxvYXQoZW5kVmFsdWUpICogKGlzU3RyaW5nICYmIH5lbmRWYWx1ZS5pbmRleE9mKFwicmFkXCIpID8gX1JBRDJERUcgOiAxKSxcbiAgICAgIGNoYW5nZSA9IHJlbGF0aXZlID8gZW5kTnVtICogcmVsYXRpdmUgOiBlbmROdW0gLSBzdGFydE51bSxcbiAgICAgIGZpbmFsVmFsdWUgPSBzdGFydE51bSArIGNoYW5nZSArIFwiZGVnXCIsXG4gICAgICBkaXJlY3Rpb24sXG4gICAgICBwdDtcblxuICBpZiAoaXNTdHJpbmcpIHtcbiAgICBkaXJlY3Rpb24gPSBlbmRWYWx1ZS5zcGxpdChcIl9cIilbMV07XG5cbiAgICBpZiAoZGlyZWN0aW9uID09PSBcInNob3J0XCIpIHtcbiAgICAgIGNoYW5nZSAlPSBjYXA7XG5cbiAgICAgIGlmIChjaGFuZ2UgIT09IGNoYW5nZSAlIChjYXAgLyAyKSkge1xuICAgICAgICBjaGFuZ2UgKz0gY2hhbmdlIDwgMCA/IGNhcCA6IC1jYXA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJjd1wiICYmIGNoYW5nZSA8IDApIHtcbiAgICAgIGNoYW5nZSA9IChjaGFuZ2UgKyBjYXAgKiBfYmlnTnVtKSAlIGNhcCAtIH5+KGNoYW5nZSAvIGNhcCkgKiBjYXA7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwiY2N3XCIgJiYgY2hhbmdlID4gMCkge1xuICAgICAgY2hhbmdlID0gKGNoYW5nZSAtIGNhcCAqIF9iaWdOdW0pICUgY2FwIC0gfn4oY2hhbmdlIC8gY2FwKSAqIGNhcDtcbiAgICB9XG4gIH1cblxuICBwbHVnaW4uX3B0ID0gcHQgPSBuZXcgUHJvcFR3ZWVuKHBsdWdpbi5fcHQsIHRhcmdldCwgcHJvcGVydHksIHN0YXJ0TnVtLCBjaGFuZ2UsIF9yZW5kZXJQcm9wV2l0aEVuZCk7XG4gIHB0LmUgPSBmaW5hbFZhbHVlO1xuICBwdC51ID0gXCJkZWdcIjtcblxuICBwbHVnaW4uX3Byb3BzLnB1c2gocHJvcGVydHkpO1xuXG4gIHJldHVybiBwdDtcbn0sXG4gICAgX2FkZFJhd1RyYW5zZm9ybVBUcyA9IGZ1bmN0aW9uIF9hZGRSYXdUcmFuc2Zvcm1QVHMocGx1Z2luLCB0cmFuc2Zvcm1zLCB0YXJnZXQpIHtcbiAgLy9mb3IgaGFuZGxpbmcgY2FzZXMgd2hlcmUgc29tZW9uZSBwYXNzZXMgaW4gYSB3aG9sZSB0cmFuc2Zvcm0gc3RyaW5nLCBsaWtlIHRyYW5zZm9ybTogXCJzY2FsZSgyLCAzKSByb3RhdGUoMjBkZWcpIHRyYW5zbGF0ZVkoMzBlbSlcIlxuICB2YXIgc3R5bGUgPSBfdGVtcERpdlN0eWxlci5zdHlsZSxcbiAgICAgIHN0YXJ0Q2FjaGUgPSB0YXJnZXQuX2dzYXAsXG4gICAgICBleGNsdWRlID0gXCJwZXJzcGVjdGl2ZSxmb3JjZTNELHRyYW5zZm9ybU9yaWdpbixzdmdPcmlnaW5cIixcbiAgICAgIGVuZENhY2hlLFxuICAgICAgcCxcbiAgICAgIHN0YXJ0VmFsdWUsXG4gICAgICBlbmRWYWx1ZSxcbiAgICAgIHN0YXJ0TnVtLFxuICAgICAgZW5kTnVtLFxuICAgICAgc3RhcnRVbml0LFxuICAgICAgZW5kVW5pdDtcbiAgc3R5bGUuY3NzVGV4dCA9IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0KS5jc3NUZXh0ICsgXCI7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jaztcIjsgLy8lLWJhc2VkIHRyYW5zbGF0aW9ucyB3aWxsIGZhaWwgdW5sZXNzIHdlIHNldCB0aGUgd2lkdGgvaGVpZ2h0IHRvIG1hdGNoIHRoZSBvcmlnaW5hbCB0YXJnZXQgKGFuZCBwYWRkaW5nL2JvcmRlcnMgY2FuIGFmZmVjdCBpdClcblxuICBzdHlsZVtfdHJhbnNmb3JtUHJvcF0gPSB0cmFuc2Zvcm1zO1xuXG4gIF9kb2MuYm9keS5hcHBlbmRDaGlsZChfdGVtcERpdlN0eWxlcik7XG5cbiAgZW5kQ2FjaGUgPSBfcGFyc2VUcmFuc2Zvcm0oX3RlbXBEaXZTdHlsZXIsIDEpO1xuXG4gIGZvciAocCBpbiBfdHJhbnNmb3JtUHJvcHMpIHtcbiAgICBzdGFydFZhbHVlID0gc3RhcnRDYWNoZVtwXTtcbiAgICBlbmRWYWx1ZSA9IGVuZENhY2hlW3BdO1xuXG4gICAgaWYgKHN0YXJ0VmFsdWUgIT09IGVuZFZhbHVlICYmIGV4Y2x1ZGUuaW5kZXhPZihwKSA8IDApIHtcbiAgICAgIC8vdHdlZW5pbmcgdG8gbm8gcGVyc3BlY3RpdmUgZ2l2ZXMgdmVyeSB1bmludHVpdGl2ZSByZXN1bHRzIC0ganVzdCBrZWVwIHRoZSBzYW1lIHBlcnNwZWN0aXZlIGluIHRoYXQgY2FzZS5cbiAgICAgIHN0YXJ0VW5pdCA9IGdldFVuaXQoc3RhcnRWYWx1ZSk7XG4gICAgICBlbmRVbml0ID0gZ2V0VW5pdChlbmRWYWx1ZSk7XG4gICAgICBzdGFydE51bSA9IHN0YXJ0VW5pdCAhPT0gZW5kVW5pdCA/IF9jb252ZXJ0VG9Vbml0KHRhcmdldCwgcCwgc3RhcnRWYWx1ZSwgZW5kVW5pdCkgOiBwYXJzZUZsb2F0KHN0YXJ0VmFsdWUpO1xuICAgICAgZW5kTnVtID0gcGFyc2VGbG9hdChlbmRWYWx1ZSk7XG4gICAgICBwbHVnaW4uX3B0ID0gbmV3IFByb3BUd2VlbihwbHVnaW4uX3B0LCBzdGFydENhY2hlLCBwLCBzdGFydE51bSwgZW5kTnVtIC0gc3RhcnROdW0sIF9yZW5kZXJDU1NQcm9wKTtcbiAgICAgIHBsdWdpbi5fcHQudSA9IGVuZFVuaXQgfHwgMDtcblxuICAgICAgcGx1Z2luLl9wcm9wcy5wdXNoKHApO1xuICAgIH1cbiAgfVxuXG4gIF9kb2MuYm9keS5yZW1vdmVDaGlsZChfdGVtcERpdlN0eWxlcik7XG59OyAvLyBoYW5kbGUgc3BsaXR0aW5nIGFwYXJ0IHBhZGRpbmcsIG1hcmdpbiwgYm9yZGVyV2lkdGgsIGFuZCBib3JkZXJSYWRpdXMgaW50byB0aGVpciA0IGNvbXBvbmVudHMuIEZpcmVmb3gsIGZvciBleGFtcGxlLCB3b24ndCByZXBvcnQgYm9yZGVyUmFkaXVzIGNvcnJlY3RseSAtIGl0IHdpbGwgb25seSBkbyBib3JkZXJUb3BMZWZ0UmFkaXVzIGFuZCB0aGUgb3RoZXIgY29ybmVycy4gV2UgYWxzbyB3YW50IHRvIGhhbmRsZSBwYWRkaW5nVG9wLCBtYXJnaW5MZWZ0LCBib3JkZXJSaWdodFdpZHRoLCBldGMuXG5cblxuX2ZvckVhY2hOYW1lKFwicGFkZGluZyxtYXJnaW4sV2lkdGgsUmFkaXVzXCIsIGZ1bmN0aW9uIChuYW1lLCBpbmRleCkge1xuICB2YXIgdCA9IFwiVG9wXCIsXG4gICAgICByID0gXCJSaWdodFwiLFxuICAgICAgYiA9IFwiQm90dG9tXCIsXG4gICAgICBsID0gXCJMZWZ0XCIsXG4gICAgICBwcm9wcyA9IChpbmRleCA8IDMgPyBbdCwgciwgYiwgbF0gOiBbdCArIGwsIHQgKyByLCBiICsgciwgYiArIGxdKS5tYXAoZnVuY3Rpb24gKHNpZGUpIHtcbiAgICByZXR1cm4gaW5kZXggPCAyID8gbmFtZSArIHNpZGUgOiBcImJvcmRlclwiICsgc2lkZSArIG5hbWU7XG4gIH0pO1xuXG4gIF9zcGVjaWFsUHJvcHNbaW5kZXggPiAxID8gXCJib3JkZXJcIiArIG5hbWUgOiBuYW1lXSA9IGZ1bmN0aW9uIChwbHVnaW4sIHRhcmdldCwgcHJvcGVydHksIGVuZFZhbHVlLCB0d2Vlbikge1xuICAgIHZhciBhLCB2YXJzO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCA0KSB7XG4gICAgICAvLyBnZXR0ZXIsIHBhc3NlZCB0YXJnZXQsIHByb3BlcnR5LCBhbmQgdW5pdCAoZnJvbSBfZ2V0KCkpXG4gICAgICBhID0gcHJvcHMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KHBsdWdpbiwgcHJvcCwgcHJvcGVydHkpO1xuICAgICAgfSk7XG4gICAgICB2YXJzID0gYS5qb2luKFwiIFwiKTtcbiAgICAgIHJldHVybiB2YXJzLnNwbGl0KGFbMF0pLmxlbmd0aCA9PT0gNSA/IGFbMF0gOiB2YXJzO1xuICAgIH1cblxuICAgIGEgPSAoZW5kVmFsdWUgKyBcIlwiKS5zcGxpdChcIiBcIik7XG4gICAgdmFycyA9IHt9O1xuICAgIHByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3AsIGkpIHtcbiAgICAgIHJldHVybiB2YXJzW3Byb3BdID0gYVtpXSA9IGFbaV0gfHwgYVsoaSAtIDEpIC8gMiB8IDBdO1xuICAgIH0pO1xuICAgIHBsdWdpbi5pbml0KHRhcmdldCwgdmFycywgdHdlZW4pO1xuICB9O1xufSk7XG5cbmV4cG9ydCB2YXIgQ1NTUGx1Z2luID0ge1xuICBuYW1lOiBcImNzc1wiLFxuICByZWdpc3RlcjogX2luaXRDb3JlLFxuICB0YXJnZXRUZXN0OiBmdW5jdGlvbiB0YXJnZXRUZXN0KHRhcmdldCkge1xuICAgIHJldHVybiB0YXJnZXQuc3R5bGUgJiYgdGFyZ2V0Lm5vZGVUeXBlO1xuICB9LFxuICBpbml0OiBmdW5jdGlvbiBpbml0KHRhcmdldCwgdmFycywgdHdlZW4sIGluZGV4LCB0YXJnZXRzKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5fcHJvcHMsXG4gICAgICAgIHN0eWxlID0gdGFyZ2V0LnN0eWxlLFxuICAgICAgICBzdGFydFZhbHVlLFxuICAgICAgICBlbmRWYWx1ZSxcbiAgICAgICAgZW5kTnVtLFxuICAgICAgICBzdGFydE51bSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3BlY2lhbFByb3AsXG4gICAgICAgIHAsXG4gICAgICAgIHN0YXJ0VW5pdCxcbiAgICAgICAgZW5kVW5pdCxcbiAgICAgICAgcmVsYXRpdmUsXG4gICAgICAgIGlzVHJhbnNmb3JtUmVsYXRlZCxcbiAgICAgICAgdHJhbnNmb3JtUHJvcFR3ZWVuLFxuICAgICAgICBjYWNoZSxcbiAgICAgICAgc21vb3RoLFxuICAgICAgICBoYXNQcmlvcml0eTtcbiAgICBfcGx1Z2luSW5pdHRlZCB8fCBfaW5pdENvcmUoKTtcblxuICAgIGZvciAocCBpbiB2YXJzKSB7XG4gICAgICBpZiAocCA9PT0gXCJhdXRvUm91bmRcIikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgZW5kVmFsdWUgPSB2YXJzW3BdO1xuXG4gICAgICBpZiAoX3BsdWdpbnNbcF0gJiYgX2NoZWNrUGx1Z2luKHAsIHZhcnMsIHR3ZWVuLCBpbmRleCwgdGFyZ2V0LCB0YXJnZXRzKSkge1xuICAgICAgICAvL3BsdWdpbnNcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHR5cGUgPSB0eXBlb2YgZW5kVmFsdWU7XG4gICAgICBzcGVjaWFsUHJvcCA9IF9zcGVjaWFsUHJvcHNbcF07XG5cbiAgICAgIGlmICh0eXBlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZW5kVmFsdWUgPSBlbmRWYWx1ZS5jYWxsKHR3ZWVuLCBpbmRleCwgdGFyZ2V0LCB0YXJnZXRzKTtcbiAgICAgICAgdHlwZSA9IHR5cGVvZiBlbmRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGUgPT09IFwic3RyaW5nXCIgJiYgfmVuZFZhbHVlLmluZGV4T2YoXCJyYW5kb20oXCIpKSB7XG4gICAgICAgIGVuZFZhbHVlID0gX3JlcGxhY2VSYW5kb20oZW5kVmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3BlY2lhbFByb3ApIHtcbiAgICAgICAgaWYgKHNwZWNpYWxQcm9wKHRoaXMsIHRhcmdldCwgcCwgZW5kVmFsdWUsIHR3ZWVuKSkge1xuICAgICAgICAgIGhhc1ByaW9yaXR5ID0gMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwLnN1YnN0cigwLCAyKSA9PT0gXCItLVwiKSB7XG4gICAgICAgIC8vQ1NTIHZhcmlhYmxlXG4gICAgICAgIHRoaXMuYWRkKHN0eWxlLCBcInNldFByb3BlcnR5XCIsIGdldENvbXB1dGVkU3R5bGUodGFyZ2V0KS5nZXRQcm9wZXJ0eVZhbHVlKHApICsgXCJcIiwgZW5kVmFsdWUgKyBcIlwiLCBpbmRleCwgdGFyZ2V0cywgMCwgMCwgcCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgc3RhcnRWYWx1ZSA9IF9nZXQodGFyZ2V0LCBwKTtcbiAgICAgICAgc3RhcnROdW0gPSBwYXJzZUZsb2F0KHN0YXJ0VmFsdWUpO1xuICAgICAgICByZWxhdGl2ZSA9IHR5cGUgPT09IFwic3RyaW5nXCIgJiYgZW5kVmFsdWUuY2hhckF0KDEpID09PSBcIj1cIiA/ICsoZW5kVmFsdWUuY2hhckF0KDApICsgXCIxXCIpIDogMDtcblxuICAgICAgICBpZiAocmVsYXRpdmUpIHtcbiAgICAgICAgICBlbmRWYWx1ZSA9IGVuZFZhbHVlLnN1YnN0cigyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVuZE51bSA9IHBhcnNlRmxvYXQoZW5kVmFsdWUpO1xuXG4gICAgICAgIGlmIChwIGluIF9wcm9wZXJ0eUFsaWFzZXMpIHtcbiAgICAgICAgICBpZiAocCA9PT0gXCJhdXRvQWxwaGFcIikge1xuICAgICAgICAgICAgLy9zcGVjaWFsIGNhc2Ugd2hlcmUgd2UgY29udHJvbCB0aGUgdmlzaWJpbGl0eSBhbG9uZyB3aXRoIG9wYWNpdHkuIFdlIHN0aWxsIGFsbG93IHRoZSBvcGFjaXR5IHZhbHVlIHRvIHBhc3MgdGhyb3VnaCBhbmQgZ2V0IHR3ZWVuZWQuXG4gICAgICAgICAgICBpZiAoc3RhcnROdW0gPT09IDEgJiYgX2dldCh0YXJnZXQsIFwidmlzaWJpbGl0eVwiKSA9PT0gXCJoaWRkZW5cIiAmJiBlbmROdW0pIHtcbiAgICAgICAgICAgICAgLy9pZiB2aXNpYmlsaXR5IGlzIGluaXRpYWxseSBzZXQgdG8gXCJoaWRkZW5cIiwgd2Ugc2hvdWxkIGludGVycHJldCB0aGF0IGFzIGludGVudCB0byBtYWtlIG9wYWNpdHkgMCAoYSBjb252ZW5pZW5jZSlcbiAgICAgICAgICAgICAgc3RhcnROdW0gPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfYWRkTm9uVHdlZW5pbmdQVCh0aGlzLCBzdHlsZSwgXCJ2aXNpYmlsaXR5XCIsIHN0YXJ0TnVtID8gXCJpbmhlcml0XCIgOiBcImhpZGRlblwiLCBlbmROdW0gPyBcImluaGVyaXRcIiA6IFwiaGlkZGVuXCIsICFlbmROdW0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwICE9PSBcInNjYWxlXCIgJiYgcCAhPT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgICAgICAgcCA9IF9wcm9wZXJ0eUFsaWFzZXNbcF07XG4gICAgICAgICAgICB+cC5pbmRleE9mKFwiLFwiKSAmJiAocCA9IHAuc3BsaXQoXCIsXCIpWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpc1RyYW5zZm9ybVJlbGF0ZWQgPSBwIGluIF90cmFuc2Zvcm1Qcm9wczsgLy8tLS0gVFJBTlNGT1JNLVJFTEFURUQgLS0tXG5cbiAgICAgICAgaWYgKGlzVHJhbnNmb3JtUmVsYXRlZCkge1xuICAgICAgICAgIGlmICghdHJhbnNmb3JtUHJvcFR3ZWVuKSB7XG4gICAgICAgICAgICBjYWNoZSA9IHRhcmdldC5fZ3NhcDtcbiAgICAgICAgICAgIGNhY2hlLnJlbmRlclRyYW5zZm9ybSB8fCBfcGFyc2VUcmFuc2Zvcm0odGFyZ2V0KTsgLy8gaWYsIGZvciBleGFtcGxlLCBnc2FwLnNldCguLi4ge3RyYW5zZm9ybTpcInRyYW5zbGF0ZVgoNTB2dylcIn0pLCB0aGUgX2dldCgpIGNhbGwgZG9lc24ndCBwYXJzZSB0aGUgdHJhbnNmb3JtLCB0aHVzIGNhY2hlLnJlbmRlclRyYW5zZm9ybSB3b24ndCBiZSBzZXQgeWV0IHNvIGZvcmNlIHRoZSBwYXJzaW5nIG9mIHRoZSB0cmFuc2Zvcm0gaGVyZS5cblxuICAgICAgICAgICAgc21vb3RoID0gdmFycy5zbW9vdGhPcmlnaW4gIT09IGZhbHNlICYmIGNhY2hlLnNtb290aDtcbiAgICAgICAgICAgIHRyYW5zZm9ybVByb3BUd2VlbiA9IHRoaXMuX3B0ID0gbmV3IFByb3BUd2Vlbih0aGlzLl9wdCwgc3R5bGUsIF90cmFuc2Zvcm1Qcm9wLCAwLCAxLCBjYWNoZS5yZW5kZXJUcmFuc2Zvcm0sIGNhY2hlLCAwLCAtMSk7IC8vdGhlIGZpcnN0IHRpbWUgdGhyb3VnaCwgY3JlYXRlIHRoZSByZW5kZXJpbmcgUHJvcFR3ZWVuIHNvIHRoYXQgaXQgcnVucyBMQVNUIChpbiB0aGUgbGlua2VkIGxpc3QsIHdlIGtlZXAgYWRkaW5nIHRvIHRoZSBiZWdpbm5pbmcpXG5cbiAgICAgICAgICAgIHRyYW5zZm9ybVByb3BUd2Vlbi5kZXAgPSAxOyAvL2ZsYWcgaXQgYXMgZGVwZW5kZW50IHNvIHRoYXQgaWYgdGhpbmdzIGdldCBraWxsZWQvb3ZlcndyaXR0ZW4gYW5kIHRoaXMgaXMgdGhlIG9ubHkgUHJvcFR3ZWVuIGxlZnQsIHdlIGNhbiBzYWZlbHkga2lsbCB0aGUgd2hvbGUgdHdlZW4uXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHAgPT09IFwic2NhbGVcIikge1xuICAgICAgICAgICAgdGhpcy5fcHQgPSBuZXcgUHJvcFR3ZWVuKHRoaXMuX3B0LCBjYWNoZSwgXCJzY2FsZVlcIiwgY2FjaGUuc2NhbGVZLCByZWxhdGl2ZSA/IHJlbGF0aXZlICogZW5kTnVtIDogZW5kTnVtIC0gY2FjaGUuc2NhbGVZKTtcbiAgICAgICAgICAgIHByb3BzLnB1c2goXCJzY2FsZVlcIiwgcCk7XG4gICAgICAgICAgICBwICs9IFwiWFwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAocCA9PT0gXCJ0cmFuc2Zvcm1PcmlnaW5cIikge1xuICAgICAgICAgICAgZW5kVmFsdWUgPSBfY29udmVydEtleXdvcmRzVG9QZXJjZW50YWdlcyhlbmRWYWx1ZSk7IC8vaW4gY2FzZSBzb21ldGhpbmcgbGlrZSBcImxlZnQgdG9wXCIgb3IgXCJib3R0b20gcmlnaHRcIiBpcyBwYXNzZWQgaW4uIENvbnZlcnQgdG8gcGVyY2VudGFnZXMuXG5cbiAgICAgICAgICAgIGlmIChjYWNoZS5zdmcpIHtcbiAgICAgICAgICAgICAgX2FwcGx5U1ZHT3JpZ2luKHRhcmdldCwgZW5kVmFsdWUsIDAsIHNtb290aCwgMCwgdGhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlbmRVbml0ID0gcGFyc2VGbG9hdChlbmRWYWx1ZS5zcGxpdChcIiBcIilbMl0pIHx8IDA7IC8vaGFuZGxlIHRoZSB6T3JpZ2luIHNlcGFyYXRlbHkhXG5cbiAgICAgICAgICAgICAgZW5kVW5pdCAhPT0gY2FjaGUuek9yaWdpbiAmJiBfYWRkTm9uVHdlZW5pbmdQVCh0aGlzLCBjYWNoZSwgXCJ6T3JpZ2luXCIsIGNhY2hlLnpPcmlnaW4sIGVuZFVuaXQpO1xuXG4gICAgICAgICAgICAgIF9hZGROb25Ud2VlbmluZ1BUKHRoaXMsIHN0eWxlLCBwLCBfZmlyc3RUd29Pbmx5KHN0YXJ0VmFsdWUpLCBfZmlyc3RUd29Pbmx5KGVuZFZhbHVlKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocCA9PT0gXCJzdmdPcmlnaW5cIikge1xuICAgICAgICAgICAgX2FwcGx5U1ZHT3JpZ2luKHRhcmdldCwgZW5kVmFsdWUsIDEsIHNtb290aCwgMCwgdGhpcyk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocCBpbiBfcm90YXRpb25hbFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIF9hZGRSb3RhdGlvbmFsUHJvcFR3ZWVuKHRoaXMsIGNhY2hlLCBwLCBzdGFydE51bSwgZW5kVmFsdWUsIHJlbGF0aXZlKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChwID09PSBcInNtb290aE9yaWdpblwiKSB7XG4gICAgICAgICAgICBfYWRkTm9uVHdlZW5pbmdQVCh0aGlzLCBjYWNoZSwgXCJzbW9vdGhcIiwgY2FjaGUuc21vb3RoLCBlbmRWYWx1ZSk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocCA9PT0gXCJmb3JjZTNEXCIpIHtcbiAgICAgICAgICAgIGNhY2hlW3BdID0gZW5kVmFsdWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIF9hZGRSYXdUcmFuc2Zvcm1QVHModGhpcywgZW5kVmFsdWUsIHRhcmdldCk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKHAgaW4gc3R5bGUpKSB7XG4gICAgICAgICAgcCA9IF9jaGVja1Byb3BQcmVmaXgocCkgfHwgcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1RyYW5zZm9ybVJlbGF0ZWQgfHwgKGVuZE51bSB8fCBlbmROdW0gPT09IDApICYmIChzdGFydE51bSB8fCBzdGFydE51bSA9PT0gMCkgJiYgIV9jb21wbGV4RXhwLnRlc3QoZW5kVmFsdWUpICYmIHAgaW4gc3R5bGUpIHtcbiAgICAgICAgICBzdGFydFVuaXQgPSAoc3RhcnRWYWx1ZSArIFwiXCIpLnN1YnN0cigoc3RhcnROdW0gKyBcIlwiKS5sZW5ndGgpO1xuICAgICAgICAgIGVuZE51bSB8fCAoZW5kTnVtID0gMCk7IC8vIHByb3RlY3QgYWdhaW5zdCBOYU5cblxuICAgICAgICAgIGVuZFVuaXQgPSBnZXRVbml0KGVuZFZhbHVlKSB8fCAocCBpbiBfY29uZmlnLnVuaXRzID8gX2NvbmZpZy51bml0c1twXSA6IHN0YXJ0VW5pdCk7XG4gICAgICAgICAgc3RhcnRVbml0ICE9PSBlbmRVbml0ICYmIChzdGFydE51bSA9IF9jb252ZXJ0VG9Vbml0KHRhcmdldCwgcCwgc3RhcnRWYWx1ZSwgZW5kVW5pdCkpO1xuICAgICAgICAgIHRoaXMuX3B0ID0gbmV3IFByb3BUd2Vlbih0aGlzLl9wdCwgaXNUcmFuc2Zvcm1SZWxhdGVkID8gY2FjaGUgOiBzdHlsZSwgcCwgc3RhcnROdW0sIHJlbGF0aXZlID8gcmVsYXRpdmUgKiBlbmROdW0gOiBlbmROdW0gLSBzdGFydE51bSwgZW5kVW5pdCA9PT0gXCJweFwiICYmIHZhcnMuYXV0b1JvdW5kICE9PSBmYWxzZSAmJiAhaXNUcmFuc2Zvcm1SZWxhdGVkID8gX3JlbmRlclJvdW5kZWRDU1NQcm9wIDogX3JlbmRlckNTU1Byb3ApO1xuICAgICAgICAgIHRoaXMuX3B0LnUgPSBlbmRVbml0IHx8IDA7XG5cbiAgICAgICAgICBpZiAoc3RhcnRVbml0ICE9PSBlbmRVbml0KSB7XG4gICAgICAgICAgICAvL3doZW4gdGhlIHR3ZWVuIGdvZXMgYWxsIHRoZSB3YXkgYmFjayB0byB0aGUgYmVnaW5uaW5nLCB3ZSBuZWVkIHRvIHJldmVydCBpdCB0byB0aGUgT0xEL09SSUdJTkFMIHZhbHVlICh3aXRoIHRob3NlIHVuaXRzKS4gV2UgcmVjb3JkIHRoYXQgYXMgYSBcImJcIiAoYmVnaW5uaW5nKSBwcm9wZXJ0eSBhbmQgcG9pbnQgdG8gYSByZW5kZXIgbWV0aG9kIHRoYXQgaGFuZGxlcyB0aGF0LiAocGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uKVxuICAgICAgICAgICAgdGhpcy5fcHQuYiA9IHN0YXJ0VmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9wdC5yID0gX3JlbmRlckNTU1Byb3BXaXRoQmVnaW5uaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKHAgaW4gc3R5bGUpKSB7XG4gICAgICAgICAgaWYgKHAgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICAvL21heWJlIGl0J3Mgbm90IGEgc3R5bGUgLSBpdCBjb3VsZCBiZSBhIHByb3BlcnR5IGFkZGVkIGRpcmVjdGx5IHRvIGFuIGVsZW1lbnQgaW4gd2hpY2ggY2FzZSB3ZSdsbCB0cnkgdG8gYW5pbWF0ZSB0aGF0LlxuICAgICAgICAgICAgdGhpcy5hZGQodGFyZ2V0LCBwLCB0YXJnZXRbcF0sIGVuZFZhbHVlLCBpbmRleCwgdGFyZ2V0cyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9taXNzaW5nUGx1Z2luKHAsIGVuZFZhbHVlKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90d2VlbkNvbXBsZXhDU1NTdHJpbmcuY2FsbCh0aGlzLCB0YXJnZXQsIHAsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BzLnB1c2gocCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGFzUHJpb3JpdHkgJiYgX3NvcnRQcm9wVHdlZW5zQnlQcmlvcml0eSh0aGlzKTtcbiAgfSxcbiAgZ2V0OiBfZ2V0LFxuICBhbGlhc2VzOiBfcHJvcGVydHlBbGlhc2VzLFxuICBnZXRTZXR0ZXI6IGZ1bmN0aW9uIGdldFNldHRlcih0YXJnZXQsIHByb3BlcnR5LCBwbHVnaW4pIHtcbiAgICAvL3JldHVybnMgYSBzZXR0ZXIgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRhcmdldCwgcHJvcGVydHksIHZhbHVlIGFuZCBhcHBsaWVzIGl0IGFjY29yZGluZ2x5LiBSZW1lbWJlciwgcHJvcGVydGllcyBsaWtlIFwieFwiIGFyZW4ndCBhcyBzaW1wbGUgYXMgdGFyZ2V0LnN0eWxlLnByb3BlcnR5ID0gdmFsdWUgYmVjYXVzZSB0aGV5J3ZlIGdvdCB0byBiZSBhcHBsaWVkIHRvIGEgcHJveHkgb2JqZWN0IGFuZCB0aGVuIG1lcmdlZCBpbnRvIGEgdHJhbnNmb3JtIHN0cmluZyBpbiBhIHJlbmRlcmVyLlxuICAgIHZhciBwID0gX3Byb3BlcnR5QWxpYXNlc1twcm9wZXJ0eV07XG4gICAgcCAmJiBwLmluZGV4T2YoXCIsXCIpIDwgMCAmJiAocHJvcGVydHkgPSBwKTtcbiAgICByZXR1cm4gcHJvcGVydHkgaW4gX3RyYW5zZm9ybVByb3BzICYmIHByb3BlcnR5ICE9PSBfdHJhbnNmb3JtT3JpZ2luUHJvcCAmJiAodGFyZ2V0Ll9nc2FwLnggfHwgX2dldCh0YXJnZXQsIFwieFwiKSkgPyBwbHVnaW4gJiYgX3JlY2VudFNldHRlclBsdWdpbiA9PT0gcGx1Z2luID8gcHJvcGVydHkgPT09IFwic2NhbGVcIiA/IF9zZXR0ZXJTY2FsZSA6IF9zZXR0ZXJUcmFuc2Zvcm0gOiAoX3JlY2VudFNldHRlclBsdWdpbiA9IHBsdWdpbiB8fCB7fSkgJiYgKHByb3BlcnR5ID09PSBcInNjYWxlXCIgPyBfc2V0dGVyU2NhbGVXaXRoUmVuZGVyIDogX3NldHRlclRyYW5zZm9ybVdpdGhSZW5kZXIpIDogdGFyZ2V0LnN0eWxlICYmICFfaXNVbmRlZmluZWQodGFyZ2V0LnN0eWxlW3Byb3BlcnR5XSkgPyBfc2V0dGVyQ1NTU3R5bGUgOiB+cHJvcGVydHkuaW5kZXhPZihcIi1cIikgPyBfc2V0dGVyQ1NTUHJvcCA6IF9nZXRTZXR0ZXIodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gIH0sXG4gIGNvcmU6IHtcbiAgICBfcmVtb3ZlUHJvcGVydHk6IF9yZW1vdmVQcm9wZXJ0eSxcbiAgICBfZ2V0TWF0cml4OiBfZ2V0TWF0cml4XG4gIH1cbn07XG5nc2FwLnV0aWxzLmNoZWNrUHJlZml4ID0gX2NoZWNrUHJvcFByZWZpeDtcblxuKGZ1bmN0aW9uIChwb3NpdGlvbkFuZFNjYWxlLCByb3RhdGlvbiwgb3RoZXJzLCBhbGlhc2VzKSB7XG4gIHZhciBhbGwgPSBfZm9yRWFjaE5hbWUocG9zaXRpb25BbmRTY2FsZSArIFwiLFwiICsgcm90YXRpb24gKyBcIixcIiArIG90aGVycywgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBfdHJhbnNmb3JtUHJvcHNbbmFtZV0gPSAxO1xuICB9KTtcblxuICBfZm9yRWFjaE5hbWUocm90YXRpb24sIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgX2NvbmZpZy51bml0c1tuYW1lXSA9IFwiZGVnXCI7XG4gICAgX3JvdGF0aW9uYWxQcm9wZXJ0aWVzW25hbWVdID0gMTtcbiAgfSk7XG5cbiAgX3Byb3BlcnR5QWxpYXNlc1thbGxbMTNdXSA9IHBvc2l0aW9uQW5kU2NhbGUgKyBcIixcIiArIHJvdGF0aW9uO1xuXG4gIF9mb3JFYWNoTmFtZShhbGlhc2VzLCBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBzcGxpdCA9IG5hbWUuc3BsaXQoXCI6XCIpO1xuICAgIF9wcm9wZXJ0eUFsaWFzZXNbc3BsaXRbMV1dID0gYWxsW3NwbGl0WzBdXTtcbiAgfSk7XG59KShcIngseSx6LHNjYWxlLHNjYWxlWCxzY2FsZVkseFBlcmNlbnQseVBlcmNlbnRcIiwgXCJyb3RhdGlvbixyb3RhdGlvblgscm90YXRpb25ZLHNrZXdYLHNrZXdZXCIsIFwidHJhbnNmb3JtLHRyYW5zZm9ybU9yaWdpbixzdmdPcmlnaW4sZm9yY2UzRCxzbW9vdGhPcmlnaW4sdHJhbnNmb3JtUGVyc3BlY3RpdmVcIiwgXCIwOnRyYW5zbGF0ZVgsMTp0cmFuc2xhdGVZLDI6dHJhbnNsYXRlWiw4OnJvdGF0ZSw4OnJvdGF0aW9uWiw4OnJvdGF0ZVosOTpyb3RhdGVYLDEwOnJvdGF0ZVlcIik7XG5cbl9mb3JFYWNoTmFtZShcIngseSx6LHRvcCxyaWdodCxib3R0b20sbGVmdCx3aWR0aCxoZWlnaHQsZm9udFNpemUscGFkZGluZyxtYXJnaW4scGVyc3BlY3RpdmVcIiwgZnVuY3Rpb24gKG5hbWUpIHtcbiAgX2NvbmZpZy51bml0c1tuYW1lXSA9IFwicHhcIjtcbn0pO1xuXG5nc2FwLnJlZ2lzdGVyUGx1Z2luKENTU1BsdWdpbik7XG5leHBvcnQgeyBDU1NQbHVnaW4gYXMgZGVmYXVsdCwgX2dldEJCb3gsIF9jcmVhdGVFbGVtZW50LCBfY2hlY2tQcm9wUHJlZml4IGFzIGNoZWNrUHJlZml4IH07IiwgImltcG9ydCB7IGdzYXAsIFBvd2VyMCwgUG93ZXIxLCBQb3dlcjIsIFBvd2VyMywgUG93ZXI0LCBMaW5lYXIsIFF1YWQsIEN1YmljLCBRdWFydCwgUXVpbnQsIFN0cm9uZywgRWxhc3RpYywgQmFjaywgU3RlcHBlZEVhc2UsIEJvdW5jZSwgU2luZSwgRXhwbywgQ2lyYywgVHdlZW5MaXRlLCBUaW1lbGluZUxpdGUsIFRpbWVsaW5lTWF4IH0gZnJvbSBcIi4vZ3NhcC1jb3JlLmpzXCI7XG5pbXBvcnQgeyBDU1NQbHVnaW4gfSBmcm9tIFwiLi9DU1NQbHVnaW4uanNcIjtcbnZhciBnc2FwV2l0aENTUyA9IGdzYXAucmVnaXN0ZXJQbHVnaW4oQ1NTUGx1Z2luKSB8fCBnc2FwLFxuICAgIC8vIHRvIHByb3RlY3QgZnJvbSB0cmVlIHNoYWtpbmdcblR3ZWVuTWF4V2l0aENTUyA9IGdzYXBXaXRoQ1NTLmNvcmUuVHdlZW47XG5leHBvcnQgeyBnc2FwV2l0aENTUyBhcyBnc2FwLCBnc2FwV2l0aENTUyBhcyBkZWZhdWx0LCBDU1NQbHVnaW4sIFR3ZWVuTWF4V2l0aENTUyBhcyBUd2Vlbk1heCwgVHdlZW5MaXRlLCBUaW1lbGluZU1heCwgVGltZWxpbmVMaXRlLCBQb3dlcjAsIFBvd2VyMSwgUG93ZXIyLCBQb3dlcjMsIFBvd2VyNCwgTGluZWFyLCBRdWFkLCBDdWJpYywgUXVhcnQsIFF1aW50LCBTdHJvbmcsIEVsYXN0aWMsIEJhY2ssIFN0ZXBwZWRFYXNlLCBCb3VuY2UsIFNpbmUsIEV4cG8sIENpcmMgfTsiLCAiLyohXG4gKiBTY3JvbGxUcmlnZ2VyIDMuNS4xXG4gKiBodHRwczovL2dyZWVuc29jay5jb21cbiAqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgMjAwOC0yMDIwLCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBTdWJqZWN0IHRvIHRoZSB0ZXJtcyBhdCBodHRwczovL2dyZWVuc29jay5jb20vc3RhbmRhcmQtbGljZW5zZSBvciBmb3JcbiAqIENsdWIgR3JlZW5Tb2NrIG1lbWJlcnMsIHRoZSBhZ3JlZW1lbnQgaXNzdWVkIHdpdGggdGhhdCBtZW1iZXJzaGlwLlxuICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tXG4qL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xudmFyIGdzYXAsXG4gICAgX2NvcmVJbml0dGVkLFxuICAgIF93aW4sXG4gICAgX2RvYyxcbiAgICBfZG9jRWwsXG4gICAgX2JvZHksXG4gICAgX3Jvb3QsXG4gICAgX3Jlc2l6ZURlbGF5LFxuICAgIF9yYWYsXG4gICAgX3JlcXVlc3QsXG4gICAgX3RvQXJyYXksXG4gICAgX2NsYW1wLFxuICAgIF90aW1lMixcbiAgICBfc3luY0ludGVydmFsLFxuICAgIF9yZWZyZXNoaW5nLFxuICAgIF9wb2ludGVySXNEb3duLFxuICAgIF90cmFuc2Zvcm1Qcm9wLFxuICAgIF9pLFxuICAgIF9wcmV2V2lkdGgsXG4gICAgX3ByZXZIZWlnaHQsXG4gICAgX2F1dG9SZWZyZXNoLFxuICAgIF9zb3J0LFxuICAgIF9saW1pdENhbGxiYWNrcyxcbiAgICAvLyBpZiB0cnVlLCB3ZSdsbCBvbmx5IHRyaWdnZXIgY2FsbGJhY2tzIGlmIHRoZSBhY3RpdmUgc3RhdGUgdG9nZ2xlcywgc28gaWYgeW91IHNjcm9sbCBpbW1lZGlhdGVseSBwYXN0IGJvdGggdGhlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIG9mIGEgU2Nyb2xsVHJpZ2dlciAodGh1cyBpbmFjdGl2ZSB0byBpbmFjdGl2ZSksIG5laXRoZXIgaXRzIG9uRW50ZXIgbm9yIG9uTGVhdmUgd2lsbCBiZSBjYWxsZWQuIFRoaXMgaXMgdXNlZnVsIGR1cmluZyBzdGFydHVwLlxuX3N0YXJ0dXAgPSAxLFxuICAgIF9wcm94aWVzID0gW10sXG4gICAgX3Njcm9sbGVycyA9IFtdLFxuICAgIF9nZXRUaW1lID0gRGF0ZS5ub3csXG4gICAgX3RpbWUxID0gX2dldFRpbWUoKSxcbiAgICBfbGFzdFNjcm9sbFRpbWUgPSAwLFxuICAgIF9lbmFibGVkID0gMSxcbiAgICBfcGFzc1Rocm91Z2ggPSBmdW5jdGlvbiBfcGFzc1Rocm91Z2godikge1xuICByZXR1cm4gdjtcbn0sXG4gICAgX3dpbmRvd0V4aXN0cyA9IGZ1bmN0aW9uIF93aW5kb3dFeGlzdHMoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xufSxcbiAgICBfZ2V0R1NBUCA9IGZ1bmN0aW9uIF9nZXRHU0FQKCkge1xuICByZXR1cm4gZ3NhcCB8fCBfd2luZG93RXhpc3RzKCkgJiYgKGdzYXAgPSB3aW5kb3cuZ3NhcCkgJiYgZ3NhcC5yZWdpc3RlclBsdWdpbiAmJiBnc2FwO1xufSxcbiAgICBfaXNWaWV3cG9ydCA9IGZ1bmN0aW9uIF9pc1ZpZXdwb3J0KGUpIHtcbiAgcmV0dXJuICEhfl9yb290LmluZGV4T2YoZSk7XG59LFxuICAgIF9nZXRQcm94eVByb3AgPSBmdW5jdGlvbiBfZ2V0UHJveHlQcm9wKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIHJldHVybiB+X3Byb3hpZXMuaW5kZXhPZihlbGVtZW50KSAmJiBfcHJveGllc1tfcHJveGllcy5pbmRleE9mKGVsZW1lbnQpICsgMV1bcHJvcGVydHldO1xufSxcbiAgICBfZ2V0U2Nyb2xsRnVuYyA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxGdW5jKGVsZW1lbnQsIF9yZWYpIHtcbiAgdmFyIHMgPSBfcmVmLnMsXG4gICAgICBzYyA9IF9yZWYuc2M7XG5cbiAgdmFyIGkgPSBfc2Nyb2xsZXJzLmluZGV4T2YoZWxlbWVudCksXG4gICAgICBvZmZzZXQgPSBzYyA9PT0gX3ZlcnRpY2FsLnNjID8gMSA6IDI7XG5cbiAgIX5pICYmIChpID0gX3Njcm9sbGVycy5wdXNoKGVsZW1lbnQpIC0gMSk7XG4gIHJldHVybiBfc2Nyb2xsZXJzW2kgKyBvZmZzZXRdIHx8IChfc2Nyb2xsZXJzW2kgKyBvZmZzZXRdID0gX2dldFByb3h5UHJvcChlbGVtZW50LCBzKSB8fCAoX2lzVmlld3BvcnQoZWxlbWVudCkgPyBzYyA6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gZWxlbWVudFtzXSA9IHZhbHVlIDogZWxlbWVudFtzXTtcbiAgfSkpO1xufSxcbiAgICBfZ2V0Qm91bmRzRnVuYyA9IGZ1bmN0aW9uIF9nZXRCb3VuZHNGdW5jKGVsZW1lbnQpIHtcbiAgcmV0dXJuIF9nZXRQcm94eVByb3AoZWxlbWVudCwgXCJnZXRCb3VuZGluZ0NsaWVudFJlY3RcIikgfHwgKF9pc1ZpZXdwb3J0KGVsZW1lbnQpID8gZnVuY3Rpb24gKCkge1xuICAgIF93aW5PZmZzZXRzLndpZHRoID0gX3dpbi5pbm5lcldpZHRoO1xuICAgIF93aW5PZmZzZXRzLmhlaWdodCA9IF93aW4uaW5uZXJIZWlnaHQ7XG4gICAgcmV0dXJuIF93aW5PZmZzZXRzO1xuICB9IDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfZ2V0Qm91bmRzKGVsZW1lbnQpO1xuICB9KTtcbn0sXG4gICAgX2dldFNpemVGdW5jID0gZnVuY3Rpb24gX2dldFNpemVGdW5jKHNjcm9sbGVyLCBpc1ZpZXdwb3J0LCBfcmVmMikge1xuICB2YXIgZCA9IF9yZWYyLmQsXG4gICAgICBkMiA9IF9yZWYyLmQyLFxuICAgICAgYSA9IF9yZWYyLmE7XG4gIHJldHVybiAoYSA9IF9nZXRQcm94eVByb3Aoc2Nyb2xsZXIsIFwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0XCIpKSA/IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYSgpW2RdO1xuICB9IDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoaXNWaWV3cG9ydCA/IF93aW5bXCJpbm5lclwiICsgZDJdIDogc2Nyb2xsZXJbXCJjbGllbnRcIiArIGQyXSkgfHwgMDtcbiAgfTtcbn0sXG4gICAgX2dldE9mZnNldHNGdW5jID0gZnVuY3Rpb24gX2dldE9mZnNldHNGdW5jKGVsZW1lbnQsIGlzVmlld3BvcnQpIHtcbiAgcmV0dXJuICFpc1ZpZXdwb3J0IHx8IH5fcHJveGllcy5pbmRleE9mKGVsZW1lbnQpID8gX2dldEJvdW5kc0Z1bmMoZWxlbWVudCkgOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF93aW5PZmZzZXRzO1xuICB9O1xufSxcbiAgICBfbWF4U2Nyb2xsID0gZnVuY3Rpb24gX21heFNjcm9sbChlbGVtZW50LCBfcmVmMykge1xuICB2YXIgcyA9IF9yZWYzLnMsXG4gICAgICBkMiA9IF9yZWYzLmQyLFxuICAgICAgZCA9IF9yZWYzLmQsXG4gICAgICBhID0gX3JlZjMuYTtcbiAgcmV0dXJuIChzID0gXCJzY3JvbGxcIiArIGQyKSAmJiAoYSA9IF9nZXRQcm94eVByb3AoZWxlbWVudCwgcykpID8gYSgpIC0gX2dldEJvdW5kc0Z1bmMoZWxlbWVudCkoKVtkXSA6IF9pc1ZpZXdwb3J0KGVsZW1lbnQpID8gTWF0aC5tYXgoX2RvY0VsW3NdLCBfYm9keVtzXSkgLSAoX3dpbltcImlubmVyXCIgKyBkMl0gfHwgX2RvY0VsW1wiY2xpZW50XCIgKyBkMl0gfHwgX2JvZHlbXCJjbGllbnRcIiArIGQyXSkgOiBlbGVtZW50W3NdIC0gZWxlbWVudFtcIm9mZnNldFwiICsgZDJdO1xufSxcbiAgICBfaXRlcmF0ZUF1dG9SZWZyZXNoID0gZnVuY3Rpb24gX2l0ZXJhdGVBdXRvUmVmcmVzaChmdW5jLCBldmVudHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBfYXV0b1JlZnJlc2gubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAoIWV2ZW50cyB8fCB+ZXZlbnRzLmluZGV4T2YoX2F1dG9SZWZyZXNoW2kgKyAxXSkpICYmIGZ1bmMoX2F1dG9SZWZyZXNoW2ldLCBfYXV0b1JlZnJlc2hbaSArIDFdLCBfYXV0b1JlZnJlc2hbaSArIDJdKTtcbiAgfVxufSxcbiAgICBfaXNTdHJpbmcgPSBmdW5jdGlvbiBfaXNTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIjtcbn0sXG4gICAgX2lzRnVuY3Rpb24gPSBmdW5jdGlvbiBfaXNGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCI7XG59LFxuICAgIF9pc051bWJlciA9IGZ1bmN0aW9uIF9pc051bWJlcih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiO1xufSxcbiAgICBfaXNPYmplY3QgPSBmdW5jdGlvbiBfaXNPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIjtcbn0sXG4gICAgX2NhbGxJZkZ1bmMgPSBmdW5jdGlvbiBfY2FsbElmRnVuYyh2YWx1ZSkge1xuICByZXR1cm4gX2lzRnVuY3Rpb24odmFsdWUpICYmIHZhbHVlKCk7XG59LFxuICAgIF9jb21iaW5lRnVuYyA9IGZ1bmN0aW9uIF9jb21iaW5lRnVuYyhmMSwgZjIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0MSA9IF9jYWxsSWZGdW5jKGYxKSxcbiAgICAgICAgcmVzdWx0MiA9IF9jYWxsSWZGdW5jKGYyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBfY2FsbElmRnVuYyhyZXN1bHQxKTtcblxuICAgICAgX2NhbGxJZkZ1bmMocmVzdWx0Mik7XG4gICAgfTtcbiAgfTtcbn0sXG4gICAgX2FicyA9IE1hdGguYWJzLFxuICAgIF9zY3JvbGxMZWZ0ID0gXCJzY3JvbGxMZWZ0XCIsXG4gICAgX3Njcm9sbFRvcCA9IFwic2Nyb2xsVG9wXCIsXG4gICAgX2xlZnQgPSBcImxlZnRcIixcbiAgICBfdG9wID0gXCJ0b3BcIixcbiAgICBfcmlnaHQgPSBcInJpZ2h0XCIsXG4gICAgX2JvdHRvbSA9IFwiYm90dG9tXCIsXG4gICAgX3dpZHRoID0gXCJ3aWR0aFwiLFxuICAgIF9oZWlnaHQgPSBcImhlaWdodFwiLFxuICAgIF9SaWdodCA9IFwiUmlnaHRcIixcbiAgICBfTGVmdCA9IFwiTGVmdFwiLFxuICAgIF9Ub3AgPSBcIlRvcFwiLFxuICAgIF9Cb3R0b20gPSBcIkJvdHRvbVwiLFxuICAgIF9wYWRkaW5nID0gXCJwYWRkaW5nXCIsXG4gICAgX21hcmdpbiA9IFwibWFyZ2luXCIsXG4gICAgX1dpZHRoID0gXCJXaWR0aFwiLFxuICAgIF9IZWlnaHQgPSBcIkhlaWdodFwiLFxuICAgIF9weCA9IFwicHhcIixcbiAgICBfaG9yaXpvbnRhbCA9IHtcbiAgczogX3Njcm9sbExlZnQsXG4gIHA6IF9sZWZ0LFxuICBwMjogX0xlZnQsXG4gIG9zOiBfcmlnaHQsXG4gIG9zMjogX1JpZ2h0LFxuICBkOiBfd2lkdGgsXG4gIGQyOiBfV2lkdGgsXG4gIGE6IFwieFwiLFxuICBzYzogZnVuY3Rpb24gc2ModmFsdWUpIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IF93aW4uc2Nyb2xsVG8odmFsdWUsIF92ZXJ0aWNhbC5zYygpKSA6IF93aW4ucGFnZVhPZmZzZXQgfHwgX2RvY1tfc2Nyb2xsTGVmdF0gfHwgX2RvY0VsW19zY3JvbGxMZWZ0XSB8fCBfYm9keVtfc2Nyb2xsTGVmdF0gfHwgMDtcbiAgfVxufSxcbiAgICBfdmVydGljYWwgPSB7XG4gIHM6IF9zY3JvbGxUb3AsXG4gIHA6IF90b3AsXG4gIHAyOiBfVG9wLFxuICBvczogX2JvdHRvbSxcbiAgb3MyOiBfQm90dG9tLFxuICBkOiBfaGVpZ2h0LFxuICBkMjogX0hlaWdodCxcbiAgYTogXCJ5XCIsXG4gIG9wOiBfaG9yaXpvbnRhbCxcbiAgc2M6IGZ1bmN0aW9uIHNjKHZhbHVlKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBfd2luLnNjcm9sbFRvKF9ob3Jpem9udGFsLnNjKCksIHZhbHVlKSA6IF93aW4ucGFnZVlPZmZzZXQgfHwgX2RvY1tfc2Nyb2xsVG9wXSB8fCBfZG9jRWxbX3Njcm9sbFRvcF0gfHwgX2JvZHlbX3Njcm9sbFRvcF0gfHwgMDtcbiAgfVxufSxcbiAgICBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uIF9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIF93aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn0sXG4gICAgX21ha2VQb3NpdGlvbmFibGUgPSBmdW5jdGlvbiBfbWFrZVBvc2l0aW9uYWJsZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiA/IFwiYWJzb2x1dGVcIiA6IFwicmVsYXRpdmVcIjtcbn0sXG4gICAgLy8gaWYgdGhlIGVsZW1lbnQgYWxyZWFkeSBoYXMgcG9zaXRpb246IGFic29sdXRlLCBsZWF2ZSB0aGF0LCBvdGhlcndpc2UgbWFrZSBpdCBwb3NpdGlvbjogcmVsYXRpdmVcbl9zZXREZWZhdWx0cyA9IGZ1bmN0aW9uIF9zZXREZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7XG4gIGZvciAodmFyIHAgaW4gZGVmYXVsdHMpIHtcbiAgICBwIGluIG9iaiB8fCAob2JqW3BdID0gZGVmYXVsdHNbcF0pO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn0sXG4gICAgLy9faXNJblZpZXdwb3J0ID0gZWxlbWVudCA9PiAoZWxlbWVudCA9IF9nZXRCb3VuZHMoZWxlbWVudCkpICYmICEoZWxlbWVudC50b3AgPiAoX3dpbi5pbm5lckhlaWdodCB8fCBfZG9jRWwuY2xpZW50SGVpZ2h0KSB8fCBlbGVtZW50LmJvdHRvbSA8IDAgfHwgZWxlbWVudC5sZWZ0ID4gKF93aW4uaW5uZXJXaWR0aCB8fCBfZG9jRWwuY2xpZW50V2lkdGgpIHx8IGVsZW1lbnQucmlnaHQgPCAwKSAmJiBlbGVtZW50LFxuX2dldEJvdW5kcyA9IGZ1bmN0aW9uIF9nZXRCb3VuZHMoZWxlbWVudCwgd2l0aG91dFRyYW5zZm9ybXMpIHtcbiAgdmFyIHR3ZWVuID0gd2l0aG91dFRyYW5zZm9ybXMgJiYgX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudClbX3RyYW5zZm9ybVByb3BdICE9PSBcIm1hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKVwiICYmIGdzYXAudG8oZWxlbWVudCwge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB4UGVyY2VudDogMCxcbiAgICB5UGVyY2VudDogMCxcbiAgICByb3RhdGlvbjogMCxcbiAgICByb3RhdGlvblg6IDAsXG4gICAgcm90YXRpb25ZOiAwLFxuICAgIHNjYWxlOiAxLFxuICAgIHNrZXdYOiAwLFxuICAgIHNrZXdZOiAwXG4gIH0pLnByb2dyZXNzKDEpLFxuICAgICAgYm91bmRzID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdHdlZW4gJiYgdHdlZW4ucHJvZ3Jlc3MoMCkua2lsbCgpO1xuICByZXR1cm4gYm91bmRzO1xufSxcbiAgICBfZ2V0U2l6ZSA9IGZ1bmN0aW9uIF9nZXRTaXplKGVsZW1lbnQsIF9yZWY0KSB7XG4gIHZhciBkMiA9IF9yZWY0LmQyO1xuICByZXR1cm4gZWxlbWVudFtcIm9mZnNldFwiICsgZDJdIHx8IGVsZW1lbnRbXCJjbGllbnRcIiArIGQyXSB8fCAwO1xufSxcbiAgICBfZ2V0TGFiZWxzID0gZnVuY3Rpb24gX2dldExhYmVscyhhbmltYXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBhID0gW10sXG4gICAgICAgIGxhYmVscyA9IGFuaW1hdGlvbi5sYWJlbHMsXG4gICAgICAgIGR1cmF0aW9uID0gYW5pbWF0aW9uLmR1cmF0aW9uKCksXG4gICAgICAgIHA7XG5cbiAgICBmb3IgKHAgaW4gbGFiZWxzKSB7XG4gICAgICBhLnB1c2gobGFiZWxzW3BdIC8gZHVyYXRpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBnc2FwLnV0aWxzLnNuYXAoYSwgdmFsdWUpO1xuICB9O1xufSxcbiAgICBfbXVsdGlMaXN0ZW5lciA9IGZ1bmN0aW9uIF9tdWx0aUxpc3RlbmVyKGZ1bmMsIGVsZW1lbnQsIHR5cGVzLCBjYWxsYmFjaykge1xuICByZXR1cm4gdHlwZXMuc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICByZXR1cm4gZnVuYyhlbGVtZW50LCB0eXBlLCBjYWxsYmFjayk7XG4gIH0pO1xufSxcbiAgICBfYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBfYWRkTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgZnVuYykge1xuICByZXR1cm4gZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmMsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xufSxcbiAgICBfcmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiBfcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgZnVuYykge1xuICByZXR1cm4gZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmMpO1xufSxcbiAgICBfbWFya2VyRGVmYXVsdHMgPSB7XG4gIHN0YXJ0Q29sb3I6IFwiZ3JlZW5cIixcbiAgZW5kQ29sb3I6IFwicmVkXCIsXG4gIGluZGVudDogMCxcbiAgZm9udFNpemU6IFwiMTZweFwiLFxuICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiXG59LFxuICAgIF9kZWZhdWx0cyA9IHtcbiAgdG9nZ2xlQWN0aW9uczogXCJwbGF5XCIsXG4gIGFudGljaXBhdGVQaW46IDBcbn0sXG4gICAgX2tleXdvcmRzID0ge1xuICB0b3A6IDAsXG4gIGxlZnQ6IDAsXG4gIGNlbnRlcjogMC41LFxuICBib3R0b206IDEsXG4gIHJpZ2h0OiAxXG59LFxuICAgIF9vZmZzZXRUb1B4ID0gZnVuY3Rpb24gX29mZnNldFRvUHgodmFsdWUsIHNpemUpIHtcbiAgaWYgKF9pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgZXFJbmRleCA9IHZhbHVlLmluZGV4T2YoXCI9XCIpLFxuICAgICAgICByZWxhdGl2ZSA9IH5lcUluZGV4ID8gKyh2YWx1ZS5jaGFyQXQoZXFJbmRleCAtIDEpICsgMSkgKiBwYXJzZUZsb2F0KHZhbHVlLnN1YnN0cihlcUluZGV4ICsgMSkpIDogMDtcblxuICAgIGlmIChyZWxhdGl2ZSkge1xuICAgICAgdmFsdWUuaW5kZXhPZihcIiVcIikgPiBlcUluZGV4ICYmIChyZWxhdGl2ZSAqPSBzaXplIC8gMTAwKTtcbiAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyKDAsIGVxSW5kZXggLSAxKTtcbiAgICB9XG5cbiAgICB2YWx1ZSA9IHJlbGF0aXZlICsgKHZhbHVlIGluIF9rZXl3b3JkcyA/IF9rZXl3b3Jkc1t2YWx1ZV0gKiBzaXplIDogfnZhbHVlLmluZGV4T2YoXCIlXCIpID8gcGFyc2VGbG9hdCh2YWx1ZSkgKiBzaXplIC8gMTAwIDogcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMCk7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59LFxuICAgIF9jcmVhdGVNYXJrZXIgPSBmdW5jdGlvbiBfY3JlYXRlTWFya2VyKHR5cGUsIG5hbWUsIGNvbnRhaW5lciwgZGlyZWN0aW9uLCBfcmVmNSwgb2Zmc2V0LCBtYXRjaFdpZHRoRWwpIHtcbiAgdmFyIHN0YXJ0Q29sb3IgPSBfcmVmNS5zdGFydENvbG9yLFxuICAgICAgZW5kQ29sb3IgPSBfcmVmNS5lbmRDb2xvcixcbiAgICAgIGZvbnRTaXplID0gX3JlZjUuZm9udFNpemUsXG4gICAgICBpbmRlbnQgPSBfcmVmNS5pbmRlbnQsXG4gICAgICBmb250V2VpZ2h0ID0gX3JlZjUuZm9udFdlaWdodDtcblxuICB2YXIgZSA9IF9kb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIHVzZUZpeGVkUG9zaXRpb24gPSBfaXNWaWV3cG9ydChjb250YWluZXIpIHx8IF9nZXRQcm94eVByb3AoY29udGFpbmVyLCBcInBpblR5cGVcIikgPT09IFwiZml4ZWRcIixcbiAgICAgIGlzU2Nyb2xsZXIgPSB0eXBlLmluZGV4T2YoXCJzY3JvbGxlclwiKSAhPT0gLTEsXG4gICAgICBwYXJlbnQgPSB1c2VGaXhlZFBvc2l0aW9uID8gX2JvZHkgOiBjb250YWluZXIsXG4gICAgICBpc1N0YXJ0ID0gdHlwZS5pbmRleE9mKFwic3RhcnRcIikgIT09IC0xLFxuICAgICAgY29sb3IgPSBpc1N0YXJ0ID8gc3RhcnRDb2xvciA6IGVuZENvbG9yLFxuICAgICAgY3NzID0gXCJib3JkZXItY29sb3I6XCIgKyBjb2xvciArIFwiO2ZvbnQtc2l6ZTpcIiArIGZvbnRTaXplICsgXCI7Y29sb3I6XCIgKyBjb2xvciArIFwiO2ZvbnQtd2VpZ2h0OlwiICsgZm9udFdlaWdodCArIFwiO3BvaW50ZXItZXZlbnRzOm5vbmU7d2hpdGUtc3BhY2U6bm93cmFwO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWYsQXJpYWw7ei1pbmRleDoxMDAwO3BhZGRpbmc6NHB4IDhweDtib3JkZXItd2lkdGg6MDtib3JkZXItc3R5bGU6c29saWQ7XCI7XG5cbiAgY3NzICs9IFwicG9zaXRpb246XCIgKyAoaXNTY3JvbGxlciAmJiB1c2VGaXhlZFBvc2l0aW9uID8gXCJmaXhlZDtcIiA6IFwiYWJzb2x1dGU7XCIpO1xuICAoaXNTY3JvbGxlciB8fCAhdXNlRml4ZWRQb3NpdGlvbikgJiYgKGNzcyArPSAoZGlyZWN0aW9uID09PSBfdmVydGljYWwgPyBfcmlnaHQgOiBfYm90dG9tKSArIFwiOlwiICsgKG9mZnNldCArIHBhcnNlRmxvYXQoaW5kZW50KSkgKyBcInB4O1wiKTtcbiAgbWF0Y2hXaWR0aEVsICYmIChjc3MgKz0gXCJib3gtc2l6aW5nOmJvcmRlci1ib3g7dGV4dC1hbGlnbjpsZWZ0O3dpZHRoOlwiICsgbWF0Y2hXaWR0aEVsLm9mZnNldFdpZHRoICsgXCJweDtcIik7XG4gIGUuX2lzU3RhcnQgPSBpc1N0YXJ0O1xuICBlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZ3NhcC1tYXJrZXItXCIgKyB0eXBlKTtcbiAgZS5zdHlsZS5jc3NUZXh0ID0gY3NzO1xuICBlLmlubmVyVGV4dCA9IG5hbWUgfHwgbmFtZSA9PT0gMCA/IHR5cGUgKyBcIi1cIiArIG5hbWUgOiB0eXBlO1xuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGUsIHBhcmVudC5jaGlsZHJlblswXSk7XG4gIGUuX29mZnNldCA9IGVbXCJvZmZzZXRcIiArIGRpcmVjdGlvbi5vcC5kMl07XG5cbiAgX3Bvc2l0aW9uTWFya2VyKGUsIDAsIGRpcmVjdGlvbiwgaXNTdGFydCk7XG5cbiAgcmV0dXJuIGU7XG59LFxuICAgIF9wb3NpdGlvbk1hcmtlciA9IGZ1bmN0aW9uIF9wb3NpdGlvbk1hcmtlcihtYXJrZXIsIHN0YXJ0LCBkaXJlY3Rpb24sIGZsaXBwZWQpIHtcbiAgdmFyIHZhcnMgPSB7XG4gICAgZGlzcGxheTogXCJibG9ja1wiXG4gIH0sXG4gICAgICBzaWRlID0gZGlyZWN0aW9uW2ZsaXBwZWQgPyBcIm9zMlwiIDogXCJwMlwiXSxcbiAgICAgIG9wcG9zaXRlU2lkZSA9IGRpcmVjdGlvbltmbGlwcGVkID8gXCJwMlwiIDogXCJvczJcIl07XG4gIG1hcmtlci5faXNGbGlwcGVkID0gZmxpcHBlZDtcbiAgdmFyc1tkaXJlY3Rpb24uYSArIFwiUGVyY2VudFwiXSA9IGZsaXBwZWQgPyAtMTAwIDogMDtcbiAgdmFyc1tkaXJlY3Rpb24uYV0gPSBmbGlwcGVkID8gMSA6IDA7XG4gIHZhcnNbXCJib3JkZXJcIiArIHNpZGUgKyBfV2lkdGhdID0gMTtcbiAgdmFyc1tcImJvcmRlclwiICsgb3Bwb3NpdGVTaWRlICsgX1dpZHRoXSA9IDA7XG4gIHZhcnNbZGlyZWN0aW9uLnBdID0gc3RhcnQ7XG4gIGdzYXAuc2V0KG1hcmtlciwgdmFycyk7XG59LFxuICAgIF90cmlnZ2VycyA9IFtdLFxuICAgIF9pZHMgPSB7fSxcbiAgICBfc3luYyA9IGZ1bmN0aW9uIF9zeW5jKCkge1xuICByZXR1cm4gX3JlcXVlc3QgfHwgKF9yZXF1ZXN0ID0gX3JhZihfdXBkYXRlQWxsKSk7XG59LFxuICAgIF9vblNjcm9sbCA9IGZ1bmN0aW9uIF9vblNjcm9sbCgpIHtcbiAgaWYgKCFfcmVxdWVzdCkge1xuICAgIF9yZXF1ZXN0ID0gX3JhZihfdXBkYXRlQWxsKTtcbiAgICBfbGFzdFNjcm9sbFRpbWUgfHwgX2Rpc3BhdGNoKFwic2Nyb2xsU3RhcnRcIik7XG4gICAgX2xhc3RTY3JvbGxUaW1lID0gX2dldFRpbWUoKTtcbiAgfVxufSxcbiAgICBfb25SZXNpemUgPSBmdW5jdGlvbiBfb25SZXNpemUoKSB7XG4gIHJldHVybiAhX3JlZnJlc2hpbmcgJiYgX3Jlc2l6ZURlbGF5LnJlc3RhcnQodHJ1ZSk7XG59LFxuICAgIC8vIGlnbm9yZSByZXNpemVzIHRyaWdnZXJlZCBieSByZWZyZXNoKClcbl9saXN0ZW5lcnMgPSB7fSxcbiAgICBfZW1wdHlBcnJheSA9IFtdLFxuICAgIF9tZWRpYSA9IFtdLFxuICAgIF9jcmVhdGluZ01lZGlhLFxuICAgIC8vIHdoZW4gU2Nyb2xsVHJpZ2dlci5tYXRjaE1lZGlhKCkgaXMgY2FsbGVkLCB3ZSByZWNvcmQgdGhlIGN1cnJlbnQgbWVkaWEga2V5IGhlcmUgKGxpa2UgXCIobWluLXdpZHRoOiA4MDBweClcIikgc28gdGhhdCB3ZSBjYW4gYXNzaWduIGl0IHRvIGV2ZXJ5dGhpbmcgdGhhdCdzIGNyZWF0ZWQgZHVyaW5nIHRoYXQgY2FsbC4gVGhlbiB3ZSBjYW4gcmV2ZXJ0IGp1c3QgdGhvc2Ugd2hlbiBuZWNlc3NhcnkuIEluIHRoZSBTY3JvbGxUcmlnZ2VyJ3MgaW5pdCgpIGNhbGwsIHRoZSBfY3JlYXRpbmdNZWRpYSBpcyByZWNvcmRlZCBhcyBhIFwibWVkaWFcIiBwcm9wZXJ0eSBvbiB0aGUgaW5zdGFuY2UuXG5fbGFzdE1lZGlhVGljayxcbiAgICBfb25NZWRpYUNoYW5nZSA9IGZ1bmN0aW9uIF9vbk1lZGlhQ2hhbmdlKGUpIHtcbiAgdmFyIHRpY2sgPSBnc2FwLnRpY2tlci5mcmFtZSxcbiAgICAgIG1hdGNoZXMgPSBbXSxcbiAgICAgIGkgPSAwLFxuICAgICAgaW5kZXg7XG5cbiAgaWYgKF9sYXN0TWVkaWFUaWNrICE9PSB0aWNrIHx8IF9zdGFydHVwKSB7XG4gICAgX3JldmVydEFsbCgpO1xuXG4gICAgZm9yICg7IGkgPCBfbWVkaWEubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgIGluZGV4ID0gX3dpbi5tYXRjaE1lZGlhKF9tZWRpYVtpXSkubWF0Y2hlcztcblxuICAgICAgaWYgKGluZGV4ICE9PSBfbWVkaWFbaSArIDNdKSB7XG4gICAgICAgIC8vIG5vdGU6IHNvbWUgYnJvd3NlcnMgZmlyZSB0aGUgbWF0Y2hNZWRpYSBldmVudCBtdWx0aXBsZSB0aW1lcywgbGlrZSB3aGVuIGdvaW5nIGZ1bGwgc2NyZWVuLCBzbyB3ZSBzaG91bGRuJ3QgY2FsbCB0aGUgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMuIENoZWNrIHRvIHNlZSBpZiBpdCdzIGFscmVhZHkgbWF0Y2hlZC5cbiAgICAgICAgX21lZGlhW2kgKyAzXSA9IGluZGV4O1xuICAgICAgICBpbmRleCA/IG1hdGNoZXMucHVzaChpKSA6IF9yZXZlcnRBbGwoMSwgX21lZGlhW2ldKSB8fCBfaXNGdW5jdGlvbihfbWVkaWFbaSArIDJdKSAmJiBfbWVkaWFbaSArIDJdKCk7IC8vIEZpcmVmb3ggZG9lc24ndCB1cGRhdGUgdGhlIFwibWF0Y2hlc1wiIHByb3BlcnR5IG9mIHRoZSBNZWRpYVF1ZXJ5TGlzdCBvYmplY3QgY29ycmVjdGx5IC0gaXQgb25seSBkb2VzIHNvIGFzIGl0IGNhbGxzIGl0cyBjaGFuZ2UgaGFuZGxlciAtIHNvIHdlIG11c3QgcmUtY3JlYXRlIGEgbWVkaWEgcXVlcnkgaGVyZSB0byBlbnN1cmUgaXQncyBhY2N1cmF0ZS5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBfcmV2ZXJ0UmVjb3JkZWQoKTsgLy8gaW4gY2FzZSBraWxsaW5nL3JldmVydGluZyBhbnkgb2YgdGhlIGFuaW1hdGlvbnMgYWN0dWFsbHkgYWRkZWQgaW5saW5lIHN0eWxlcyBiYWNrLlxuXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaW5kZXggPSBtYXRjaGVzW2ldO1xuICAgICAgX2NyZWF0aW5nTWVkaWEgPSBfbWVkaWFbaW5kZXhdO1xuICAgICAgX21lZGlhW2luZGV4ICsgMl0gPSBfbWVkaWFbaW5kZXggKyAxXShlKTtcbiAgICB9XG5cbiAgICBfY3JlYXRpbmdNZWRpYSA9IDA7XG5cbiAgICBfcmVmcmVzaEFsbCgwLCAxKTtcblxuICAgIF9sYXN0TWVkaWFUaWNrID0gdGljaztcblxuICAgIF9kaXNwYXRjaChcIm1hdGNoTWVkaWFcIik7XG4gIH1cbn0sXG4gICAgX3NvZnRSZWZyZXNoID0gZnVuY3Rpb24gX3NvZnRSZWZyZXNoKCkge1xuICByZXR1cm4gX3JlbW92ZUxpc3RlbmVyKFNjcm9sbFRyaWdnZXIsIFwic2Nyb2xsRW5kXCIsIF9zb2Z0UmVmcmVzaCkgfHwgX3JlZnJlc2hBbGwodHJ1ZSk7XG59LFxuICAgIF9kaXNwYXRjaCA9IGZ1bmN0aW9uIF9kaXNwYXRjaCh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzW3R5cGVdICYmIF9saXN0ZW5lcnNbdHlwZV0ubWFwKGZ1bmN0aW9uIChmKSB7XG4gICAgcmV0dXJuIGYoKTtcbiAgfSkgfHwgX2VtcHR5QXJyYXk7XG59LFxuICAgIF9zYXZlZFN0eWxlcyA9IFtdLFxuICAgIC8vIHdoZW4gU2Nyb2xsVHJpZ2dlci5zYXZlU3R5bGVzKCkgaXMgY2FsbGVkLCB0aGUgaW5saW5lIHN0eWxlcyBhcmUgcmVjb3JkZWQgaW4gdGhpcyBBcnJheSBpbiBhIHNlcXVlbnRpYWwgZm9ybWF0IGxpa2UgW2VsZW1lbnQsIGNzc1RleHQsIGdzQ2FjaGUsIG1lZGlhXS4gVGhpcyBrZWVwcyBpdCB2ZXJ5IG1lbW9yeS1lZmZpY2llbnQgYW5kIGZhc3QgdG8gaXRlcmF0ZSB0aHJvdWdoLlxuX3JldmVydFJlY29yZGVkID0gZnVuY3Rpb24gX3JldmVydFJlY29yZGVkKG1lZGlhKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgX3NhdmVkU3R5bGVzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgaWYgKCFtZWRpYSB8fCBfc2F2ZWRTdHlsZXNbaSArIDNdID09PSBtZWRpYSkge1xuICAgICAgX3NhdmVkU3R5bGVzW2ldLnN0eWxlLmNzc1RleHQgPSBfc2F2ZWRTdHlsZXNbaSArIDFdO1xuICAgICAgX3NhdmVkU3R5bGVzW2kgKyAyXS51bmNhY2hlID0gMTtcbiAgICB9XG4gIH1cbn0sXG4gICAgX3JldmVydEFsbCA9IGZ1bmN0aW9uIF9yZXZlcnRBbGwoa2lsbCwgbWVkaWEpIHtcbiAgdmFyIHRyaWdnZXI7XG5cbiAgZm9yIChfaSA9IDA7IF9pIDwgX3RyaWdnZXJzLmxlbmd0aDsgX2krKykge1xuICAgIHRyaWdnZXIgPSBfdHJpZ2dlcnNbX2ldO1xuXG4gICAgaWYgKCFtZWRpYSB8fCB0cmlnZ2VyLm1lZGlhID09PSBtZWRpYSkge1xuICAgICAgaWYgKGtpbGwpIHtcbiAgICAgICAgdHJpZ2dlci5raWxsKDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJpZ2dlci5zY3JvbGwucmVjIHx8ICh0cmlnZ2VyLnNjcm9sbC5yZWMgPSB0cmlnZ2VyLnNjcm9sbCgpKTsgLy8gcmVjb3JkIHRoZSBzY3JvbGwgcG9zaXRpb25zIHNvIHRoYXQgaW4gZWFjaCByZWZyZXNoKCkgd2UgY2FuIGVuc3VyZSB0aGF0IGl0IGRvZXNuJ3Qgc2hpZnQuIFJlbWVtYmVyLCBwaW5uaW5nIGNhbiBtYWtlIHRoaW5ncyBjaGFuZ2UgYXJvdW5kLCBlc3BlY2lhbGx5IGlmIHRoZSBzYW1lIGVsZW1lbnQgaXMgcGlubmVkIG11bHRpcGxlIHRpbWVzLiBJZiBvbmUgd2FzIGFscmVhZHkgcmVjb3JkZWQsIGRvbid0IHJlLXJlY29yZCBiZWNhdXNlIHVucGlubmluZyBtYXkgaGF2ZSBvY2N1cnJlZCBhbmQgbWFkZSBpdCBzaG9ydGVyLlxuXG4gICAgICAgIHRyaWdnZXIucmV2ZXJ0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3JldmVydFJlY29yZGVkKG1lZGlhKTtcblxuICBtZWRpYSB8fCBfZGlzcGF0Y2goXCJyZXZlcnRcIik7XG59LFxuICAgIF9yZWZyZXNoQWxsID0gZnVuY3Rpb24gX3JlZnJlc2hBbGwoZm9yY2UsIHNraXBSZXZlcnQpIHtcbiAgaWYgKF9sYXN0U2Nyb2xsVGltZSAmJiAhZm9yY2UpIHtcbiAgICBfYWRkTGlzdGVuZXIoU2Nyb2xsVHJpZ2dlciwgXCJzY3JvbGxFbmRcIiwgX3NvZnRSZWZyZXNoKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciByZWZyZXNoSW5pdHMgPSBfZGlzcGF0Y2goXCJyZWZyZXNoSW5pdFwiKTtcblxuICBfc29ydCAmJiBTY3JvbGxUcmlnZ2VyLnNvcnQoKTtcbiAgc2tpcFJldmVydCB8fCBfcmV2ZXJ0QWxsKCk7XG5cbiAgZm9yIChfaSA9IDA7IF9pIDwgX3RyaWdnZXJzLmxlbmd0aDsgX2krKykge1xuICAgIF90cmlnZ2Vyc1tfaV0ucmVmcmVzaCgpO1xuICB9XG5cbiAgcmVmcmVzaEluaXRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQgJiYgcmVzdWx0LnJlbmRlciAmJiByZXN1bHQucmVuZGVyKC0xKTtcbiAgfSk7IC8vIGlmIHRoZSBvblJlZnJlc2hJbml0KCkgcmV0dXJucyBhbiBhbmltYXRpb24gKHR5cGljYWxseSBhIGdzYXAuc2V0KCkpLCByZXZlcnQgaXQuIFRoaXMgbWFrZXMgaXQgZWFzeSB0byBwdXQgdGhpbmdzIGluIGEgY2VydGFpbiBzcG90IGJlZm9yZSByZWZyZXNoaW5nIGZvciBtZWFzdXJlbWVudCBwdXJwb3NlcywgYW5kIHRoZW4gcHV0IHRoaW5ncyBiYWNrLlxuXG4gIF9pID0gX3RyaWdnZXJzLmxlbmd0aDtcblxuICB3aGlsZSAoX2ktLSkge1xuICAgIF90cmlnZ2Vyc1tfaV0uc2Nyb2xsLnJlYyA9IDA7XG4gIH1cblxuICBfcmVzaXplRGVsYXkucGF1c2UoKTtcblxuICBfZGlzcGF0Y2goXCJyZWZyZXNoXCIpO1xufSxcbiAgICBfbGFzdFNjcm9sbCA9IDAsXG4gICAgX2RpcmVjdGlvbiA9IDEsXG4gICAgX3VwZGF0ZUFsbCA9IGZ1bmN0aW9uIF91cGRhdGVBbGwoKSB7XG4gIHZhciBsID0gX3RyaWdnZXJzLmxlbmd0aCxcbiAgICAgIHRpbWUgPSBfZ2V0VGltZSgpLFxuICAgICAgcmVjb3JkVmVsb2NpdHkgPSB0aW1lIC0gX3RpbWUxID49IDUwLFxuICAgICAgc2Nyb2xsID0gbCAmJiBfdHJpZ2dlcnNbMF0uc2Nyb2xsKCk7XG5cbiAgX2RpcmVjdGlvbiA9IF9sYXN0U2Nyb2xsID4gc2Nyb2xsID8gLTEgOiAxO1xuICBfbGFzdFNjcm9sbCA9IHNjcm9sbDtcblxuICBpZiAocmVjb3JkVmVsb2NpdHkpIHtcbiAgICBpZiAoX2xhc3RTY3JvbGxUaW1lICYmICFfcG9pbnRlcklzRG93biAmJiB0aW1lIC0gX2xhc3RTY3JvbGxUaW1lID4gMjAwKSB7XG4gICAgICBfbGFzdFNjcm9sbFRpbWUgPSAwO1xuXG4gICAgICBfZGlzcGF0Y2goXCJzY3JvbGxFbmRcIik7XG4gICAgfVxuXG4gICAgX3RpbWUyID0gX3RpbWUxO1xuICAgIF90aW1lMSA9IHRpbWU7XG4gIH1cblxuICBpZiAoX2RpcmVjdGlvbiA8IDApIHtcbiAgICBfaSA9IGw7XG5cbiAgICB3aGlsZSAoX2ktLSkge1xuICAgICAgX3RyaWdnZXJzW19pXSAmJiBfdHJpZ2dlcnNbX2ldLnVwZGF0ZSgwLCByZWNvcmRWZWxvY2l0eSk7XG4gICAgfVxuXG4gICAgX2RpcmVjdGlvbiA9IDE7XG4gIH0gZWxzZSB7XG4gICAgZm9yIChfaSA9IDA7IF9pIDwgbDsgX2krKykge1xuICAgICAgX3RyaWdnZXJzW19pXSAmJiBfdHJpZ2dlcnNbX2ldLnVwZGF0ZSgwLCByZWNvcmRWZWxvY2l0eSk7XG4gICAgfVxuICB9XG5cbiAgX3JlcXVlc3QgPSAwO1xufSxcbiAgICBfcHJvcE5hbWVzVG9Db3B5ID0gW19sZWZ0LCBfdG9wLCBfYm90dG9tLCBfcmlnaHQsIF9tYXJnaW4gKyBfQm90dG9tLCBfbWFyZ2luICsgX1JpZ2h0LCBfbWFyZ2luICsgX1RvcCwgX21hcmdpbiArIF9MZWZ0LCBcImRpc3BsYXlcIiwgXCJmbGV4U2hyaW5rXCIsIFwiZmxvYXRcIl0sXG4gICAgX3N0YXRlUHJvcHMgPSBfcHJvcE5hbWVzVG9Db3B5LmNvbmNhdChbX3dpZHRoLCBfaGVpZ2h0LCBcImJveFNpemluZ1wiLCBcIm1heFwiICsgX1dpZHRoLCBcIm1heFwiICsgX0hlaWdodCwgXCJwb3NpdGlvblwiLCBfbWFyZ2luLCBfcGFkZGluZywgX3BhZGRpbmcgKyBfVG9wLCBfcGFkZGluZyArIF9SaWdodCwgX3BhZGRpbmcgKyBfQm90dG9tLCBfcGFkZGluZyArIF9MZWZ0XSksXG4gICAgX3N3YXBQaW5PdXQgPSBmdW5jdGlvbiBfc3dhcFBpbk91dChwaW4sIHNwYWNlciwgc3RhdGUpIHtcbiAgX3NldFN0YXRlKHN0YXRlKTtcblxuICBpZiAocGluLnBhcmVudE5vZGUgPT09IHNwYWNlcikge1xuICAgIHZhciBwYXJlbnQgPSBzcGFjZXIucGFyZW50Tm9kZTtcblxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUocGluLCBzcGFjZXIpO1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHNwYWNlcik7XG4gICAgfVxuICB9XG59LFxuICAgIF9zd2FwUGluSW4gPSBmdW5jdGlvbiBfc3dhcFBpbkluKHBpbiwgc3BhY2VyLCBjcywgc3BhY2VyU3RhdGUpIHtcbiAgaWYgKHBpbi5wYXJlbnROb2RlICE9PSBzcGFjZXIpIHtcbiAgICB2YXIgaSA9IF9wcm9wTmFtZXNUb0NvcHkubGVuZ3RoLFxuICAgICAgICBzcGFjZXJTdHlsZSA9IHNwYWNlci5zdHlsZSxcbiAgICAgICAgcGluU3R5bGUgPSBwaW4uc3R5bGUsXG4gICAgICAgIHA7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBwID0gX3Byb3BOYW1lc1RvQ29weVtpXTtcbiAgICAgIHNwYWNlclN0eWxlW3BdID0gY3NbcF07XG4gICAgfVxuXG4gICAgc3BhY2VyU3R5bGUucG9zaXRpb24gPSBjcy5wb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiID8gXCJhYnNvbHV0ZVwiIDogXCJyZWxhdGl2ZVwiO1xuICAgIGNzLmRpc3BsYXkgPT09IFwiaW5saW5lXCIgJiYgKHNwYWNlclN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiKTtcbiAgICBwaW5TdHlsZVtfYm90dG9tXSA9IHBpblN0eWxlW19yaWdodF0gPSBcImF1dG9cIjtcbiAgICBzcGFjZXJTdHlsZS5vdmVyZmxvdyA9IFwidmlzaWJsZVwiO1xuICAgIHNwYWNlclN0eWxlLmJveFNpemluZyA9IFwiYm9yZGVyLWJveFwiO1xuICAgIHNwYWNlclN0eWxlW193aWR0aF0gPSBfZ2V0U2l6ZShwaW4sIF9ob3Jpem9udGFsKSArIF9weDtcbiAgICBzcGFjZXJTdHlsZVtfaGVpZ2h0XSA9IF9nZXRTaXplKHBpbiwgX3ZlcnRpY2FsKSArIF9weDtcbiAgICBzcGFjZXJTdHlsZVtfcGFkZGluZ10gPSBwaW5TdHlsZVtfbWFyZ2luXSA9IHBpblN0eWxlW190b3BdID0gcGluU3R5bGVbX2xlZnRdID0gXCIwXCI7XG5cbiAgICBfc2V0U3RhdGUoc3BhY2VyU3RhdGUpO1xuXG4gICAgcGluU3R5bGVbX3dpZHRoXSA9IHBpblN0eWxlW1wibWF4XCIgKyBfV2lkdGhdID0gY3NbX3dpZHRoXTtcbiAgICBwaW5TdHlsZVtfaGVpZ2h0XSA9IHBpblN0eWxlW1wibWF4XCIgKyBfSGVpZ2h0XSA9IGNzW19oZWlnaHRdO1xuICAgIHBpblN0eWxlW19wYWRkaW5nXSA9IGNzW19wYWRkaW5nXTtcbiAgICBwaW4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc3BhY2VyLCBwaW4pO1xuICAgIHNwYWNlci5hcHBlbmRDaGlsZChwaW4pO1xuICB9XG59LFxuICAgIF9jYXBzRXhwID0gLyhbQS1aXSkvZyxcbiAgICBfc2V0U3RhdGUgPSBmdW5jdGlvbiBfc2V0U3RhdGUoc3RhdGUpIHtcbiAgaWYgKHN0YXRlKSB7XG4gICAgdmFyIHN0eWxlID0gc3RhdGUudC5zdHlsZSxcbiAgICAgICAgbCA9IHN0YXRlLmxlbmd0aCxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIHAsXG4gICAgICAgIHZhbHVlO1xuXG4gICAgZm9yICg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgIHZhbHVlID0gc3RhdGVbaSArIDFdO1xuICAgICAgcCA9IHN0YXRlW2ldO1xuXG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgc3R5bGVbcF0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoc3R5bGVbcF0pIHtcbiAgICAgICAgc3R5bGUucmVtb3ZlUHJvcGVydHkocC5yZXBsYWNlKF9jYXBzRXhwLCBcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sXG4gICAgX2dldFN0YXRlID0gZnVuY3Rpb24gX2dldFN0YXRlKGVsZW1lbnQpIHtcbiAgLy8gcmV0dXJucyBhbiBhcnJheSB3aXRoIGFsdGVybmF0aW5nIHZhbHVlcyBsaWtlIFtwcm9wZXJ0eSwgdmFsdWUsIHByb3BlcnR5LCB2YWx1ZV0gYW5kIGEgXCJ0XCIgcHJvcGVydHkgcG9pbnRpbmcgdG8gdGhlIHRhcmdldCAoZWxlbWVudCkuIE1ha2VzIGl0IGZhc3QgYW5kIGNoZWFwLlxuICB2YXIgbCA9IF9zdGF0ZVByb3BzLmxlbmd0aCxcbiAgICAgIHN0eWxlID0gZWxlbWVudC5zdHlsZSxcbiAgICAgIHN0YXRlID0gW10sXG4gICAgICBpID0gMDtcblxuICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgIHN0YXRlLnB1c2goX3N0YXRlUHJvcHNbaV0sIHN0eWxlW19zdGF0ZVByb3BzW2ldXSk7XG4gIH1cblxuICBzdGF0ZS50ID0gZWxlbWVudDtcbiAgcmV0dXJuIHN0YXRlO1xufSxcbiAgICBfY29weVN0YXRlID0gZnVuY3Rpb24gX2NvcHlTdGF0ZShzdGF0ZSwgb3ZlcnJpZGUsIG9taXRPZmZzZXRzKSB7XG4gIHZhciByZXN1bHQgPSBbXSxcbiAgICAgIGwgPSBzdGF0ZS5sZW5ndGgsXG4gICAgICBpID0gb21pdE9mZnNldHMgPyA4IDogMCxcbiAgICAgIC8vIHNraXAgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tIGlmIG9taXRPZmZzZXRzIGlzIHRydWVcbiAgcDtcblxuICBmb3IgKDsgaSA8IGw7IGkgKz0gMikge1xuICAgIHAgPSBzdGF0ZVtpXTtcbiAgICByZXN1bHQucHVzaChwLCBwIGluIG92ZXJyaWRlID8gb3ZlcnJpZGVbcF0gOiBzdGF0ZVtpICsgMV0pO1xuICB9XG5cbiAgcmVzdWx0LnQgPSBzdGF0ZS50O1xuICByZXR1cm4gcmVzdWx0O1xufSxcbiAgICBfd2luT2Zmc2V0cyA9IHtcbiAgbGVmdDogMCxcbiAgdG9wOiAwXG59LFxuICAgIF9wYXJzZVBvc2l0aW9uID0gZnVuY3Rpb24gX3BhcnNlUG9zaXRpb24odmFsdWUsIHRyaWdnZXIsIHNjcm9sbGVyU2l6ZSwgZGlyZWN0aW9uLCBzY3JvbGwsIG1hcmtlciwgbWFya2VyU2Nyb2xsZXIsIHNlbGYsIHNjcm9sbGVyQm91bmRzLCBib3JkZXJXaWR0aCwgdXNlRml4ZWRQb3NpdGlvbiwgc2Nyb2xsZXJNYXgpIHtcbiAgX2lzRnVuY3Rpb24odmFsdWUpICYmICh2YWx1ZSA9IHZhbHVlKHNlbGYpKTtcblxuICBpZiAoX2lzU3RyaW5nKHZhbHVlKSAmJiB2YWx1ZS5zdWJzdHIoMCwgMykgPT09IFwibWF4XCIpIHtcbiAgICB2YWx1ZSA9IHNjcm9sbGVyTWF4ICsgKHZhbHVlLmNoYXJBdCg0KSA9PT0gXCI9XCIgPyBfb2Zmc2V0VG9QeChcIjBcIiArIHZhbHVlLnN1YnN0cigzKSwgc2Nyb2xsZXJTaXplKSA6IDApO1xuICB9XG5cbiAgaWYgKCFfaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgX2lzRnVuY3Rpb24odHJpZ2dlcikgJiYgKHRyaWdnZXIgPSB0cmlnZ2VyKHNlbGYpKTtcblxuICAgIHZhciBlbGVtZW50ID0gX3RvQXJyYXkodHJpZ2dlcilbMF0gfHwgX2JvZHksXG4gICAgICAgIGJvdW5kcyA9IF9nZXRCb3VuZHMoZWxlbWVudCkgfHwge30sXG4gICAgICAgIG9mZnNldHMgPSB2YWx1ZS5zcGxpdChcIiBcIiksXG4gICAgICAgIGxvY2FsT2Zmc2V0LFxuICAgICAgICBnbG9iYWxPZmZzZXQsXG4gICAgICAgIGRpc3BsYXk7XG5cbiAgICBpZiAoKCFib3VuZHMgfHwgIWJvdW5kcy5sZWZ0ICYmICFib3VuZHMudG9wKSAmJiBfZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgLy8gaWYgZGlzcGxheSBpcyBcIm5vbmVcIiwgaXQgd29uJ3QgcmVwb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHByb3Blcmx5XG4gICAgICBkaXNwbGF5ID0gZWxlbWVudC5zdHlsZS5kaXNwbGF5O1xuICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgYm91bmRzID0gX2dldEJvdW5kcyhlbGVtZW50KTtcbiAgICAgIGRpc3BsYXkgPyBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5IDogZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImRpc3BsYXlcIik7XG4gICAgfVxuXG4gICAgbG9jYWxPZmZzZXQgPSBfb2Zmc2V0VG9QeChvZmZzZXRzWzBdLCBib3VuZHNbZGlyZWN0aW9uLmRdKTtcbiAgICBnbG9iYWxPZmZzZXQgPSBfb2Zmc2V0VG9QeChvZmZzZXRzWzFdIHx8IFwiMFwiLCBzY3JvbGxlclNpemUpO1xuICAgIHZhbHVlID0gYm91bmRzW2RpcmVjdGlvbi5wXSAtIHNjcm9sbGVyQm91bmRzW2RpcmVjdGlvbi5wXSAtIGJvcmRlcldpZHRoICsgbG9jYWxPZmZzZXQgKyBzY3JvbGwgLSBnbG9iYWxPZmZzZXQ7XG4gICAgbWFya2VyU2Nyb2xsZXIgJiYgX3Bvc2l0aW9uTWFya2VyKG1hcmtlclNjcm9sbGVyLCBnbG9iYWxPZmZzZXQsIGRpcmVjdGlvbiwgc2Nyb2xsZXJTaXplIC0gZ2xvYmFsT2Zmc2V0IDwgMjAgfHwgbWFya2VyU2Nyb2xsZXIuX2lzU3RhcnQgJiYgZ2xvYmFsT2Zmc2V0ID4gMjApO1xuICAgIHNjcm9sbGVyU2l6ZSAtPSBzY3JvbGxlclNpemUgLSBnbG9iYWxPZmZzZXQ7IC8vIGFkanVzdCBmb3IgdGhlIG1hcmtlclxuICB9IGVsc2UgaWYgKG1hcmtlclNjcm9sbGVyKSB7XG4gICAgX3Bvc2l0aW9uTWFya2VyKG1hcmtlclNjcm9sbGVyLCBzY3JvbGxlclNpemUsIGRpcmVjdGlvbiwgdHJ1ZSk7XG4gIH1cblxuICBpZiAobWFya2VyKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gdmFsdWUgKyBzY3JvbGxlclNpemUsXG4gICAgICAgIGlzU3RhcnQgPSBtYXJrZXIuX2lzU3RhcnQ7XG4gICAgc2Nyb2xsZXJNYXggPSBcInNjcm9sbFwiICsgZGlyZWN0aW9uLmQyO1xuXG4gICAgX3Bvc2l0aW9uTWFya2VyKG1hcmtlciwgcG9zaXRpb24sIGRpcmVjdGlvbiwgaXNTdGFydCAmJiBwb3NpdGlvbiA+IDIwIHx8ICFpc1N0YXJ0ICYmICh1c2VGaXhlZFBvc2l0aW9uID8gTWF0aC5tYXgoX2JvZHlbc2Nyb2xsZXJNYXhdLCBfZG9jRWxbc2Nyb2xsZXJNYXhdKSA6IG1hcmtlci5wYXJlbnROb2RlW3Njcm9sbGVyTWF4XSkgPD0gcG9zaXRpb24gKyAxKTtcblxuICAgIGlmICh1c2VGaXhlZFBvc2l0aW9uKSB7XG4gICAgICBzY3JvbGxlckJvdW5kcyA9IF9nZXRCb3VuZHMobWFya2VyU2Nyb2xsZXIpO1xuICAgICAgdXNlRml4ZWRQb3NpdGlvbiAmJiAobWFya2VyLnN0eWxlW2RpcmVjdGlvbi5vcC5wXSA9IHNjcm9sbGVyQm91bmRzW2RpcmVjdGlvbi5vcC5wXSAtIGRpcmVjdGlvbi5vcC5tIC0gbWFya2VyLl9vZmZzZXQgKyBfcHgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKTtcbn0sXG4gICAgX3ByZWZpeEV4cCA9IC8oPzp3ZWJraXR8bW96fGxlbmd0aHxjc3NUZXh0KS9pLFxuICAgIF9yZXBhcmVudCA9IGZ1bmN0aW9uIF9yZXBhcmVudChlbGVtZW50LCBwYXJlbnQsIHRvcCwgbGVmdCkge1xuICBpZiAoZWxlbWVudC5wYXJlbnROb2RlICE9PSBwYXJlbnQpIHtcbiAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlLFxuICAgICAgICBwLFxuICAgICAgICBjcztcblxuICAgIGlmIChwYXJlbnQgPT09IF9ib2R5KSB7XG4gICAgICBlbGVtZW50Ll9zdE9yaWcgPSBzdHlsZS5jc3NUZXh0OyAvLyByZWNvcmQgb3JpZ2luYWwgaW5saW5lIHN0eWxlcyBzbyB3ZSBjYW4gcmV2ZXJ0IHRoZW0gbGF0ZXJcblxuICAgICAgY3MgPSBfZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICAgICAgZm9yIChwIGluIGNzKSB7XG4gICAgICAgIC8vIG11c3QgY29weSBhbGwgcmVsZXZhbnQgc3R5bGVzIHRvIGVuc3VyZSB0aGF0IG5vdGhpbmcgY2hhbmdlcyB2aXN1YWxseSB3aGVuIHdlIHJlcGFyZW50IHRvIHRoZSA8Ym9keT4uIFNraXAgdGhlIHZlbmRvciBwcmVmaXhlZCBvbmVzLlxuICAgICAgICBpZiAoIStwICYmICFfcHJlZml4RXhwLnRlc3QocCkgJiYgY3NbcF0gJiYgdHlwZW9mIHN0eWxlW3BdID09PSBcInN0cmluZ1wiICYmIHAgIT09IFwiMFwiKSB7XG4gICAgICAgICAgc3R5bGVbcF0gPSBjc1twXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdHlsZS50b3AgPSB0b3A7XG4gICAgICBzdHlsZS5sZWZ0ID0gbGVmdDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuY3NzVGV4dCA9IGVsZW1lbnQuX3N0T3JpZztcbiAgICB9XG5cbiAgICBnc2FwLmNvcmUuZ2V0Q2FjaGUoZWxlbWVudCkudW5jYWNoZSA9IDE7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICB9XG59LFxuICAgIC8vIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHR3ZWVuIHRoZSBzY3JvbGwgcG9zaXRpb24gaW4gdGhlIGRpcmVjdGlvbiBwcm92aWRlZCwgYW5kIHdoZW4gZG9pbmcgc28gaXQnbGwgYWRkIGEgLnR3ZWVuIHByb3BlcnR5IHRvIHRoZSBGVU5DVElPTiBpdHNlbGYsIGFuZCByZW1vdmUgaXQgd2hlbiB0aGUgdHdlZW4gY29tcGxldGVzIG9yIGdldHMga2lsbGVkLiBUaGlzIGdpdmVzIHVzIGEgd2F5IHRvIGhhdmUgbXVsdGlwbGUgU2Nyb2xsVHJpZ2dlcnMgdXNlIGEgY2VudHJhbCBmdW5jdGlvbiBmb3IgYW55IGdpdmVuIHNjcm9sbGVyIGFuZCBzZWUgaWYgdGhlcmUncyBhIHNjcm9sbCB0d2VlbiBydW5uaW5nICh3aGljaCB3b3VsZCBhZmZlY3QgaWYvaG93IHRoaW5ncyBnZXQgdXBkYXRlZClcbl9nZXRUd2VlbkNyZWF0b3IgPSBmdW5jdGlvbiBfZ2V0VHdlZW5DcmVhdG9yKHNjcm9sbGVyLCBkaXJlY3Rpb24pIHtcbiAgdmFyIGdldFNjcm9sbCA9IF9nZXRTY3JvbGxGdW5jKHNjcm9sbGVyLCBkaXJlY3Rpb24pLFxuICAgICAgcHJvcCA9IFwiX3Njcm9sbFwiICsgZGlyZWN0aW9uLnAyLFxuICAgICAgLy8gYWRkIGEgdHdlZW5hYmxlIHByb3BlcnR5IHRvIHRoZSBzY3JvbGxlciB0aGF0J3MgYSBnZXR0ZXIvc2V0dGVyIGZ1bmN0aW9uLCBsaWtlIF9zY3JvbGxUb3Agb3IgX3Njcm9sbExlZnQuIFRoaXMgd2F5LCBpZiBzb21lb25lIGRvZXMgZ3NhcC5raWxsVHdlZW5zT2Yoc2Nyb2xsZXIpIGl0J2xsIGtpbGwgdGhlIHNjcm9sbCB0d2Vlbi5cbiAgbGFzdFNjcm9sbDEsXG4gICAgICBsYXN0U2Nyb2xsMixcbiAgICAgIGdldFR3ZWVuID0gZnVuY3Rpb24gZ2V0VHdlZW4oc2Nyb2xsVG8sIHZhcnMsIGluaXRpYWxWYWx1ZSwgY2hhbmdlMSwgY2hhbmdlMikge1xuICAgIHZhciB0d2VlbiA9IGdldFR3ZWVuLnR3ZWVuLFxuICAgICAgICBvbkNvbXBsZXRlID0gdmFycy5vbkNvbXBsZXRlLFxuICAgICAgICBtb2RpZmllcnMgPSB7fTtcbiAgICB0d2VlbiAmJiB0d2Vlbi5raWxsKCk7XG4gICAgbGFzdFNjcm9sbDEgPSBNYXRoLnJvdW5kKGluaXRpYWxWYWx1ZSk7XG4gICAgdmFyc1twcm9wXSA9IHNjcm9sbFRvO1xuICAgIHZhcnMubW9kaWZpZXJzID0gbW9kaWZpZXJzO1xuXG4gICAgbW9kaWZpZXJzW3Byb3BdID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IE1hdGgucm91bmQoZ2V0U2Nyb2xsKCkpOyAvLyByb3VuZCBiZWNhdXNlIGluIHNvbWUgW3ZlcnkgdW5jb21tb25dIFdpbmRvd3MgZW52aXJvbm1lbnRzLCBpdCBjYW4gZ2V0IHJlcG9ydGVkIHdpdGggZGVjaW1hbHMgZXZlbiB0aG91Z2ggaXQgd2FzIHNldCB3aXRob3V0LlxuXG4gICAgICBpZiAodmFsdWUgIT09IGxhc3RTY3JvbGwxICYmIHZhbHVlICE9PSBsYXN0U2Nyb2xsMikge1xuICAgICAgICAvLyBpZiB0aGUgdXNlciBzY3JvbGxzLCBraWxsIHRoZSB0d2Vlbi4gaU9TIFNhZmFyaSBpbnRlcm1pdHRlbnRseSBtaXNyZXBvcnRzIHRoZSBzY3JvbGwgcG9zaXRpb24sIGl0IG1heSBiZSB0aGUgbW9zdCByZWNlbnRseS1zZXQgb25lIG9yIHRoZSBvbmUgYmVmb3JlIHRoYXQhXG4gICAgICAgIHR3ZWVuLmtpbGwoKTtcbiAgICAgICAgZ2V0VHdlZW4udHdlZW4gPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBpbml0aWFsVmFsdWUgKyBjaGFuZ2UxICogdHdlZW4ucmF0aW8gKyBjaGFuZ2UyICogdHdlZW4ucmF0aW8gKiB0d2Vlbi5yYXRpbztcbiAgICAgIH1cblxuICAgICAgbGFzdFNjcm9sbDIgPSBsYXN0U2Nyb2xsMTtcbiAgICAgIHJldHVybiBsYXN0U2Nyb2xsMSA9IE1hdGgucm91bmQodmFsdWUpO1xuICAgIH07XG5cbiAgICB2YXJzLm9uQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBnZXRUd2Vlbi50d2VlbiA9IDA7XG4gICAgICBvbkNvbXBsZXRlICYmIG9uQ29tcGxldGUuY2FsbCh0d2Vlbik7XG4gICAgfTtcblxuICAgIHR3ZWVuID0gZ2V0VHdlZW4udHdlZW4gPSBnc2FwLnRvKHNjcm9sbGVyLCB2YXJzKTtcbiAgICByZXR1cm4gdHdlZW47XG4gIH07XG5cbiAgc2Nyb2xsZXJbcHJvcF0gPSBnZXRTY3JvbGw7XG4gIHJldHVybiBnZXRUd2Vlbjtcbn07XG5cbl9ob3Jpem9udGFsLm9wID0gX3ZlcnRpY2FsO1xuZXhwb3J0IHZhciBTY3JvbGxUcmlnZ2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2Nyb2xsVHJpZ2dlcih2YXJzLCBhbmltYXRpb24pIHtcbiAgICBfY29yZUluaXR0ZWQgfHwgU2Nyb2xsVHJpZ2dlci5yZWdpc3Rlcihnc2FwKSB8fCBjb25zb2xlLndhcm4oXCJQbGVhc2UgZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKVwiKTtcbiAgICB0aGlzLmluaXQodmFycywgYW5pbWF0aW9uKTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTY3JvbGxUcmlnZ2VyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaW5pdCA9IGZ1bmN0aW9uIGluaXQodmFycywgYW5pbWF0aW9uKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy52YXJzICYmIHRoaXMua2lsbCgxKTsgLy8gaW4gY2FzZSBpdCdzIGJlaW5nIGluaXR0ZWQgYWdhaW5cblxuICAgIGlmICghX2VuYWJsZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlID0gdGhpcy5yZWZyZXNoID0gdGhpcy5raWxsID0gX3Bhc3NUaHJvdWdoO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhcnMgPSBfc2V0RGVmYXVsdHMoX2lzU3RyaW5nKHZhcnMpIHx8IF9pc051bWJlcih2YXJzKSB8fCB2YXJzLm5vZGVUeXBlID8ge1xuICAgICAgdHJpZ2dlcjogdmFyc1xuICAgIH0gOiB2YXJzLCBfZGVmYXVsdHMpO1xuXG4gICAgdmFyIGRpcmVjdGlvbiA9IHZhcnMuaG9yaXpvbnRhbCA/IF9ob3Jpem9udGFsIDogX3ZlcnRpY2FsLFxuICAgICAgICBfdmFycyA9IHZhcnMsXG4gICAgICAgIG9uVXBkYXRlID0gX3ZhcnMub25VcGRhdGUsXG4gICAgICAgIHRvZ2dsZUNsYXNzID0gX3ZhcnMudG9nZ2xlQ2xhc3MsXG4gICAgICAgIGlkID0gX3ZhcnMuaWQsXG4gICAgICAgIG9uVG9nZ2xlID0gX3ZhcnMub25Ub2dnbGUsXG4gICAgICAgIG9uUmVmcmVzaCA9IF92YXJzLm9uUmVmcmVzaCxcbiAgICAgICAgc2NydWIgPSBfdmFycy5zY3J1YixcbiAgICAgICAgdHJpZ2dlciA9IF92YXJzLnRyaWdnZXIsXG4gICAgICAgIHBpbiA9IF92YXJzLnBpbixcbiAgICAgICAgcGluU3BhY2luZyA9IF92YXJzLnBpblNwYWNpbmcsXG4gICAgICAgIGludmFsaWRhdGVPblJlZnJlc2ggPSBfdmFycy5pbnZhbGlkYXRlT25SZWZyZXNoLFxuICAgICAgICBhbnRpY2lwYXRlUGluID0gX3ZhcnMuYW50aWNpcGF0ZVBpbixcbiAgICAgICAgb25TY3J1YkNvbXBsZXRlID0gX3ZhcnMub25TY3J1YkNvbXBsZXRlLFxuICAgICAgICBvblNuYXBDb21wbGV0ZSA9IF92YXJzLm9uU25hcENvbXBsZXRlLFxuICAgICAgICBvbmNlID0gX3ZhcnMub25jZSxcbiAgICAgICAgc25hcCA9IF92YXJzLnNuYXAsXG4gICAgICAgIHBpblJlcGFyZW50ID0gX3ZhcnMucGluUmVwYXJlbnQsXG4gICAgICAgIGlzVG9nZ2xlID0gIXNjcnViICYmIHNjcnViICE9PSAwLFxuICAgICAgICBzY3JvbGxlciA9IF90b0FycmF5KHZhcnMuc2Nyb2xsZXIgfHwgX3dpbilbMF0sXG4gICAgICAgIHNjcm9sbGVyQ2FjaGUgPSBnc2FwLmNvcmUuZ2V0Q2FjaGUoc2Nyb2xsZXIpLFxuICAgICAgICBpc1ZpZXdwb3J0ID0gX2lzVmlld3BvcnQoc2Nyb2xsZXIpLFxuICAgICAgICB1c2VGaXhlZFBvc2l0aW9uID0gXCJwaW5UeXBlXCIgaW4gdmFycyA/IHZhcnMucGluVHlwZSA9PT0gXCJmaXhlZFwiIDogaXNWaWV3cG9ydCB8fCBfZ2V0UHJveHlQcm9wKHNjcm9sbGVyLCBcInBpblR5cGVcIikgPT09IFwiZml4ZWRcIixcbiAgICAgICAgY2FsbGJhY2tzID0gW3ZhcnMub25FbnRlciwgdmFycy5vbkxlYXZlLCB2YXJzLm9uRW50ZXJCYWNrLCB2YXJzLm9uTGVhdmVCYWNrXSxcbiAgICAgICAgdG9nZ2xlQWN0aW9ucyA9IGlzVG9nZ2xlICYmIHZhcnMudG9nZ2xlQWN0aW9ucy5zcGxpdChcIiBcIiksXG4gICAgICAgIG1hcmtlcnMgPSBcIm1hcmtlcnNcIiBpbiB2YXJzID8gdmFycy5tYXJrZXJzIDogX2RlZmF1bHRzLm1hcmtlcnMsXG4gICAgICAgIGJvcmRlcldpZHRoID0gaXNWaWV3cG9ydCA/IDAgOiBwYXJzZUZsb2F0KF9nZXRDb21wdXRlZFN0eWxlKHNjcm9sbGVyKVtcImJvcmRlclwiICsgZGlyZWN0aW9uLnAyICsgX1dpZHRoXSkgfHwgMCxcbiAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgIG9uUmVmcmVzaEluaXQgPSB2YXJzLm9uUmVmcmVzaEluaXQgJiYgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHZhcnMub25SZWZyZXNoSW5pdChzZWxmKTtcbiAgICB9LFxuICAgICAgICBnZXRTY3JvbGxlclNpemUgPSBfZ2V0U2l6ZUZ1bmMoc2Nyb2xsZXIsIGlzVmlld3BvcnQsIGRpcmVjdGlvbiksXG4gICAgICAgIGdldFNjcm9sbGVyT2Zmc2V0cyA9IF9nZXRPZmZzZXRzRnVuYyhzY3JvbGxlciwgaXNWaWV3cG9ydCksXG4gICAgICAgIHR3ZWVuVG8sXG4gICAgICAgIHBpbkNhY2hlLFxuICAgICAgICBzbmFwRnVuYyxcbiAgICAgICAgaXNSZXZlcnRlZCxcbiAgICAgICAgc2Nyb2xsMSxcbiAgICAgICAgc2Nyb2xsMixcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZCxcbiAgICAgICAgbWFya2VyU3RhcnQsXG4gICAgICAgIG1hcmtlckVuZCxcbiAgICAgICAgbWFya2VyU3RhcnRUcmlnZ2VyLFxuICAgICAgICBtYXJrZXJFbmRUcmlnZ2VyLFxuICAgICAgICBtYXJrZXJWYXJzLFxuICAgICAgICBjaGFuZ2UsXG4gICAgICAgIHBpbk9yaWdpbmFsU3RhdGUsXG4gICAgICAgIHBpbkFjdGl2ZVN0YXRlLFxuICAgICAgICBwaW5TdGF0ZSxcbiAgICAgICAgc3BhY2VyLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIHBpbkdldHRlcixcbiAgICAgICAgcGluU2V0dGVyLFxuICAgICAgICBwaW5TdGFydCxcbiAgICAgICAgcGluQ2hhbmdlLFxuICAgICAgICBzcGFjaW5nU3RhcnQsXG4gICAgICAgIHNwYWNlclN0YXRlLFxuICAgICAgICBtYXJrZXJTdGFydFNldHRlcixcbiAgICAgICAgbWFya2VyRW5kU2V0dGVyLFxuICAgICAgICBjcyxcbiAgICAgICAgc25hcDEsXG4gICAgICAgIHNuYXAyLFxuICAgICAgICBzY3J1YlR3ZWVuLFxuICAgICAgICBzY3J1YlNtb290aCxcbiAgICAgICAgc25hcER1ckNsYW1wLFxuICAgICAgICBzbmFwRGVsYXllZENhbGwsXG4gICAgICAgIHByZXZQcm9ncmVzcyxcbiAgICAgICAgcHJldlNjcm9sbCxcbiAgICAgICAgcHJldkFuaW1Qcm9ncmVzcztcblxuICAgIHNlbGYubWVkaWEgPSBfY3JlYXRpbmdNZWRpYTtcbiAgICBhbnRpY2lwYXRlUGluICo9IDQ1O1xuXG4gICAgX3RyaWdnZXJzLnB1c2goc2VsZik7XG5cbiAgICBzZWxmLnNjcm9sbGVyID0gc2Nyb2xsZXI7XG4gICAgc2VsZi5zY3JvbGwgPSBfZ2V0U2Nyb2xsRnVuYyhzY3JvbGxlciwgZGlyZWN0aW9uKTtcbiAgICBzY3JvbGwxID0gc2VsZi5zY3JvbGwoKTtcbiAgICBzZWxmLnZhcnMgPSB2YXJzO1xuICAgIGFuaW1hdGlvbiA9IGFuaW1hdGlvbiB8fCB2YXJzLmFuaW1hdGlvbjtcbiAgICBcInJlZnJlc2hQcmlvcml0eVwiIGluIHZhcnMgJiYgKF9zb3J0ID0gMSk7XG4gICAgc2Nyb2xsZXJDYWNoZS50d2VlblNjcm9sbCA9IHNjcm9sbGVyQ2FjaGUudHdlZW5TY3JvbGwgfHwge1xuICAgICAgdG9wOiBfZ2V0VHdlZW5DcmVhdG9yKHNjcm9sbGVyLCBfdmVydGljYWwpLFxuICAgICAgbGVmdDogX2dldFR3ZWVuQ3JlYXRvcihzY3JvbGxlciwgX2hvcml6b250YWwpXG4gICAgfTtcbiAgICBzZWxmLnR3ZWVuVG8gPSB0d2VlblRvID0gc2Nyb2xsZXJDYWNoZS50d2VlblNjcm9sbFtkaXJlY3Rpb24ucF07XG5cbiAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICBhbmltYXRpb24udmFycy5sYXp5ID0gZmFsc2U7XG4gICAgICBhbmltYXRpb24uX2luaXR0ZWQgfHwgYW5pbWF0aW9uLnZhcnMuaW1tZWRpYXRlUmVuZGVyICE9PSBmYWxzZSAmJiB2YXJzLmltbWVkaWF0ZVJlbmRlciAhPT0gZmFsc2UgJiYgYW5pbWF0aW9uLnJlbmRlcigwLCB0cnVlLCB0cnVlKTtcbiAgICAgIHNlbGYuYW5pbWF0aW9uID0gYW5pbWF0aW9uLnBhdXNlKCk7XG4gICAgICBhbmltYXRpb24uc2Nyb2xsVHJpZ2dlciA9IHNlbGY7XG4gICAgICBzY3J1YlNtb290aCA9IF9pc051bWJlcihzY3J1YikgJiYgc2NydWI7XG4gICAgICBzY3J1YlNtb290aCAmJiAoc2NydWJUd2VlbiA9IGdzYXAudG8oYW5pbWF0aW9uLCB7XG4gICAgICAgIGVhc2U6IFwicG93ZXIzXCIsXG4gICAgICAgIGR1cmF0aW9uOiBzY3J1YlNtb290aCxcbiAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZSgpIHtcbiAgICAgICAgICByZXR1cm4gb25TY3J1YkNvbXBsZXRlICYmIG9uU2NydWJDb21wbGV0ZShzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgICAgc25hcDEgPSAwO1xuICAgICAgaWQgfHwgKGlkID0gYW5pbWF0aW9uLnZhcnMuaWQpO1xuICAgIH1cblxuICAgIGlmIChzbmFwKSB7XG4gICAgICBfaXNPYmplY3Qoc25hcCkgfHwgKHNuYXAgPSB7XG4gICAgICAgIHNuYXBUbzogc25hcFxuICAgICAgfSk7XG4gICAgICBnc2FwLnNldChpc1ZpZXdwb3J0ID8gW19ib2R5LCBfZG9jRWxdIDogc2Nyb2xsZXIsIHtcbiAgICAgICAgc2Nyb2xsQmVoYXZpb3I6IFwiYXV0b1wiXG4gICAgICB9KTsgLy8gc21vb3RoIHNjcm9sbGluZyBkb2Vzbid0IHdvcmsgd2l0aCBzbmFwLlxuXG4gICAgICBzbmFwRnVuYyA9IF9pc0Z1bmN0aW9uKHNuYXAuc25hcFRvKSA/IHNuYXAuc25hcFRvIDogc25hcC5zbmFwVG8gPT09IFwibGFiZWxzXCIgPyBfZ2V0TGFiZWxzKGFuaW1hdGlvbikgOiBnc2FwLnV0aWxzLnNuYXAoc25hcC5zbmFwVG8pO1xuICAgICAgc25hcER1ckNsYW1wID0gc25hcC5kdXJhdGlvbiB8fCB7XG4gICAgICAgIG1pbjogMC4xLFxuICAgICAgICBtYXg6IDJcbiAgICAgIH07XG4gICAgICBzbmFwRHVyQ2xhbXAgPSBfaXNPYmplY3Qoc25hcER1ckNsYW1wKSA/IF9jbGFtcChzbmFwRHVyQ2xhbXAubWluLCBzbmFwRHVyQ2xhbXAubWF4KSA6IF9jbGFtcChzbmFwRHVyQ2xhbXAsIHNuYXBEdXJDbGFtcCk7XG4gICAgICBzbmFwRGVsYXllZENhbGwgPSBnc2FwLmRlbGF5ZWRDYWxsKHNuYXAuZGVsYXkgfHwgc2NydWJTbW9vdGggLyAyIHx8IDAuMSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoc2VsZi5nZXRWZWxvY2l0eSgpKSA8IDEwICYmICFfcG9pbnRlcklzRG93bikge1xuICAgICAgICAgIHZhciB0b3RhbFByb2dyZXNzID0gYW5pbWF0aW9uICYmICFpc1RvZ2dsZSA/IGFuaW1hdGlvbi50b3RhbFByb2dyZXNzKCkgOiBzZWxmLnByb2dyZXNzLFxuICAgICAgICAgICAgICB2ZWxvY2l0eSA9ICh0b3RhbFByb2dyZXNzIC0gc25hcDIpIC8gKF9nZXRUaW1lKCkgLSBfdGltZTIpICogMTAwMCB8fCAwLFxuICAgICAgICAgICAgICBjaGFuZ2UxID0gX2Ficyh2ZWxvY2l0eSAvIDIpICogdmVsb2NpdHkgLyAwLjE4NSxcbiAgICAgICAgICAgICAgbmF0dXJhbEVuZCA9IHRvdGFsUHJvZ3Jlc3MgKyBjaGFuZ2UxLFxuICAgICAgICAgICAgICBlbmRWYWx1ZSA9IF9jbGFtcCgwLCAxLCBzbmFwRnVuYyhuYXR1cmFsRW5kLCBzZWxmKSksXG4gICAgICAgICAgICAgIHNjcm9sbCA9IHNlbGYuc2Nyb2xsKCksXG4gICAgICAgICAgICAgIGVuZFNjcm9sbCA9IE1hdGgucm91bmQoc3RhcnQgKyBlbmRWYWx1ZSAqIGNoYW5nZSksXG4gICAgICAgICAgICAgIHR3ZWVuID0gdHdlZW5Uby50d2VlbjtcblxuICAgICAgICAgIGlmIChzY3JvbGwgPD0gZW5kICYmIHNjcm9sbCA+PSBzdGFydCAmJiBlbmRTY3JvbGwgIT09IHNjcm9sbCkge1xuICAgICAgICAgICAgaWYgKHR3ZWVuICYmICF0d2Vlbi5faW5pdHRlZCAmJiB0d2Vlbi5kYXRhIDw9IE1hdGguYWJzKGVuZFNjcm9sbCAtIHNjcm9sbCkpIHtcbiAgICAgICAgICAgICAgLy8gdGhlcmUncyBhbiBvdmVybGFwcGluZyBzbmFwISBTbyB3ZSBtdXN0IGZpZ3VyZSBvdXQgd2hpY2ggb25lIGlzIGNsb3NlciBhbmQgbGV0IHRoYXQgdHdlZW4gbGl2ZS5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0d2VlblRvKGVuZFNjcm9sbCwge1xuICAgICAgICAgICAgICBkdXJhdGlvbjogc25hcER1ckNsYW1wKF9hYnMoTWF0aC5tYXgoX2FicyhuYXR1cmFsRW5kIC0gdG90YWxQcm9ncmVzcyksIF9hYnMoZW5kVmFsdWUgLSB0b3RhbFByb2dyZXNzKSkgKiAwLjE4NSAvIHZlbG9jaXR5IC8gMC4wNSB8fCAwKSksXG4gICAgICAgICAgICAgIGVhc2U6IHNuYXAuZWFzZSB8fCBcInBvd2VyM1wiLFxuICAgICAgICAgICAgICBkYXRhOiBNYXRoLmFicyhlbmRTY3JvbGwgLSBzY3JvbGwpLFxuICAgICAgICAgICAgICAvLyByZWNvcmQgdGhlIGRpc3RhbmNlIHNvIHRoYXQgaWYgYW5vdGhlciBzbmFwIHR3ZWVuIG9jY3VycyAoY29uZmxpY3QpIHdlIGNhbiBwcmlvcml0aXplIHRoZSBjbG9zZXN0IHNuYXAuXG4gICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgc25hcDEgPSBzbmFwMiA9IGFuaW1hdGlvbiAmJiAhaXNUb2dnbGUgPyBhbmltYXRpb24udG90YWxQcm9ncmVzcygpIDogc2VsZi5wcm9ncmVzcztcbiAgICAgICAgICAgICAgICBvblNuYXBDb21wbGV0ZSAmJiBvblNuYXBDb21wbGV0ZShzZWxmKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgc2Nyb2xsLCBjaGFuZ2UxICogY2hhbmdlLCBlbmRTY3JvbGwgLSBzY3JvbGwgLSBjaGFuZ2UxICogY2hhbmdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5pc0FjdGl2ZSkge1xuICAgICAgICAgIHNuYXBEZWxheWVkQ2FsbC5yZXN0YXJ0KHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KS5wYXVzZSgpO1xuICAgIH1cblxuICAgIGlkICYmIChfaWRzW2lkXSA9IHNlbGYpO1xuICAgIHRyaWdnZXIgPSBzZWxmLnRyaWdnZXIgPSBfdG9BcnJheSh0cmlnZ2VyIHx8IHBpbilbMF07XG4gICAgcGluID0gcGluID09PSB0cnVlID8gdHJpZ2dlciA6IF90b0FycmF5KHBpbilbMF07XG4gICAgX2lzU3RyaW5nKHRvZ2dsZUNsYXNzKSAmJiAodG9nZ2xlQ2xhc3MgPSB7XG4gICAgICB0YXJnZXRzOiB0cmlnZ2VyLFxuICAgICAgY2xhc3NOYW1lOiB0b2dnbGVDbGFzc1xuICAgIH0pO1xuXG4gICAgaWYgKHBpbikge1xuICAgICAgcGluU3BhY2luZyA9PT0gZmFsc2UgfHwgcGluU3BhY2luZyA9PT0gX21hcmdpbiB8fCAocGluU3BhY2luZyA9ICFwaW5TcGFjaW5nICYmIF9nZXRDb21wdXRlZFN0eWxlKHBpbi5wYXJlbnROb2RlKS5kaXNwbGF5ID09PSBcImZsZXhcIiA/IGZhbHNlIDogX3BhZGRpbmcpOyAvLyBpZiB0aGUgcGFyZW50IGlzIGRpc3BsYXk6IGZsZXgsIGRvbid0IGFwcGx5IHBpblNwYWNpbmcgYnkgZGVmYXVsdC5cblxuICAgICAgc2VsZi5waW4gPSBwaW47XG4gICAgICB2YXJzLmZvcmNlM0QgIT09IGZhbHNlICYmIGdzYXAuc2V0KHBpbiwge1xuICAgICAgICBmb3JjZTNEOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHBpbkNhY2hlID0gZ3NhcC5jb3JlLmdldENhY2hlKHBpbik7XG5cbiAgICAgIGlmICghcGluQ2FjaGUuc3BhY2VyKSB7XG4gICAgICAgIC8vIHJlY29yZCB0aGUgc3BhY2VyIGFuZCBwaW5PcmlnaW5hbFN0YXRlIG9uIHRoZSBjYWNoZSBpbiBjYXNlIHNvbWVvbmUgdHJpZXMgcGlubmluZyB0aGUgc2FtZSBlbGVtZW50IHdpdGggTVVMVElQTEUgU2Nyb2xsVHJpZ2dlcnMgLSB3ZSBkb24ndCB3YW50IHRvIGhhdmUgbXVsdGlwbGUgc3BhY2VycyBvciByZWNvcmQgdGhlIFwib3JpZ2luYWxcIiBwaW4gc3RhdGUgYWZ0ZXIgaXQgaGFzIGFscmVhZHkgYmVlbiBhZmZlY3RlZCBieSBhbm90aGVyIFNjcm9sbFRyaWdnZXIuXG4gICAgICAgIHBpbkNhY2hlLnNwYWNlciA9IHNwYWNlciA9IF9kb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc3BhY2VyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicGluLXNwYWNlclwiICsgKGlkID8gXCIgcGluLXNwYWNlci1cIiArIGlkIDogXCJcIikpO1xuICAgICAgICBwaW5DYWNoZS5waW5TdGF0ZSA9IHBpbk9yaWdpbmFsU3RhdGUgPSBfZ2V0U3RhdGUocGluKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBpbk9yaWdpbmFsU3RhdGUgPSBwaW5DYWNoZS5waW5TdGF0ZTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5zcGFjZXIgPSBzcGFjZXIgPSBwaW5DYWNoZS5zcGFjZXI7XG4gICAgICBjcyA9IF9nZXRDb21wdXRlZFN0eWxlKHBpbik7XG4gICAgICBzcGFjaW5nU3RhcnQgPSBjc1twaW5TcGFjaW5nICsgZGlyZWN0aW9uLm9zMl07XG4gICAgICBwaW5HZXR0ZXIgPSBnc2FwLmdldFByb3BlcnR5KHBpbik7XG4gICAgICBwaW5TZXR0ZXIgPSBnc2FwLnF1aWNrU2V0dGVyKHBpbiwgZGlyZWN0aW9uLmEsIF9weCk7IC8vIHBpbi5maXJzdENoaWxkICYmICFfbWF4U2Nyb2xsKHBpbiwgZGlyZWN0aW9uKSAmJiAocGluLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIik7IC8vIHByb3RlY3RzIGZyb20gY29sbGFwc2luZyBtYXJnaW5zLCBidXQgY2FuIGhhdmUgdW5pbnRlbmRlZCBjb25zZXF1ZW5jZXMgYXMgZGVtb25zdHJhdGVkIGhlcmU6IGh0dHBzOi8vY29kZXBlbi5pby9HcmVlblNvY2svcGVuLzFlNDJjN2E3M2JmYTQwOWQyY2YxZTE4NGU3YTQyNDhkIHNvIGl0IHdhcyByZW1vdmVkIGluIGZhdm9yIG9mIGp1c3QgdGVsbGluZyBwZW9wbGUgdG8gc2V0IHVwIHRoZWlyIENTUyB0byBhdm9pZCB0aGUgY29sbGFwc2luZyBtYXJnaW5zIChvdmVyZmxvdzogaGlkZGVuIHwgYXV0byBpcyBqdXN0IG9uZSBvcHRpb24uIEFub3RoZXIgaXMgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHRyYW5zcGFyZW50KS5cblxuICAgICAgX3N3YXBQaW5JbihwaW4sIHNwYWNlciwgY3MpO1xuXG4gICAgICBwaW5TdGF0ZSA9IF9nZXRTdGF0ZShwaW4pO1xuICAgIH1cblxuICAgIGlmIChtYXJrZXJzKSB7XG4gICAgICBtYXJrZXJWYXJzID0gX2lzT2JqZWN0KG1hcmtlcnMpID8gX3NldERlZmF1bHRzKG1hcmtlcnMsIF9tYXJrZXJEZWZhdWx0cykgOiBfbWFya2VyRGVmYXVsdHM7XG4gICAgICBtYXJrZXJTdGFydFRyaWdnZXIgPSBfY3JlYXRlTWFya2VyKFwic2Nyb2xsZXItc3RhcnRcIiwgaWQsIHNjcm9sbGVyLCBkaXJlY3Rpb24sIG1hcmtlclZhcnMsIDApO1xuICAgICAgbWFya2VyRW5kVHJpZ2dlciA9IF9jcmVhdGVNYXJrZXIoXCJzY3JvbGxlci1lbmRcIiwgaWQsIHNjcm9sbGVyLCBkaXJlY3Rpb24sIG1hcmtlclZhcnMsIDAsIG1hcmtlclN0YXJ0VHJpZ2dlcik7XG4gICAgICBvZmZzZXQgPSBtYXJrZXJTdGFydFRyaWdnZXJbXCJvZmZzZXRcIiArIGRpcmVjdGlvbi5vcC5kMl07XG4gICAgICBtYXJrZXJTdGFydCA9IF9jcmVhdGVNYXJrZXIoXCJzdGFydFwiLCBpZCwgc2Nyb2xsZXIsIGRpcmVjdGlvbiwgbWFya2VyVmFycywgb2Zmc2V0KTtcbiAgICAgIG1hcmtlckVuZCA9IF9jcmVhdGVNYXJrZXIoXCJlbmRcIiwgaWQsIHNjcm9sbGVyLCBkaXJlY3Rpb24sIG1hcmtlclZhcnMsIG9mZnNldCk7XG5cbiAgICAgIGlmICghdXNlRml4ZWRQb3NpdGlvbikge1xuICAgICAgICBfbWFrZVBvc2l0aW9uYWJsZShzY3JvbGxlcik7XG5cbiAgICAgICAgZ3NhcC5zZXQoW21hcmtlclN0YXJ0VHJpZ2dlciwgbWFya2VyRW5kVHJpZ2dlcl0sIHtcbiAgICAgICAgICBmb3JjZTNEOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBtYXJrZXJTdGFydFNldHRlciA9IGdzYXAucXVpY2tTZXR0ZXIobWFya2VyU3RhcnRUcmlnZ2VyLCBkaXJlY3Rpb24uYSwgX3B4KTtcbiAgICAgICAgbWFya2VyRW5kU2V0dGVyID0gZ3NhcC5xdWlja1NldHRlcihtYXJrZXJFbmRUcmlnZ2VyLCBkaXJlY3Rpb24uYSwgX3B4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLnJldmVydCA9IGZ1bmN0aW9uIChyZXZlcnQpIHtcbiAgICAgIHZhciByID0gcmV2ZXJ0ICE9PSBmYWxzZSB8fCAhc2VsZi5lbmFibGVkLFxuICAgICAgICAgIHByZXZSZWZyZXNoaW5nID0gX3JlZnJlc2hpbmc7XG5cbiAgICAgIGlmIChyICE9PSBpc1JldmVydGVkKSB7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgcHJldlNjcm9sbCA9IE1hdGgubWF4KHNlbGYuc2Nyb2xsKCksIHNlbGYuc2Nyb2xsLnJlYyB8fCAwKTsgLy8gcmVjb3JkIHRoZSBzY3JvbGwgc28gd2UgY2FuIHJldmVydCBsYXRlciAocmVwb3NpdGlvbmluZy9waW5uaW5nIHRoaW5ncyBjYW4gYWZmZWN0IHNjcm9sbCBwb3NpdGlvbikuIEluIHRoZSBzdGF0aWMgcmVmcmVzaCgpIG1ldGhvZCwgd2UgZmlyc3QgcmVjb3JkIGFsbCB0aGUgc2Nyb2xsIHBvc2l0aW9ucyBhcyBhIHJlZmVyZW5jZS5cblxuICAgICAgICAgIHByZXZQcm9ncmVzcyA9IHNlbGYucHJvZ3Jlc3M7XG4gICAgICAgICAgcHJldkFuaW1Qcm9ncmVzcyA9IGFuaW1hdGlvbiAmJiBhbmltYXRpb24ucHJvZ3Jlc3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcmtlclN0YXJ0ICYmIFttYXJrZXJTdGFydCwgbWFya2VyRW5kLCBtYXJrZXJTdGFydFRyaWdnZXIsIG1hcmtlckVuZFRyaWdnZXJdLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICByZXR1cm4gbS5zdHlsZS5kaXNwbGF5ID0gciA/IFwibm9uZVwiIDogXCJibG9ja1wiO1xuICAgICAgICB9KTtcbiAgICAgICAgciAmJiAoX3JlZnJlc2hpbmcgPSAxKTtcbiAgICAgICAgc2VsZi51cGRhdGUocik7IC8vIG1ha2Ugc3VyZSB0aGUgcGluIGlzIGJhY2sgaW4gaXRzIG9yaWdpbmFsIHBvc2l0aW9uIHNvIHRoYXQgYWxsIHRoZSBtZWFzdXJlbWVudHMgYXJlIGNvcnJlY3QuXG5cbiAgICAgICAgX3JlZnJlc2hpbmcgPSBwcmV2UmVmcmVzaGluZztcbiAgICAgICAgcGluICYmIChyID8gX3N3YXBQaW5PdXQocGluLCBzcGFjZXIsIHBpbk9yaWdpbmFsU3RhdGUpIDogKCFwaW5SZXBhcmVudCB8fCAhc2VsZi5pc0FjdGl2ZSkgJiYgX3N3YXBQaW5JbihwaW4sIHNwYWNlciwgX2dldENvbXB1dGVkU3R5bGUocGluKSwgc3BhY2VyU3RhdGUpKTtcbiAgICAgICAgaXNSZXZlcnRlZCA9IHI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNlbGYucmVmcmVzaCA9IGZ1bmN0aW9uIChzb2Z0KSB7XG4gICAgICBpZiAoX3JlZnJlc2hpbmcgfHwgIXNlbGYuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwaW4gJiYgc29mdCAmJiBfbGFzdFNjcm9sbFRpbWUpIHtcbiAgICAgICAgX2FkZExpc3RlbmVyKFNjcm9sbFRyaWdnZXIsIFwic2Nyb2xsRW5kXCIsIF9zb2Z0UmVmcmVzaCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfcmVmcmVzaGluZyA9IDE7XG4gICAgICBzY3J1YlR3ZWVuICYmIHNjcnViVHdlZW4ua2lsbCgpO1xuICAgICAgaW52YWxpZGF0ZU9uUmVmcmVzaCAmJiBhbmltYXRpb24gJiYgYW5pbWF0aW9uLnByb2dyZXNzKDApLmludmFsaWRhdGUoKTtcbiAgICAgIGlzUmV2ZXJ0ZWQgfHwgc2VsZi5yZXZlcnQoKTtcblxuICAgICAgdmFyIHNpemUgPSBnZXRTY3JvbGxlclNpemUoKSxcbiAgICAgICAgICBzY3JvbGxlckJvdW5kcyA9IGdldFNjcm9sbGVyT2Zmc2V0cygpLFxuICAgICAgICAgIG1heCA9IF9tYXhTY3JvbGwoc2Nyb2xsZXIsIGRpcmVjdGlvbiksXG4gICAgICAgICAgb2Zmc2V0ID0gMCxcbiAgICAgICAgICBvdGhlclBpbk9mZnNldCA9IDAsXG4gICAgICAgICAgcGFyc2VkRW5kID0gdmFycy5lbmQsXG4gICAgICAgICAgcGFyc2VkRW5kVHJpZ2dlciA9IHZhcnMuZW5kVHJpZ2dlciB8fCB0cmlnZ2VyLFxuICAgICAgICAgIHBhcnNlZFN0YXJ0ID0gdmFycy5zdGFydCB8fCAodmFycy5zdGFydCA9PT0gMCA/IDAgOiBwaW4gfHwgIXRyaWdnZXIgPyBcIjAgMFwiIDogXCIwIDEwMCVcIiksXG4gICAgICAgICAgdHJpZ2dlckluZGV4ID0gdHJpZ2dlciAmJiBNYXRoLm1heCgwLCBfdHJpZ2dlcnMuaW5kZXhPZihzZWxmKSkgfHwgMCxcbiAgICAgICAgICBpID0gdHJpZ2dlckluZGV4LFxuICAgICAgICAgIGNzLFxuICAgICAgICAgIGJvdW5kcyxcbiAgICAgICAgICBzY3JvbGwsXG4gICAgICAgICAgaXNWZXJ0aWNhbCxcbiAgICAgICAgICBvdmVycmlkZSxcbiAgICAgICAgICBjdXJUcmlnZ2VyLFxuICAgICAgICAgIGN1clBpbixcbiAgICAgICAgICBvcHBvc2l0ZVNjcm9sbDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAvLyB1c2VyIG1pZ2h0IHRyeSB0byBwaW4gdGhlIHNhbWUgZWxlbWVudCBtb3JlIHRoYW4gb25jZSwgc28gd2UgbXVzdCBmaW5kIGFueSBwcmlvciB0cmlnZ2VycyB3aXRoIHRoZSBzYW1lIHBpbiwgcmV2ZXJ0IHRoZW0sIGFuZCBkZXRlcm1pbmUgaG93IGxvbmcgdGhleSdyZSBwaW5uaW5nIHNvIHRoYXQgd2UgY2FuIG9mZnNldCB0aGluZ3MgYXBwcm9wcmlhdGVseS4gTWFrZSBzdXJlIHdlIHJldmVydCBmcm9tIGxhc3QgdG8gZmlyc3Qgc28gdGhhdCB0aGluZ3MgXCJyZXdpbmRcIiBwcm9wZXJseS5cbiAgICAgICAgY3VyUGluID0gX3RyaWdnZXJzW2ldLnBpbjtcbiAgICAgICAgY3VyUGluICYmIChjdXJQaW4gPT09IHRyaWdnZXIgfHwgY3VyUGluID09PSBwaW4pICYmIF90cmlnZ2Vyc1tpXS5yZXZlcnQoKTtcbiAgICAgIH1cblxuICAgICAgc3RhcnQgPSBfcGFyc2VQb3NpdGlvbihwYXJzZWRTdGFydCwgdHJpZ2dlciwgc2l6ZSwgZGlyZWN0aW9uLCBzZWxmLnNjcm9sbCgpLCBtYXJrZXJTdGFydCwgbWFya2VyU3RhcnRUcmlnZ2VyLCBzZWxmLCBzY3JvbGxlckJvdW5kcywgYm9yZGVyV2lkdGgsIHVzZUZpeGVkUG9zaXRpb24sIG1heCkgfHwgKHBpbiA/IC0wLjAwMSA6IDApO1xuICAgICAgX2lzRnVuY3Rpb24ocGFyc2VkRW5kKSAmJiAocGFyc2VkRW5kID0gcGFyc2VkRW5kKHNlbGYpKTtcblxuICAgICAgaWYgKF9pc1N0cmluZyhwYXJzZWRFbmQpICYmICFwYXJzZWRFbmQuaW5kZXhPZihcIis9XCIpKSB7XG4gICAgICAgIGlmICh+cGFyc2VkRW5kLmluZGV4T2YoXCIgXCIpKSB7XG4gICAgICAgICAgcGFyc2VkRW5kID0gKF9pc1N0cmluZyhwYXJzZWRTdGFydCkgPyBwYXJzZWRTdGFydC5zcGxpdChcIiBcIilbMF0gOiBcIlwiKSArIHBhcnNlZEVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvZmZzZXQgPSBfb2Zmc2V0VG9QeChwYXJzZWRFbmQuc3Vic3RyKDIpLCBzaXplKTtcbiAgICAgICAgICBwYXJzZWRFbmQgPSBfaXNTdHJpbmcocGFyc2VkU3RhcnQpID8gcGFyc2VkU3RhcnQgOiBzdGFydCArIG9mZnNldDsgLy8gX3BhcnNlUG9zaXRpb24gd29uJ3QgZmFjdG9yIGluIHRoZSBvZmZzZXQgaWYgdGhlIHN0YXJ0IGlzIGEgbnVtYmVyLCBzbyBkbyBpdCBoZXJlLlxuXG4gICAgICAgICAgcGFyc2VkRW5kVHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZW5kID0gTWF0aC5tYXgoc3RhcnQsIF9wYXJzZVBvc2l0aW9uKHBhcnNlZEVuZCB8fCAocGFyc2VkRW5kVHJpZ2dlciA/IFwiMTAwJSAwXCIgOiBtYXgpLCBwYXJzZWRFbmRUcmlnZ2VyLCBzaXplLCBkaXJlY3Rpb24sIHNlbGYuc2Nyb2xsKCkgKyBvZmZzZXQsIG1hcmtlckVuZCwgbWFya2VyRW5kVHJpZ2dlciwgc2VsZiwgc2Nyb2xsZXJCb3VuZHMsIGJvcmRlcldpZHRoLCB1c2VGaXhlZFBvc2l0aW9uLCBtYXgpKSB8fCAtMC4wMDE7XG4gICAgICBjaGFuZ2UgPSBlbmQgLSBzdGFydCB8fCAoc3RhcnQgLT0gMC4wMSkgJiYgMC4wMDE7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgICAgaSA9IHRyaWdnZXJJbmRleDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjdXJUcmlnZ2VyID0gX3RyaWdnZXJzW2ldO1xuICAgICAgICBjdXJQaW4gPSBjdXJUcmlnZ2VyLnBpbjtcblxuICAgICAgICBpZiAoY3VyUGluICYmIGN1clRyaWdnZXIuc3RhcnQgLSBjdXJUcmlnZ2VyLl9waW5QdXNoIDwgc3RhcnQpIHtcbiAgICAgICAgICBjcyA9IGN1clRyaWdnZXIuZW5kIC0gY3VyVHJpZ2dlci5zdGFydDtcbiAgICAgICAgICBjdXJQaW4gPT09IHRyaWdnZXIgJiYgKG9mZnNldCArPSBjcyk7XG4gICAgICAgICAgY3VyUGluID09PSBwaW4gJiYgKG90aGVyUGluT2Zmc2V0ICs9IGNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdGFydCArPSBvZmZzZXQ7XG4gICAgICBlbmQgKz0gb2Zmc2V0O1xuICAgICAgc2VsZi5fcGluUHVzaCA9IG90aGVyUGluT2Zmc2V0O1xuXG4gICAgICBpZiAobWFya2VyU3RhcnQgJiYgb2Zmc2V0KSB7XG4gICAgICAgIC8vIG9mZnNldCB0aGUgbWFya2VycyBpZiBuZWNlc3NhcnlcbiAgICAgICAgY3MgPSB7fTtcbiAgICAgICAgY3NbZGlyZWN0aW9uLmFdID0gXCIrPVwiICsgb2Zmc2V0O1xuICAgICAgICBnc2FwLnNldChbbWFya2VyU3RhcnQsIG1hcmtlckVuZF0sIGNzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBpbikge1xuICAgICAgICBjcyA9IF9nZXRDb21wdXRlZFN0eWxlKHBpbik7XG4gICAgICAgIGlzVmVydGljYWwgPSBkaXJlY3Rpb24gPT09IF92ZXJ0aWNhbDtcbiAgICAgICAgc2Nyb2xsID0gc2VsZi5zY3JvbGwoKTsgLy8gcmVjYWxjdWxhdGUgYmVjYXVzZSB0aGUgdHJpZ2dlcnMgY2FuIGFmZmVjdCB0aGUgc2Nyb2xsXG5cbiAgICAgICAgcGluU3RhcnQgPSBwYXJzZUZsb2F0KHBpbkdldHRlcihkaXJlY3Rpb24uYSkpICsgb3RoZXJQaW5PZmZzZXQ7XG4gICAgICAgICFtYXggJiYgZW5kID4gMSAmJiAoKGlzVmlld3BvcnQgPyBfYm9keSA6IHNjcm9sbGVyKS5zdHlsZVtcIm92ZXJmbG93LVwiICsgZGlyZWN0aW9uLmFdID0gXCJzY3JvbGxcIik7IC8vIG1ha2VzIHN1cmUgdGhlIHNjcm9sbGVyIGhhcyBhIHNjcm9sbGJhciwgb3RoZXJ3aXNlIGlmIHNvbWV0aGluZyBoYXMgd2lkdGg6IDEwMCUsIGZvciBleGFtcGxlLCBpdCB3b3VsZCBiZSB0b28gYmlnIChleGNsdWRlIHRoZSBzY3JvbGxiYXIpLiBTZWUgaHR0cHM6Ly9ncmVlbnNvY2suY29tL2ZvcnVtcy90b3BpYy8yNTE4Mi1zY3JvbGx0cmlnZ2VyLXdpZHRoLW9mLXBhZ2UtaW5jcmVhc2Utd2hlcmUtbWFya2Vycy1hcmUtc2V0LXRvLWZhbHNlL1xuXG4gICAgICAgIF9zd2FwUGluSW4ocGluLCBzcGFjZXIsIGNzKTtcblxuICAgICAgICBwaW5TdGF0ZSA9IF9nZXRTdGF0ZShwaW4pOyAvLyB0cmFuc2Zvcm1zIHdpbGwgaW50ZXJmZXJlIHdpdGggdGhlIHRvcC9sZWZ0L3JpZ2h0L2JvdHRvbSBwbGFjZW1lbnQsIHNvIHJlbW92ZSB0aGVtIHRlbXBvcmFyaWx5LiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSBmYWN0b3JzIGluIHRyYW5zZm9ybXMuXG5cbiAgICAgICAgYm91bmRzID0gX2dldEJvdW5kcyhwaW4sIHRydWUpO1xuICAgICAgICBvcHBvc2l0ZVNjcm9sbCA9IHVzZUZpeGVkUG9zaXRpb24gJiYgX2dldFNjcm9sbEZ1bmMoc2Nyb2xsZXIsIGlzVmVydGljYWwgPyBfaG9yaXpvbnRhbCA6IF92ZXJ0aWNhbCkoKTtcblxuICAgICAgICBpZiAocGluU3BhY2luZykge1xuICAgICAgICAgIHNwYWNlclN0YXRlID0gW3BpblNwYWNpbmcgKyBkaXJlY3Rpb24ub3MyLCBjaGFuZ2UgKyBvdGhlclBpbk9mZnNldCArIF9weF07XG4gICAgICAgICAgc3BhY2VyU3RhdGUudCA9IHNwYWNlcjtcbiAgICAgICAgICBpID0gcGluU3BhY2luZyA9PT0gX3BhZGRpbmcgPyBfZ2V0U2l6ZShwaW4sIGRpcmVjdGlvbikgKyBjaGFuZ2UgKyBvdGhlclBpbk9mZnNldCA6IDA7XG4gICAgICAgICAgaSAmJiBzcGFjZXJTdGF0ZS5wdXNoKGRpcmVjdGlvbi5kLCBpICsgX3B4KTsgLy8gZm9yIGJveC1zaXppbmc6IGJvcmRlci1ib3ggKG11c3QgaW5jbHVkZSBwYWRkaW5nKS5cblxuICAgICAgICAgIF9zZXRTdGF0ZShzcGFjZXJTdGF0ZSk7XG5cbiAgICAgICAgICB1c2VGaXhlZFBvc2l0aW9uICYmIHNlbGYuc2Nyb2xsKHByZXZTY3JvbGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZUZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICBvdmVycmlkZSA9IHtcbiAgICAgICAgICAgIHRvcDogYm91bmRzLnRvcCArIChpc1ZlcnRpY2FsID8gc2Nyb2xsIC0gc3RhcnQgOiBvcHBvc2l0ZVNjcm9sbCkgKyBfcHgsXG4gICAgICAgICAgICBsZWZ0OiBib3VuZHMubGVmdCArIChpc1ZlcnRpY2FsID8gb3Bwb3NpdGVTY3JvbGwgOiBzY3JvbGwgLSBzdGFydCkgKyBfcHgsXG4gICAgICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIlxuICAgICAgICAgIH07XG4gICAgICAgICAgb3ZlcnJpZGVbX3dpZHRoXSA9IG92ZXJyaWRlW1wibWF4XCIgKyBfV2lkdGhdID0gTWF0aC5jZWlsKGJvdW5kcy53aWR0aCkgKyBfcHg7XG4gICAgICAgICAgb3ZlcnJpZGVbX2hlaWdodF0gPSBvdmVycmlkZVtcIm1heFwiICsgX0hlaWdodF0gPSBNYXRoLmNlaWwoYm91bmRzLmhlaWdodCkgKyBfcHg7XG4gICAgICAgICAgb3ZlcnJpZGVbX21hcmdpbl0gPSBvdmVycmlkZVtfbWFyZ2luICsgX1RvcF0gPSBvdmVycmlkZVtfbWFyZ2luICsgX1JpZ2h0XSA9IG92ZXJyaWRlW19tYXJnaW4gKyBfQm90dG9tXSA9IG92ZXJyaWRlW19tYXJnaW4gKyBfTGVmdF0gPSBcIjBcIjtcbiAgICAgICAgICBvdmVycmlkZVtfcGFkZGluZ10gPSBjc1tfcGFkZGluZ107XG4gICAgICAgICAgb3ZlcnJpZGVbX3BhZGRpbmcgKyBfVG9wXSA9IGNzW19wYWRkaW5nICsgX1RvcF07XG4gICAgICAgICAgb3ZlcnJpZGVbX3BhZGRpbmcgKyBfUmlnaHRdID0gY3NbX3BhZGRpbmcgKyBfUmlnaHRdO1xuICAgICAgICAgIG92ZXJyaWRlW19wYWRkaW5nICsgX0JvdHRvbV0gPSBjc1tfcGFkZGluZyArIF9Cb3R0b21dO1xuICAgICAgICAgIG92ZXJyaWRlW19wYWRkaW5nICsgX0xlZnRdID0gY3NbX3BhZGRpbmcgKyBfTGVmdF07XG4gICAgICAgICAgcGluQWN0aXZlU3RhdGUgPSBfY29weVN0YXRlKHBpbk9yaWdpbmFsU3RhdGUsIG92ZXJyaWRlLCBwaW5SZXBhcmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgICAgLy8gdGhlIGFuaW1hdGlvbiBtaWdodCBiZSBhZmZlY3RpbmcgdGhlIHRyYW5zZm9ybSwgc28gd2UgbXVzdCBqdW1wIHRvIHRoZSBlbmQsIGNoZWNrIHRoZSB2YWx1ZSwgYW5kIGNvbXBlbnNhdGUgYWNjb3JkaW5nbHkuIE90aGVyd2lzZSwgd2hlbiBpdCBiZWNvbWVzIHVucGlubmVkLCB0aGUgcGluU2V0dGVyKCkgd2lsbCBnZXQgc2V0IHRvIGEgdmFsdWUgdGhhdCBkb2Vzbid0IGluY2x1ZGUgd2hhdGV2ZXIgdGhlIGFuaW1hdGlvbiBkaWQuXG4gICAgICAgICAgYW5pbWF0aW9uLnByb2dyZXNzKDEsIHRydWUpO1xuICAgICAgICAgIHBpbkNoYW5nZSA9IHBpbkdldHRlcihkaXJlY3Rpb24uYSkgLSBwaW5TdGFydCArIGNoYW5nZSArIG90aGVyUGluT2Zmc2V0O1xuICAgICAgICAgIGNoYW5nZSAhPT0gcGluQ2hhbmdlICYmIHBpbkFjdGl2ZVN0YXRlLnNwbGljZShwaW5BY3RpdmVTdGF0ZS5sZW5ndGggLSAyLCAyKTsgLy8gdHJhbnNmb3JtIGlzIHRoZSBsYXN0IHByb3BlcnR5L3ZhbHVlIHNldCBpbiB0aGUgc3RhdGUgQXJyYXkuIFNpbmNlIHRoZSBhbmltYXRpb24gaXMgY29udHJvbGxpbmcgdGhhdCwgd2Ugc2hvdWxkIG9taXQgaXQuXG5cbiAgICAgICAgICBhbmltYXRpb24ucHJvZ3Jlc3MoMCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGluQ2hhbmdlID0gY2hhbmdlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgJiYgc2VsZi5zY3JvbGwoKSkge1xuICAgICAgICAvLyBpdCBtYXkgYmUgSU5TSURFIGEgcGlubmVkIGVsZW1lbnQsIHNvIHdhbGsgdXAgdGhlIHRyZWUgYW5kIGxvb2sgZm9yIGFueSBlbGVtZW50cyB3aXRoIF9waW5PZmZzZXQgdG8gY29tcGVuc2F0ZSBiZWNhdXNlIGFueXRoaW5nIHdpdGggcGluU3BhY2luZyB0aGF0J3MgYWxyZWFkeSBzY3JvbGxlZCB3b3VsZCB0aHJvdyBvZmYgdGhlIG1lYXN1cmVtZW50cyBpbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICBib3VuZHMgPSB0cmlnZ2VyLnBhcmVudE5vZGU7XG5cbiAgICAgICAgd2hpbGUgKGJvdW5kcyAmJiBib3VuZHMgIT09IF9ib2R5KSB7XG4gICAgICAgICAgaWYgKGJvdW5kcy5fcGluT2Zmc2V0KSB7XG4gICAgICAgICAgICBzdGFydCAtPSBib3VuZHMuX3Bpbk9mZnNldDtcbiAgICAgICAgICAgIGVuZCAtPSBib3VuZHMuX3Bpbk9mZnNldDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBib3VuZHMgPSBib3VuZHMucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdHJpZ2dlckluZGV4OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHJldmVydCBmcm9tIGZpcnN0IHRvIGxhc3QgdG8gbWFrZSBzdXJlIHRoaW5ncyByZWFjaCB0aGVpciBlbmQgc3RhdGUgcHJvcGVybHlcbiAgICAgICAgY3VyVHJpZ2dlciA9IF90cmlnZ2Vyc1tpXS5waW47XG4gICAgICAgIGN1clRyaWdnZXIgJiYgKGN1clRyaWdnZXIgPT09IHRyaWdnZXIgfHwgY3VyVHJpZ2dlciA9PT0gcGluKSAmJiBfdHJpZ2dlcnNbaV0ucmV2ZXJ0KGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5zdGFydCA9IHN0YXJ0O1xuICAgICAgc2VsZi5lbmQgPSBlbmQ7XG4gICAgICBzY3JvbGwxID0gc2Nyb2xsMiA9IHNlbGYuc2Nyb2xsKCk7IC8vIHJlc2V0IHZlbG9jaXR5XG5cbiAgICAgIHNjcm9sbDEgPCBwcmV2U2Nyb2xsICYmIHNlbGYuc2Nyb2xsKHByZXZTY3JvbGwpO1xuICAgICAgc2VsZi5yZXZlcnQoZmFsc2UpO1xuICAgICAgX3JlZnJlc2hpbmcgPSAwO1xuICAgICAgcHJldkFuaW1Qcm9ncmVzcyAmJiBpc1RvZ2dsZSAmJiBhbmltYXRpb24ucHJvZ3Jlc3MocHJldkFuaW1Qcm9ncmVzcywgdHJ1ZSk7XG5cbiAgICAgIGlmIChwcmV2UHJvZ3Jlc3MgIT09IHNlbGYucHJvZ3Jlc3MpIHtcbiAgICAgICAgLy8gZW5zdXJlcyB0aGF0IHRoZSBkaXJlY3Rpb24gaXMgc2V0IHByb3Blcmx5ICh3aGVuIHJlZnJlc2hpbmcsIHByb2dyZXNzIGlzIHNldCBiYWNrIHRvIDAgaW5pdGlhbGx5LCB0aGVuIGJhY2sgYWdhaW4gdG8gd2hlcmV2ZXIgaXQgbmVlZHMgdG8gYmUpIGFuZCB0aGF0IGNhbGxiYWNrcyBhcmUgdHJpZ2dlcmVkLlxuICAgICAgICBzY3J1YlR3ZWVuICYmIGFuaW1hdGlvbi50b3RhbFByb2dyZXNzKHByZXZQcm9ncmVzcywgdHJ1ZSk7IC8vIHRvIGF2b2lkIGlzc3VlcyB3aGVyZSBhbmltYXRpb24gY2FsbGJhY2tzIGxpa2Ugb25TdGFydCBhcmVuJ3QgdHJpZ2dlcmVkLlxuXG4gICAgICAgIHNlbGYucHJvZ3Jlc3MgPSBwcmV2UHJvZ3Jlc3M7XG4gICAgICAgIHNlbGYudXBkYXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHBpbiAmJiBwaW5TcGFjaW5nICYmIChzcGFjZXIuX3Bpbk9mZnNldCA9IE1hdGgucm91bmQoc2VsZi5wcm9ncmVzcyAqIHBpbkNoYW5nZSkpO1xuICAgICAgb25SZWZyZXNoICYmIG9uUmVmcmVzaChzZWxmKTtcbiAgICB9O1xuXG4gICAgc2VsZi5nZXRWZWxvY2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAoc2VsZi5zY3JvbGwoKSAtIHNjcm9sbDIpIC8gKF9nZXRUaW1lKCkgLSBfdGltZTIpICogMTAwMCB8fCAwO1xuICAgIH07XG5cbiAgICBzZWxmLnVwZGF0ZSA9IGZ1bmN0aW9uIChyZXNldCwgcmVjb3JkVmVsb2NpdHkpIHtcbiAgICAgIHZhciBzY3JvbGwgPSBzZWxmLnNjcm9sbCgpLFxuICAgICAgICAgIHAgPSByZXNldCA/IDAgOiAoc2Nyb2xsIC0gc3RhcnQpIC8gY2hhbmdlLFxuICAgICAgICAgIGNsaXBwZWQgPSBwIDwgMCA/IDAgOiBwID4gMSA/IDEgOiBwIHx8IDAsXG4gICAgICAgICAgcHJldlByb2dyZXNzID0gc2VsZi5wcm9ncmVzcyxcbiAgICAgICAgICBpc0FjdGl2ZSxcbiAgICAgICAgICB3YXNBY3RpdmUsXG4gICAgICAgICAgdG9nZ2xlU3RhdGUsXG4gICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgIHN0YXRlQ2hhbmdlZCxcbiAgICAgICAgICB0b2dnbGVkO1xuXG4gICAgICBpZiAocmVjb3JkVmVsb2NpdHkpIHtcbiAgICAgICAgc2Nyb2xsMiA9IHNjcm9sbDE7XG4gICAgICAgIHNjcm9sbDEgPSBzY3JvbGw7XG5cbiAgICAgICAgaWYgKHNuYXApIHtcbiAgICAgICAgICBzbmFwMiA9IHNuYXAxO1xuICAgICAgICAgIHNuYXAxID0gYW5pbWF0aW9uICYmICFpc1RvZ2dsZSA/IGFuaW1hdGlvbi50b3RhbFByb2dyZXNzKCkgOiBjbGlwcGVkO1xuICAgICAgICB9XG4gICAgICB9IC8vIGFudGljaXBhdGUgdGhlIHBpbm5pbmcgYSBmZXcgdGlja3MgYWhlYWQgb2YgdGltZSBiYXNlZCBvbiB2ZWxvY2l0eSB0byBhdm9pZCBhIHZpc3VhbCBnbGl0Y2ggZHVlIHRvIHRoZSBmYWN0IHRoYXQgbW9zdCBicm93c2VycyBkbyBzY3JvbGxpbmcgb24gYSBzZXBhcmF0ZSB0aHJlYWQgKG5vdCBzeW5jZWQgd2l0aCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLlxuXG5cbiAgICAgIGFudGljaXBhdGVQaW4gJiYgIWNsaXBwZWQgJiYgcGluICYmICFfcmVmcmVzaGluZyAmJiAhX3N0YXJ0dXAgJiYgX2xhc3RTY3JvbGxUaW1lICYmIHN0YXJ0IDwgc2Nyb2xsICsgKHNjcm9sbCAtIHNjcm9sbDIpIC8gKF9nZXRUaW1lKCkgLSBfdGltZTIpICogYW50aWNpcGF0ZVBpbiAmJiAoY2xpcHBlZCA9IDAuMDAwMSk7XG5cbiAgICAgIGlmIChjbGlwcGVkICE9PSBwcmV2UHJvZ3Jlc3MgJiYgc2VsZi5lbmFibGVkKSB7XG4gICAgICAgIGlzQWN0aXZlID0gc2VsZi5pc0FjdGl2ZSA9ICEhY2xpcHBlZCAmJiBjbGlwcGVkIDwgMTtcbiAgICAgICAgd2FzQWN0aXZlID0gISFwcmV2UHJvZ3Jlc3MgJiYgcHJldlByb2dyZXNzIDwgMTtcbiAgICAgICAgdG9nZ2xlZCA9IGlzQWN0aXZlICE9PSB3YXNBY3RpdmU7XG4gICAgICAgIHN0YXRlQ2hhbmdlZCA9IHRvZ2dsZWQgfHwgISFjbGlwcGVkICE9PSAhIXByZXZQcm9ncmVzczsgLy8gY291bGQgZ28gZnJvbSBzdGFydCBhbGwgdGhlIHdheSB0byBlbmQsIHRodXMgaXQgZGlkbid0IHRvZ2dsZSBidXQgaXQgZGlkIGNoYW5nZSBzdGF0ZSBpbiBhIHNlbnNlIChtYXkgbmVlZCB0byBmaXJlIGEgY2FsbGJhY2spXG5cbiAgICAgICAgc2VsZi5kaXJlY3Rpb24gPSBjbGlwcGVkID4gcHJldlByb2dyZXNzID8gMSA6IC0xO1xuICAgICAgICBzZWxmLnByb2dyZXNzID0gY2xpcHBlZDtcblxuICAgICAgICBpZiAoIWlzVG9nZ2xlKSB7XG4gICAgICAgICAgaWYgKHNjcnViVHdlZW4gJiYgIV9yZWZyZXNoaW5nICYmICFfc3RhcnR1cCkge1xuICAgICAgICAgICAgc2NydWJUd2Vlbi52YXJzLnRvdGFsUHJvZ3Jlc3MgPSBjbGlwcGVkO1xuICAgICAgICAgICAgc2NydWJUd2Vlbi5pbnZhbGlkYXRlKCkucmVzdGFydCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBhbmltYXRpb24udG90YWxQcm9ncmVzcyhjbGlwcGVkLCAhIV9yZWZyZXNoaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGluKSB7XG4gICAgICAgICAgcmVzZXQgJiYgcGluU3BhY2luZyAmJiAoc3BhY2VyLnN0eWxlW3BpblNwYWNpbmcgKyBkaXJlY3Rpb24ub3MyXSA9IHNwYWNpbmdTdGFydCk7XG5cbiAgICAgICAgICBpZiAoIXVzZUZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBpblNldHRlcihwaW5TdGFydCArIHBpbkNoYW5nZSAqIGNsaXBwZWQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICBhY3Rpb24gPSAhcmVzZXQgJiYgY2xpcHBlZCA+IHByZXZQcm9ncmVzcyAmJiBlbmQgKyAxID4gc2Nyb2xsICYmIHNjcm9sbCArIDEgPj0gX21heFNjcm9sbChzY3JvbGxlciwgZGlyZWN0aW9uKTsgLy8gaWYgaXQncyBhdCB0aGUgVkVSWSBlbmQgb2YgdGhlIHBhZ2UsIGRvbid0IHN3aXRjaCBhd2F5IGZyb20gcG9zaXRpb246IGZpeGVkIGJlY2F1c2UgaXQncyBwb2ludGxlc3MgYW5kIGl0IGNvdWxkIGNhdXNlIGEgYnJpZWYgZmxhc2ggd2hlbiB0aGUgdXNlciBzY3JvbGxzIGJhY2sgdXAgKHdoZW4gaXQgZ2V0cyBwaW5uZWQgYWdhaW4pXG5cbiAgICAgICAgICAgIGlmIChwaW5SZXBhcmVudCkge1xuICAgICAgICAgICAgICBpZiAoIXJlc2V0ICYmIChpc0FjdGl2ZSB8fCBhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IF9nZXRCb3VuZHMocGluLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgX29mZnNldCA9IHNjcm9sbCAtIHN0YXJ0O1xuXG4gICAgICAgICAgICAgICAgX3JlcGFyZW50KHBpbiwgX2JvZHksIGJvdW5kcy50b3AgKyAoZGlyZWN0aW9uID09PSBfdmVydGljYWwgPyBfb2Zmc2V0IDogMCkgKyBfcHgsIGJvdW5kcy5sZWZ0ICsgKGRpcmVjdGlvbiA9PT0gX3ZlcnRpY2FsID8gMCA6IF9vZmZzZXQpICsgX3B4KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfcmVwYXJlbnQocGluLCBzcGFjZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9zZXRTdGF0ZShpc0FjdGl2ZSB8fCBhY3Rpb24gPyBwaW5BY3RpdmVTdGF0ZSA6IHBpblN0YXRlKTtcblxuICAgICAgICAgICAgcGluQ2hhbmdlICE9PSBjaGFuZ2UgJiYgY2xpcHBlZCA8IDEgJiYgaXNBY3RpdmUgfHwgcGluU2V0dGVyKHBpblN0YXJ0ICsgKGNsaXBwZWQgPT09IDEgJiYgIWFjdGlvbiA/IHBpbkNoYW5nZSA6IDApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzbmFwICYmICF0d2VlblRvLnR3ZWVuICYmICFfcmVmcmVzaGluZyAmJiAhX3N0YXJ0dXAgJiYgc25hcERlbGF5ZWRDYWxsLnJlc3RhcnQodHJ1ZSk7XG4gICAgICAgIHRvZ2dsZUNsYXNzICYmICh0b2dnbGVkIHx8IG9uY2UgJiYgY2xpcHBlZCAmJiAoY2xpcHBlZCA8IDEgfHwgIV9saW1pdENhbGxiYWNrcykpICYmIF90b0FycmF5KHRvZ2dsZUNsYXNzLnRhcmdldHMpLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsLmNsYXNzTGlzdFtpc0FjdGl2ZSB8fCBvbmNlID8gXCJhZGRcIiA6IFwicmVtb3ZlXCJdKHRvZ2dsZUNsYXNzLmNsYXNzTmFtZSk7XG4gICAgICAgIH0pOyAvLyBjbGFzc2VzIGNvdWxkIGFmZmVjdCBwb3NpdGlvbmluZywgc28gZG8gaXQgZXZlbiBpZiByZXNldCBvciByZWZyZXNoaW5nIGlzIHRydWUuXG5cbiAgICAgICAgb25VcGRhdGUgJiYgIWlzVG9nZ2xlICYmICFyZXNldCAmJiBvblVwZGF0ZShzZWxmKTtcblxuICAgICAgICBpZiAoc3RhdGVDaGFuZ2VkICYmICFfcmVmcmVzaGluZykge1xuICAgICAgICAgIHRvZ2dsZVN0YXRlID0gY2xpcHBlZCAmJiAhcHJldlByb2dyZXNzID8gMCA6IGNsaXBwZWQgPT09IDEgPyAxIDogcHJldlByb2dyZXNzID09PSAxID8gMiA6IDM7IC8vIDAgPSBlbnRlciwgMSA9IGxlYXZlLCAyID0gZW50ZXJCYWNrLCAzID0gbGVhdmVCYWNrICh3ZSBwcmlvcml0aXplIHRoZSBGSVJTVCBlbmNvdW50ZXIsIHRodXMgaWYgeW91IHNjcm9sbCByZWFsbHkgZmFzdCBwYXN0IHRoZSBvbkVudGVyIGFuZCBvbkxlYXZlIGluIG9uZSB0aWNrLCBpdCdkIHByaW9yaXRpemUgb25FbnRlci5cblxuICAgICAgICAgIGlmIChpc1RvZ2dsZSkge1xuICAgICAgICAgICAgYWN0aW9uID0gIXRvZ2dsZWQgJiYgdG9nZ2xlQWN0aW9uc1t0b2dnbGVTdGF0ZSArIDFdICE9PSBcIm5vbmVcIiAmJiB0b2dnbGVBY3Rpb25zW3RvZ2dsZVN0YXRlICsgMV0gfHwgdG9nZ2xlQWN0aW9uc1t0b2dnbGVTdGF0ZV07IC8vIGlmIGl0IGRpZG4ndCB0b2dnbGUsIHRoYXQgbWVhbnMgaXQgc2hvdCByaWdodCBwYXN0IGFuZCBzaW5jZSB3ZSBwcmlvcml0aXplIHRoZSBcImVudGVyXCIgYWN0aW9uLCB3ZSBzaG91bGQgc3dpdGNoIHRvIHRoZSBcImxlYXZlXCIgaW4gdGhpcyBjYXNlIChidXQgb25seSBpZiBvbmUgaXMgZGVmaW5lZClcblxuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbiAmJiAoYWN0aW9uID09PSBcImNvbXBsZXRlXCIgfHwgYWN0aW9uID09PSBcInJlc2V0XCIgfHwgYWN0aW9uIGluIGFuaW1hdGlvbikpIHtcbiAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnBhdXNlKCkudG90YWxQcm9ncmVzcygxKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5yZXN0YXJ0KHRydWUpLnBhdXNlKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uW2FjdGlvbl0oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvblVwZGF0ZSAmJiBvblVwZGF0ZShzZWxmKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodG9nZ2xlZCB8fCAhX2xpbWl0Q2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAvLyBvbiBzdGFydHVwLCB0aGUgcGFnZSBjb3VsZCBiZSBzY3JvbGxlZCBhbmQgd2UgZG9uJ3Qgd2FudCB0byBmaXJlIGNhbGxiYWNrcyB0aGF0IGRpZG4ndCB0b2dnbGUuIEZvciBleGFtcGxlIG9uRW50ZXIgc2hvdWxkbid0IGZpcmUgaWYgdGhlIFNjcm9sbFRyaWdnZXIgaXNuJ3QgYWN0dWFsbHkgZW50ZXJlZC5cbiAgICAgICAgICAgIG9uVG9nZ2xlICYmIHRvZ2dsZWQgJiYgb25Ub2dnbGUoc2VsZik7XG4gICAgICAgICAgICBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdICYmIGNhbGxiYWNrc1t0b2dnbGVTdGF0ZV0oc2VsZik7XG4gICAgICAgICAgICBvbmNlICYmIChjbGlwcGVkID09PSAxID8gc2VsZi5raWxsKGZhbHNlLCAxKSA6IGNhbGxiYWNrc1t0b2dnbGVTdGF0ZV0gPSAwKTsgLy8gYSBjYWxsYmFjayBzaG91bGRuJ3QgYmUgY2FsbGVkIGFnYWluIGlmIG9uY2UgaXMgdHJ1ZS5cblxuICAgICAgICAgICAgaWYgKCF0b2dnbGVkKSB7XG4gICAgICAgICAgICAgIC8vIGl0J3MgcG9zc2libGUgdG8gZ28gY29tcGxldGVseSBwYXN0LCBsaWtlIGZyb20gYmVmb3JlIHRoZSBzdGFydCB0byBhZnRlciB0aGUgZW5kIChvciB2aWNlLXZlcnNhKSBpbiB3aGljaCBjYXNlIEJPVEggY2FsbGJhY2tzIHNob3VsZCBiZSBmaXJlZCBpbiB0aGF0IG9yZGVyXG4gICAgICAgICAgICAgIHRvZ2dsZVN0YXRlID0gY2xpcHBlZCA9PT0gMSA/IDEgOiAzO1xuICAgICAgICAgICAgICBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdICYmIGNhbGxiYWNrc1t0b2dnbGVTdGF0ZV0oc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzVG9nZ2xlICYmIG9uVXBkYXRlICYmICFfcmVmcmVzaGluZykge1xuICAgICAgICAgIG9uVXBkYXRlKHNlbGYpO1xuICAgICAgICB9XG4gICAgICB9IC8vIHVwZGF0ZSBhYnNvbHV0ZWx5LXBvc2l0aW9uZWQgbWFya2VycyAob25seSBpZiB0aGUgc2Nyb2xsZXIgaXNuJ3QgdGhlIHZpZXdwb3J0KVxuXG5cbiAgICAgIGlmIChtYXJrZXJFbmRTZXR0ZXIpIHtcbiAgICAgICAgbWFya2VyU3RhcnRTZXR0ZXIoc2Nyb2xsICsgKG1hcmtlclN0YXJ0VHJpZ2dlci5faXNGbGlwcGVkID8gMSA6IDApKTtcbiAgICAgICAgbWFya2VyRW5kU2V0dGVyKHNjcm9sbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNlbGYuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzZWxmLmVuYWJsZWQpIHtcbiAgICAgICAgc2VsZi5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICBfYWRkTGlzdGVuZXIoc2Nyb2xsZXIsIFwicmVzaXplXCIsIF9vblJlc2l6ZSk7XG5cbiAgICAgICAgX2FkZExpc3RlbmVyKHNjcm9sbGVyLCBcInNjcm9sbFwiLCBfb25TY3JvbGwpO1xuXG4gICAgICAgIG9uUmVmcmVzaEluaXQgJiYgX2FkZExpc3RlbmVyKFNjcm9sbFRyaWdnZXIsIFwicmVmcmVzaEluaXRcIiwgb25SZWZyZXNoSW5pdCk7XG4gICAgICAgICFhbmltYXRpb24gfHwgIWFuaW1hdGlvbi5hZGQgPyBzZWxmLnJlZnJlc2goKSA6IGdzYXAuZGVsYXllZENhbGwoMC4wMSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzdGFydCB8fCBlbmQgfHwgc2VsZi5yZWZyZXNoKCk7XG4gICAgICAgIH0pICYmIChjaGFuZ2UgPSAwLjAxKSAmJiAoc3RhcnQgPSBlbmQgPSAwKTsgLy8gaWYgdGhlIGFuaW1hdGlvbiBpcyBhIHRpbWVsaW5lLCBpdCBtYXkgbm90IGhhdmUgYmVlbiBwb3B1bGF0ZWQgeWV0LCBzbyBpdCB3b3VsZG4ndCByZW5kZXIgYXQgdGhlIHByb3BlciBwbGFjZSBvbiB0aGUgZmlyc3QgcmVmcmVzaCgpLCB0aHVzIHdlIHNob3VsZCBzY2hlZHVsZSBvbmUgZm9yIHRoZSBuZXh0IHRpY2suXG4gICAgICB9XG4gICAgfTtcblxuICAgIHNlbGYuZGlzYWJsZSA9IGZ1bmN0aW9uIChyZXNldCwgYWxsb3dBbmltYXRpb24pIHtcbiAgICAgIGlmIChzZWxmLmVuYWJsZWQpIHtcbiAgICAgICAgcmVzZXQgIT09IGZhbHNlICYmIHNlbGYucmV2ZXJ0KCk7XG4gICAgICAgIHNlbGYuZW5hYmxlZCA9IHNlbGYuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgYWxsb3dBbmltYXRpb24gfHwgc2NydWJUd2VlbiAmJiBzY3J1YlR3ZWVuLnBhdXNlKCk7XG4gICAgICAgIHByZXZTY3JvbGwgPSAwO1xuICAgICAgICBwaW5DYWNoZSAmJiAocGluQ2FjaGUudW5jYWNoZSA9IDEpO1xuICAgICAgICBvblJlZnJlc2hJbml0ICYmIF9yZW1vdmVMaXN0ZW5lcihTY3JvbGxUcmlnZ2VyLCBcInJlZnJlc2hJbml0XCIsIG9uUmVmcmVzaEluaXQpO1xuXG4gICAgICAgIGlmIChzbmFwRGVsYXllZENhbGwpIHtcbiAgICAgICAgICBzbmFwRGVsYXllZENhbGwucGF1c2UoKTtcbiAgICAgICAgICB0d2VlblRvLnR3ZWVuICYmIHR3ZWVuVG8udHdlZW4ua2lsbCgpICYmICh0d2VlblRvLnR3ZWVuID0gMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzVmlld3BvcnQpIHtcbiAgICAgICAgICB2YXIgaSA9IF90cmlnZ2Vycy5sZW5ndGg7XG5cbiAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBpZiAoX3RyaWdnZXJzW2ldLnNjcm9sbGVyID09PSBzY3JvbGxlciAmJiBfdHJpZ2dlcnNbaV0gIT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgcmV0dXJuOyAvL2Rvbid0IHJlbW92ZSB0aGUgbGlzdGVuZXJzIGlmIHRoZXJlIGFyZSBzdGlsbCBvdGhlciB0cmlnZ2VycyByZWZlcmVuY2luZyBpdC5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIoc2Nyb2xsZXIsIFwicmVzaXplXCIsIF9vblJlc2l6ZSk7XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIoc2Nyb2xsZXIsIFwic2Nyb2xsXCIsIF9vblNjcm9sbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2VsZi5raWxsID0gZnVuY3Rpb24gKHJldmVydCwgYWxsb3dBbmltYXRpb24pIHtcbiAgICAgIHNlbGYuZGlzYWJsZShyZXZlcnQsIGFsbG93QW5pbWF0aW9uKTtcbiAgICAgIGlkICYmIGRlbGV0ZSBfaWRzW2lkXTtcblxuICAgICAgdmFyIGkgPSBfdHJpZ2dlcnMuaW5kZXhPZihzZWxmKTtcblxuICAgICAgX3RyaWdnZXJzLnNwbGljZShpLCAxKTtcblxuICAgICAgaSA9PT0gX2kgJiYgX2RpcmVjdGlvbiA+IDAgJiYgX2ktLTsgLy8gaWYgd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHJlZnJlc2goKSBvciB1cGRhdGUoKSwgc3BsaWNpbmcgd291bGQgY2F1c2Ugc2tpcHMgaW4gdGhlIGluZGV4LCBzbyBhZGp1c3QuLi5cblxuICAgICAgaWYgKGFuaW1hdGlvbikge1xuICAgICAgICBhbmltYXRpb24uc2Nyb2xsVHJpZ2dlciA9IG51bGw7XG4gICAgICAgIHJldmVydCAmJiBhbmltYXRpb24ucmVuZGVyKC0xKTtcbiAgICAgICAgYWxsb3dBbmltYXRpb24gfHwgYW5pbWF0aW9uLmtpbGwoKTtcbiAgICAgIH1cblxuICAgICAgbWFya2VyU3RhcnQgJiYgW21hcmtlclN0YXJ0LCBtYXJrZXJFbmQsIG1hcmtlclN0YXJ0VHJpZ2dlciwgbWFya2VyRW5kVHJpZ2dlcl0uZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG0pO1xuICAgICAgfSk7XG4gICAgICBwaW5DYWNoZSAmJiAocGluQ2FjaGUudW5jYWNoZSA9IDEpO1xuICAgIH07XG5cbiAgICBzZWxmLmVuYWJsZSgpO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3Rlcihjb3JlKSB7XG4gICAgaWYgKCFfY29yZUluaXR0ZWQpIHtcbiAgICAgIGdzYXAgPSBjb3JlIHx8IF9nZXRHU0FQKCk7XG5cbiAgICAgIGlmIChfd2luZG93RXhpc3RzKCkgJiYgd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgIF93aW4gPSB3aW5kb3c7XG4gICAgICAgIF9kb2MgPSBkb2N1bWVudDtcbiAgICAgICAgX2RvY0VsID0gX2RvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIF9ib2R5ID0gX2RvYy5ib2R5O1xuICAgICAgfVxuXG4gICAgICBpZiAoZ3NhcCkge1xuICAgICAgICBfdG9BcnJheSA9IGdzYXAudXRpbHMudG9BcnJheTtcbiAgICAgICAgX2NsYW1wID0gZ3NhcC51dGlscy5jbGFtcDtcbiAgICAgICAgZ3NhcC5jb3JlLmdsb2JhbHMoXCJTY3JvbGxUcmlnZ2VyXCIsIFNjcm9sbFRyaWdnZXIpOyAvLyBtdXN0IHJlZ2lzdGVyIHRoZSBnbG9iYWwgbWFudWFsbHkgYmVjYXVzZSBpbiBJbnRlcm5ldCBFeHBsb3JlciwgZnVuY3Rpb25zIChjbGFzc2VzKSBkb24ndCBoYXZlIGEgXCJuYW1lXCIgcHJvcGVydHkuXG5cbiAgICAgICAgaWYgKF9ib2R5KSB7XG4gICAgICAgICAgX3JhZiA9IF93aW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmLCAxNik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIF9hZGRMaXN0ZW5lcihfd2luLCBcIm1vdXNld2hlZWxcIiwgX29uU2Nyb2xsKTtcblxuICAgICAgICAgIF9yb290ID0gW193aW4sIF9kb2MsIF9kb2NFbCwgX2JvZHldO1xuXG4gICAgICAgICAgX2FkZExpc3RlbmVyKF9kb2MsIFwic2Nyb2xsXCIsIF9vblNjcm9sbCk7IC8vIHNvbWUgYnJvd3NlcnMgKGxpa2UgQ2hyb21lKSwgdGhlIHdpbmRvdyBzdG9wcyBkaXNwYXRjaGluZyBzY3JvbGwgZXZlbnRzIG9uIHRoZSB3aW5kb3cgaWYgeW91IHNjcm9sbCByZWFsbHkgZmFzdCwgYnV0IGl0J3MgY29uc2lzdGVudCBvbiB0aGUgZG9jdW1lbnQhXG5cblxuICAgICAgICAgIHZhciBib2R5U3R5bGUgPSBfYm9keS5zdHlsZSxcbiAgICAgICAgICAgICAgYm9yZGVyID0gYm9keVN0eWxlLmJvcmRlclRvcCxcbiAgICAgICAgICAgICAgYm91bmRzO1xuICAgICAgICAgIGJvZHlTdHlsZS5ib3JkZXJUb3AgPSBcIjFweCBzb2xpZCAjMDAwXCI7IC8vIHdvcmtzIGFyb3VuZCBhbiBpc3N1ZSB3aGVyZSBhIG1hcmdpbiBvZiBhIGNoaWxkIGVsZW1lbnQgY291bGQgdGhyb3cgb2ZmIHRoZSBib3VuZHMgb2YgdGhlIF9ib2R5LCBtYWtpbmcgaXQgc2VlbSBsaWtlIHRoZXJlJ3MgYSBtYXJnaW4gd2hlbiB0aGVyZSBhY3R1YWxseSBpc24ndC4gVGhlIGJvcmRlciBlbnN1cmVzIHRoYXQgdGhlIGJvdW5kcyBhcmUgYWNjdXJhdGUuXG5cbiAgICAgICAgICBib3VuZHMgPSBfZ2V0Qm91bmRzKF9ib2R5KTtcbiAgICAgICAgICBfdmVydGljYWwubSA9IE1hdGgucm91bmQoYm91bmRzLnRvcCArIF92ZXJ0aWNhbC5zYygpKSB8fCAwOyAvLyBhY2NvbW1vZGF0ZSB0aGUgb2Zmc2V0IG9mIHRoZSA8Ym9keT4gY2F1c2VkIGJ5IG1hcmdpbnMgYW5kL29yIHBhZGRpbmdcblxuICAgICAgICAgIF9ob3Jpem9udGFsLm0gPSBNYXRoLnJvdW5kKGJvdW5kcy5sZWZ0ICsgX2hvcml6b250YWwuc2MoKSkgfHwgMDtcbiAgICAgICAgICBib3JkZXIgPyBib2R5U3R5bGUuYm9yZGVyVG9wID0gYm9yZGVyIDogYm9keVN0eWxlLnJlbW92ZVByb3BlcnR5KFwiYm9yZGVyLXRvcFwiKTtcbiAgICAgICAgICBfc3luY0ludGVydmFsID0gc2V0SW50ZXJ2YWwoX3N5bmMsIDIwMCk7XG4gICAgICAgICAgZ3NhcC5kZWxheWVkQ2FsbCgwLjUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3RhcnR1cCA9IDA7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfYWRkTGlzdGVuZXIoX2RvYywgXCJ0b3VjaGNhbmNlbFwiLCBfcGFzc1Rocm91Z2gpOyAvLyBzb21lIG9sZGVyIEFuZHJvaWQgZGV2aWNlcyBpbnRlcm1pdHRlbnRseSBzdG9wIGRpc3BhdGNoaW5nIFwidG91Y2htb3ZlXCIgZXZlbnRzIGlmIHdlIGRvbid0IGxpc3RlbiBmb3IgXCJ0b3VjaGNhbmNlbFwiIG9uIHRoZSBkb2N1bWVudC5cblxuXG4gICAgICAgICAgX2FkZExpc3RlbmVyKF9ib2R5LCBcInRvdWNoc3RhcnRcIiwgX3Bhc3NUaHJvdWdoKTsgLy93b3JrcyBhcm91bmQgU2FmYXJpIGJ1ZzogaHR0cHM6Ly9ncmVlbnNvY2suY29tL2ZvcnVtcy90b3BpYy8yMTQ1MC1kcmFnZ2FibGUtaW4taWZyYW1lLW9uLW1vYmlsZS1pcy1idWdneS9cblxuXG4gICAgICAgICAgX211bHRpTGlzdGVuZXIoX2FkZExpc3RlbmVyLCBfZG9jLCBcInBvaW50ZXJkb3duLHRvdWNoc3RhcnQsbW91c2Vkb3duXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfcG9pbnRlcklzRG93biA9IDE7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfbXVsdGlMaXN0ZW5lcihfYWRkTGlzdGVuZXIsIF9kb2MsIFwicG9pbnRlcnVwLHRvdWNoZW5kLG1vdXNldXBcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9wb2ludGVySXNEb3duID0gMDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90cmFuc2Zvcm1Qcm9wID0gZ3NhcC51dGlscy5jaGVja1ByZWZpeChcInRyYW5zZm9ybVwiKTtcblxuICAgICAgICAgIF9zdGF0ZVByb3BzLnB1c2goX3RyYW5zZm9ybVByb3ApO1xuXG4gICAgICAgICAgX2NvcmVJbml0dGVkID0gX2dldFRpbWUoKTtcbiAgICAgICAgICBfcmVzaXplRGVsYXkgPSBnc2FwLmRlbGF5ZWRDYWxsKDAuMiwgX3JlZnJlc2hBbGwpLnBhdXNlKCk7XG4gICAgICAgICAgX2F1dG9SZWZyZXNoID0gW19kb2MsIFwidmlzaWJpbGl0eWNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdyA9IF93aW4uaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgICBoID0gX3dpbi5pbm5lckhlaWdodDtcblxuICAgICAgICAgICAgaWYgKF9kb2MuaGlkZGVuKSB7XG4gICAgICAgICAgICAgIF9wcmV2V2lkdGggPSB3O1xuICAgICAgICAgICAgICBfcHJldkhlaWdodCA9IGg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9wcmV2V2lkdGggIT09IHcgfHwgX3ByZXZIZWlnaHQgIT09IGgpIHtcbiAgICAgICAgICAgICAgX29uUmVzaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgX2RvYywgXCJET01Db250ZW50TG9hZGVkXCIsIF9yZWZyZXNoQWxsLCBfd2luLCBcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9sYXN0U2Nyb2xsVGltZSB8fCBfcmVmcmVzaEFsbCgpO1xuICAgICAgICAgIH0sIF93aW4sIFwicmVzaXplXCIsIF9vblJlc2l6ZV07XG5cbiAgICAgICAgICBfaXRlcmF0ZUF1dG9SZWZyZXNoKF9hZGRMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2NvcmVJbml0dGVkO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIuZGVmYXVsdHMgPSBmdW5jdGlvbiBkZWZhdWx0cyhjb25maWcpIHtcbiAgICBmb3IgKHZhciBwIGluIGNvbmZpZykge1xuICAgICAgX2RlZmF1bHRzW3BdID0gY29uZmlnW3BdO1xuICAgIH1cbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyLmtpbGwgPSBmdW5jdGlvbiBraWxsKCkge1xuICAgIF9lbmFibGVkID0gMDtcblxuICAgIF90cmlnZ2Vycy5zbGljZSgwKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG4gICAgICByZXR1cm4gdHJpZ2dlci5raWxsKDEpO1xuICAgIH0pO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIuY29uZmlnID0gZnVuY3Rpb24gY29uZmlnKHZhcnMpIHtcbiAgICBcImxpbWl0Q2FsbGJhY2tzXCIgaW4gdmFycyAmJiAoX2xpbWl0Q2FsbGJhY2tzID0gISF2YXJzLmxpbWl0Q2FsbGJhY2tzKTtcbiAgICB2YXIgbXMgPSB2YXJzLnN5bmNJbnRlcnZhbDtcbiAgICBtcyAmJiBjbGVhckludGVydmFsKF9zeW5jSW50ZXJ2YWwpIHx8IChfc3luY0ludGVydmFsID0gbXMpICYmIHNldEludGVydmFsKF9zeW5jLCBtcyk7XG4gICAgXCJhdXRvUmVmcmVzaEV2ZW50c1wiIGluIHZhcnMgJiYgKF9pdGVyYXRlQXV0b1JlZnJlc2goX3JlbW92ZUxpc3RlbmVyKSB8fCBfaXRlcmF0ZUF1dG9SZWZyZXNoKF9hZGRMaXN0ZW5lciwgdmFycy5hdXRvUmVmcmVzaEV2ZW50cyB8fCBcIm5vbmVcIikpO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIuc2Nyb2xsZXJQcm94eSA9IGZ1bmN0aW9uIHNjcm9sbGVyUHJveHkodGFyZ2V0LCB2YXJzKSB7XG4gICAgdmFyIHQgPSBfdG9BcnJheSh0YXJnZXQpWzBdO1xuXG4gICAgX2lzVmlld3BvcnQodCkgPyBfcHJveGllcy51bnNoaWZ0KF93aW4sIHZhcnMsIF9ib2R5LCB2YXJzLCBfZG9jRWwsIHZhcnMpIDogX3Byb3hpZXMudW5zaGlmdCh0LCB2YXJzKTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyLm1hdGNoTWVkaWEgPSBmdW5jdGlvbiBtYXRjaE1lZGlhKHZhcnMpIHtcbiAgICAvLyBfbWVkaWEgaXMgcG9wdWxhdGVkIGluIHRoZSBmb2xsb3dpbmcgb3JkZXI6IG1lZGlhUXVlcnlTdHJpbmcsIG9uTWF0Y2gsIG9uVW5tYXRjaCwgaXNNYXRjaGVkLiBTbyBpZiB0aGVyZSBhcmUgdHdvIG1lZGlhIHF1ZXJpZXMsIHRoZSBBcnJheSB3b3VsZCBoYXZlIGEgbGVuZ3RoIG9mIDhcbiAgICB2YXIgbXEsIHAsIGksIGZ1bmMsIHJlc3VsdDtcblxuICAgIGZvciAocCBpbiB2YXJzKSB7XG4gICAgICBpID0gX21lZGlhLmluZGV4T2YocCk7XG4gICAgICBmdW5jID0gdmFyc1twXTtcbiAgICAgIF9jcmVhdGluZ01lZGlhID0gcDtcblxuICAgICAgaWYgKHAgPT09IFwiYWxsXCIpIHtcbiAgICAgICAgZnVuYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXEgPSBfd2luLm1hdGNoTWVkaWEocCk7XG5cbiAgICAgICAgaWYgKG1xKSB7XG4gICAgICAgICAgbXEubWF0Y2hlcyAmJiAocmVzdWx0ID0gZnVuYygpKTtcblxuICAgICAgICAgIGlmICh+aSkge1xuICAgICAgICAgICAgX21lZGlhW2kgKyAxXSA9IF9jb21iaW5lRnVuYyhfbWVkaWFbaSArIDFdLCBmdW5jKTtcbiAgICAgICAgICAgIF9tZWRpYVtpICsgMl0gPSBfY29tYmluZUZ1bmMoX21lZGlhW2kgKyAyXSwgcmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaSA9IF9tZWRpYS5sZW5ndGg7XG5cbiAgICAgICAgICAgIF9tZWRpYS5wdXNoKHAsIGZ1bmMsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgIG1xLmFkZExpc3RlbmVyID8gbXEuYWRkTGlzdGVuZXIoX29uTWVkaWFDaGFuZ2UpIDogbXEuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBfb25NZWRpYUNoYW5nZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX21lZGlhW2kgKyAzXSA9IG1xLm1hdGNoZXM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX2NyZWF0aW5nTWVkaWEgPSAwO1xuICAgIH1cblxuICAgIHJldHVybiBfbWVkaWE7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlci5jbGVhck1hdGNoTWVkaWEgPSBmdW5jdGlvbiBjbGVhck1hdGNoTWVkaWEocXVlcnkpIHtcbiAgICBxdWVyeSB8fCAoX21lZGlhLmxlbmd0aCA9IDApO1xuICAgIHF1ZXJ5ID0gX21lZGlhLmluZGV4T2YocXVlcnkpO1xuICAgIHF1ZXJ5ID49IDAgJiYgX21lZGlhLnNwbGljZShxdWVyeSwgNCk7XG4gIH07XG5cbiAgcmV0dXJuIFNjcm9sbFRyaWdnZXI7XG59KCk7XG5TY3JvbGxUcmlnZ2VyLnZlcnNpb24gPSBcIjMuNS4xXCI7XG5cblNjcm9sbFRyaWdnZXIuc2F2ZVN0eWxlcyA9IGZ1bmN0aW9uICh0YXJnZXRzKSB7XG4gIHJldHVybiB0YXJnZXRzID8gX3RvQXJyYXkodGFyZ2V0cykuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdmFyIGkgPSBfc2F2ZWRTdHlsZXMuaW5kZXhPZih0YXJnZXQpO1xuXG4gICAgaSA+PSAwICYmIF9zYXZlZFN0eWxlcy5zcGxpY2UoaSwgNCk7XG5cbiAgICBfc2F2ZWRTdHlsZXMucHVzaCh0YXJnZXQsIHRhcmdldC5zdHlsZS5jc3NUZXh0LCBnc2FwLmNvcmUuZ2V0Q2FjaGUodGFyZ2V0KSwgX2NyZWF0aW5nTWVkaWEpO1xuICB9KSA6IF9zYXZlZFN0eWxlcztcbn07XG5cblNjcm9sbFRyaWdnZXIucmV2ZXJ0ID0gZnVuY3Rpb24gKHNvZnQsIG1lZGlhKSB7XG4gIHJldHVybiBfcmV2ZXJ0QWxsKCFzb2Z0LCBtZWRpYSk7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLmNyZWF0ZSA9IGZ1bmN0aW9uICh2YXJzLCBhbmltYXRpb24pIHtcbiAgcmV0dXJuIG5ldyBTY3JvbGxUcmlnZ2VyKHZhcnMsIGFuaW1hdGlvbik7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLnJlZnJlc2ggPSBmdW5jdGlvbiAoc2FmZSkge1xuICByZXR1cm4gc2FmZSA/IF9vblJlc2l6ZSgpIDogX3JlZnJlc2hBbGwodHJ1ZSk7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLnVwZGF0ZSA9IF91cGRhdGVBbGw7XG5cblNjcm9sbFRyaWdnZXIubWF4U2Nyb2xsID0gZnVuY3Rpb24gKGVsZW1lbnQsIGhvcml6b250YWwpIHtcbiAgcmV0dXJuIF9tYXhTY3JvbGwoZWxlbWVudCwgaG9yaXpvbnRhbCA/IF9ob3Jpem9udGFsIDogX3ZlcnRpY2FsKTtcbn07XG5cblNjcm9sbFRyaWdnZXIuZ2V0U2Nyb2xsRnVuYyA9IGZ1bmN0aW9uIChlbGVtZW50LCBob3Jpem9udGFsKSB7XG4gIHJldHVybiBfZ2V0U2Nyb2xsRnVuYyhfdG9BcnJheShlbGVtZW50KVswXSwgaG9yaXpvbnRhbCA/IF9ob3Jpem9udGFsIDogX3ZlcnRpY2FsKTtcbn07XG5cblNjcm9sbFRyaWdnZXIuZ2V0QnlJZCA9IGZ1bmN0aW9uIChpZCkge1xuICByZXR1cm4gX2lkc1tpZF07XG59O1xuXG5TY3JvbGxUcmlnZ2VyLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIF90cmlnZ2Vycy5zbGljZSgwKTtcbn07XG5cblNjcm9sbFRyaWdnZXIuaXNTY3JvbGxpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhIV9sYXN0U2Nyb2xsVGltZTtcbn07XG5cblNjcm9sbFRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBjYWxsYmFjaykge1xuICB2YXIgYSA9IF9saXN0ZW5lcnNbdHlwZV0gfHwgKF9saXN0ZW5lcnNbdHlwZV0gPSBbXSk7XG4gIH5hLmluZGV4T2YoY2FsbGJhY2spIHx8IGEucHVzaChjYWxsYmFjayk7XG59O1xuXG5TY3JvbGxUcmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgY2FsbGJhY2spIHtcbiAgdmFyIGEgPSBfbGlzdGVuZXJzW3R5cGVdLFxuICAgICAgaSA9IGEgJiYgYS5pbmRleE9mKGNhbGxiYWNrKTtcbiAgaSA+PSAwICYmIGEuc3BsaWNlKGksIDEpO1xufTtcblxuU2Nyb2xsVHJpZ2dlci5iYXRjaCA9IGZ1bmN0aW9uICh0YXJnZXRzLCB2YXJzKSB7XG4gIHZhciByZXN1bHQgPSBbXSxcbiAgICAgIHZhcnNDb3B5ID0ge30sXG4gICAgICBpbnRlcnZhbCA9IHZhcnMuaW50ZXJ2YWwgfHwgMC4wMTYsXG4gICAgICBiYXRjaE1heCA9IHZhcnMuYmF0Y2hNYXggfHwgMWU5LFxuICAgICAgcHJveHlDYWxsYmFjayA9IGZ1bmN0aW9uIHByb3h5Q2FsbGJhY2sodHlwZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZWxlbWVudHMgPSBbXSxcbiAgICAgICAgdHJpZ2dlcnMgPSBbXSxcbiAgICAgICAgZGVsYXkgPSBnc2FwLmRlbGF5ZWRDYWxsKGludGVydmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhlbGVtZW50cywgdHJpZ2dlcnMpO1xuICAgICAgZWxlbWVudHMgPSBbXTtcbiAgICAgIHRyaWdnZXJzID0gW107XG4gICAgfSkucGF1c2UoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNlbGYpIHtcbiAgICAgIGVsZW1lbnRzLmxlbmd0aCB8fCBkZWxheS5yZXN0YXJ0KHRydWUpO1xuICAgICAgZWxlbWVudHMucHVzaChzZWxmLnRyaWdnZXIpO1xuICAgICAgdHJpZ2dlcnMucHVzaChzZWxmKTtcbiAgICAgIGJhdGNoTWF4IDw9IGVsZW1lbnRzLmxlbmd0aCAmJiBkZWxheS5wcm9ncmVzcygxKTtcbiAgICB9O1xuICB9LFxuICAgICAgcDtcblxuICBmb3IgKHAgaW4gdmFycykge1xuICAgIHZhcnNDb3B5W3BdID0gcC5zdWJzdHIoMCwgMikgPT09IFwib25cIiAmJiBfaXNGdW5jdGlvbih2YXJzW3BdKSAmJiBwICE9PSBcIm9uUmVmcmVzaEluaXRcIiA/IHByb3h5Q2FsbGJhY2socCwgdmFyc1twXSkgOiB2YXJzW3BdO1xuICB9XG5cbiAgaWYgKF9pc0Z1bmN0aW9uKGJhdGNoTWF4KSkge1xuICAgIGJhdGNoTWF4ID0gYmF0Y2hNYXgoKTtcblxuICAgIF9hZGRMaXN0ZW5lcihTY3JvbGxUcmlnZ2VyLCBcInJlZnJlc2hcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGJhdGNoTWF4ID0gdmFycy5iYXRjaE1heCgpO1xuICAgIH0pO1xuICB9XG5cbiAgX3RvQXJyYXkodGFyZ2V0cykuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gICAgZm9yIChwIGluIHZhcnNDb3B5KSB7XG4gICAgICBjb25maWdbcF0gPSB2YXJzQ29weVtwXTtcbiAgICB9XG5cbiAgICBjb25maWcudHJpZ2dlciA9IHRhcmdldDtcbiAgICByZXN1bHQucHVzaChTY3JvbGxUcmlnZ2VyLmNyZWF0ZShjb25maWcpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblNjcm9sbFRyaWdnZXIuc29ydCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIHJldHVybiBfdHJpZ2dlcnMuc29ydChmdW5jIHx8IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIChhLnZhcnMucmVmcmVzaFByaW9yaXR5IHx8IDApICogLTFlNiArIGEuc3RhcnQgLSAoYi5zdGFydCArIChiLnZhcnMucmVmcmVzaFByaW9yaXR5IHx8IDApICogLTFlNik7XG4gIH0pO1xufTtcblxuX2dldEdTQVAoKSAmJiBnc2FwLnJlZ2lzdGVyUGx1Z2luKFNjcm9sbFRyaWdnZXIpO1xuZXhwb3J0IHsgU2Nyb2xsVHJpZ2dlciBhcyBkZWZhdWx0IH07IiwgImNvbnN0IHBvbHlmaWxscyA9IFtdO1xuXG4vLyBodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL3BvbHlmaWxsXG4oJ2ZldGNoJyBpbiB3aW5kb3cpICAgICAgICAgICAgICAgICAgICAgfHwgcG9seWZpbGxzLnB1c2goJ2ZldGNoJyk7XG4oJ1Byb21pc2UnIGluIHdpbmRvdykgICAgICAgICAgICAgICAgICAgfHwgcG9seWZpbGxzLnB1c2goJ1Byb21pc2UnKTtcbignSW50ZXJzZWN0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdykgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnSW50ZXJzZWN0aW9uT2JzZXJ2ZXInKTtcbignSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeScgaW4gd2luZG93KSB8fCBwb2x5ZmlsbHMucHVzaCgnSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeScpO1xuKCdSZXNpemVPYnNlcnZlcicgaW4gd2luZG93KSAgICAgICAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdSZXNpemVPYnNlcnZlcicpO1xuKCdVUkxTZWFyY2hQYXJhbXMnIGluIHdpbmRvdykgICAgICAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdVUkxTZWFyY2hQYXJhbXMnKTtcbigncmVxdWVzdElkbGVDYWxsYmFjaycgaW4gd2luZG93KSAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgncmVxdWVzdElkbGVDYWxsYmFjaycpO1xuKCdhc3NpZ24nIGluIE9iamVjdCkgICAgICAgICAgICAgICAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdPYmplY3QuYXNzaWduJyk7XG4oJ2Zyb20nIGluIEFycmF5KSAgICAgICAgICAgICAgICAgICAgICAgfHwgcG9seWZpbGxzLnB1c2goJ0FycmF5LmZyb20nKTtcbignZmluZCcgaW4gQXJyYXkucHJvdG90eXBlKSAgICAgICAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnQXJyYXkucHJvdG90eXBlLmZpbmQnKTtcbignaW5jbHVkZXMnIGluIEFycmF5LnByb3RvdHlwZSkgICAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzJyk7XG4oJ2ZvckVhY2gnIGluIE5vZGVMaXN0LnByb3RvdHlwZSkgICAgICAgfHwgcG9seWZpbGxzLnB1c2goJ05vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoJyk7XG4oJ2Nsb3Nlc3QnIGluIEVsZW1lbnQucHJvdG90eXBlKSAgICAgICAgfHwgcG9seWZpbGxzLnB1c2goJ0VsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QnKTtcbigncHJlcGVuZCcgaW4gRWxlbWVudC5wcm90b3R5cGUpICAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnRWxlbWVudC5wcm90b3R5cGUucHJlcGVuZCcpO1xuKCdhcHBlbmQnIGluIEVsZW1lbnQucHJvdG90eXBlKSAgICAgICAgIHx8IHBvbHlmaWxscy5wdXNoKCdFbGVtZW50LnByb3RvdHlwZS5hcHBlbmQnKTtcbigncmVtb3ZlJyBpbiBFbGVtZW50LnByb3RvdHlwZSkgICAgICAgICB8fCBwb2x5ZmlsbHMucHVzaCgnRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlJyk7XG5cbmV4cG9ydCBkZWZhdWx0IHBvbHlmaWxscztcbiIsICJpbXBvcnQgeyBmaW5kQWxsLCBhdHRyLCBwYXJzZSB9IGZyb20gJ0B0bWJyL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSkge1xuXG4gIGNvbnN0IHByb3BzID0gcGFyc2Uobm9kZS5kYXRhc2V0LnByb3BzIHx8ICcnKTtcblxuICBjb25zdCBpdGVtcyA9IGZpbmRBbGwoJy5hY2NvcmRpb24taGVhZGluZycsIG5vZGUpLm1hcChlbCA9PiB7XG4gICAgY29uc3QgdHJpZ2dlciA9IGVsLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgcmV0dXJuIHsgdHJpZ2dlciwgY29udGVudCwgZXhwYW5kZWQ6IGZhbHNlIH07XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGV4cGFuZChpdGVtKSB7XG4gICAgYXR0cihpdGVtLnRyaWdnZXIsICdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICBhdHRyKGl0ZW0uY29udGVudCwgJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgaXRlbS5leHBhbmRlZCA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBjb2xsYXBzZShpdGVtKSB7XG4gICAgYXR0cihpdGVtLnRyaWdnZXIsICdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgYXR0cihpdGVtLmNvbnRlbnQsICdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgaXRlbS5leHBhbmRlZCA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBpdGVtID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0udHJpZ2dlciA9PT0gZXZlbnQudGFyZ2V0KTtcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICBpZiAoIXByb3BzLm11bHRpcGxlKSBpdGVtcy5maWx0ZXIobyA9PiBvLmV4cGFuZGVkICYmIG8gIT09IGl0ZW0pLmZvckVhY2goY29sbGFwc2UpO1xuICAgIGl0ZW0uZXhwYW5kZWQgPyBjb2xsYXBzZShpdGVtKSA6IGV4cGFuZChpdGVtKTtcbiAgICByZXNpemUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICBpdGVtcy5mb3JFYWNoKCh7ZXhwYW5kZWQsIGNvbnRlbnR9KSA9PiB7XG4gICAgICBjb250ZW50LnN0eWxlLm1heEhlaWdodCA9IGV4cGFuZGVkID8gYCR7Y29udGVudC5zY3JvbGxIZWlnaHR9cHhgIDogbnVsbDtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpdGVtc1twcm9wcy5pbml0aWFsXSkge1xuICAgIGV4cGFuZChpdGVtc1twcm9wcy5pbml0aWFsXSk7XG4gIH1cblxuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2spO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTtcbiAgcmVzaXplKCk7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2spO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpO1xuICB9O1xufTtcbiIsICJsZXQgaW87XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5vZGUpIHtcbiAgaW8gPz89IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywge3Jvb3RNYXJnaW46ICcxMDAlJ30pO1xuICBpby5vYnNlcnZlKG5vZGUpO1xuICByZXR1cm4gKCkgPT4gaW8udW5vYnNlcnZlKG5vZGUpO1xufTtcblxuZnVuY3Rpb24gY2FsbGJhY2soZW50cmllcykge1xuICBlbnRyaWVzLmZvckVhY2goZSA9PiBlLmlzSW50ZXJzZWN0aW5nICYmIGxvYWQoZS50YXJnZXQpKTtcbn1cblxuZnVuY3Rpb24gbG9hZChlbCkge1xuXG4gIGNvbnN0IHsgc3JjLCBzcmNzZXQsIHNpemVzIH0gPSBlbC5kYXRhc2V0O1xuICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XG4gIGlvLnVub2JzZXJ2ZShlbCk7XG5cbiAgc3dpdGNoIChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcblxuICAgIGNhc2UgJ2ltZyc6XG4gICAgY2FzZSAndmlkZW8nOlxuICAgIGNhc2UgJ2lmcmFtZSc6XG5cbiAgICAgIGVsLnNyYyA9IHNyYztcblxuICAgICAgaWYgKHNyY3NldCkge1xuICAgICAgICBlbC5zcmNzZXQgPSBzcmNzZXQ7XG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zcmNzZXQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaXplcykge1xuICAgICAgICBlbC5zaXplcyA9IHNpemVzO1xuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc2l6ZXMnKTtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgZWwuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3NyY30pYDtcbiAgfVxufVxuIiwgImltcG9ydCB7IGZpbmRPbmUsIGZpbmRBbGwsIGlzU3RyaW5nLCBiaW5kLCBwYXJzZSB9IGZyb20gJ0B0bWJyL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuXG4gIGNvbnN0cnVjdG9yKGVsKSB7XG4gICAgYmluZCh0aGlzKTtcbiAgICB0aGlzLmVsID0gaXNTdHJpbmcoZWwpID8gZmluZE9uZShlbCkgOiBlbDtcbiAgICB0aGlzLnVpID0ge307XG4gICAgY29uc3QgcHJvcHMgPSB0aGlzLmVsLmRhdGFzZXQucHJvcHM7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzID8gcGFyc2UocHJvcHMpIDoge307XG4gIH1cblxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWwub2Zmc2V0V2lkdGg7XG4gIH1cblxuICBnZXQgaGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmVsLm9mZnNldEhlaWdodDtcbiAgfVxuXG4gIGZpbmRPbmUocykge1xuICAgIHJldHVybiBmaW5kT25lKHMsIHRoaXMuZWwpO1xuICB9XG5cbiAgZmluZEFsbChzKSB7XG4gICAgcmV0dXJuIGZpbmRBbGwocywgdGhpcy5lbCk7XG4gIH1cblxuICBkZXN0cm95KCkge31cbn1cbiIsICJpbXBvcnQgQ29tcG9uZW50IGZyb20gJ34vbGliL0NvbXBvbmVudCc7XG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnQHRtYnIvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IoZWwpIHtcbiAgICBzdXBlcihlbCk7XG4gICAgY29uc29sZS5sb2coJ0hlcm8nLCB0aGlzLnByb3BzKTtcbiAgICBjb25zdCB2aWRlbyA9IGh0bWxgPHZpZGVvIHNyYz1cIiR7dGhpcy5wcm9wcy52aWRlb31cIiBjbGFzcz1cImZpbGwgcGluIGZpdC1jb3ZlclwiIGxvb3AgbXV0ZWQgYXV0b3BsYXkgcGxheXNpbmxpbmU+PC92aWRlbz5gO1xuICAgIHRoaXMuZWwucHJlcGVuZCh2aWRlbyk7XG4gIH1cblxuICBkZXN0cm95KCkge31cbn1cbiIsICJpbXBvcnQgQ29tcG9uZW50IGZyb20gJ34vbGliL0NvbXBvbmVudCc7XG5pbXBvcnQgeyBhdHRyLCBvbiB9IGZyb20gJ0B0bWJyL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKGVsKSB7XG4gICAgc3VwZXIoZWwpO1xuICAgIG9uKCdjbGljaycsICcubmF2LXRvZ2dsZScsIHRoaXMub25Ub2dnbGVDbGljayk7XG4gICAgb24oJ2NsaWNrJywgJy5uYXYtaXRlbS5oYXMtc3VibWVudSA+IDp3aGVyZShhLCBidXR0b24pJywgdGhpcy5vbkl0ZW1DbGljayk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tPdXRzaWRlKTtcbiAgfVxuXG4gIG9uSXRlbUNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBidXR0b24gPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgYWN0aXZlID0gYXR0cihidXR0b24sICdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJztcbiAgICBhdHRyKGJ1dHRvbiwgJ2FyaWEtZXhwYW5kZWQnLCBhY3RpdmUgPyAnZmFsc2UnIDogJ3RydWUnKTtcbiAgICB0aGlzLmN1cnJlbnQgJiYgYXR0cih0aGlzLmN1cnJlbnQsICdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgdGhpcy5jdXJyZW50ID0gYWN0aXZlID8gbnVsbCA6IGJ1dHRvbjtcbiAgfVxuXG4gIG9uVG9nZ2xlQ2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBleHBhbmRlZCA9IGF0dHIoZXZlbnQudGFyZ2V0LCAnYXJpYS1leHBhbmRlZCcpID09PSAndHJ1ZSc7XG4gICAgYXR0cihldmVudC50YXJnZXQsICdhcmlhLWV4cGFuZGVkJywgZXhwYW5kZWQgPyAnZmFsc2UnIDogJ3RydWUnKTtcbiAgfVxuXG4gIG9uQ2xpY2tPdXRzaWRlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnQgfHwgZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5uYXYtaXRlbScpKSByZXR1cm47XG4gICAgYXR0cih0aGlzLmN1cnJlbnQsICdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgfVxufVxuIiwgImltcG9ydCBhY2NvcmRpb24gZnJvbSAnLi9hY2NvcmRpb24nO1xuaW1wb3J0IGxhenlsb2FkIGZyb20gJy4vbGF6eWxvYWQnO1xuaW1wb3J0IEhlcm8gZnJvbSAnLi9IZXJvJztcbmltcG9ydCBOYXYgZnJvbSAnLi9OYXYnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICcubmF2JzogTmF2LFxuICAnLmhlcm8nOiBIZXJvLFxuICAnLmFjY29yZGlvbic6IGFjY29yZGlvbixcbiAgJ1tkYXRhLXNyY10nOiBsYXp5bG9hZFxufTtcbiIsICJpbXBvcnQgeyBpc0NsYXNzLCBmaW5kQWxsIH0gZnJvbSAnQHRtYnIvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtb2R1bGVzLCBwYXJlbnQgPSBkb2N1bWVudCkge1xuICBPYmplY3QuZW50cmllcyhtb2R1bGVzKS5mb3JFYWNoKChbc2VsZWN0b3IsIG1vZHVsZV0pID0+IHtcbiAgICBjb25zdCBpbnZva2UgPSBpc0NsYXNzKG1vZHVsZSlcbiAgICAgID8gbm9kZSA9PiBuZXcgbW9kdWxlKG5vZGUpXG4gICAgICA6IG5vZGUgPT4gbW9kdWxlLmNhbGwobm9kZSwgbm9kZSk7XG4gICAgZmluZEFsbChzZWxlY3RvciwgcGFyZW50KS5mb3JFYWNoKGludm9rZSk7XG4gIH0pO1xufTtcbiIsICJpbXBvcnQgeyBmaW5kT25lLCBmaW5kQWxsLCBwcm9wLCBybyB9IGZyb20gJ0B0bWJyL3V0aWxzJztcbmltcG9ydCBnc2FwIGZyb20gJ2dzYXAnO1xuaW1wb3J0IFNjcm9sbFRyaWdnZXIgZnJvbSAnZ3NhcC9TY3JvbGxUcmlnZ2VyJztcbmltcG9ydCB7IFNwbGl0VGV4dCB9IGZyb20gJ2dzYXAvU3BsaXRUZXh0JztcbmltcG9ydCBwb2x5ZmlsbHMgZnJvbSAnLi9saWIvcG9seWZpbGxzJztcbmltcG9ydCBtb2R1bGVzIGZyb20gJy4vbW9kdWxlcyc7XG5pbXBvcnQgbW91bnQgZnJvbSAnLi9saWIvbW91bnQnO1xuaW1wb3J0IGlzb3RvcGUgZnJvbSAnaXNvdG9wZS1sYXlvdXQnO1xuaW1wb3J0ICcuL2xpYi9oZWxsbyc7XG5pbXBvcnQgJy4vbGliL2ljb25zJztcbmltcG9ydCAnLi9tb2R1bGVzL3NsaWRlcnMnXG4vLyBpbXBvcnQgJy4vbGliL2FuaW1hdGlvbnMnO1xuaW1wb3J0ICcuL3N0eWxlcy9pbmRleC5zY3NzJztcblxuZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTtcblxuY29uc29sZS5sb2coJ2pRdWVyeScsIHdpbmRvdy5qUXVlcnkgPT09IHdpbmRvdy4kKTtcbmpRdWVyeShmdW5jdGlvbigkKSB7IGNvbnNvbGUubG9nKCdqUXVlcnknLCAkLmZuLmpxdWVyeSk7IH0pO1xuXG5jb25zdCBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cbiAgY29uc3QgbXEgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKGhvdmVyOiBub25lKSwgKHBvaW50ZXI6IGNvYXJzZSknKTtcbiAgaHRtbC5jbGFzc0xpc3QuYWRkKG1xLm1hdGNoZXMgPyAnaGFzLXRvdWNoJyA6ICdoYXMtaG92ZXInKTtcbiAgaHRtbC5jbGFzc0xpc3QucmVwbGFjZSgnbG9hZGluZycsICdsb2FkZWQnKTtcblxuICBjb25zdCBiYW5uZXIgPSBmaW5kT25lKCcuc2l0ZS1iYW5uZXInKTtcbiAgY29uc3QgaGVhZGVyID0gZmluZE9uZSgnLnNpdGUtaGVhZGVyJyk7XG5cbiAgcm8oYm9keSwgKCkgPT4ge1xuICAgIHByb3AoaHRtbCwgJy0tdmgnLCBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxfXB4YCk7XG4gICAgcHJvcChodG1sLCAnLS1iYW5uZXItaGVpZ2h0JywgYCR7YmFubmVyID8gYmFubmVyLm9mZnNldEhlaWdodCA6IDB9cHhgKTtcbiAgICBwcm9wKGh0bWwsICctLWhlYWRlci1oZWlnaHQnLCBgJHtoZWFkZXIgPyBoZWFkZXIub2Zmc2V0SGVpZ2h0IDogMH1weGApO1xuICB9KTtcblxuICBtb3VudChtb2R1bGVzKTtcbn1cblxuaWYgKHBvbHlmaWxscy5sZW5ndGgpIHtcbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5zcmMgPSBgaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9wb2x5ZmlsbC92My9wb2x5ZmlsbC5taW4uanM/ZmVhdHVyZXM9JHtwb2x5ZmlsbHMuam9pbignLCcpfSZmbGFncz1nYXRlZCZ1YT0ke3dpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50fWA7XG4gIHNjcmlwdC5vbmxvYWQgPSBpbml0O1xuICBib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG59IGVsc2UgeyBpbml0KCkgfVxuXG5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuXG4gIC8vIE5BViBTQ1JPTEwgQ0xBU1NcbiAgJCgnLmludGVybmFsLXRlbXBsYXRlJykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgIGlmICgkKCcuaW50ZXJuYWwtdGVtcGxhdGUnKS5zY3JvbGxUb3AoKSA+IDMwICl7XG4gICAgICAkKCcuanMtbmF2LXNjcm9sbCcpLmFkZENsYXNzKCdzY3JvbGxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuanMtbmF2LXNjcm9sbCcpLnJlbW92ZUNsYXNzKCdzY3JvbGxlZCcpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gRklUVklEUyBIQUNLXG4gICQoJy5jb250ZW50IGlmcmFtZVtzcmMqPVwieW91dHViZVwiXSxpZnJhbWVbc3JjKj1cInZpbWVvXCJdJykud3JhcChcIjxkaXYgY2xhc3M9J3ZpZGVvLWZyYW1lJy8+XCIpO1xuICBcbiAgLy8gR1NBUCBBbmltYXRpb25zXG4gIFxuICAvLyB2YXIgdGwgPSBnc2FwLnRpbWVsaW5lKCksIFxuICAvLyBteVNwbGl0VGV4dCA9IG5ldyBTcGxpdFRleHQoXCIjbG9hZGVyLWhlYWRpbmdcIiwge3R5cGU6XCJ3b3JkcyxjaGFyc1wifSksIFxuICAvLyBjaGFycyA9IG15U3BsaXRUZXh0LmNoYXJzO1xuICAvLyBnc2FwLnNldChcIiNsb2FkZXItaGVhZGluZ1wiLCB7cGVyc3BlY3RpdmU6IDQwMH0pO1xuICAvLyB0bC5mcm9tKGNoYXJzLCB7ZHVyYXRpb246IC4zLCBvcGFjaXR5OjAsIHNjYWxlOi45LCB5OjEwLCBkZWxheTogLjksIHRyYW5zZm9ybU9yaWdpbjpcIjAlIDUwJSAtNTBcIiwgZWFzZTpcImVhc2VJbk91dFwiLCBzdGFnZ2VyOiAwLjAzfSwgXCIrPTBcIik7XG4gIFxuICAvLyB2YXIgdGwyID0gZ3NhcC50aW1lbGluZSgpLCBcbiAgLy8gbXlTcGxpdFRleHQgPSBuZXcgU3BsaXRUZXh0KFwiI2ludHJvLXRpdGxlXCIsIHt0eXBlOlwid29yZHMsY2hhcnNcIn0pLCBcbiAgLy8gY2hhcnMgPSBteVNwbGl0VGV4dC5jaGFycztcbiAgLy8gZ3NhcC5zZXQoXCIjaW50cm8tdGl0bGVcIiwge3BlcnNwZWN0aXZlOiA0MDB9KTtcbiAgLy8gdGwyLmZyb20oY2hhcnMsIHtkdXJhdGlvbjogLjMsIG9wYWNpdHk6MCwgc2NhbGU6LjksIHk6MTAsIGRlbGF5OiAuNSwgdHJhbnNmb3JtT3JpZ2luOlwiMCUgNTAlIC01MFwiLCBlYXNlOlwiZWFzZUluT3V0XCIsIHN0YWdnZXI6IDAuMDJ9LCBcIis9MFwiKTtcblxuICAvLyB2YXIgbG9hZGluZ3RsID0gZ3NhcC50aW1lbGluZSgpOyBcbiAgLy8gbG9hZGluZ3RsLnRvKCcjc2l0ZS1sb2FkZXInLCB7ZHVyYXRpb246IC4zLCBvcGFjaXR5OjAsIHdpZHRoOiAwLCBlYXNlOlwiZWFzZUluT3V0XCJ9LCBcIis9MFwiKTtcbiAgICAgIFxuXG4gIC8vIE5BViBIQU1CVVJHRVJcbiAgJCgnLmpzLWhhbWJ1cmdlci10b2dnbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICQoJy5uYXZiYXItaGFtYnVyZ2VyJykudG9nZ2xlQ2xhc3MoICctY29sbGFwc2VkJyApO1xuICAgICQoJy5uYXZiYXItbWVudScpLnRvZ2dsZUNsYXNzKCAnLW9wZW4nICk7XG4gIH0pO1xuICBcbiAgXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDk5Mikge1xuICAgIC8vICQoJy5wYXJlbnQtbWVudSA+IC5tZW51LWl0ZW0gPiBhJykuYWRkQ2xhc3MoJ2NsaWNrLXRocm91Z2gnKTtcbiAgICAkKCcucGFyZW50LW1lbnUgPiAubWVudS1pdGVtLWhhcy1jaGlsZHJlbiA+IGEnKS5vbignY2xpY2snLGZ1bmN0aW9uKGUpe1xuICAgICAgaWYoJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygnLW9wZW4nKSkge31cbiAgICAgIGVsc2Uge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoJy5zdWItbWVudScpLnJlbW92ZUNsYXNzKCctb3BlbicpO1xuICAgICAgICAkKCcubWVudS1pdGVtLWhhcy1jaGlsZHJlbicpLnJlbW92ZUNsYXNzKCctb3BlbicpO1xuICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCctb3BlbicpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCctb3BlbicpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmNoaWxkcmVuKCd1bCcpLnRvZ2dsZUNsYXNzKCctb3BlbicpO1x0XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBcbiAgJCgnLmpzLWZsZXgtZ2FsbGVyeS1pbWcnKS5tYWduaWZpY1BvcHVwKHtcbiAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICBnYWxsZXJ5OntcbiAgICAgICAgICBlbmFibGVkOnRydWVcbiAgICAgIH0sXG4gICAgICB0aXRsZVNyYzogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLmVsLmF0dHIoJ3RpdGxlJyk7XG4gICAgICAgIH1cbiAgfSk7XG4gIFxuICAvLyBFWFRFUk5BTCBMSU5LUyBUQVJHRVQgQkxBTktcbiAgJCgnYScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgIHZhciBhID0gbmV3IFJlZ0V4cCgnLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvJyk7XG4gICAgIGlmICghYS50ZXN0KHRoaXMuaHJlZikpIHtcbiAgICAgICAgJCh0aGlzKS5hdHRyKFwidGFyZ2V0XCIsXCJfYmxhbmtcIik7XG4gICAgIH1cbiAgfSk7XG5cbiAgdmFyIHdhcnAgPSAkKCcjaW1hZ2Utd2FycCcpO1xuICBpZih3YXJwLmxlbmd0aCA+IDApe1xuICAgIGZ1bmN0aW9uIGhvdmVySW1hZ2UoKSB7XG4gICAgICAvLyBUSUxUIEhPVkVSXG4gICAgICBsZXQgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlLXdhcnAnKVxuICAgICAgbGV0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpXG4gICAgICBsZXQgYmFja2dyb3VuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZ3JvdW5kJylcbiAgICAgIGNvbnN0IG92ZXJsYXlIID0gb3ZlcmxheS5jbGllbnRIZWlnaHRcbiAgICAgIGNvbnN0IG92ZXJsYXlXID0gb3ZlcmxheS5jbGllbnRXaWR0aFxuICAgICAgY29uc3QgYmdIID0gYmFja2dyb3VuZC5jbGllbnRIZWlnaHRcbiAgICAgIGNvbnN0IGJnVyA9IGJhY2tncm91bmQuY2xpZW50V2lkdGhcbiAgICAgIFxuICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU92ZXJsYXkpO1xuICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZUJhY2tncm91bmQpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVPdmVybGF5KGUpIHtcbiAgICAgICAgY29uc3Qgb3hWYWwgPSBlLmxheWVyWFxuICAgICAgICBjb25zdCBveVZhbCA9IGUubGF5ZXJZXG4gICAgICAgIGNvbnN0IG95Um90YXRpb24gPSA2ICogKChveFZhbCAtIG92ZXJsYXlXIC8gMikgLyBvdmVybGF5VylcbiAgICAgICAgY29uc3Qgb3hSb3RhdGlvbiA9IC02ICogKChveVZhbCAtIG92ZXJsYXlIIC8gMikgLyBvdmVybGF5SClcbiAgICAgICAgY29uc3Qgb3N0cmluZyA9ICdwZXJzcGVjdGl2ZSg1MDBweCkgc2NhbGUoMS4xKSByb3RhdGVYKCcgKyBveFJvdGF0aW9uICsgJ2RlZykgcm90YXRlWSgnICsgb3lSb3RhdGlvbiArICdkZWcpJ1xuICAgICAgICBvdmVybGF5LnN0eWxlLnRyYW5zZm9ybSA9IG9zdHJpbmdcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZnVuY3Rpb24gaGFuZGxlQmFja2dyb3VuZChlKSB7XG4gICAgICAgIGNvbnN0IGJ4VmFsID0gZS5sYXllclhcbiAgICAgICAgY29uc3QgYnlWYWwgPSBlLmxheWVyWVxuICAgICAgICBjb25zdCBieVJvdGF0aW9uID0gMyAqICgoYnhWYWwgLSBiZ1cgLyAyKSAvIGJnVylcbiAgICAgICAgY29uc3QgYnhSb3RhdGlvbiA9IC0zICogKChieVZhbCAtIGJnSCAvIDIpIC8gYmdIKVxuICAgICAgICBjb25zdCBic3RyaW5nID0gJ3BlcnNwZWN0aXZlKDUwMHB4KSBzY2FsZSgxLjEpIHJvdGF0ZVgoJyArIGJ4Um90YXRpb24gKyAnZGVnKSByb3RhdGVZKCcgKyBieVJvdGF0aW9uICsgJ2RlZyknXG4gICAgICAgIGJhY2tncm91bmQuc3R5bGUudHJhbnNmb3JtID0gYnN0cmluZ1xuICAgICAgfVxuXG4gICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgb3ZlcmxheS5zdHlsZS50cmFuc2Zvcm0gPSAncGVyc3BlY3RpdmUoNTAwcHgpIHNjYWxlKDEuMSkgcm90YXRlWCgwKSByb3RhdGVZKDApJ1xuICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlLnRyYW5zZm9ybSA9ICdwZXJzcGVjdGl2ZSg1MDBweCkgc2NhbGUoMS4xKSByb3RhdGVYKDApIHJvdGF0ZVkoMCknXG4gICAgICB9KVxuXG4gICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIG92ZXJsYXkuc3R5bGUudHJhbnNmb3JtID0gJ3BlcnNwZWN0aXZlKDUwMHB4KSBzY2FsZSgxLjEpIHJvdGF0ZVgoMCkgcm90YXRlWSgwKSdcbiAgICAgICAgYmFja2dyb3VuZC5zdHlsZS50cmFuc2Zvcm0gPSAncGVyc3BlY3RpdmUoNTAwcHgpIHNjYWxlKDEuMSkgcm90YXRlWCgwKSByb3RhdGVZKDApJ1xuICAgICAgfSlcblxuICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgb3ZlcmxheS5zdHlsZS50cmFuc2Zvcm0gPSAncGVyc3BlY3RpdmUoNTAwcHgpIHNjYWxlKDEuMSkgcm90YXRlWCgwKSByb3RhdGVZKDApJ1xuICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlLnRyYW5zZm9ybSA9ICdwZXJzcGVjdGl2ZSg1MDBweCkgc2NhbGUoMS4xKSByb3RhdGVYKDApIHJvdGF0ZVkoMCknXG4gICAgICB9KVxuICAgIH07XG5cbiAgICBob3ZlckltYWdlKCk7XG4gIH1cbiAgXG59KTtcblxuJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG5cblxuXG4gIFxuICAvLyBzZWUgW2RhdGEtYW5pbWF0ZV0gc3R5bGVzIGluIHNjc3MvYmFzZS9fYW5pbWF0aW9uLnNjc3NcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgIGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhbmltYXRlJyk7XG4gICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZmluZEFsbCgnW2RhdGEtYW5pbWF0ZV0nKS5mb3JFYWNoKGVsID0+IHtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsKTtcbiAgfSk7XG4gIFxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICQoJyNzaXRlLWxvYWRlcicpLmFkZENsYXNzKCctbG9hZGVkJyk7XG4gIH0pO1xuXG4gICQoJy5qcy1tb3NhaWMtZ2FsbGVyeScpLmVhY2goKGksIGl0ZW0pID0+IHtcbiAgICBuZXcgaXNvdG9wZSggaXRlbSwge1xuICAgICAgICBpdGVtU2VsZWN0b3I6ICcubW9zYWljLWltYWdlJ1xuICAgICAgfSk7XG4gIH0pO1xuXG59KTsiLCAibmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9jaHJvbWV8ZmlyZWZveC8pID8gY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgW1xuICAnXFxuJWMgIFNpdGUgYnkgVE1CUiAgJWMgIGh0dHBzOi8vd2VhcmV0bWJyLmNvbSAgXFxuJyxcbiAgJ2Rpc3BsYXk6IGlubGluZS1ibG9jazsgY29sb3I6ICNGRkZGRkY7IGJhY2tncm91bmQ6ICNGRjY2MDA7IGZvbnQtc2l6ZTogMTFweDsgbGluZS1oZWlnaHQ6IDI1cHg7IGZvbnQtd2VpZ2h0OiBib2xkOycsXG4gICdkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGNvbG9yOiAjRkZGRkZGOyBiYWNrZ3JvdW5kOiAjMjMyMjFGOyBmb250LXNpemU6IDExcHg7IGxpbmUtaGVpZ2h0OiAyNXB4Oydcbl0pIDogY29uc29sZS5sb2coJ1NpdGUgYnkgVE1CUiBcdTIwMjIgaHR0cHM6Ly93ZWFyZXRtYnIuY29tJyk7XG4iLCAiaW1wb3J0IHsgZmluZE9uZSB9IGZyb20gJ0B0bWJyL3V0aWxzJztcblxuY29uc3Qgc3ZnID0gZmluZE9uZSgnc3ZnW2RhdGEtaWNvbnNdJyk7XG5jb25zdCBpZHMgPSBzdmcuaW5uZXJIVE1MLm1hdGNoKC9pZD1cImljb246W2EtejAtOS1dKy9nKS5tYXAocyA9PiBzLnJlcGxhY2UoJ2lkPVwiaWNvbjonLCAnJykpO1xuXG53aW5kb3cuc2l0ZS5pY29ucyA9IGlkcy5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiB7XG4gIHJlc3VsdFtrZXldID0gYDxzdmcgY2xhc3M9XCJpY29uIGljb246JHtrZXl9XCI+PHVzZSB4bGluazpocmVmPVwiI2ljb246JHtrZXl9XCI+PC91c2U+PC9zdmc+YDtcbiAgcmV0dXJuIHJlc3VsdDtcbn0sIHt9KTtcbiIsICJqUXVlcnkoZnVuY3Rpb24oJCkge1xuXG4gICQoJy5qcy1oZXJvLXNsaWRlcicpLmVhY2goZnVuY3Rpb24oZWxlbSkge1xuICAgICQodGhpcykuc2xpY2soe1xuICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICBmYWRlOiB0cnVlLFxuICAgICAgYXV0b3BsYXlTcGVlZDogMTAwMDAsXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgIGFycm93czogZmFsc2UsXG4gICAgICBkb3RzOiBmYWxzZSxcbiAgICB9KTtcbiAgfSk7XG5cblxuICAkKCcuanMtY2Fyb3VzZWwnKS5lYWNoKGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAkKHRoaXMpLnNsaWNrKHtcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgYXV0b3BsYXlTcGVlZDogNjAwMCxcbiAgICAgIGFycm93czogZmFsc2UsXG4gICAgICBkb3RzOiBmYWxzZSxcbiAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgIGNlbnRlck1vZGU6IHRydWUsXG4gICAgICBjZW50ZXJQYWRkaW5nOiczMDBweCcsXG4gICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgYnJlYWtwb2ludDogOTY4LFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgICBjZW50ZXJQYWRkaW5nOicyMHB4JyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9KTtcbiAgfSk7XG5cbn0pOyJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBUUEsT0FBRSxTQUFVLFFBQVEsU0FBVTtBQUc1QixZQUFLLE9BQU8sVUFBVSxjQUFjLE9BQU8sS0FBTTtBQUUvQyxpQkFBUSxPQUFRO0FBQUEsUUFDbEIsV0FBWSxPQUFPLFVBQVUsWUFBWSxPQUFPLFNBQVU7QUFFeEQsaUJBQU8sVUFBVSxRQUFRO0FBQUEsUUFDM0IsT0FBTztBQUVMLGlCQUFPLFlBQVksUUFBUTtBQUFBLFFBQzdCO0FBQUEsTUFFRixHQUFHLE9BQU8sVUFBVSxjQUFjLFNBQVMsU0FBTSxXQUFXO0FBRTVEO0FBRUEsaUJBQVMsWUFBWTtBQUFBLFFBQUM7QUFFdEIsWUFBSSxRQUFRLFVBQVU7QUFFdEIsY0FBTSxLQUFLLFNBQVUsV0FBVyxVQUFXO0FBQ3pDLGNBQUssQ0FBQyxhQUFhLENBQUMsVUFBVztBQUM3QjtBQUFBLFVBQ0Y7QUFFQSxjQUFJLFNBQVMsS0FBSyxVQUFVLEtBQUssV0FBVyxDQUFDO0FBRTdDLGNBQUksWUFBWSxPQUFRLFNBQVUsSUFBSSxPQUFRLFNBQVUsS0FBSyxDQUFDO0FBRTlELGNBQUssVUFBVSxRQUFTLFFBQVMsS0FBSyxJQUFLO0FBQ3pDLHNCQUFVLEtBQU0sUUFB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QUFDO0FBRUQsWUFBUSxnQkFBZ0IsRUFBRSxRQUFRLFFBQU07QUFDdEMsZUFBUyxRQUFRLEVBQUU7QUFBQSxJQUNyQixDQUFDO0FBRUQsZUFBVyxXQUFXO0FBQ3BCLFFBQUUsY0FBYyxFQUFFLFNBQVMsU0FBUztBQUFBLElBQ3RDLENBQUM7QUFFRCxNQUFFLG9CQUFvQixFQUFFLEtBQUssQ0FBQyxHQUFHLFNBQVM7QUFDeEMsVUFBSSxzQkFBQUcsUUFBUyxNQUFNO0FBQUEsUUFDZixjQUFjO0FBQUEsTUFDaEIsQ0FBQztBQUFBLElBQ0wsQ0FBQztBQUFBLEVBRUgsQ0FBQzsiLAogICJuYW1lcyI6IFsid2luZG93IiwgImJvZHkiLCAid2luZG93IiwgIndpbmRvdyIsICJwcm9wIiwgImNhbGxiYWNrIiwgImNvbnNvbGUiLCAialF1ZXJ5IiwgImF0dHIiLCAid2luZG93IiwgInByb3AiLCAid2luZG93IiwgImNvbnNvbGUiLCAialF1ZXJ5IiwgIkl0ZW0iLCAicmVxdWlyZV9pdGVtIiwgIndpbmRvdyIsICJ3aW5kb3ciLCAiaXNvdG9wZSIsICJ3aW5kb3ciLCAicmVxdWlyZV9tYXNvbnJ5IiwgIndpbmRvdyIsICJ3aW5kb3ciLCAid2luZG93IiwgIndpbmRvdyIsICJqUXVlcnkiLCAibXVuZ2VTb3J0ZXIiLCAiYXR0ciIsICJkZWZhdWx0cyIsICJvYmplY3QiLCAiY2FsbGJhY2siLCAiX2lzU3RyaW5nIiwgIl9pc0Z1bmN0aW9uIiwgIl9pc051bWJlciIsICJfaXNVbmRlZmluZWQiLCAiX2lzT2JqZWN0IiwgIl9pc05vdEZhbHNlIiwgIl93aW5kb3dFeGlzdHMiLCAiX2lzRnVuY09yU3RyaW5nIiwgIl9pbnN0YWxsIiwgIl9taXNzaW5nUGx1Z2luIiwgIl93YXJuIiwgIl9hZGRHbG9iYWwiLCAiX2VtcHR5RnVuYyIsICJfaGFybmVzcyIsICJfZ2V0Q2FjaGUiLCAiX2dldFByb3BlcnR5IiwgIl9mb3JFYWNoTmFtZSIsICJfcm91bmQiLCAiX2FycmF5Q29udGFpbnNBbnkiLCAiX3BhcnNlVmFycyIsICJfbGF6eVJlbmRlciIsICJfbGF6eVNhZmVSZW5kZXIiLCAiX251bWVyaWNJZlBvc3NpYmxlIiwgIl9wYXNzVGhyb3VnaCIsICJfc2V0RGVmYXVsdHMiLCAiZGVmYXVsdHMiLCAiX3NldEtleWZyYW1lRGVmYXVsdHMiLCAiX21lcmdlIiwgIl9tZXJnZURlZXAiLCAiX2NvcHlFeGNsdWRpbmciLCAiX2luaGVyaXREZWZhdWx0cyIsICJfYXJyYXlzTWF0Y2giLCAiX2FkZExpbmtlZExpc3RJdGVtIiwgIl9yZW1vdmVMaW5rZWRMaXN0SXRlbSIsICJfcmVtb3ZlRnJvbVBhcmVudCIsICJfdW5jYWNoZSIsICJfcmVjYWNoZUFuY2VzdG9ycyIsICJfaGFzTm9QYXVzZWRBbmNlc3RvcnMiLCAiX2VsYXBzZWRDeWNsZUR1cmF0aW9uIiwgIl9hbmltYXRpb25DeWNsZSIsICJfcGFyZW50VG9DaGlsZFRvdGFsVGltZSIsICJfc2V0RW5kIiwgIl9hbGlnblBsYXloZWFkIiwgIl9wb3N0QWRkQ2hlY2tzIiwgInRpbWVsaW5lIiwgIl9hZGRUb1RpbWVsaW5lIiwgIl9zY3JvbGxUcmlnZ2VyIiwgIl9hdHRlbXB0SW5pdFR3ZWVuIiwgIl9yZW5kZXJaZXJvRHVyYXRpb25Ud2VlbiIsICJfZmluZE5leHRQYXVzZVR3ZWVuIiwgIl9zZXREdXJhdGlvbiIsICJfb25VcGRhdGVUb3RhbER1cmF0aW9uIiwgIl9wYXJzZVBvc2l0aW9uIiwgIl9jb25kaXRpb25hbFJldHVybiIsICJfY2xhbXAiLCAiZ2V0VW5pdCIsICJjbGFtcCIsICJfaXNBcnJheUxpa2UiLCAiX2ZsYXR0ZW4iLCAidG9BcnJheSIsICJzaHVmZmxlIiwgImRpc3RyaWJ1dGUiLCAiX3JvdW5kTW9kaWZpZXIiLCAic25hcCIsICJyYW5kb20iLCAicGlwZSIsICJ1bml0aXplIiwgIm5vcm1hbGl6ZSIsICJfd3JhcEFycmF5IiwgIndyYXAiLCAidmFsdWUiLCAid3JhcFlveW8iLCAiX3JlcGxhY2VSYW5kb20iLCAibWFwUmFuZ2UiLCAiaW50ZXJwb2xhdGUiLCAicCIsICJpc1N0cmluZyIsICJmdW5jIiwgImkiLCAiX2dldExhYmVsSW5EaXJlY3Rpb24iLCAiX2NhbGxiYWNrIiwgImNhbGxiYWNrIiwgIl9pbnRlcnJ1cHQiLCAiX2NyZWF0ZVBsdWdpbiIsICJjb25maWciLCAiX2h1ZSIsICJzcGxpdENvbG9yIiwgIl9jb2xvck9yZGVyRGF0YSIsICJ2IiwgIl9mb3JtYXRDb2xvcnMiLCAiX2NvbG9yU3RyaW5nRmlsdGVyIiwgIl9nZXRUaW1lIiwgIl9saXN0ZW5lcnMiLCAiX3JhZiIsICJfaSIsICJfdGljayIsICJfd2FrZSIsICJfcGFyc2VPYmplY3RJblN0cmluZyIsICJfdmFsdWVJblBhcmVudGhlc2VzIiwgIl9jb25maWdFYXNlRnJvbVN0cmluZyIsICJfaW52ZXJ0RWFzZSIsICJfcHJvcGFnYXRlWW95b0Vhc2UiLCAiX3BhcnNlRWFzZSIsICJfaW5zZXJ0RWFzZSIsICJlYXNlT3V0IiwgImVhc2VJbk91dCIsICJfZWFzZUluT3V0RnJvbU91dCIsICJfY29uZmlnRWxhc3RpYyIsICJhbXBsaXR1ZGUiLCAicGVyaW9kIiwgIl9jb25maWdCYWNrIiwgIm92ZXJzaG9vdCIsICJHU0NhY2hlIiwgIkFuaW1hdGlvbiIsICJfcmVzb2x2ZSIsICJUaW1lbGluZSIsICJnZXRCeUlkIiwgImdldFR3ZWVuc09mIiwgIl9hZGRDb21wbGV4U3RyaW5nUHJvcFR3ZWVuIiwgInByb3AiLCAiX2FkZFByb3BUd2VlbiIsICJfcHJvY2Vzc1ZhcnMiLCAiX2NoZWNrUGx1Z2luIiwgIl9pbml0VHdlZW4iLCAiX2FkZEFsaWFzZXNUb1ZhcnMiLCAiX3BhcnNlRnVuY09yU3RyaW5nIiwgIlR3ZWVuIiwgIl9zZXR0ZXJQbGFpbiIsICJfc2V0dGVyRnVuYyIsICJfc2V0dGVyRnVuY1dpdGhQYXJhbSIsICJfc2V0dGVyQXR0cmlidXRlIiwgIl9nZXRTZXR0ZXIiLCAiX3JlbmRlclBsYWluIiwgIl9yZW5kZXJCb29sZWFuIiwgIl9yZW5kZXJDb21wbGV4U3RyaW5nIiwgIl9yZW5kZXJQcm9wVHdlZW5zIiwgIl9hZGRQbHVnaW5Nb2RpZmllciIsICJfa2lsbFByb3BUd2VlbnNPZiIsICJfc2V0dGVyV2l0aE1vZGlmaWVyIiwgIl9zb3J0UHJvcFR3ZWVuc0J5UHJpb3JpdHkiLCAiUHJvcFR3ZWVuIiwgInByb3BlcnR5IiwgInVuaXQiLCAidW5jYWNoZSIsICJfZ2V0UGx1Z2luUHJvcFR3ZWVuIiwgIl9hZGRNb2RpZmllcnMiLCAiX2J1aWxkTW9kaWZpZXJQbHVnaW4iLCAiaW5pdCIsICJ0d2VlbiIsICJuYW1lIiwgIl93aW4iLCAiX2RvYyIsICJfd2luZG93RXhpc3RzIiwgIl9iaWdOdW0iLCAiX3JlbmRlckNTU1Byb3AiLCAiX3JlbmRlclByb3BXaXRoRW5kIiwgIl9yZW5kZXJDU1NQcm9wV2l0aEJlZ2lubmluZyIsICJfcmVuZGVyUm91bmRlZENTU1Byb3AiLCAiX3JlbmRlck5vblR3ZWVuaW5nVmFsdWUiLCAiX3JlbmRlck5vblR3ZWVuaW5nVmFsdWVPbmx5QXRFbmQiLCAiX3NldHRlckNTU1N0eWxlIiwgIl9zZXR0ZXJDU1NQcm9wIiwgIl9zZXR0ZXJUcmFuc2Zvcm0iLCAiX3NldHRlclNjYWxlIiwgIl9zZXR0ZXJTY2FsZVdpdGhSZW5kZXIiLCAiX3NldHRlclRyYW5zZm9ybVdpdGhSZW5kZXIiLCAiX2NyZWF0ZUVsZW1lbnQiLCAiX2dldENvbXB1dGVkUHJvcGVydHkiLCAiX2NoZWNrUHJvcFByZWZpeCIsICJfaW5pdENvcmUiLCAiX2dldEJCb3hIYWNrIiwgInN2ZyIsICJfZ2V0QXR0cmlidXRlRmFsbGJhY2tzIiwgIl9nZXRCQm94IiwgIl9pc1NWRyIsICJfcmVtb3ZlUHJvcGVydHkiLCAiX2FkZE5vblR3ZWVuaW5nUFQiLCAiX2NvbnZlcnRUb1VuaXQiLCAiX2dldCIsICJfdHdlZW5Db21wbGV4Q1NTU3RyaW5nIiwgInByb3AiLCAiX2NvbnZlcnRLZXl3b3Jkc1RvUGVyY2VudGFnZXMiLCAiX3JlbmRlckNsZWFyUHJvcHMiLCAiX2lzTnVsbFRyYW5zZm9ybSIsICJfZ2V0Q29tcHV0ZWRUcmFuc2Zvcm1NYXRyaXhBc0FycmF5IiwgIl9nZXRNYXRyaXgiLCAiX2FwcGx5U1ZHT3JpZ2luIiwgIl9wYXJzZVRyYW5zZm9ybSIsICJfZmlyc3RUd29Pbmx5IiwgIl9hZGRQeFRyYW5zbGF0ZSIsICJfcmVuZGVyTm9uM0RUcmFuc2Zvcm1zIiwgIl9yZW5kZXJDU1NUcmFuc2Zvcm1zIiwgIl9yZW5kZXJTVkdUcmFuc2Zvcm1zIiwgIl9hZGRSb3RhdGlvbmFsUHJvcFR3ZWVuIiwgImlzU3RyaW5nIiwgIl9hZGRSYXdUcmFuc2Zvcm1QVHMiLCAiaW5pdCIsICJnc2FwIiwgIl9jb3JlSW5pdHRlZCIsICJfd2luIiwgIl9kb2MiLCAiX2NsYW1wIiwgIl90cmFuc2Zvcm1Qcm9wIiwgIl9wYXNzVGhyb3VnaCIsICJfd2luZG93RXhpc3RzIiwgIl9nZXRHU0FQIiwgIl9pc1ZpZXdwb3J0IiwgIl9nZXRQcm94eVByb3AiLCAiX2dldFNjcm9sbEZ1bmMiLCAic2MiLCAiX2dldEJvdW5kc0Z1bmMiLCAiX2dldFNpemVGdW5jIiwgIl9nZXRPZmZzZXRzRnVuYyIsICJfbWF4U2Nyb2xsIiwgIl9pdGVyYXRlQXV0b1JlZnJlc2giLCAiX2lzU3RyaW5nIiwgIl9pc0Z1bmN0aW9uIiwgIl9pc051bWJlciIsICJfaXNPYmplY3QiLCAiX2NhbGxJZkZ1bmMiLCAiX2NvbWJpbmVGdW5jIiwgIl9nZXRDb21wdXRlZFN0eWxlIiwgIl9tYWtlUG9zaXRpb25hYmxlIiwgIl9zZXREZWZhdWx0cyIsICJkZWZhdWx0cyIsICJfZ2V0Qm91bmRzIiwgIl9nZXRTaXplIiwgIl9nZXRMYWJlbHMiLCAiX211bHRpTGlzdGVuZXIiLCAiY2FsbGJhY2siLCAiX2FkZExpc3RlbmVyIiwgIl9yZW1vdmVMaXN0ZW5lciIsICJfZGVmYXVsdHMiLCAiX29mZnNldFRvUHgiLCAiX2NyZWF0ZU1hcmtlciIsICJfcG9zaXRpb25NYXJrZXIiLCAiX3N5bmMiLCAiX29uU2Nyb2xsIiwgIl9vblJlc2l6ZSIsICJfb25NZWRpYUNoYW5nZSIsICJfc29mdFJlZnJlc2giLCAiX2Rpc3BhdGNoIiwgIl9yZXZlcnRSZWNvcmRlZCIsICJfcmV2ZXJ0QWxsIiwgIl9yZWZyZXNoQWxsIiwgIl91cGRhdGVBbGwiLCAiX3N3YXBQaW5PdXQiLCAiX3N3YXBQaW5JbiIsICJfY2Fwc0V4cCIsICJfc2V0U3RhdGUiLCAiX2dldFN0YXRlIiwgIl9jb3B5U3RhdGUiLCAiX3BhcnNlUG9zaXRpb24iLCAiX3JlcGFyZW50IiwgIl9nZXRUd2VlbkNyZWF0b3IiLCAicHJvcCIsICJnZXRUd2VlbiIsICJTY3JvbGxUcmlnZ2VyIiwgImluaXQiLCAic25hcCIsICJzbmFwMiIsICJvZmZzZXQiLCAiY3MiLCAicHJldlByb2dyZXNzIiwgImNvbmZpZyIsICJwcm94eUNhbGxiYWNrIiwgIml0ZW0iLCAiJCIsICIkIiwgImh0bWwiLCAiaW5pdCIsICJpc290b3BlIl0KfQo=
